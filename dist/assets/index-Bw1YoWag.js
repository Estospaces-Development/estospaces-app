var CM=Object.defineProperty;var LM=(e,t,r)=>t in e?CM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xr=(e,t,r)=>LM(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RA={exports:{}},E1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=Symbol.for("react.transitional.element"),MM=Symbol.for("react.fragment");function OA(e,t,r){var a=null;if(r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),"key"in t){r={};for(var s in t)s!=="key"&&(r[s]=t[s])}else r=t;return t=r.ref,{$$typeof:PM,type:e,key:a,ref:t!==void 0?t:null,props:r}}E1.Fragment=MM;E1.jsx=OA;E1.jsxs=OA;RA.exports=E1;var n=RA.exports,DA={exports:{}},T1={},IA={exports:{}},FA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,xe){var oe=le.length;le.push(xe);e:for(;0<oe;){var fe=oe-1>>>1,Se=le[fe];if(0<s(Se,xe))le[fe]=xe,le[oe]=Se,oe=fe;else break e}}function r(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var xe=le[0],oe=le.pop();if(oe!==xe){le[0]=oe;e:for(var fe=0,Se=le.length,K=Se>>>1;fe<K;){var A=2*(fe+1)-1,z=le[A],O=A+1,R=le[O];if(0>s(z,oe))O<Se&&0>s(R,z)?(le[fe]=R,le[O]=oe,fe=O):(le[fe]=z,le[A]=oe,fe=A);else if(O<Se&&0>s(R,oe))le[fe]=R,le[O]=oe,fe=O;else break e}}return xe}function s(le,xe){var oe=le.sortIndex-xe.sortIndex;return oe!==0?oe:le.id-xe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,y=!1,x=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function S(le){for(var xe=r(u);xe!==null;){if(xe.callback===null)a(u);else if(xe.startTime<=le)a(u),xe.sortIndex=xe.expirationTime,t(c,xe);else break;xe=r(u)}}function B(le){if(x=!1,S(le),!y)if(r(c)!==null)y=!0,H||(H=!0,q());else{var xe=r(u);xe!==null&&ue(B,xe.startTime-le)}}var H=!1,F=-1,D=5,P=-1;function G(){return N?!0:!(e.unstable_now()-P<D)}function I(){if(N=!1,H){var le=e.unstable_now();P=le;var xe=!0;try{e:{y=!1,x&&(x=!1,w(F),F=-1),g=!0;var oe=m;try{t:{for(S(le),f=r(c);f!==null&&!(f.expirationTime>le&&G());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,m=f.priorityLevel;var Se=fe(f.expirationTime<=le);if(le=e.unstable_now(),typeof Se=="function"){f.callback=Se,S(le),xe=!0;break t}f===r(c)&&a(c),S(le)}else a(c);f=r(c)}if(f!==null)xe=!0;else{var K=r(u);K!==null&&ue(B,K.startTime-le),xe=!1}}break e}finally{f=null,m=oe,g=!1}xe=void 0}}finally{xe?q():H=!1}}}var q;if(typeof k=="function")q=function(){k(I)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=I,q=function(){ee.postMessage(null)}}else q=function(){b(I,0)};function ue(le,xe){F=b(function(){le(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(le){switch(m){case 1:case 2:case 3:var xe=3;break;default:xe=m}var oe=m;m=xe;try{return le()}finally{m=oe}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(le,xe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var oe=m;m=le;try{return xe()}finally{m=oe}},e.unstable_scheduleCallback=function(le,xe,oe){var fe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,le){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=oe+Se,le={id:h++,callback:xe,priorityLevel:le,startTime:oe,expirationTime:Se,sortIndex:-1},oe>fe?(le.sortIndex=oe,t(u,le),r(c)===null&&le===r(u)&&(x?(w(F),F=-1):x=!0,ue(B,oe-fe))):(le.sortIndex=Se,t(c,le),y||g||(y=!0,H||(H=!0,q()))),le},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(le){var xe=m;return function(){var oe=m;m=xe;try{return le.apply(this,arguments)}finally{m=oe}}}})(FA);IA.exports=FA;var RM=IA.exports,BA={exports:{}},lr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5=Symbol.for("react.transitional.element"),OM=Symbol.for("react.portal"),DM=Symbol.for("react.fragment"),IM=Symbol.for("react.strict_mode"),FM=Symbol.for("react.profiler"),BM=Symbol.for("react.consumer"),zM=Symbol.for("react.context"),UM=Symbol.for("react.forward_ref"),VM=Symbol.for("react.suspense"),qM=Symbol.for("react.memo"),zA=Symbol.for("react.lazy"),$M=Symbol.for("react.activity"),AN=Symbol.iterator;function HM(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var UA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VA=Object.assign,qA={};function Ef(e,t,r){this.props=e,this.context=t,this.refs=qA,this.updater=r||UA}Ef.prototype.isReactComponent={};Ef.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ef.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $A(){}$A.prototype=Ef.prototype;function S5(e,t,r){this.props=e,this.context=t,this.refs=qA,this.updater=r||UA}var A5=S5.prototype=new $A;A5.constructor=S5;VA(A5,Ef.prototype);A5.isPureReactComponent=!0;var EN=Array.isArray;function N2(){}var Aa={H:null,A:null,T:null,S:null},HA=Object.prototype.hasOwnProperty;function E5(e,t,r){var a=r.ref;return{$$typeof:j5,type:e,key:t,ref:a!==void 0?a:null,props:r}}function WM(e,t){return E5(e.type,t,e.props)}function T5(e){return typeof e=="object"&&e!==null&&e.$$typeof===j5}function GM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TN=/\/+/g;function Tv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GM(""+e.key):t.toString(36)}function YM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(N2,N2):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function f0(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case j5:case OM:o=!0;break;case zA:return o=e._init,f0(o(e._payload),t,r,a,s)}}if(o)return s=s(e),o=a===""?"."+Tv(e,0):a,EN(s)?(r="",o!=null&&(r=o.replace(TN,"$&/")+"/"),f0(s,t,r,"",function(u){return u})):s!=null&&(T5(s)&&(s=WM(s,r+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(TN,"$&/")+"/")+o)),t.push(s)),1;o=0;var l=a===""?".":a+":";if(EN(e))for(var c=0;c<e.length;c++)a=e[c],i=l+Tv(a,c),o+=f0(a,t,r,i,s);else if(c=HM(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,i=l+Tv(a,c++),o+=f0(a,t,r,i,s);else if(i==="object"){if(typeof e.then=="function")return f0(YM(e),t,r,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function $p(e,t,r){if(e==null)return e;var a=[],s=0;return f0(e,a,"","",function(i){return t.call(r,i,s++)}),a}function KM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var CN=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ZM={map:$p,forEach:function(e,t,r){$p(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $p(e,function(){t++}),t},toArray:function(e){return $p(e,function(t){return t})||[]},only:function(e){if(!T5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lr.Activity=$M;lr.Children=ZM;lr.Component=Ef;lr.Fragment=DM;lr.Profiler=FM;lr.PureComponent=S5;lr.StrictMode=IM;lr.Suspense=VM;lr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Aa;lr.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Aa.H.useMemoCache(e)}};lr.cache=function(e){return function(){return e.apply(null,arguments)}};lr.cacheSignal=function(){return null};lr.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=VA({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!HA.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}return E5(e.type,s,a)};lr.createContext=function(e){return e={$$typeof:zM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:BM,_context:e},e};lr.createElement=function(e,t,r){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)HA.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)s[a]===void 0&&(s[a]=o[a]);return E5(e,i,s)};lr.createRef=function(){return{current:null}};lr.forwardRef=function(e){return{$$typeof:UM,render:e}};lr.isValidElement=T5;lr.lazy=function(e){return{$$typeof:zA,_payload:{_status:-1,_result:e},_init:KM}};lr.memo=function(e,t){return{$$typeof:qM,type:e,compare:t===void 0?null:t}};lr.startTransition=function(e){var t=Aa.T,r={};Aa.T=r;try{var a=e(),s=Aa.S;s!==null&&s(r,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(N2,CN)}catch(i){CN(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Aa.T=t}};lr.unstable_useCacheRefresh=function(){return Aa.H.useCacheRefresh()};lr.use=function(e){return Aa.H.use(e)};lr.useActionState=function(e,t,r){return Aa.H.useActionState(e,t,r)};lr.useCallback=function(e,t){return Aa.H.useCallback(e,t)};lr.useContext=function(e){return Aa.H.useContext(e)};lr.useDebugValue=function(){};lr.useDeferredValue=function(e,t){return Aa.H.useDeferredValue(e,t)};lr.useEffect=function(e,t){return Aa.H.useEffect(e,t)};lr.useEffectEvent=function(e){return Aa.H.useEffectEvent(e)};lr.useId=function(){return Aa.H.useId()};lr.useImperativeHandle=function(e,t,r){return Aa.H.useImperativeHandle(e,t,r)};lr.useInsertionEffect=function(e,t){return Aa.H.useInsertionEffect(e,t)};lr.useLayoutEffect=function(e,t){return Aa.H.useLayoutEffect(e,t)};lr.useMemo=function(e,t){return Aa.H.useMemo(e,t)};lr.useOptimistic=function(e,t){return Aa.H.useOptimistic(e,t)};lr.useReducer=function(e,t,r){return Aa.H.useReducer(e,t,r)};lr.useRef=function(e){return Aa.H.useRef(e)};lr.useState=function(e){return Aa.H.useState(e)};lr.useSyncExternalStore=function(e,t,r){return Aa.H.useSyncExternalStore(e,t,r)};lr.useTransition=function(){return Aa.H.useTransition()};lr.version="19.2.0";BA.exports=lr;var C=BA.exports;const lc=MA(C);var WA={exports:{}},Js={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=C;function GA(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ad(){}var Gs={d:{f:Ad,r:function(){throw Error(GA(522))},D:Ad,C:Ad,L:Ad,m:Ad,X:Ad,S:Ad,M:Ad},p:0,findDOMNode:null},JM=Symbol.for("react.portal");function QM(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:JM,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}var Om=XM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C1(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gs;Js.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(GA(299));return QM(e,t,null,r)};Js.flushSync=function(e){var t=Om.T,r=Gs.p;try{if(Om.T=null,Gs.p=2,e)return e()}finally{Om.T=t,Gs.p=r,Gs.d.f()}};Js.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Gs.d.C(e,t))};Js.prefetchDNS=function(e){typeof e=="string"&&Gs.d.D(e)};Js.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,a=C1(r,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Gs.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):r==="script"&&Gs.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Js.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=C1(t.as,t.crossOrigin);Gs.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Gs.d.M(e)};Js.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,a=C1(r,t.crossOrigin);Gs.d.L(e,r,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Js.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=C1(t.as,t.crossOrigin);Gs.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Gs.d.m(e)};Js.requestFormReset=function(e){Gs.d.r(e)};Js.unstable_batchedUpdates=function(e,t){return e(t)};Js.useFormState=function(e,t,r){return Om.H.useFormState(e,t,r)};Js.useFormStatus=function(){return Om.H.useHostTransitionStatus()};Js.version="19.2.0";function YA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YA)}catch(e){console.error(e)}}YA(),WA.exports=Js;var KA=WA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=RM,ZA=C,eR=KA;function nt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function XA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function JA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QA(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LN(e){if(Jg(e)!==e)throw Error(nt(188))}function tR(e){var t=e.alternate;if(!t){if(t=Jg(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return LN(s),e;if(i===a)return LN(s),t;i=i.sibling}throw Error(nt(188))}if(r.return!==a.return)r=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o)throw Error(nt(189))}}if(r.alternate!==a)throw Error(nt(190))}if(r.tag!==3)throw Error(nt(188));return r.stateNode.current===r?e:t}function eE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=eE(e),t!==null)return t;e=e.sibling}return null}var Ea=Object.assign,rR=Symbol.for("react.element"),Hp=Symbol.for("react.transitional.element"),Sm=Symbol.for("react.portal"),_0=Symbol.for("react.fragment"),tE=Symbol.for("react.strict_mode"),k2=Symbol.for("react.profiler"),rE=Symbol.for("react.consumer"),Ic=Symbol.for("react.context"),C5=Symbol.for("react.forward_ref"),j2=Symbol.for("react.suspense"),S2=Symbol.for("react.suspense_list"),L5=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),A2=Symbol.for("react.activity"),aR=Symbol.for("react.memo_cache_sentinel"),PN=Symbol.iterator;function dm(e){return e===null||typeof e!="object"?null:(e=PN&&e[PN]||e["@@iterator"],typeof e=="function"?e:null)}var nR=Symbol.for("react.client.reference");function E2(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _0:return"Fragment";case k2:return"Profiler";case tE:return"StrictMode";case j2:return"Suspense";case S2:return"SuspenseList";case A2:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Sm:return"Portal";case Ic:return e.displayName||"Context";case rE:return(e._context.displayName||"Context")+".Consumer";case C5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L5:return t=e.displayName||null,t!==null?t:E2(e.type)||"Memo";case Md:t=e._payload,e=e._init;try{return E2(e(t))}catch{}}return null}var Am=Array.isArray,rr=ZA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ur=eR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rh={pending:!1,data:null,method:null,action:null},T2=[],N0=-1;function fc(e){return{current:e}}function Hn(e){0>N0||(e.current=T2[N0],T2[N0]=null,N0--)}function va(e,t){N0++,T2[N0]=e.current,e.current=t}var sc=fc(null),pg=fc(null),Zd=fc(null),py=fc(null);function xy(e,t){switch(va(Zd,t),va(pg,e),va(sc,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fk(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fk(t),e=_T(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Hn(sc),va(sc,e)}function lf(){Hn(sc),Hn(pg),Hn(Zd)}function C2(e){e.memoizedState!==null&&va(py,e);var t=sc.current,r=_T(t,e.type);t!==r&&(va(pg,e),va(sc,r))}function yy(e){pg.current===e&&(Hn(sc),Hn(pg)),py.current===e&&(Hn(py),Ag._currentValue=rh)}var Cv,MN;function Vu(e){if(Cv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cv=t&&t[1]||"",MN=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cv+e+MN}var Lv=!1;function Pv(e,t){if(!e||Lv)return"";Lv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var m=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){m=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){m=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(s=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===c.length||s===u.length)for(a=c.length-1,s=u.length-1;1<=a&&0<=s&&c[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(c[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||c[a]!==u[s]){var h=`
`+c[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=s);break}}}finally{Lv=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Vu(r):""}function sR(e,t){switch(e.tag){case 26:case 27:case 5:return Vu(e.type);case 16:return Vu("Lazy");case 13:return e.child!==t&&t!==null?Vu("Suspense Fallback"):Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 15:return Pv(e.type,!1);case 11:return Pv(e.type.render,!1);case 1:return Pv(e.type,!0);case 31:return Vu("Activity");default:return""}}function RN(e){try{var t="",r=null;do t+=sR(e,r),r=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var L2=Object.prototype.hasOwnProperty,P5=Dn.unstable_scheduleCallback,Mv=Dn.unstable_cancelCallback,iR=Dn.unstable_shouldYield,oR=Dn.unstable_requestPaint,so=Dn.unstable_now,lR=Dn.unstable_getCurrentPriorityLevel,aE=Dn.unstable_ImmediatePriority,nE=Dn.unstable_UserBlockingPriority,vy=Dn.unstable_NormalPriority,cR=Dn.unstable_LowPriority,sE=Dn.unstable_IdlePriority,dR=Dn.log,uR=Dn.unstable_setDisableYieldValue,Qg=null,io=null;function Ud(e){if(typeof dR=="function"&&uR(e),io&&typeof io.setStrictMode=="function")try{io.setStrictMode(Qg,e)}catch{}}var oo=Math.clz32?Math.clz32:mR,hR=Math.log,fR=Math.LN2;function mR(e){return e>>>=0,e===0?32:31-(hR(e)/fR|0)|0}var Wp=256,Gp=262144,Yp=4194304;function qu(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function L1(e,t,r){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=qu(a):(o&=l,o!==0?s=qu(o):r||(r=l&~e,r!==0&&(s=qu(r))))):(l=a&~i,l!==0?s=qu(l):o!==0?s=qu(o):r||(r=a&~e,r!==0&&(s=qu(r)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:s}function ep(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iE(){var e=Yp;return Yp<<=1,!(Yp&62914560)&&(Yp=4194304),e}function Rv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tp(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pR(e,t,r,a,s,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var h=31-oo(r),f=1<<h;l[h]=0,c[h]=-1;var m=u[h];if(m!==null)for(u[h]=null,h=0;h<m.length;h++){var g=m[h];g!==null&&(g.lane&=-536870913)}r&=~f}a!==0&&oE(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function oE(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-oo(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|r&261930}function lE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-oo(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}function cE(e,t){var r=t&-t;return r=r&42?1:M5(r),r&(e.suspendedLanes|t)?0:r}function M5(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function R5(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function dE(){var e=Ur.p;return e!==0?e:(e=window.event,e===void 0?32:MT(e.type))}function ON(e,t){var r=Ur.p;try{return Ur.p=e,t()}finally{Ur.p=r}}var vu=Math.random().toString(36).slice(2),ss="__reactFiber$"+vu,Si="__reactProps$"+vu,Tf="__reactContainer$"+vu,P2="__reactEvents$"+vu,xR="__reactListeners$"+vu,yR="__reactHandles$"+vu,DN="__reactResources$"+vu,rp="__reactMarker$"+vu;function O5(e){delete e[ss],delete e[Si],delete e[P2],delete e[xR],delete e[yR]}function k0(e){var t=e[ss];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tf]||r[ss]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qk(e);e!==null;){if(r=e[ss])return r;e=qk(e)}return t}e=r,r=e.parentNode}return null}function Cf(e){if(e=e[ss]||e[Tf]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Em(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(nt(33))}function V0(e){var t=e[DN];return t||(t=e[DN]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Un(e){e[rp]=!0}var uE=new Set,hE={};function kh(e,t){cf(e,t),cf(e+"Capture",t)}function cf(e,t){for(hE[e]=t,e=0;e<t.length;e++)uE.add(t[e])}var vR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IN={},FN={};function bR(e){return L2.call(FN,e)?!0:L2.call(IN,e)?!1:vR.test(e)?FN[e]=!0:(IN[e]=!0,!1)}function Ix(e,t,r){if(bR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Kp(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Sc(e,t,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+a)}}function Lo(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wR(e,t,r){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function M2(e){if(!e._valueTracker){var t=fE(e)?"checked":"value";e._valueTracker=wR(e,t,""+e[t])}}function mE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=fE(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function by(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _R=/[\n"\\]/g;function Ro(e){return e.replace(_R,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function R2(e,t,r,a,s,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lo(t)):e.value!==""+Lo(t)&&(e.value=""+Lo(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?O2(e,o,Lo(t)):r!=null?O2(e,o,Lo(r)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Lo(l):e.removeAttribute("name")}function gE(e,t,r,a,s,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){M2(e);return}r=r!=null?""+Lo(r):"",t=t!=null?""+Lo(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),M2(e)}function O2(e,t,r){t==="number"&&by(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function q0(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Lo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pE(e,t,r){if(t!=null&&(t=""+Lo(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Lo(r):""}function xE(e,t,r,a){if(t==null){if(a!=null){if(r!=null)throw Error(nt(92));if(Am(a)){if(1<a.length)throw Error(nt(93));a=a[0]}r=a}r==null&&(r=""),t=r}r=Lo(t),e.defaultValue=r,a=e.textContent,a===r&&a!==""&&a!==null&&(e.value=a),M2(e)}function df(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var NR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function BN(e,t,r){var a=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,r):typeof r!="number"||r===0||NR.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function yE(e,t,r){if(t!=null&&typeof t!="object")throw Error(nt(62));if(e=e.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&r[s]!==a&&BN(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&BN(e,i,t[i])}function D5(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fx(e){return jR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fc(){}var D2=null;function I5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var j0=null,$0=null;function zN(e){var t=Cf(e);if(t&&(e=t.stateNode)){var r=e[Si]||null;e:switch(e=t.stateNode,t.type){case"input":if(R2(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ro(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=a[Si]||null;if(!s)throw Error(nt(90));R2(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<r.length;t++)a=r[t],a.form===e.form&&mE(a)}break e;case"textarea":pE(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&q0(e,!!r.multiple,t,!1)}}}var Ov=!1;function vE(e,t,r){if(Ov)return e(t,r);Ov=!0;try{var a=e(t);return a}finally{if(Ov=!1,(j0!==null||$0!==null)&&(q1(),j0&&(t=j0,e=$0,$0=j0=null,zN(t),e)))for(t=0;t<e.length;t++)zN(e[t])}}function xg(e,t){var r=e.stateNode;if(r===null)return null;var a=r[Si]||null;if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(nt(231,t,typeof r));return r}var Kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I2=!1;if(Kc)try{var um={};Object.defineProperty(um,"passive",{get:function(){I2=!0}}),window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{I2=!1}var Vd=null,F5=null,Bx=null;function bE(){if(Bx)return Bx;var e,t=F5,r=t.length,a,s="value"in Vd?Vd.value:Vd.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[i-a];a++);return Bx=s.slice(e,1<a?1-a:void 0)}function zx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zp(){return!0}function UN(){return!1}function Ti(e){function t(r,a,s,i,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zp:UN,this.isPropagationStopped=UN,this}return Ea(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),t}var jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P1=Ti(jh),ap=Ea({},jh,{view:0,detail:0}),SR=Ti(ap),Dv,Iv,hm,M1=Ea({},ap,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hm&&(hm&&e.type==="mousemove"?(Dv=e.screenX-hm.screenX,Iv=e.screenY-hm.screenY):Iv=Dv=0,hm=e),Dv)},movementY:function(e){return"movementY"in e?e.movementY:Iv}}),VN=Ti(M1),AR=Ea({},M1,{dataTransfer:0}),ER=Ti(AR),TR=Ea({},ap,{relatedTarget:0}),Fv=Ti(TR),CR=Ea({},jh,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=Ti(CR),PR=Ea({},jh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MR=Ti(PR),RR=Ea({},jh,{data:0}),qN=Ti(RR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IR[e])?!!t[e]:!1}function B5(){return FR}var BR=Ea({},ap,{key:function(e){if(e.key){var t=OR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B5,charCode:function(e){return e.type==="keypress"?zx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zR=Ti(BR),UR=Ea({},M1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$N=Ti(UR),VR=Ea({},ap,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B5}),qR=Ti(VR),$R=Ea({},jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=Ti($R),WR=Ea({},M1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GR=Ti(WR),YR=Ea({},jh,{newState:0,oldState:0}),KR=Ti(YR),ZR=[9,13,27,32],z5=Kc&&"CompositionEvent"in window,Dm=null;Kc&&"documentMode"in document&&(Dm=document.documentMode);var XR=Kc&&"TextEvent"in window&&!Dm,wE=Kc&&(!z5||Dm&&8<Dm&&11>=Dm),HN=" ",WN=!1;function _E(e,t){switch(e){case"keyup":return ZR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var S0=!1;function JR(e,t){switch(e){case"compositionend":return NE(t);case"keypress":return t.which!==32?null:(WN=!0,HN);case"textInput":return e=t.data,e===HN&&WN?null:e;default:return null}}function QR(e,t){if(S0)return e==="compositionend"||!z5&&_E(e,t)?(e=bE(),Bx=F5=Vd=null,S0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wE&&t.locale!=="ko"?null:t.data;default:return null}}var eO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eO[e.type]:t==="textarea"}function kE(e,t,r,a){j0?$0?$0.push(a):$0=[a]:j0=a,t=Fy(t,"onChange"),0<t.length&&(r=new P1("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Im=null,yg=null;function tO(e){vT(e,0)}function R1(e){var t=Em(e);if(mE(t))return e}function YN(e,t){if(e==="change")return t}var jE=!1;if(Kc){var Bv;if(Kc){var zv="oninput"in document;if(!zv){var KN=document.createElement("div");KN.setAttribute("oninput","return;"),zv=typeof KN.oninput=="function"}Bv=zv}else Bv=!1;jE=Bv&&(!document.documentMode||9<document.documentMode)}function ZN(){Im&&(Im.detachEvent("onpropertychange",SE),yg=Im=null)}function SE(e){if(e.propertyName==="value"&&R1(yg)){var t=[];kE(t,yg,e,I5(e)),vE(tO,t)}}function rO(e,t,r){e==="focusin"?(ZN(),Im=t,yg=r,Im.attachEvent("onpropertychange",SE)):e==="focusout"&&ZN()}function aO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return R1(yg)}function nO(e,t){if(e==="click")return R1(t)}function sO(e,t){if(e==="input"||e==="change")return R1(t)}function iO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var co=typeof Object.is=="function"?Object.is:iO;function vg(e,t){if(co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!L2.call(t,s)||!co(e[s],t[s]))return!1}return!0}function XN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function JN(e,t){var r=XN(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=XN(r)}}function AE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=by(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=by(e.document)}return t}function U5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oO=Kc&&"documentMode"in document&&11>=document.documentMode,A0=null,F2=null,Fm=null,B2=!1;function QN(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;B2||A0==null||A0!==by(a)||(a=A0,"selectionStart"in a&&U5(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fm&&vg(Fm,a)||(Fm=a,a=Fy(F2,"onSelect"),0<a.length&&(t=new P1("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=A0)))}function Fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var E0={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionrun:Fu("Transition","TransitionRun"),transitionstart:Fu("Transition","TransitionStart"),transitioncancel:Fu("Transition","TransitionCancel"),transitionend:Fu("Transition","TransitionEnd")},Uv={},TE={};Kc&&(TE=document.createElement("div").style,"AnimationEvent"in window||(delete E0.animationend.animation,delete E0.animationiteration.animation,delete E0.animationstart.animation),"TransitionEvent"in window||delete E0.transitionend.transition);function Sh(e){if(Uv[e])return Uv[e];if(!E0[e])return e;var t=E0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TE)return Uv[e]=t[r];return e}var CE=Sh("animationend"),LE=Sh("animationiteration"),PE=Sh("animationstart"),lO=Sh("transitionrun"),cO=Sh("transitionstart"),dO=Sh("transitioncancel"),ME=Sh("transitionend"),RE=new Map,z2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z2.push("scrollEnd");function Ol(e,t){RE.set(e,t),kh(t,[e])}var wy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},To=[],T0=0,V5=0;function O1(){for(var e=T0,t=V5=T0=0;t<e;){var r=To[t];To[t++]=null;var a=To[t];To[t++]=null;var s=To[t];To[t++]=null;var i=To[t];if(To[t++]=null,a!==null&&s!==null){var o=a.pending;o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s}i!==0&&OE(r,s,i)}}function D1(e,t,r,a){To[T0++]=e,To[T0++]=t,To[T0++]=r,To[T0++]=a,V5|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function q5(e,t,r,a){return D1(e,t,r,a),_y(e)}function Ah(e,t){return D1(e,null,null,t),_y(e)}function OE(e,t,r){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r);for(var s=!1,i=e.return;i!==null;)i.childLanes|=r,a=i.alternate,a!==null&&(a.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-oo(r),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=r|536870912),i):null}function _y(e){if(50<Gm)throw Gm=0,ow=null,Error(nt(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var C0={};function uO(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(e,t,r,a){return new uO(e,t,r,a)}function $5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zc(e,t){var r=e.alternate;return r===null?(r=eo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function DE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ux(e,t,r,a,s,i){var o=0;if(a=e,typeof e=="function")$5(e)&&(o=1);else if(typeof e=="string")o=pD(e,r,sc.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A2:return e=eo(31,r,t,s),e.elementType=A2,e.lanes=i,e;case _0:return ah(r.children,s,i,t);case tE:o=8,s|=24;break;case k2:return e=eo(12,r,t,s|2),e.elementType=k2,e.lanes=i,e;case j2:return e=eo(13,r,t,s),e.elementType=j2,e.lanes=i,e;case S2:return e=eo(19,r,t,s),e.elementType=S2,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ic:o=10;break e;case rE:o=9;break e;case C5:o=11;break e;case L5:o=14;break e;case Md:o=16,a=null;break e}o=29,r=Error(nt(130,e===null?"null":typeof e,"")),a=null}return t=eo(o,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function ah(e,t,r,a){return e=eo(7,e,a,t),e.lanes=r,e}function Vv(e,t,r){return e=eo(6,e,null,t),e.lanes=r,e}function IE(e){var t=eo(18,null,null,0);return t.stateNode=e,t}function qv(e,t,r){return t=eo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ek=new WeakMap;function Oo(e,t){if(typeof e=="object"&&e!==null){var r=ek.get(e);return r!==void 0?r:(t={value:e,source:t,stack:RN(t)},ek.set(e,t),t)}return{value:e,source:t,stack:RN(t)}}var L0=[],P0=0,Ny=null,bg=0,Po=[],Mo=0,iu=null,tc=1,rc="";function Rc(e,t){L0[P0++]=bg,L0[P0++]=Ny,Ny=e,bg=t}function FE(e,t,r){Po[Mo++]=tc,Po[Mo++]=rc,Po[Mo++]=iu,iu=e;var a=tc;e=rc;var s=32-oo(a)-1;a&=~(1<<s),r+=1;var i=32-oo(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,tc=1<<32-oo(t)+s|r<<s|a,rc=i+e}else tc=1<<i|r<<s|a,rc=e}function H5(e){e.return!==null&&(Rc(e,1),FE(e,1,0))}function W5(e){for(;e===Ny;)Ny=L0[--P0],L0[P0]=null,bg=L0[--P0],L0[P0]=null;for(;e===iu;)iu=Po[--Mo],Po[Mo]=null,rc=Po[--Mo],Po[Mo]=null,tc=Po[--Mo],Po[Mo]=null}function BE(e,t){Po[Mo++]=tc,Po[Mo++]=rc,Po[Mo++]=iu,tc=t.id,rc=t.overflow,iu=e}var is=null,ja=null,Pr=!1,Xd=null,Do=!1,U2=Error(nt(519));function ou(e){var t=Error(nt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wg(Oo(t,e)),U2}function tk(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[ss]=e,t[Si]=a,r){case"dialog":Nr("cancel",t),Nr("close",t);break;case"iframe":case"object":case"embed":Nr("load",t);break;case"video":case"audio":for(r=0;r<jg.length;r++)Nr(jg[r],t);break;case"source":Nr("error",t);break;case"img":case"image":case"link":Nr("error",t),Nr("load",t);break;case"details":Nr("toggle",t);break;case"input":Nr("invalid",t),gE(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Nr("invalid",t);break;case"textarea":Nr("invalid",t),xE(t,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||a.suppressHydrationWarning===!0||wT(t.textContent,r)?(a.popover!=null&&(Nr("beforetoggle",t),Nr("toggle",t)),a.onScroll!=null&&Nr("scroll",t),a.onScrollEnd!=null&&Nr("scrollend",t),a.onClick!=null&&(t.onclick=Fc),t=!0):t=!1,t||ou(e,!0)}function rk(e){for(is=e.return;is;)switch(is.tag){case 5:case 31:case 13:Do=!1;return;case 27:case 3:Do=!0;return;default:is=is.return}}function Xh(e){if(e!==is)return!1;if(!Pr)return rk(e),Pr=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hw(e.type,e.memoizedProps)),r=!r),r&&ja&&ou(e),rk(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));ja=Vk(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));ja=Vk(e)}else t===27?(t=ja,bu(e.type)?(e=pw,pw=null,ja=e):ja=t):ja=is?Uo(e.stateNode.nextSibling):null;return!0}function dh(){ja=is=null,Pr=!1}function $v(){var e=Xd;return e!==null&&(bi===null?bi=e:bi.push.apply(bi,e),Xd=null),e}function wg(e){Xd===null?Xd=[e]:Xd.push(e)}var V2=fc(null),Eh=null,Bc=null;function Dd(e,t,r){va(V2,t._currentValue),t._currentValue=r}function Uc(e){e._currentValue=V2.current,Hn(V2)}function q2(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function $2(e,t,r,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),q2(i.return,r,e),a||(o=null);break e}i=l.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(nt(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),q2(o,r,e),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Lf(e,t,r,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(nt(387));if(o=o.memoizedProps,o!==null){var l=s.type;co(s.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(s===py.current){if(o=s.alternate,o===null)throw Error(nt(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ag):e=[Ag])}s=s.return}e!==null&&$2(t,e,r,a),t.flags|=262144}function ky(e){for(e=e.firstContext;e!==null;){if(!co(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function uh(e){Eh=e,Bc=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cs(e){return zE(Eh,e)}function Xp(e,t){return Eh===null&&uh(e),zE(e,t)}function zE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Bc===null){if(e===null)throw Error(nt(308));Bc=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bc=Bc.next=t;return r}var hO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},fO=Dn.unstable_scheduleCallback,mO=Dn.unstable_NormalPriority,vn={$$typeof:Ic,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G5(){return{controller:new hO,data:new Map,refCount:0}}function np(e){e.refCount--,e.refCount===0&&fO(mO,function(){e.controller.abort()})}var Bm=null,H2=0,uf=0,H0=null;function gO(e,t){if(Bm===null){var r=Bm=[];H2=0,uf=y_(),H0={status:"pending",value:void 0,then:function(a){r.push(a)}}}return H2++,t.then(ak,ak),t}function ak(){if(--H2===0&&Bm!==null){H0!==null&&(H0.status="fulfilled");var e=Bm;Bm=null,uf=0,H0=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pO(e,t){var r=[],a={status:"pending",value:null,reason:null,then:function(s){r.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<r.length;s++)(0,r[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<r.length;s++)(0,r[s])(void 0)}),a}var nk=rr.S;rr.S=function(e,t){eT=so(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gO(e,t),nk!==null&&nk(e,t)};var nh=fc(null);function Y5(){var e=nh.current;return e!==null?e:ma.pooledCache}function Vx(e,t){t===null?va(nh,nh.current):va(nh,t.pool)}function UE(){var e=Y5();return e===null?null:{parent:vn._currentValue,pool:e}}var Pf=Error(nt(460)),K5=Error(nt(474)),I1=Error(nt(542)),jy={then:function(){}};function sk(e){return e=e.status,e==="fulfilled"||e==="rejected"}function VE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Fc,Fc),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ok(e),e;default:if(typeof t.status=="string")t.then(Fc,Fc);else{if(e=ma,e!==null&&100<e.shellSuspendCounter)throw Error(nt(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ok(e),e}throw sh=t,Pf}}function $u(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(sh=r,Pf):r}}var sh=null;function ik(){if(sh===null)throw Error(nt(459));var e=sh;return sh=null,e}function ok(e){if(e===Pf||e===I1)throw Error(nt(483))}var W0=null,_g=0;function Jp(e){var t=_g;return _g+=1,W0===null&&(W0=[]),VE(W0,e,t)}function fm(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qp(e,t){throw t.$$typeof===rR?Error(nt(525)):(e=Object.prototype.toString.call(t),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qE(e){function t(b,w){if(e){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function a(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(b,w){return b=zc(b,w),b.index=0,b.sibling=null,b}function i(b,w,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=67108866,w):k):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,w,k,S){return w===null||w.tag!==6?(w=Vv(k,b.mode,S),w.return=b,w):(w=s(w,k),w.return=b,w)}function c(b,w,k,S){var B=k.type;return B===_0?h(b,w,k.props.children,S,k.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Md&&$u(B)===w.type)?(w=s(w,k.props),fm(w,k),w.return=b,w):(w=Ux(k.type,k.key,k.props,null,b.mode,S),fm(w,k),w.return=b,w)}function u(b,w,k,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=qv(k,b.mode,S),w.return=b,w):(w=s(w,k.children||[]),w.return=b,w)}function h(b,w,k,S,B){return w===null||w.tag!==7?(w=ah(k,b.mode,S,B),w.return=b,w):(w=s(w,k),w.return=b,w)}function f(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Vv(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hp:return k=Ux(w.type,w.key,w.props,null,b.mode,k),fm(k,w),k.return=b,k;case Sm:return w=qv(w,b.mode,k),w.return=b,w;case Md:return w=$u(w),f(b,w,k)}if(Am(w)||dm(w))return w=ah(w,b.mode,k,null),w.return=b,w;if(typeof w.then=="function")return f(b,Jp(w),k);if(w.$$typeof===Ic)return f(b,Xp(b,w),k);Qp(b,w)}return null}function m(b,w,k,S){var B=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return B!==null?null:l(b,w,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hp:return k.key===B?c(b,w,k,S):null;case Sm:return k.key===B?u(b,w,k,S):null;case Md:return k=$u(k),m(b,w,k,S)}if(Am(k)||dm(k))return B!==null?null:h(b,w,k,S,null);if(typeof k.then=="function")return m(b,w,Jp(k),S);if(k.$$typeof===Ic)return m(b,w,Xp(b,k),S);Qp(b,k)}return null}function g(b,w,k,S,B){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(k)||null,l(w,b,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hp:return b=b.get(S.key===null?k:S.key)||null,c(w,b,S,B);case Sm:return b=b.get(S.key===null?k:S.key)||null,u(w,b,S,B);case Md:return S=$u(S),g(b,w,k,S,B)}if(Am(S)||dm(S))return b=b.get(k)||null,h(w,b,S,B,null);if(typeof S.then=="function")return g(b,w,k,Jp(S),B);if(S.$$typeof===Ic)return g(b,w,k,Xp(w,S),B);Qp(w,S)}return null}function y(b,w,k,S){for(var B=null,H=null,F=w,D=w=0,P=null;F!==null&&D<k.length;D++){F.index>D?(P=F,F=null):P=F.sibling;var G=m(b,F,k[D],S);if(G===null){F===null&&(F=P);break}e&&F&&G.alternate===null&&t(b,F),w=i(G,w,D),H===null?B=G:H.sibling=G,H=G,F=P}if(D===k.length)return r(b,F),Pr&&Rc(b,D),B;if(F===null){for(;D<k.length;D++)F=f(b,k[D],S),F!==null&&(w=i(F,w,D),H===null?B=F:H.sibling=F,H=F);return Pr&&Rc(b,D),B}for(F=a(F);D<k.length;D++)P=g(F,b,D,k[D],S),P!==null&&(e&&P.alternate!==null&&F.delete(P.key===null?D:P.key),w=i(P,w,D),H===null?B=P:H.sibling=P,H=P);return e&&F.forEach(function(I){return t(b,I)}),Pr&&Rc(b,D),B}function x(b,w,k,S){if(k==null)throw Error(nt(151));for(var B=null,H=null,F=w,D=w=0,P=null,G=k.next();F!==null&&!G.done;D++,G=k.next()){F.index>D?(P=F,F=null):P=F.sibling;var I=m(b,F,G.value,S);if(I===null){F===null&&(F=P);break}e&&F&&I.alternate===null&&t(b,F),w=i(I,w,D),H===null?B=I:H.sibling=I,H=I,F=P}if(G.done)return r(b,F),Pr&&Rc(b,D),B;if(F===null){for(;!G.done;D++,G=k.next())G=f(b,G.value,S),G!==null&&(w=i(G,w,D),H===null?B=G:H.sibling=G,H=G);return Pr&&Rc(b,D),B}for(F=a(F);!G.done;D++,G=k.next())G=g(F,b,D,G.value,S),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?D:G.key),w=i(G,w,D),H===null?B=G:H.sibling=G,H=G);return e&&F.forEach(function(q){return t(b,q)}),Pr&&Rc(b,D),B}function N(b,w,k,S){if(typeof k=="object"&&k!==null&&k.type===_0&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Hp:e:{for(var B=k.key;w!==null;){if(w.key===B){if(B=k.type,B===_0){if(w.tag===7){r(b,w.sibling),S=s(w,k.props.children),S.return=b,b=S;break e}}else if(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Md&&$u(B)===w.type){r(b,w.sibling),S=s(w,k.props),fm(S,k),S.return=b,b=S;break e}r(b,w);break}else t(b,w);w=w.sibling}k.type===_0?(S=ah(k.props.children,b.mode,S,k.key),S.return=b,b=S):(S=Ux(k.type,k.key,k.props,null,b.mode,S),fm(S,k),S.return=b,b=S)}return o(b);case Sm:e:{for(B=k.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){r(b,w.sibling),S=s(w,k.children||[]),S.return=b,b=S;break e}else{r(b,w);break}else t(b,w);w=w.sibling}S=qv(k,b.mode,S),S.return=b,b=S}return o(b);case Md:return k=$u(k),N(b,w,k,S)}if(Am(k))return y(b,w,k,S);if(dm(k)){if(B=dm(k),typeof B!="function")throw Error(nt(150));return k=B.call(k),x(b,w,k,S)}if(typeof k.then=="function")return N(b,w,Jp(k),S);if(k.$$typeof===Ic)return N(b,w,Xp(b,k),S);Qp(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(r(b,w.sibling),S=s(w,k),S.return=b,b=S):(r(b,w),S=Vv(k,b.mode,S),S.return=b,b=S),o(b)):r(b,w)}return function(b,w,k,S){try{_g=0;var B=N(b,w,k,S);return W0=null,B}catch(F){if(F===Pf||F===I1)throw F;var H=eo(29,F,null,b.mode);return H.lanes=S,H.return=b,H}finally{}}}var hh=qE(!0),$E=qE(!1),Rd=!1;function Z5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jd(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qd(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,zr&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=_y(e),OE(e,null,r),t}return D1(e,a,t,r),_y(e)}function zm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,lE(e,r)}}function Hv(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var G2=!1;function Um(){if(G2){var e=H0;if(e!==null)throw e}}function Vm(e,t,r,a){G2=!1;var s=e.updateQueue;Rd=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(Sr&m)===m:(a&m)===m){m!==0&&m===uf&&(G2=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=e,x=l;m=t;var N=r;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(N,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(N,f,m):y,m==null)break e;f=Ea({},f,m);break e;case 2:Rd=!0}}m=l.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,i===null&&(s.shared.lanes=0),cu|=o,e.lanes=o,e.memoizedState=f}}function HE(e,t){if(typeof e!="function")throw Error(nt(191,e));e.call(t)}function WE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)HE(r[e],t)}var hf=fc(null),Sy=fc(0);function lk(e,t){e=Qc,va(Sy,e),va(hf,t),Qc=e|t.baseLanes}function Y2(){va(Sy,Qc),va(hf,hf.current)}function X5(){Qc=Sy.current,Hn(hf),Hn(Sy)}var uo=fc(null),zo=null;function Id(e){var t=e.alternate;va(cn,cn.current&1),va(uo,e),zo===null&&(t===null||hf.current!==null||t.memoizedState!==null)&&(zo=e)}function K2(e){va(cn,cn.current),va(uo,e),zo===null&&(zo=e)}function GE(e){e.tag===22?(va(cn,cn.current),va(uo,e),zo===null&&(zo=e)):Fd()}function Fd(){va(cn,cn.current),va(uo,uo.current)}function Xi(e){Hn(uo),zo===e&&(zo=null),Hn(cn)}var cn=fc(0);function Ay(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||mw(r)||gw(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zc=0,cr=null,la=null,xn=null,Ey=!1,G0=!1,fh=!1,Ty=0,Ng=0,Y0=null,xO=0;function Ga(){throw Error(nt(321))}function J5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!co(e[r],t[r]))return!1;return!0}function Q5(e,t,r,a,s,i){return Zc=i,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rr.H=e===null||e.memoizedState===null?k8:d_,fh=!1,i=r(a,s),fh=!1,G0&&(i=KE(t,r,a,s)),YE(e),i}function YE(e){rr.H=kg;var t=la!==null&&la.next!==null;if(Zc=0,xn=la=cr=null,Ey=!1,Ng=0,Y0=null,t)throw Error(nt(300));e===null||wn||(e=e.dependencies,e!==null&&ky(e)&&(wn=!0))}function KE(e,t,r,a){cr=e;var s=0;do{if(G0&&(Y0=null),Ng=0,G0=!1,25<=s)throw Error(nt(301));if(s+=1,xn=la=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}rr.H=j8,i=t(r,a)}while(G0);return i}function yO(){var e=rr.H,t=e.useState()[0];return t=typeof t.then=="function"?sp(t):t,e=e.useState()[0],(la!==null?la.memoizedState:null)!==e&&(cr.flags|=1024),t}function e_(){var e=Ty!==0;return Ty=0,e}function t_(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function r_(e){if(Ey){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ey=!1}Zc=0,xn=la=cr=null,G0=!1,Ng=Ty=0,Y0=null}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?cr.memoizedState=xn=e:xn=xn.next=e,xn}function dn(){if(la===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=la.next;var t=xn===null?cr.memoizedState:xn.next;if(t!==null)xn=t,la=e;else{if(e===null)throw cr.alternate===null?Error(nt(467)):Error(nt(310));la=e,e={memoizedState:la.memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},xn===null?cr.memoizedState=xn=e:xn=xn.next=e}return xn}function F1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sp(e){var t=Ng;return Ng+=1,Y0===null&&(Y0=[]),e=VE(Y0,e,t),t=cr,(xn===null?t.memoizedState:xn.next)===null&&(t=t.alternate,rr.H=t===null||t.memoizedState===null?k8:d_),e}function B1(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sp(e);if(e.$$typeof===Ic)return cs(e)}throw Error(nt(438,String(e)))}function a_(e){var t=null,r=cr.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var a=cr.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=F1(),cr.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=aR;return t.index++,r}function Xc(e,t){return typeof t=="function"?t(e):t}function qx(e){var t=dn();return n_(t,la,e)}function n_(e,t,r){var a=e.queue;if(a===null)throw Error(nt(311));a.lastRenderedReducer=r;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=o=null,c=null,u=t,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Sr&f)===f:(Zc&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===uf&&(h=!0);else if((Zc&m)===m){u=u.next,m===uf&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,cr.lanes|=m,cu|=m;f=u.action,fh&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,o=i):c=c.next=m,cr.lanes|=f,cu|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!co(i,e.memoizedState)&&(wn=!0,h&&(r=H0,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Wv(e){var t=dn(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);co(i,t.memoizedState)||(wn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function ZE(e,t,r){var a=cr,s=dn(),i=Pr;if(i){if(r===void 0)throw Error(nt(407));r=r()}else r=t();var o=!co((la||s).memoizedState,r);if(o&&(s.memoizedState=r,wn=!0),s=s.queue,s_(QE.bind(null,a,s,e),[e]),s.getSnapshot!==t||o||xn!==null&&xn.memoizedState.tag&1){if(a.flags|=2048,ff(9,{destroy:void 0},JE.bind(null,a,s,r,t),null),ma===null)throw Error(nt(349));i||Zc&127||XE(a,t,r)}return r}function XE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cr.updateQueue,t===null?(t=F1(),cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function JE(e,t,r,a){t.value=r,t.getSnapshot=a,e8(t)&&t8(e)}function QE(e,t,r){return r(function(){e8(t)&&t8(e)})}function e8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!co(e,r)}catch{return!0}}function t8(e){var t=Ah(e,2);t!==null&&_i(t,e,2)}function Z2(e){var t=Us();if(typeof e=="function"){var r=e;if(e=r(),fh){Ud(!0);try{r()}finally{Ud(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:e},t}function r8(e,t,r,a){return e.baseState=r,n_(e,la,typeof a=="function"?a:Xc)}function vO(e,t,r,a,s){if(U1(e))throw Error(nt(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};rr.T!==null?r(!0):i.isTransition=!1,a(i),r=t.pending,r===null?(i.next=t.pending=i,a8(t,i)):(i.next=r.next,t.pending=r.next=i)}}function a8(e,t){var r=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=rr.T,o={};rr.T=o;try{var l=r(s,a),c=rr.S;c!==null&&c(o,l),ck(e,t,l)}catch(u){X2(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),rr.T=i}}else try{i=r(s,a),ck(e,t,i)}catch(u){X2(e,t,u)}}function ck(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){dk(e,t,a)},function(a){return X2(e,t,a)}):dk(e,t,r)}function dk(e,t,r){t.status="fulfilled",t.value=r,n8(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,a8(e,r)))}function X2(e,t,r){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=r,n8(t),t=t.next;while(t!==a)}e.action=null}function n8(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function s8(e,t){return t}function uk(e,t){if(Pr){var r=ma.formState;if(r!==null){e:{var a=cr;if(Pr){if(ja){t:{for(var s=ja,i=Do;s.nodeType!==8;){if(!i){s=null;break t}if(s=Uo(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ja=Uo(s.nextSibling),a=s.data==="F!";break e}}ou(a)}a=!1}a&&(t=r[0])}}return r=Us(),r.memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s8,lastRenderedState:t},r.queue=a,r=w8.bind(null,cr,a),a.dispatch=r,a=Z2(!1),i=c_.bind(null,cr,!1,a.queue),a=Us(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,r=vO.bind(null,cr,s,i,r),s.dispatch=r,a.memoizedState=e,[t,r,!1]}function hk(e){var t=dn();return i8(t,la,e)}function i8(e,t,r){if(t=n_(e,t,s8)[0],e=qx(Xc)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=sp(t)}catch(o){throw o===Pf?I1:o}else a=t;t=dn();var s=t.queue,i=s.dispatch;return r!==t.memoizedState&&(cr.flags|=2048,ff(9,{destroy:void 0},bO.bind(null,s,r),null)),[a,i,e]}function bO(e,t){e.action=t}function fk(e){var t=dn(),r=la;if(r!==null)return i8(t,r,e);dn(),t=t.memoizedState,r=dn();var a=r.queue.dispatch;return r.memoizedState=e,[t,a,!1]}function ff(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},t=cr.updateQueue,t===null&&(t=F1(),cr.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function o8(){return dn().memoizedState}function $x(e,t,r,a){var s=Us();cr.flags|=e,s.memoizedState=ff(1|t,{destroy:void 0},r,a===void 0?null:a)}function z1(e,t,r,a){var s=dn();a=a===void 0?null:a;var i=s.memoizedState.inst;la!==null&&a!==null&&J5(a,la.memoizedState.deps)?s.memoizedState=ff(t,i,r,a):(cr.flags|=e,s.memoizedState=ff(1|t,i,r,a))}function mk(e,t){$x(8390656,8,e,t)}function s_(e,t){z1(2048,8,e,t)}function wO(e){cr.flags|=4;var t=cr.updateQueue;if(t===null)t=F1(),cr.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function l8(e){var t=dn().memoizedState;return wO({ref:t,nextImpl:e}),function(){if(zr&2)throw Error(nt(440));return t.impl.apply(void 0,arguments)}}function c8(e,t){return z1(4,2,e,t)}function d8(e,t){return z1(4,4,e,t)}function u8(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h8(e,t,r){r=r!=null?r.concat([e]):null,z1(4,4,u8.bind(null,t,e),r)}function i_(){}function f8(e,t){var r=dn();t=t===void 0?null:t;var a=r.memoizedState;return t!==null&&J5(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function m8(e,t){var r=dn();t=t===void 0?null:t;var a=r.memoizedState;if(t!==null&&J5(t,a[1]))return a[0];if(a=e(),fh){Ud(!0);try{e()}finally{Ud(!1)}}return r.memoizedState=[a,t],a}function o_(e,t,r){return r===void 0||Zc&1073741824&&!(Sr&261930)?e.memoizedState=t:(e.memoizedState=r,e=rT(),cr.lanes|=e,cu|=e,r)}function g8(e,t,r,a){return co(r,t)?r:hf.current!==null?(e=o_(e,r,a),co(e,t)||(wn=!0),e):!(Zc&42)||Zc&1073741824&&!(Sr&261930)?(wn=!0,e.memoizedState=r):(e=rT(),cr.lanes|=e,cu|=e,t)}function p8(e,t,r,a,s){var i=Ur.p;Ur.p=i!==0&&8>i?i:8;var o=rr.T,l={};rr.T=l,c_(e,!1,t,r);try{var c=s(),u=rr.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=pO(c,a);qm(e,t,h,lo(e))}else qm(e,t,a,lo(e))}catch(f){qm(e,t,{then:function(){},status:"rejected",reason:f},lo())}finally{Ur.p=i,o!==null&&l.types!==null&&(o.types=l.types),rr.T=o}}function _O(){}function J2(e,t,r,a){if(e.tag!==5)throw Error(nt(476));var s=x8(e).queue;p8(e,s,t,rh,r===null?_O:function(){return y8(e),r(a)})}function x8(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:rh,baseState:rh,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:rh},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function y8(e){var t=x8(e);t.next===null&&(t=e.alternate.memoizedState),qm(e,t.next.queue,{},lo())}function l_(){return cs(Ag)}function v8(){return dn().memoizedState}function b8(){return dn().memoizedState}function NO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=lo();e=Jd(r);var a=Qd(t,e,r);a!==null&&(_i(a,t,r),zm(a,t,r)),t={cache:G5()},e.payload=t;return}t=t.return}}function kO(e,t,r){var a=lo();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},U1(e)?_8(t,r):(r=q5(e,t,r,a),r!==null&&(_i(r,e,a),N8(r,t,a)))}function w8(e,t,r){var a=lo();qm(e,t,r,a)}function qm(e,t,r,a){var s={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(U1(e))_8(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,co(l,o))return D1(e,t,s,0),ma===null&&O1(),!1}catch{}finally{}if(r=q5(e,t,s,a),r!==null)return _i(r,e,a),N8(r,t,a),!0}return!1}function c_(e,t,r,a){if(a={lane:2,revertLane:y_(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},U1(e)){if(t)throw Error(nt(479))}else t=q5(e,r,a,2),t!==null&&_i(t,e,2)}function U1(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function _8(e,t){G0=Ey=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N8(e,t,r){if(r&4194048){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,lE(e,r)}}var kg={readContext:cs,use:B1,useCallback:Ga,useContext:Ga,useEffect:Ga,useImperativeHandle:Ga,useLayoutEffect:Ga,useInsertionEffect:Ga,useMemo:Ga,useReducer:Ga,useRef:Ga,useState:Ga,useDebugValue:Ga,useDeferredValue:Ga,useTransition:Ga,useSyncExternalStore:Ga,useId:Ga,useHostTransitionStatus:Ga,useFormState:Ga,useActionState:Ga,useOptimistic:Ga,useMemoCache:Ga,useCacheRefresh:Ga};kg.useEffectEvent=Ga;var k8={readContext:cs,use:B1,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:cs,useEffect:mk,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,$x(4194308,4,u8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $x(4194308,4,e,t)},useInsertionEffect:function(e,t){$x(4,2,e,t)},useMemo:function(e,t){var r=Us();t=t===void 0?null:t;var a=e();if(fh){Ud(!0);try{e()}finally{Ud(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=Us();if(r!==void 0){var s=r(t);if(fh){Ud(!0);try{r(t)}finally{Ud(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=kO.bind(null,cr,e),[a.memoizedState,e]},useRef:function(e){var t=Us();return e={current:e},t.memoizedState=e},useState:function(e){e=Z2(e);var t=e.queue,r=w8.bind(null,cr,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:i_,useDeferredValue:function(e,t){var r=Us();return o_(r,e,t)},useTransition:function(){var e=Z2(!1);return e=p8.bind(null,cr,e.queue,!0,!1),Us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=cr,s=Us();if(Pr){if(r===void 0)throw Error(nt(407));r=r()}else{if(r=t(),ma===null)throw Error(nt(349));Sr&127||XE(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,mk(QE.bind(null,a,i,e),[e]),a.flags|=2048,ff(9,{destroy:void 0},JE.bind(null,a,i,r,t),null),r},useId:function(){var e=Us(),t=ma.identifierPrefix;if(Pr){var r=rc,a=tc;r=(a&~(1<<32-oo(a)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Ty++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=xO++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:l_,useFormState:uk,useActionState:uk,useOptimistic:function(e){var t=Us();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=c_.bind(null,cr,!0,r),r.dispatch=t,[e,t]},useMemoCache:a_,useCacheRefresh:function(){return Us().memoizedState=NO.bind(null,cr)},useEffectEvent:function(e){var t=Us(),r={impl:e};return t.memoizedState=r,function(){if(zr&2)throw Error(nt(440));return r.impl.apply(void 0,arguments)}}},d_={readContext:cs,use:B1,useCallback:f8,useContext:cs,useEffect:s_,useImperativeHandle:h8,useInsertionEffect:c8,useLayoutEffect:d8,useMemo:m8,useReducer:qx,useRef:o8,useState:function(){return qx(Xc)},useDebugValue:i_,useDeferredValue:function(e,t){var r=dn();return g8(r,la.memoizedState,e,t)},useTransition:function(){var e=qx(Xc)[0],t=dn().memoizedState;return[typeof e=="boolean"?e:sp(e),t]},useSyncExternalStore:ZE,useId:v8,useHostTransitionStatus:l_,useFormState:hk,useActionState:hk,useOptimistic:function(e,t){var r=dn();return r8(r,la,e,t)},useMemoCache:a_,useCacheRefresh:b8};d_.useEffectEvent=l8;var j8={readContext:cs,use:B1,useCallback:f8,useContext:cs,useEffect:s_,useImperativeHandle:h8,useInsertionEffect:c8,useLayoutEffect:d8,useMemo:m8,useReducer:Wv,useRef:o8,useState:function(){return Wv(Xc)},useDebugValue:i_,useDeferredValue:function(e,t){var r=dn();return la===null?o_(r,e,t):g8(r,la.memoizedState,e,t)},useTransition:function(){var e=Wv(Xc)[0],t=dn().memoizedState;return[typeof e=="boolean"?e:sp(e),t]},useSyncExternalStore:ZE,useId:v8,useHostTransitionStatus:l_,useFormState:fk,useActionState:fk,useOptimistic:function(e,t){var r=dn();return la!==null?r8(r,la,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:a_,useCacheRefresh:b8};j8.useEffectEvent=l8;function Gv(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Ea({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Q2={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=lo(),s=Jd(a);s.payload=t,r!=null&&(s.callback=r),t=Qd(e,s,a),t!==null&&(_i(t,e,a),zm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=lo(),s=Jd(a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Qd(e,s,a),t!==null&&(_i(t,e,a),zm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lo(),a=Jd(r);a.tag=2,t!=null&&(a.callback=t),t=Qd(e,a,r),t!==null&&(_i(t,e,r),zm(t,e,r))}};function gk(e,t,r,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!vg(r,a)||!vg(s,i):!0}function pk(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Q2.enqueueReplaceState(t,t.state,null)}function mh(e,t){var r=t;if("ref"in t){r={};for(var a in t)a!=="ref"&&(r[a]=t[a])}if(e=e.defaultProps){r===t&&(r=Ea({},r));for(var s in e)r[s]===void 0&&(r[s]=e[s])}return r}function S8(e){wy(e)}function A8(e){console.error(e)}function E8(e){wy(e)}function Cy(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function xk(e,t,r){try{var a=e.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ew(e,t,r){return r=Jd(r),r.tag=3,r.payload={element:null},r.callback=function(){Cy(e,t)},r}function T8(e){return e=Jd(e),e.tag=3,e}function C8(e,t,r,a){var s=r.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){xk(t,r,a)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xk(t,r,a),typeof s!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function jO(e,t,r,a,s){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=r.alternate,t!==null&&Lf(t,r,s,!0),r=uo.current,r!==null){switch(r.tag){case 31:case 13:return zo===null?Oy():r.alternate===null&&Ja===0&&(Ja=3),r.flags&=-257,r.flags|=65536,r.lanes=s,a===jy?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([a]):t.add(a),nb(e,a,s)),!1;case 22:return r.flags|=65536,a===jy?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([a]):r.add(a)),nb(e,a,s)),!1}throw Error(nt(435,r.tag))}return nb(e,a,s),Oy(),!1}if(Pr)return t=uo.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==U2&&(e=Error(nt(422),{cause:a}),wg(Oo(e,r)))):(a!==U2&&(t=Error(nt(423),{cause:a}),wg(Oo(t,r))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Oo(a,r),s=ew(e.stateNode,a,s),Hv(e,s),Ja!==4&&(Ja=2)),!1;var i=Error(nt(520),{cause:a});if(i=Oo(i,r),Wm===null?Wm=[i]:Wm.push(i),Ja!==4&&(Ja=2),t===null)return!0;a=Oo(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=s&-s,r.lanes|=e,e=ew(r.stateNode,a,e),Hv(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(eu===null||!eu.has(i))))return r.flags|=65536,s&=-s,r.lanes|=s,s=T8(s),C8(s,e,r,a),Hv(r,s),!1}r=r.return}while(r!==null);return!1}var u_=Error(nt(461)),wn=!1;function as(e,t,r,a){t.child=e===null?$E(t,null,r,a):hh(t,e.child,r,a)}function yk(e,t,r,a,s){r=r.render;var i=t.ref;if("ref"in a){var o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}else o=a;return uh(t),a=Q5(e,t,r,o,i,s),l=e_(),e!==null&&!wn?(t_(e,t,s),Jc(e,t,s)):(Pr&&l&&H5(t),t.flags|=1,as(e,t,a,s),t.child)}function vk(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!$5(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,L8(e,t,i,a,s)):(e=Ux(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!h_(e,s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vg,r(o,a)&&e.ref===t.ref)return Jc(e,t,s)}return t.flags|=1,e=zc(i,a),e.ref=t.ref,e.return=t,t.child=e}function L8(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(vg(i,a)&&e.ref===t.ref)if(wn=!1,t.pendingProps=a=i,h_(e,s))e.flags&131072&&(wn=!0);else return t.lanes=e.lanes,Jc(e,t,s)}return tw(e,t,r,a,s)}function P8(e,t,r,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return bk(e,t,i,r,a)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vx(t,i!==null?i.cachePool:null),i!==null?lk(t,i):Y2(),GE(t);else return a=t.lanes=536870912,bk(e,t,i!==null?i.baseLanes|r:r,r,a)}else i!==null?(Vx(t,i.cachePool),lk(t,i),Fd(),t.memoizedState=null):(e!==null&&Vx(t,null),Y2(),Fd());return as(e,t,s,r),t.child}function Tm(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bk(e,t,r,a,s){var i=Y5();return i=i===null?null:{parent:vn._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Vx(t,null),Y2(),GE(t),e!==null&&Lf(e,t,a,!0),t.childLanes=s,null}function Hx(e,t){return t=Ly({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wk(e,t,r){return hh(t,e.child,null,r),e=Hx(t,t.pendingProps),e.flags|=2,Xi(t),t.memoizedState=null,e}function SO(e,t,r){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pr){if(a.mode==="hidden")return e=Hx(t,a),t.lanes=536870912,Tm(null,e);if(K2(t),(e=ja)?(e=kT(e,Do),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:iu!==null?{id:tc,overflow:rc}:null,retryLane:536870912,hydrationErrors:null},r=IE(e),r.return=t,t.child=r,is=t,ja=null)):e=null,e===null)throw ou(t);return t.lanes=536870912,null}return Hx(t,a)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(K2(t),s)if(t.flags&256)t.flags&=-257,t=wk(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(nt(558));else if(wn||Lf(e,t,r,!1),s=(r&e.childLanes)!==0,wn||s){if(a=ma,a!==null&&(o=cE(a,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ah(e,o),_i(a,e,o),u_;Oy(),t=wk(e,t,r)}else e=i.treeContext,ja=Uo(o.nextSibling),is=t,Pr=!0,Xd=null,Do=!1,e!==null&&BE(t,e),t=Hx(t,a),t.flags|=4096;return t}return e=zc(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wx(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(nt(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function tw(e,t,r,a,s){return uh(t),r=Q5(e,t,r,a,void 0,s),a=e_(),e!==null&&!wn?(t_(e,t,s),Jc(e,t,s)):(Pr&&a&&H5(t),t.flags|=1,as(e,t,r,s),t.child)}function _k(e,t,r,a,s,i){return uh(t),t.updateQueue=null,r=KE(t,a,r,s),YE(e),a=e_(),e!==null&&!wn?(t_(e,t,i),Jc(e,t,i)):(Pr&&a&&H5(t),t.flags|=1,as(e,t,r,i),t.child)}function Nk(e,t,r,a,s){if(uh(t),t.stateNode===null){var i=C0,o=r.contextType;typeof o=="object"&&o!==null&&(i=cs(o)),i=new r(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Q2,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Z5(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?cs(o):C0,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Gv(t,r,o,a),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Q2.enqueueReplaceState(i,i.state,null),Vm(t,a,i,s),Um(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=mh(r,l);i.props=c;var u=i.context,h=r.contextType;o=C0,typeof h=="object"&&h!==null&&(o=cs(h));var f=r.getDerivedStateFromProps;h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&pk(t,i,a,o),Rd=!1;var m=t.memoizedState;i.state=m,Vm(t,a,i,s),Um(),u=t.memoizedState,l||m!==u||Rd?(typeof f=="function"&&(Gv(t,r,f,a),u=t.memoizedState),(c=Rd||gk(t,r,c,a,m,u,o))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=o,a=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,W2(e,t),o=t.memoizedProps,h=mh(r,o),i.props=h,f=t.pendingProps,m=i.context,u=r.contextType,c=C0,typeof u=="object"&&u!==null&&(c=cs(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==c)&&pk(t,i,a,c),Rd=!1,m=t.memoizedState,i.state=m,Vm(t,a,i,s),Um();var g=t.memoizedState;o!==f||m!==g||Rd||e!==null&&e.dependencies!==null&&ky(e.dependencies)?(typeof l=="function"&&(Gv(t,r,l,a),g=t.memoizedState),(h=Rd||gk(t,r,h,a,m,g,c)||e!==null&&e.dependencies!==null&&ky(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=c,a=h):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Wx(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=hh(t,e.child,null,s),t.child=hh(t,null,r,s)):as(e,t,r,s),t.memoizedState=i.state,e=t.child):e=Jc(e,t,s),e}function kk(e,t,r,a){return dh(),t.flags|=256,as(e,t,r,a),t.child}var Yv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kv(e){return{baseLanes:e,cachePool:UE()}}function Zv(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=ao),e}function M8(e,t,r){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),o&&(s=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pr){if(s?Id(t):Fd(),(e=ja)?(e=kT(e,Do),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:iu!==null?{id:tc,overflow:rc}:null,retryLane:536870912,hydrationErrors:null},r=IE(e),r.return=t,t.child=r,is=t,ja=null)):e=null,e===null)throw ou(t);return gw(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Fd(),s=t.mode,l=Ly({mode:"hidden",children:l},s),a=ah(a,s,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Kv(r),a.childLanes=Zv(e,o,r),t.memoizedState=Yv,Tm(null,a)):(Id(t),rw(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Id(t),t.flags&=-257,t=Xv(e,t,r)):t.memoizedState!==null?(Fd(),t.child=e.child,t.flags|=128,t=null):(Fd(),l=a.fallback,s=t.mode,a=Ly({mode:"visible",children:a.children},s),l=ah(l,s,r,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,hh(t,e.child,null,r),a=t.child,a.memoizedState=Kv(r),a.childLanes=Zv(e,o,r),t.memoizedState=Yv,t=Tm(null,a));else if(Id(t),gw(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,a=Error(nt(419)),a.stack="",a.digest=o,wg({value:a,source:null,stack:null}),t=Xv(e,t,r)}else if(wn||Lf(e,t,r,!1),o=(r&e.childLanes)!==0,wn||o){if(o=ma,o!==null&&(a=cE(o,r),a!==0&&a!==c.retryLane))throw c.retryLane=a,Ah(e,a),_i(o,e,a),u_;mw(l)||Oy(),t=Xv(e,t,r)}else mw(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ja=Uo(l.nextSibling),is=t,Pr=!0,Xd=null,Do=!1,e!==null&&BE(t,e),t=rw(t,a.children),t.flags|=4096);return t}return s?(Fd(),l=a.fallback,s=t.mode,c=e.child,u=c.sibling,a=zc(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=zc(u,l):(l=ah(l,s,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Tm(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Kv(r):(s=l.cachePool,s!==null?(c=vn._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=UE(),l={baseLanes:l.baseLanes|r,cachePool:s}),a.memoizedState=l,a.childLanes=Zv(e,o,r),t.memoizedState=Yv,Tm(e.child,a)):(Id(t),r=e.child,e=r.sibling,r=zc(r,{mode:"visible",children:a.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function rw(e,t){return t=Ly({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ly(e,t){return e=eo(22,e,null,t),e.lanes=0,e}function Xv(e,t,r){return hh(t,e.child,null,r),e=rw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jk(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),q2(e.return,t,r)}function Jv(e,t,r,a,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=s,o.treeForkCount=i)}function R8(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var o=cn.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,va(cn,o),as(e,t,a,r),a=Pr?bg:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jk(e,r,t);else if(e.tag===19)jk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ay(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Jv(t,!1,s,r,i,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ay(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Jv(t,!0,r,null,i,a);break;case"together":Jv(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Jc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cu|=t.lanes,!(r&t.childLanes))if(e!==null){if(Lf(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,r=zc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function h_(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ky(e)))}function AO(e,t,r){switch(t.tag){case 3:xy(t,t.stateNode.containerInfo),Dd(t,vn,e.memoizedState.cache),dh();break;case 27:case 5:C2(t);break;case 4:xy(t,t.stateNode.containerInfo);break;case 10:Dd(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,K2(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Id(t),t.flags|=128,null):r&t.child.childLanes?M8(e,t,r):(Id(t),e=Jc(e,t,r),e!==null?e.sibling:null);Id(t);break;case 19:var s=(e.flags&128)!==0;if(a=(r&t.childLanes)!==0,a||(Lf(e,t,r,!1),a=(r&t.childLanes)!==0),s){if(a)return R8(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),va(cn,cn.current),a)break;return null;case 22:return t.lanes=0,P8(e,t,r,t.pendingProps);case 24:Dd(t,vn,e.memoizedState.cache)}return Jc(e,t,r)}function O8(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)wn=!0;else{if(!h_(e,r)&&!(t.flags&128))return wn=!1,AO(e,t,r);wn=!!(e.flags&131072)}else wn=!1,Pr&&t.flags&1048576&&FE(t,bg,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=$u(t.elementType),t.type=e,typeof e=="function")$5(e)?(a=mh(e,a),t.tag=1,t=Nk(null,t,e,a,r)):(t.tag=0,t=tw(null,t,e,a,r));else{if(e!=null){var s=e.$$typeof;if(s===C5){t.tag=11,t=yk(null,t,e,a,r);break e}else if(s===L5){t.tag=14,t=vk(null,t,e,a,r);break e}}throw t=E2(e)||e,Error(nt(306,t,""))}}return t;case 0:return tw(e,t,t.type,t.pendingProps,r);case 1:return a=t.type,s=mh(a,t.pendingProps),Nk(e,t,a,s,r);case 3:e:{if(xy(t,t.stateNode.containerInfo),e===null)throw Error(nt(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,W2(e,t),Vm(t,a,null,r);var o=t.memoizedState;if(a=o.cache,Dd(t,vn,a),a!==i.cache&&$2(t,[vn],r,!0),Um(),a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=kk(e,t,a,r);break e}else if(a!==s){s=Oo(Error(nt(424)),t),wg(s),t=kk(e,t,a,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ja=Uo(e.firstChild),is=t,Pr=!0,Xd=null,Do=!0,r=$E(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(dh(),a===s){t=Jc(e,t,r);break e}as(e,t,a,r)}t=t.child}return t;case 26:return Wx(e,t),e===null?(r=Hk(t.type,null,t.pendingProps,null))?t.memoizedState=r:Pr||(r=t.type,e=t.pendingProps,a=By(Zd.current).createElement(r),a[ss]=t,a[Si]=e,ds(a,r,e),Un(a),t.stateNode=a):t.memoizedState=Hk(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return C2(t),e===null&&Pr&&(a=t.stateNode=jT(t.type,t.pendingProps,Zd.current),is=t,Do=!0,s=ja,bu(t.type)?(pw=s,ja=Uo(a.firstChild)):ja=s),as(e,t,t.pendingProps.children,r),Wx(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pr&&((s=a=ja)&&(a=aD(a,t.type,t.pendingProps,Do),a!==null?(t.stateNode=a,is=t,ja=Uo(a.firstChild),Do=!1,s=!0):s=!1),s||ou(t)),C2(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,hw(s,i)?a=null:o!==null&&hw(s,o)&&(t.flags|=32),t.memoizedState!==null&&(s=Q5(e,t,yO,null,null,r),Ag._currentValue=s),Wx(e,t),as(e,t,a,r),t.child;case 6:return e===null&&Pr&&((e=r=ja)&&(r=nD(r,t.pendingProps,Do),r!==null?(t.stateNode=r,is=t,ja=null,e=!0):e=!1),e||ou(t)),null;case 13:return M8(e,t,r);case 4:return xy(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=hh(t,null,a,r):as(e,t,a,r),t.child;case 11:return yk(e,t,t.type,t.pendingProps,r);case 7:return as(e,t,t.pendingProps,r),t.child;case 8:return as(e,t,t.pendingProps.children,r),t.child;case 12:return as(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,Dd(t,t.type,a.value),as(e,t,a.children,r),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,uh(t),s=cs(s),a=a(s),t.flags|=1,as(e,t,a,r),t.child;case 14:return vk(e,t,t.type,t.pendingProps,r);case 15:return L8(e,t,t.type,t.pendingProps,r);case 19:return R8(e,t,r);case 31:return SO(e,t,r);case 22:return P8(e,t,r,t.pendingProps);case 24:return uh(t),a=cs(vn),e===null?(s=Y5(),s===null&&(s=ma,i=G5(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=r),s=i),t.memoizedState={parent:a,cache:s},Z5(t),Dd(t,vn,s)):(e.lanes&r&&(W2(e,t),Vm(t,null,null,r),Um()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Dd(t,vn,a)):(a=i.cache,Dd(t,vn,a),a!==s.cache&&$2(t,[vn],r,!0))),as(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(nt(156,t.tag))}function Ac(e){e.flags|=4}function Qv(e,t,r,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(sT())e.flags|=8192;else throw sh=jy,K5}else e.flags&=-16777217}function Sk(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ET(t))if(sT())e.flags|=8192;else throw sh=jy,K5}function ex(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?iE():536870912,e.lanes|=t,mf|=t)}function mm(e,t){if(!Pr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ka(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function EO(e,t,r){var a=t.pendingProps;switch(W5(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(t),null;case 1:return ka(t),null;case 3:return r=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Uc(vn),lf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xh(t)?Ac(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$v())),ka(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Ac(t),i!==null?(ka(t),Sk(t,i)):(ka(t),Qv(t,s,null,a,r))):i?i!==e.memoizedState?(Ac(t),ka(t),Sk(t,i)):(ka(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ac(t),ka(t),Qv(t,s,e,a,r)),null;case 27:if(yy(t),r=Zd.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ac(t);else{if(!a){if(t.stateNode===null)throw Error(nt(166));return ka(t),null}e=sc.current,Xh(t)?tk(t):(e=jT(s,a,r),t.stateNode=e,Ac(t))}return ka(t),null;case 5:if(yy(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ac(t);else{if(!a){if(t.stateNode===null)throw Error(nt(166));return ka(t),null}if(i=sc.current,Xh(t))tk(t);else{var o=By(Zd.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?o.createElement(s,{is:a.is}):o.createElement(s)}}i[ss]=t,i[Si]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(ds(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ac(t)}}return ka(t),Qv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ac(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(nt(166));if(e=Zd.current,Xh(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,s=is,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[ss]=t,e=!!(e.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||wT(e.nodeValue,r)),e||ou(t,!0)}else e=By(e).createTextNode(a),e[ss]=t,t.stateNode=e}return ka(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(a=Xh(t),r!==null){if(e===null){if(!a)throw Error(nt(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(557));e[ss]=t}else dh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ka(t),e=!1}else r=$v(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Xi(t),t):(Xi(t),null);if(t.flags&128)throw Error(nt(558))}return ka(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Xh(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(nt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[ss]=t}else dh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ka(t),s=!1}else s=$v(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Xi(t),t):(Xi(t),null)}return Xi(t),t.flags&128?(t.lanes=r,t):(r=a!==null,e=e!==null&&e.memoizedState!==null,r&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),ex(t,t.updateQueue),ka(t),null);case 4:return lf(),e===null&&v_(t.stateNode.containerInfo),ka(t),null;case 10:return Uc(t.type),ka(t),null;case 19:if(Hn(cn),a=t.memoizedState,a===null)return ka(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)mm(a,!1);else{if(Ja!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ay(e),i!==null){for(t.flags|=128,mm(a,!1),e=i.updateQueue,t.updateQueue=e,ex(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)DE(r,e),r=r.sibling;return va(cn,cn.current&1|2),Pr&&Rc(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&so()>My&&(t.flags|=128,s=!0,mm(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ay(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ex(t,e),mm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Pr)return ka(t),null}else 2*so()-a.renderingStartTime>My&&r!==536870912&&(t.flags|=128,s=!0,mm(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=so(),e.sibling=null,r=cn.current,va(cn,s?r&1|2:r&1),Pr&&Rc(t,a.treeForkCount),e):(ka(t),null);case 22:case 23:return Xi(t),X5(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?r&536870912&&!(t.flags&128)&&(ka(t),t.subtreeFlags&6&&(t.flags|=8192)):ka(t),r=t.updateQueue,r!==null&&ex(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),e!==null&&Hn(nh),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Uc(vn),ka(t),null;case 25:return null;case 30:return null}throw Error(nt(156,t.tag))}function TO(e,t){switch(W5(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uc(vn),lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return yy(t),null;case 31:if(t.memoizedState!==null){if(Xi(t),t.alternate===null)throw Error(nt(340));dh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));dh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(cn),null;case 4:return lf(),null;case 10:return Uc(t.type),null;case 22:case 23:return Xi(t),X5(),e!==null&&Hn(nh),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Uc(vn),null;case 25:return null;default:return null}}function D8(e,t){switch(W5(t),t.tag){case 3:Uc(vn),lf();break;case 26:case 27:case 5:yy(t);break;case 4:lf();break;case 31:t.memoizedState!==null&&Xi(t);break;case 13:Xi(t);break;case 19:Hn(cn);break;case 10:Uc(t.type);break;case 22:case 23:Xi(t),X5(),e!==null&&Hn(nh);break;case 24:Uc(vn)}}function ip(e,t){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var s=a.next;r=s;do{if((r.tag&e)===e){a=void 0;var i=r.create,o=r.inst;a=i(),o.destroy=a}r=r.next}while(r!==s)}}catch(l){ra(t,t.return,l)}}function lu(e,t,r){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var o=a.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,s=t;var c=r,u=l;try{u()}catch(h){ra(s,c,h)}}}a=a.next}while(a!==i)}}catch(h){ra(t,t.return,h)}}function I8(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{WE(t,r)}catch(a){ra(e,e.return,a)}}}function F8(e,t,r){r.props=mh(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){ra(e,t,a)}}function $m(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof r=="function"?e.refCleanup=r(a):r.current=a}}catch(s){ra(e,t,s)}}function ac(e,t){var r=e.ref,a=e.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(s){ra(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(s){ra(e,t,s)}else r.current=null}function B8(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(s){ra(e,e.return,s)}}function eb(e,t,r){try{var a=e.stateNode;XO(a,e.type,r,t),a[Si]=t}catch(s){ra(e,e.return,s)}}function z8(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bu(e.type)||e.tag===4}function tb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bu(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aw(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fc));else if(a!==4&&(a===27&&bu(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(aw(e,t,r),e=e.sibling;e!==null;)aw(e,t,r),e=e.sibling}function Py(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(a===27&&bu(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Py(e,t,r),e=e.sibling;e!==null;)Py(e,t,r),e=e.sibling}function U8(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ds(t,a,r),t[ss]=e,t[Si]=r}catch(i){ra(e,e.return,i)}}var Dc=!1,yn=!1,rb=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function CO(e,t){if(e=e.containerInfo,dw=qy,e=EE(e),U5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||a!==0&&f.nodeType!==3||(c=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++h===a&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(uw={focusedElem:e,selectionRange:r},qy=!1,Bn=t;Bn!==null;)if(t=Bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bn=e;else for(;Bn!==null;){switch(t=Bn,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)s=e[r],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,s=i.memoizedProps,i=i.memoizedState,a=r.stateNode;try{var y=mh(r.type,s);e=a.getSnapshotBeforeUpdate(y,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){ra(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)fw(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fw(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(nt(163))}if(e=t.sibling,e!==null){e.return=t.return,Bn=e;break}Bn=t.return}}function V8(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Tc(e,r),a&4&&ip(5,r);break;case 1:if(Tc(e,r),a&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){ra(r,r.return,o)}else{var s=mh(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ra(r,r.return,o)}}a&64&&I8(r),a&512&&$m(r,r.return);break;case 3:if(Tc(e,r),a&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{WE(e,t)}catch(o){ra(r,r.return,o)}}break;case 27:t===null&&a&4&&U8(r);case 26:case 5:Tc(e,r),t===null&&a&4&&B8(r),a&512&&$m(r,r.return);break;case 12:Tc(e,r);break;case 31:Tc(e,r),a&4&&H8(e,r);break;case 13:Tc(e,r),a&4&&W8(e,r),a&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=BO.bind(null,r),sD(e,r))));break;case 22:if(a=r.memoizedState!==null||Dc,!a){t=t!==null&&t.memoizedState!==null||yn,s=Dc;var i=yn;Dc=a,(yn=t)&&!i?Pc(e,r,(r.subtreeFlags&8772)!==0):Tc(e,r),Dc=s,yn=i}break;case 30:break;default:Tc(e,r)}}function q8(e){var t=e.alternate;t!==null&&(e.alternate=null,q8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&O5(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ma=null,vi=!1;function Ec(e,t,r){for(r=r.child;r!==null;)$8(e,t,r),r=r.sibling}function $8(e,t,r){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(Qg,r)}catch{}switch(r.tag){case 26:yn||ac(r,t),Ec(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:yn||ac(r,t);var a=Ma,s=vi;bu(r.type)&&(Ma=r.stateNode,vi=!1),Ec(e,t,r),Ym(r.stateNode),Ma=a,vi=s;break;case 5:yn||ac(r,t);case 6:if(a=Ma,s=vi,Ma=null,Ec(e,t,r),Ma=a,vi=s,Ma!==null)if(vi)try{(Ma.nodeType===9?Ma.body:Ma.nodeName==="HTML"?Ma.ownerDocument.body:Ma).removeChild(r.stateNode)}catch(i){ra(r,t,i)}else try{Ma.removeChild(r.stateNode)}catch(i){ra(r,t,i)}break;case 18:Ma!==null&&(vi?(e=Ma,zk(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),yf(e)):zk(Ma,r.stateNode));break;case 4:a=Ma,s=vi,Ma=r.stateNode.containerInfo,vi=!0,Ec(e,t,r),Ma=a,vi=s;break;case 0:case 11:case 14:case 15:lu(2,r,t),yn||lu(4,r,t),Ec(e,t,r);break;case 1:yn||(ac(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"&&F8(r,t,a)),Ec(e,t,r);break;case 21:Ec(e,t,r);break;case 22:yn=(a=yn)||r.memoizedState!==null,Ec(e,t,r),yn=a;break;default:Ec(e,t,r)}}function H8(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yf(e)}catch(r){ra(t,t.return,r)}}}function W8(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yf(e)}catch(r){ra(t,t.return,r)}}function LO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ak),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ak),t;default:throw Error(nt(435,e.tag))}}function tx(e,t){var r=LO(e);t.forEach(function(a){if(!r.has(a)){r.add(a);var s=zO.bind(null,e,a);a.then(s,s)}})}function fi(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(bu(l.type)){Ma=l.stateNode,vi=!1;break e}break;case 5:Ma=l.stateNode,vi=!1;break e;case 3:case 4:Ma=l.stateNode.containerInfo,vi=!0;break e}l=l.return}if(Ma===null)throw Error(nt(160));$8(i,o,s),Ma=null,vi=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)G8(t,e),t=t.sibling}var wl=null;function G8(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(t,e),mi(e),a&4&&(lu(3,e,e.return),ip(3,e),lu(5,e,e.return));break;case 1:fi(t,e),mi(e),a&512&&(yn||r===null||ac(r,r.return)),a&64&&Dc&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var s=wl;if(fi(t,e),mi(e),a&512&&(yn||r===null||ac(r,r.return)),a&4){var i=r!==null?r.memoizedState:null;if(a=e.memoizedState,r===null)if(a===null)if(e.stateNode===null){e:{a=e.type,r=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[rp]||i[ss]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),ds(i,a,r),i[ss]=e,Un(i),a=i;break e;case"link":var o=Gk("link","href",s).get(a+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=s.createElement(a),ds(i,a,r),s.head.appendChild(i);break;case"meta":if(o=Gk("meta","content",s).get(a+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=s.createElement(a),ds(i,a,r),s.head.appendChild(i);break;default:throw Error(nt(468,a))}i[ss]=e,Un(i),a=i}e.stateNode=a}else Yk(s,e.type,e.stateNode);else e.stateNode=Wk(s,a,e.memoizedProps);else i!==a?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,a===null?Yk(s,e.type,e.stateNode):Wk(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&eb(e,e.memoizedProps,r.memoizedProps)}break;case 27:fi(t,e),mi(e),a&512&&(yn||r===null||ac(r,r.return)),r!==null&&a&4&&eb(e,e.memoizedProps,r.memoizedProps);break;case 5:if(fi(t,e),mi(e),a&512&&(yn||r===null||ac(r,r.return)),e.flags&32){s=e.stateNode;try{df(s,"")}catch(y){ra(e,e.return,y)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,eb(e,s,r!==null?r.memoizedProps:s)),a&1024&&(rb=!0);break;case 6:if(fi(t,e),mi(e),a&4){if(e.stateNode===null)throw Error(nt(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(y){ra(e,e.return,y)}}break;case 3:if(Kx=null,s=wl,wl=zy(t.containerInfo),fi(t,e),wl=s,mi(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{yf(t.containerInfo)}catch(y){ra(e,e.return,y)}rb&&(rb=!1,Y8(e));break;case 4:a=wl,wl=zy(e.stateNode.containerInfo),fi(t,e),mi(e),wl=a;break;case 12:fi(t,e),mi(e);break;case 31:fi(t,e),mi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tx(e,a)));break;case 13:fi(t,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(V1=so()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tx(e,a)));break;case 22:s=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Dc,h=yn;if(Dc=u||s,yn=h||c,fi(t,e),yn=h,Dc=u,mi(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(r===null||c||Dc||yn||Hu(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){ra(c,c.return,y)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(y){ra(c,c.return,y)}}}else if(t.tag===18){if(r===null){c=t;try{var g=c.stateNode;s?Uk(g,!0):Uk(c.stateNode,!1)}catch(y){ra(c,c.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,tx(e,r))));break;case 19:fi(t,e),mi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tx(e,a)));break;case 30:break;case 21:break;default:fi(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{for(var r,a=e.return;a!==null;){if(z8(a)){r=a;break}a=a.return}if(r==null)throw Error(nt(160));switch(r.tag){case 27:var s=r.stateNode,i=tb(e);Py(e,i,s);break;case 5:var o=r.stateNode;r.flags&32&&(df(o,""),r.flags&=-33);var l=tb(e);Py(e,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=tb(e);aw(e,u,c);break;default:throw Error(nt(161))}}catch(h){ra(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y8(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Y8(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tc(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)V8(e,t.alternate,t),t=t.sibling}function Hu(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:lu(4,t,t.return),Hu(t);break;case 1:ac(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&F8(t,t.return,r),Hu(t);break;case 27:Ym(t.stateNode);case 26:case 5:ac(t,t.return),Hu(t);break;case 22:t.memoizedState===null&&Hu(t);break;case 30:Hu(t);break;default:Hu(t)}e=e.sibling}}function Pc(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Pc(s,i,r),ip(4,i);break;case 1:if(Pc(s,i,r),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ra(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)HE(c[s],l)}catch(u){ra(a,a.return,u)}}r&&o&64&&I8(i),$m(i,i.return);break;case 27:U8(i);case 26:case 5:Pc(s,i,r),r&&a===null&&o&4&&B8(i),$m(i,i.return);break;case 12:Pc(s,i,r);break;case 31:Pc(s,i,r),r&&o&4&&H8(s,i);break;case 13:Pc(s,i,r),r&&o&4&&W8(s,i);break;case 22:i.memoizedState===null&&Pc(s,i,r),$m(i,i.return);break;case 30:break;default:Pc(s,i,r)}t=t.sibling}}function f_(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&np(r))}function m_(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&np(e))}function fl(e,t,r,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K8(e,t,r,a),t=t.sibling}function K8(e,t,r,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:fl(e,t,r,a),s&2048&&ip(9,t);break;case 1:fl(e,t,r,a);break;case 3:fl(e,t,r,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&np(e)));break;case 12:if(s&2048){fl(e,t,r,a),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ra(t,t.return,c)}}else fl(e,t,r,a);break;case 31:fl(e,t,r,a);break;case 13:fl(e,t,r,a);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?fl(e,t,r,a):Hm(e,t):i._visibility&2?fl(e,t,r,a):(i._visibility|=2,m0(e,t,r,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&f_(o,t);break;case 24:fl(e,t,r,a),s&2048&&m_(t.alternate,t);break;default:fl(e,t,r,a)}}function m0(e,t,r,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,c=a,u=o.flags;switch(o.tag){case 0:case 11:case 15:m0(i,o,l,c,s),ip(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&2?m0(i,o,l,c,s):Hm(i,o):(h._visibility|=2,m0(i,o,l,c,s)),s&&u&2048&&f_(o.alternate,o);break;case 24:m0(i,o,l,c,s),s&&u&2048&&m_(o.alternate,o);break;default:m0(i,o,l,c,s)}t=t.sibling}}function Hm(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,a=t,s=a.flags;switch(a.tag){case 22:Hm(r,a),s&2048&&f_(a.alternate,a);break;case 24:Hm(r,a),s&2048&&m_(a.alternate,a);break;default:Hm(r,a)}t=t.sibling}}var Cm=8192;function Jh(e,t,r){if(e.subtreeFlags&Cm)for(e=e.child;e!==null;)Z8(e,t,r),e=e.sibling}function Z8(e,t,r){switch(e.tag){case 26:Jh(e,t,r),e.flags&Cm&&e.memoizedState!==null&&xD(r,wl,e.memoizedState,e.memoizedProps);break;case 5:Jh(e,t,r);break;case 3:case 4:var a=wl;wl=zy(e.stateNode.containerInfo),Jh(e,t,r),wl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Cm,Cm=16777216,Jh(e,t,r),Cm=a):Jh(e,t,r));break;default:Jh(e,t,r)}}function X8(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var a=t[r];Bn=a,Q8(a,e)}X8(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)J8(e),e=e.sibling}function J8(e){switch(e.tag){case 0:case 11:case 15:gm(e),e.flags&2048&&lu(9,e,e.return);break;case 3:gm(e);break;case 12:gm(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gx(e)):gm(e);break;default:gm(e)}}function Gx(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var a=t[r];Bn=a,Q8(a,e)}X8(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:lu(8,t,t.return),Gx(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Gx(t));break;default:Gx(t)}e=e.sibling}}function Q8(e,t){for(;Bn!==null;){var r=Bn;switch(r.tag){case 0:case 11:case 15:lu(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:np(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,Bn=a;else e:for(r=e;Bn!==null;){a=Bn;var s=a.sibling,i=a.return;if(q8(a),a===r){Bn=null;break e}if(s!==null){s.return=i,Bn=s;break e}Bn=i}}}var PO={getCacheForType:function(e){var t=cs(vn),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return cs(vn).controller.signal}},MO=typeof WeakMap=="function"?WeakMap:Map,zr=0,ma=null,kr=null,Sr=0,Qr=0,Ki=null,qd=!1,Mf=!1,g_=!1,Qc=0,Ja=0,cu=0,ih=0,p_=0,ao=0,mf=0,Wm=null,bi=null,nw=!1,V1=0,eT=0,My=1/0,Ry=null,eu=null,On=0,tu=null,gf=null,Vc=0,sw=0,iw=null,tT=null,Gm=0,ow=null;function lo(){return zr&2&&Sr!==0?Sr&-Sr:rr.T!==null?y_():dE()}function rT(){if(ao===0)if(!(Sr&536870912)||Pr){var e=Gp;Gp<<=1,!(Gp&3932160)&&(Gp=262144),ao=e}else ao=536870912;return e=uo.current,e!==null&&(e.flags|=32),ao}function _i(e,t,r){(e===ma&&(Qr===2||Qr===9)||e.cancelPendingCommit!==null)&&(pf(e,0),$d(e,Sr,ao,!1)),tp(e,r),(!(zr&2)||e!==ma)&&(e===ma&&(!(zr&2)&&(ih|=r),Ja===4&&$d(e,Sr,ao,!1)),mc(e))}function aT(e,t,r){if(zr&6)throw Error(nt(327));var a=!r&&(t&127)===0&&(t&e.expiredLanes)===0||ep(e,t),s=a?DO(e,t):ab(e,t,!0),i=a;do{if(s===0){Mf&&!a&&$d(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!RO(r)){s=ab(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;s=Wm;var c=l.current.memoizedState.isDehydrated;if(c&&(pf(l,o).flags|=256),o=ab(l,o,!1),o!==2){if(g_&&!c){l.errorRecoveryDisabledLanes|=i,ih|=i,s=4;break e}i=bi,bi=s,i!==null&&(bi===null?bi=i:bi.push.apply(bi,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){pf(e,0),$d(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(nt(345));case 4:if((t&4194048)!==t)break;case 6:$d(a,t,ao,!qd);break e;case 2:bi=null;break;case 3:case 5:break;default:throw Error(nt(329))}if((t&62914560)===t&&(s=V1+300-so(),10<s)){if($d(a,t,ao,!qd),L1(a,0,!0)!==0)break e;Vc=t,a.timeoutHandle=NT(Ek.bind(null,a,r,bi,Ry,nw,t,ao,ih,mf,qd,i,"Throttled",-0,0),s);break e}Ek(a,r,bi,Ry,nw,t,ao,ih,mf,qd,i,null,-0,0)}}break}while(!0);mc(e)}function Ek(e,t,r,a,s,i,o,l,c,u,h,f,m,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fc},Z8(t,i,f);var y=(i&62914560)===i?V1-so():(i&4194048)===i?eT-so():0;if(y=yD(f,y),y!==null){Vc=i,e.cancelPendingCommit=y(Ck.bind(null,e,t,i,r,a,s,o,l,c,h,f,null,m,g)),$d(e,i,o,!u);return}}Ck(e,t,i,r,a,s,o,l,c)}function RO(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!co(i(),s))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $d(e,t,r,a){t&=~p_,t&=~ih,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-oo(s),o=1<<i;a[i]=-1,s&=~o}r!==0&&oE(e,r,t)}function q1(){return zr&6?!0:(op(0),!1)}function x_(){if(kr!==null){if(Qr===0)var e=kr.return;else e=kr,Bc=Eh=null,r_(e),W0=null,_g=0,e=kr;for(;e!==null;)D8(e.alternate,e),e=e.return;kr=null}}function pf(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,eD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Vc=0,x_(),ma=e,kr=r=zc(e.current,null),Sr=t,Qr=0,Ki=null,qd=!1,Mf=ep(e,t),g_=!1,mf=ao=p_=ih=cu=Ja=0,bi=Wm=null,nw=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-oo(a),i=1<<s;t|=e[s],a&=~i}return Qc=t,O1(),r}function nT(e,t){cr=null,rr.H=kg,t===Pf||t===I1?(t=ik(),Qr=3):t===K5?(t=ik(),Qr=4):Qr=t===u_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ki=t,kr===null&&(Ja=1,Cy(e,Oo(t,e.current)))}function sT(){var e=uo.current;return e===null?!0:(Sr&4194048)===Sr?zo===null:(Sr&62914560)===Sr||Sr&536870912?e===zo:!1}function iT(){var e=rr.H;return rr.H=kg,e===null?kg:e}function oT(){var e=rr.A;return rr.A=PO,e}function Oy(){Ja=4,qd||(Sr&4194048)!==Sr&&uo.current!==null||(Mf=!0),!(cu&134217727)&&!(ih&134217727)||ma===null||$d(ma,Sr,ao,!1)}function ab(e,t,r){var a=zr;zr|=2;var s=iT(),i=oT();(ma!==e||Sr!==t)&&(Ry=null,pf(e,t)),t=!1;var o=Ja;e:do try{if(Qr!==0&&kr!==null){var l=kr,c=Ki;switch(Qr){case 8:x_(),o=6;break e;case 3:case 2:case 9:case 6:uo.current===null&&(t=!0);var u=Qr;if(Qr=0,Ki=null,M0(e,l,c,u),r&&Mf){o=0;break e}break;default:u=Qr,Qr=0,Ki=null,M0(e,l,c,u)}}OO(),o=Ja;break}catch(h){nT(e,h)}while(!0);return t&&e.shellSuspendCounter++,Bc=Eh=null,zr=a,rr.H=s,rr.A=i,kr===null&&(ma=null,Sr=0,O1()),o}function OO(){for(;kr!==null;)lT(kr)}function DO(e,t){var r=zr;zr|=2;var a=iT(),s=oT();ma!==e||Sr!==t?(Ry=null,My=so()+500,pf(e,t)):Mf=ep(e,t);e:do try{if(Qr!==0&&kr!==null){t=kr;var i=Ki;t:switch(Qr){case 1:Qr=0,Ki=null,M0(e,t,i,1);break;case 2:case 9:if(sk(i)){Qr=0,Ki=null,Tk(t);break}t=function(){Qr!==2&&Qr!==9||ma!==e||(Qr=7),mc(e)},i.then(t,t);break e;case 3:Qr=7;break e;case 4:Qr=5;break e;case 7:sk(i)?(Qr=0,Ki=null,Tk(t)):(Qr=0,Ki=null,M0(e,t,i,7));break;case 5:var o=null;switch(kr.tag){case 26:o=kr.memoizedState;case 5:case 27:var l=kr;if(o?ET(o):l.stateNode.complete){Qr=0,Ki=null;var c=l.sibling;if(c!==null)kr=c;else{var u=l.return;u!==null?(kr=u,$1(u)):kr=null}break t}}Qr=0,Ki=null,M0(e,t,i,5);break;case 6:Qr=0,Ki=null,M0(e,t,i,6);break;case 8:x_(),Ja=6;break e;default:throw Error(nt(462))}}IO();break}catch(h){nT(e,h)}while(!0);return Bc=Eh=null,rr.H=a,rr.A=s,zr=r,kr!==null?0:(ma=null,Sr=0,O1(),Ja)}function IO(){for(;kr!==null&&!iR();)lT(kr)}function lT(e){var t=O8(e.alternate,e,Qc);e.memoizedProps=e.pendingProps,t===null?$1(e):kr=t}function Tk(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=_k(r,t,t.pendingProps,t.type,void 0,Sr);break;case 11:t=_k(r,t,t.pendingProps,t.type.render,t.ref,Sr);break;case 5:r_(t);default:D8(r,t),t=kr=DE(t,Qc),t=O8(r,t,Qc)}e.memoizedProps=e.pendingProps,t===null?$1(e):kr=t}function M0(e,t,r,a){Bc=Eh=null,r_(t),W0=null,_g=0;var s=t.return;try{if(jO(e,s,t,r,Sr)){Ja=1,Cy(e,Oo(r,e.current)),kr=null;return}}catch(i){if(s!==null)throw kr=s,i;Ja=1,Cy(e,Oo(r,e.current)),kr=null;return}t.flags&32768?(Pr||a===1?e=!0:Mf||Sr&536870912?e=!1:(qd=e=!0,(a===2||a===9||a===3||a===6)&&(a=uo.current,a!==null&&a.tag===13&&(a.flags|=16384))),cT(t,e)):$1(t)}function $1(e){var t=e;do{if(t.flags&32768){cT(t,qd);return}e=t.return;var r=EO(t.alternate,t,Qc);if(r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Ja===0&&(Ja=5)}function cT(e,t){do{var r=TO(e.alternate,e);if(r!==null){r.flags&=32767,kr=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){kr=e;return}kr=e=r}while(e!==null);Ja=6,kr=null}function Ck(e,t,r,a,s,i,o,l,c){e.cancelPendingCommit=null;do H1();while(On!==0);if(zr&6)throw Error(nt(327));if(t!==null){if(t===e.current)throw Error(nt(177));if(i=t.lanes|t.childLanes,i|=V5,pR(e,r,i,o,l,c),e===ma&&(kr=ma=null,Sr=0),gf=t,tu=e,Vc=r,sw=i,iw=s,tT=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,UO(vy,function(){return mT(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=rr.T,rr.T=null,s=Ur.p,Ur.p=2,o=zr,zr|=4;try{CO(e,t,r)}finally{zr=o,Ur.p=s,rr.T=a}}On=1,dT(),uT(),hT()}}function dT(){if(On===1){On=0;var e=tu,t=gf,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=rr.T,rr.T=null;var a=Ur.p;Ur.p=2;var s=zr;zr|=4;try{G8(t,e);var i=uw,o=EE(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&AE(l.ownerDocument.documentElement,l)){if(c!==null&&U5(l)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var g=m.getSelection(),y=l.textContent.length,x=Math.min(c.start,y),N=c.end===void 0?x:Math.min(c.end,y);!g.extend&&x>N&&(o=N,N=x,x=o);var b=JN(l,x),w=JN(l,N);if(b&&w&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==w.node||g.focusOffset!==w.offset)){var k=f.createRange();k.setStart(b.node,b.offset),g.removeAllRanges(),x>N?(g.addRange(k),g.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),g.addRange(k))}}}}for(f=[],g=l;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var S=f[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}qy=!!dw,uw=dw=null}finally{zr=s,Ur.p=a,rr.T=r}}e.current=t,On=2}}function uT(){if(On===2){On=0;var e=tu,t=gf,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=rr.T,rr.T=null;var a=Ur.p;Ur.p=2;var s=zr;zr|=4;try{V8(e,t.alternate,t)}finally{zr=s,Ur.p=a,rr.T=r}}On=3}}function hT(){if(On===4||On===3){On=0,oR();var e=tu,t=gf,r=Vc,a=tT;t.subtreeFlags&10256||t.flags&10256?On=5:(On=0,gf=tu=null,fT(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(eu=null),R5(r),t=t.stateNode,io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(Qg,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=rr.T,s=Ur.p,Ur.p=2,rr.T=null;try{for(var i=e.onRecoverableError,o=0;o<a.length;o++){var l=a[o];i(l.value,{componentStack:l.stack})}}finally{rr.T=t,Ur.p=s}}Vc&3&&H1(),mc(e),s=e.pendingLanes,r&261930&&s&42?e===ow?Gm++:(Gm=0,ow=e):Gm=0,op(0)}}function fT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,np(t)))}function H1(){return dT(),uT(),hT(),mT()}function mT(){if(On!==5)return!1;var e=tu,t=sw;sw=0;var r=R5(Vc),a=rr.T,s=Ur.p;try{Ur.p=32>r?32:r,rr.T=null,r=iw,iw=null;var i=tu,o=Vc;if(On=0,gf=tu=null,Vc=0,zr&6)throw Error(nt(331));var l=zr;if(zr|=4,J8(i.current),K8(i,i.current,o,r),zr=l,op(0,!1),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(Qg,i)}catch{}return!0}finally{Ur.p=s,rr.T=a,fT(e,t)}}function Lk(e,t,r){t=Oo(r,t),t=ew(e.stateNode,t,2),e=Qd(e,t,2),e!==null&&(tp(e,2),mc(e))}function ra(e,t,r){if(e.tag===3)Lk(e,e,r);else for(;t!==null;){if(t.tag===3){Lk(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(eu===null||!eu.has(a))){e=Oo(r,e),r=T8(2),a=Qd(t,r,2),a!==null&&(C8(r,a,t,e),tp(a,2),mc(a));break}}t=t.return}}function nb(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new MO;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(g_=!0,s.add(r),e=FO.bind(null,e,t,r),t.then(e,e))}function FO(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ma===e&&(Sr&r)===r&&(Ja===4||Ja===3&&(Sr&62914560)===Sr&&300>so()-V1?!(zr&2)&&pf(e,0):p_|=r,mf===Sr&&(mf=0)),mc(e)}function gT(e,t){t===0&&(t=iE()),e=Ah(e,t),e!==null&&(tp(e,t),mc(e))}function BO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gT(e,r)}function zO(e,t){var r=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(nt(314))}a!==null&&a.delete(t),gT(e,r)}function UO(e,t){return P5(e,t)}var Dy=null,g0=null,lw=!1,Iy=!1,sb=!1,Hd=0;function mc(e){e!==g0&&e.next===null&&(g0===null?Dy=g0=e:g0=g0.next=e),Iy=!0,lw||(lw=!0,qO())}function op(e,t){if(!sb&&Iy){sb=!0;do for(var r=!1,a=Dy;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var o=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-oo(42|e)+1)-1,i&=s&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Pk(a,i))}else i=Sr,i=L1(a,a===ma?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||ep(a,i)||(r=!0,Pk(a,i));a=a.next}while(r);sb=!1}}function VO(){pT()}function pT(){Iy=lw=!1;var e=0;Hd!==0&&QO()&&(e=Hd);for(var t=so(),r=null,a=Dy;a!==null;){var s=a.next,i=xT(a,t);i===0?(a.next=null,r===null?Dy=s:r.next=s,s===null&&(g0=r)):(r=a,(e!==0||i&3)&&(Iy=!0)),a=s}On!==0&&On!==5||op(e),Hd!==0&&(Hd=0)}function xT(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-oo(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&a)&&(s[o]=gR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=ma,r=Sr,r=L1(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,r===0||e===t&&(Qr===2||Qr===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Mv(a),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||ep(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(a!==null&&Mv(a),R5(r)){case 2:case 8:r=nE;break;case 32:r=vy;break;case 268435456:r=sE;break;default:r=vy}return a=yT.bind(null,e),r=P5(r,a),e.callbackPriority=t,e.callbackNode=r,t}return a!==null&&a!==null&&Mv(a),e.callbackPriority=2,e.callbackNode=null,2}function yT(e,t){if(On!==0&&On!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(H1()&&e.callbackNode!==r)return null;var a=Sr;return a=L1(e,e===ma?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(aT(e,a,t),xT(e,so()),e.callbackNode!=null&&e.callbackNode===r?yT.bind(null,e):null)}function Pk(e,t){if(H1())return null;aT(e,t,!0)}function qO(){tD(function(){zr&6?P5(aE,VO):pT()})}function y_(){if(Hd===0){var e=uf;e===0&&(e=Wp,Wp<<=1,!(Wp&261888)&&(Wp=256)),Hd=e}return Hd}function Mk(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fx(""+e)}function Rk(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function $O(e,t,r,a,s){if(t==="submit"&&r&&r.stateNode===s){var i=Mk((s[Si]||null).action),o=a.submitter;o&&(t=(t=o[Si]||null)?Mk(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new P1("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Hd!==0){var c=o?Rk(s,o):new FormData(s);J2(r,{pending:!0,data:c,method:s.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?Rk(s,o):new FormData(s),J2(r,{pending:!0,data:c,method:s.method,action:i},i,c))},currentTarget:s}]})}}for(var ib=0;ib<z2.length;ib++){var ob=z2[ib],HO=ob.toLowerCase(),WO=ob[0].toUpperCase()+ob.slice(1);Ol(HO,"on"+WO)}Ol(CE,"onAnimationEnd");Ol(LE,"onAnimationIteration");Ol(PE,"onAnimationStart");Ol("dblclick","onDoubleClick");Ol("focusin","onFocus");Ol("focusout","onBlur");Ol(lO,"onTransitionRun");Ol(cO,"onTransitionStart");Ol(dO,"onTransitionCancel");Ol(ME,"onTransitionEnd");cf("onMouseEnter",["mouseout","mouseover"]);cf("onMouseLeave",["mouseout","mouseover"]);cf("onPointerEnter",["pointerout","pointerover"]);cf("onPointerLeave",["pointerout","pointerover"]);kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jg));function vT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(h){wy(h)}s.currentTarget=null,i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(h){wy(h)}s.currentTarget=null,i=c}}}}function Nr(e,t){var r=t[P2];r===void 0&&(r=t[P2]=new Set);var a=e+"__bubble";r.has(a)||(bT(t,e,2,!1),r.add(a))}function lb(e,t,r){var a=0;t&&(a|=4),bT(r,e,a,t)}var rx="_reactListening"+Math.random().toString(36).slice(2);function v_(e){if(!e[rx]){e[rx]=!0,uE.forEach(function(r){r!=="selectionchange"&&(GO.has(r)||lb(r,!1,e),lb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rx]||(t[rx]=!0,lb("selectionchange",!1,t))}}function bT(e,t,r,a){switch(MT(t)){case 2:var s=wD;break;case 8:s=_D;break;default:s=N_}r=s.bind(null,t,r,e),s=void 0,!I2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function cb(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;l!==null;){if(o=k0(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){a=i=o;continue e}l=l.parentNode}}a=a.return}vE(function(){var u=i,h=I5(r),f=[];e:{var m=RE.get(e);if(m!==void 0){var g=P1,y=e;switch(e){case"keypress":if(zx(r)===0)break e;case"keydown":case"keyup":g=zR;break;case"focusin":y="focus",g=Fv;break;case"focusout":y="blur",g=Fv;break;case"beforeblur":case"afterblur":g=Fv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ER;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qR;break;case CE:case LE:case PE:g=LR;break;case ME:g=HR;break;case"scroll":case"scrollend":g=SR;break;case"wheel":g=GR;break;case"copy":case"cut":case"paste":g=MR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$N;break;case"toggle":case"beforetoggle":g=KR}var x=(t&4)!==0,N=!x&&(e==="scroll"||e==="scrollend"),b=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,k;w!==null;){var S=w;if(k=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||k===null||b===null||(S=xg(w,b),S!=null&&x.push(Sg(w,S,k))),N)break;w=w.return}0<x.length&&(m=new g(m,y,null,r,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==D2&&(y=r.relatedTarget||r.fromElement)&&(k0(y)||y[Tf]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?k0(y):null,y!==null&&(N=Jg(y),x=y.tag,y!==N||x!==5&&x!==27&&x!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=VN,S="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=$N,S="onPointerLeave",b="onPointerEnter",w="pointer"),N=g==null?m:Em(g),k=y==null?m:Em(y),m=new x(S,w+"leave",g,r,h),m.target=N,m.relatedTarget=k,S=null,k0(h)===u&&(x=new x(b,w+"enter",y,r,h),x.target=k,x.relatedTarget=N,S=x),N=S,g&&y)t:{for(x=YO,b=g,w=y,k=0,S=b;S;S=x(S))k++;S=0;for(var B=w;B;B=x(B))S++;for(;0<k-S;)b=x(b),k--;for(;0<S-k;)w=x(w),S--;for(;k--;){if(b===w||w!==null&&b===w.alternate){x=b;break t}b=x(b),w=x(w)}x=null}else x=null;g!==null&&Ok(f,m,g,x,!1),y!==null&&N!==null&&Ok(f,N,y,x,!0)}}e:{if(m=u?Em(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var H=YN;else if(GN(m))if(jE)H=sO;else{H=aO;var F=rO}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&D5(u.elementType)&&(H=YN):H=nO;if(H&&(H=H(e,u))){kE(f,H,r,h);break e}F&&F(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&O2(m,"number",m.value)}switch(F=u?Em(u):window,e){case"focusin":(GN(F)||F.contentEditable==="true")&&(A0=F,F2=u,Fm=null);break;case"focusout":Fm=F2=A0=null;break;case"mousedown":B2=!0;break;case"contextmenu":case"mouseup":case"dragend":B2=!1,QN(f,r,h);break;case"selectionchange":if(oO)break;case"keydown":case"keyup":QN(f,r,h)}var D;if(z5)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else S0?_E(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(wE&&r.locale!=="ko"&&(S0||P!=="onCompositionStart"?P==="onCompositionEnd"&&S0&&(D=bE()):(Vd=h,F5="value"in Vd?Vd.value:Vd.textContent,S0=!0)),F=Fy(u,P),0<F.length&&(P=new qN(P,e,null,r,h),f.push({event:P,listeners:F}),D?P.data=D:(D=NE(r),D!==null&&(P.data=D)))),(D=XR?JR(e,r):QR(e,r))&&(P=Fy(u,"onBeforeInput"),0<P.length&&(F=new qN("onBeforeInput","beforeinput",null,r,h),f.push({event:F,listeners:P}),F.data=D)),$O(f,e,u,r,h)}vT(f,t)})}function Sg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fy(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=xg(e,r),s!=null&&a.unshift(Sg(e,s,i)),s=xg(e,t),s!=null&&a.push(Sg(e,s,i))),e.tag===3)return a;e=e.return}return[]}function YO(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ok(e,t,r,a,s){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,s?(u=xg(r,i),u!=null&&o.unshift(Sg(r,u,c))):s||(u=xg(r,i),u!=null&&o.push(Sg(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var KO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function Dk(e){return(typeof e=="string"?e:""+e).replace(KO,`
`).replace(ZO,"")}function wT(e,t){return t=Dk(t),Dk(e)===t}function ia(e,t,r,a,s,i){switch(r){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||df(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&df(e,""+a);break;case"className":Kp(e,"class",a);break;case"tabIndex":Kp(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Kp(e,r,a);break;case"style":yE(e,a,i);break;case"data":if(t!=="object"){Kp(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(r);break}a=Fx(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&ia(e,t,"name",s.name,s,null),ia(e,t,"formEncType",s.formEncType,s,null),ia(e,t,"formMethod",s.formMethod,s,null),ia(e,t,"formTarget",s.formTarget,s,null)):(ia(e,t,"encType",s.encType,s,null),ia(e,t,"method",s.method,s,null),ia(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(r);break}a=Fx(""+a),e.setAttribute(r,a);break;case"onClick":a!=null&&(e.onclick=Fc);break;case"onScroll":a!=null&&Nr("scroll",e);break;case"onScrollEnd":a!=null&&Nr("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(nt(61));if(r=a.__html,r!=null){if(s.children!=null)throw Error(nt(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}r=Fx(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":a===!0?e.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":Nr("beforetoggle",e),Nr("toggle",e),Ix(e,"popover",a);break;case"xlinkActuate":Sc(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Sc(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Sc(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Sc(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Sc(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Sc(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Sc(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Sc(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Sc(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ix(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kR.get(r)||r,Ix(e,r,a))}}function cw(e,t,r,a,s,i){switch(r){case"style":yE(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(nt(61));if(r=a.__html,r!=null){if(s.children!=null)throw Error(nt(60));e.innerHTML=r}}break;case"children":typeof a=="string"?df(e,a):(typeof a=="number"||typeof a=="bigint")&&df(e,""+a);break;case"onScroll":a!=null&&Nr("scroll",e);break;case"onScrollEnd":a!=null&&Nr("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hE.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(s=r.endsWith("Capture"),t=r.slice(2,s?r.length-7:void 0),i=e[Si]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,s);break e}r in e?e[r]=a:a===!0?e.setAttribute(r,""):Ix(e,r,a)}}}function ds(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nr("error",e),Nr("load",e);var a=!1,s=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(nt(137,t));default:ia(e,t,i,o,r,null)}}s&&ia(e,t,"srcSet",r.srcSet,r,null),a&&ia(e,t,"src",r.src,r,null);return;case"input":Nr("invalid",e);var l=i=o=s=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var h=r[a];if(h!=null)switch(a){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(nt(137,t));break;default:ia(e,t,a,h,r,null)}}gE(e,i,l,c,u,o,s,!1);return;case"select":Nr("invalid",e),a=o=i=null;for(s in r)if(r.hasOwnProperty(s)&&(l=r[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ia(e,t,s,l,r,null)}t=i,r=o,e.multiple=!!a,t!=null?q0(e,!!a,t,!1):r!=null&&q0(e,!!a,r,!0);return;case"textarea":Nr("invalid",e),i=s=a=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(nt(91));break;default:ia(e,t,o,l,r,null)}xE(e,a,s,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(a=r[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ia(e,t,c,a,r,null)}return;case"dialog":Nr("beforetoggle",e),Nr("toggle",e),Nr("cancel",e),Nr("close",e);break;case"iframe":case"object":Nr("load",e);break;case"video":case"audio":for(a=0;a<jg.length;a++)Nr(jg[a],e);break;case"image":Nr("error",e),Nr("load",e);break;case"details":Nr("toggle",e);break;case"embed":case"source":case"link":Nr("error",e),Nr("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(a=r[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(nt(137,t));default:ia(e,t,u,a,r,null)}return;default:if(D5(t)){for(h in r)r.hasOwnProperty(h)&&(a=r[h],a!==void 0&&cw(e,t,h,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(a=r[l],a!=null&&ia(e,t,l,a,r,null))}function XO(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,h=null;for(g in r){var f=r[g];if(r.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(g)||ia(e,t,g,null,a,f)}}for(var m in a){var g=a[m];if(f=r[m],a.hasOwnProperty(m)&&(g!=null||f!=null))switch(m){case"type":i=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":h=g;break;case"value":o=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(nt(137,t));break;default:g!==f&&ia(e,t,m,g,a,f)}}R2(e,o,l,c,u,h,i,s);return;case"select":g=o=l=m=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":g=c;default:a.hasOwnProperty(i)||ia(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=r[s],a.hasOwnProperty(s)&&(i!=null||c!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&ia(e,t,s,i,a,c)}t=l,r=o,a=g,m!=null?q0(e,!!r,m,!1):!!a!=!!r&&(t!=null?q0(e,!!r,t,!0):q0(e,!!r,r?[]:"",!1));return;case"textarea":g=m=null;for(l in r)if(s=r[l],r.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ia(e,t,l,null,a,s)}for(o in a)if(s=a[o],i=r[o],a.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(nt(91));break;default:s!==i&&ia(e,t,o,s,a,i)}pE(e,m,g);return;case"option":for(var y in r)if(m=r[y],r.hasOwnProperty(y)&&m!=null&&!a.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:ia(e,t,y,null,a,m)}for(c in a)if(m=a[c],g=r[c],a.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ia(e,t,c,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)m=r[x],r.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x)&&ia(e,t,x,null,a,m);for(u in a)if(m=a[u],g=r[u],a.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(nt(137,t));break;default:ia(e,t,u,m,a,g)}return;default:if(D5(t)){for(var N in r)m=r[N],r.hasOwnProperty(N)&&m!==void 0&&!a.hasOwnProperty(N)&&cw(e,t,N,void 0,a,m);for(h in a)m=a[h],g=r[h],!a.hasOwnProperty(h)||m===g||m===void 0&&g===void 0||cw(e,t,h,m,a,g);return}}for(var b in r)m=r[b],r.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&ia(e,t,b,null,a,m);for(f in a)m=a[f],g=r[f],!a.hasOwnProperty(f)||m===g||m==null&&g==null||ia(e,t,f,m,a,g)}function Ik(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JO(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var s=r[a],i=s.transferSize,o=s.initiatorType,l=s.duration;if(i&&l&&Ik(o)){for(o=0,l=s.responseEnd,a+=1;a<r.length;a++){var c=r[a],u=c.startTime;if(u>l)break;var h=c.transferSize,f=c.initiatorType;h&&Ik(f)&&(c=c.responseEnd,o+=h*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(i+o)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dw=null,uw=null;function By(e){return e.nodeType===9?e:e.ownerDocument}function Fk(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var db=null;function QO(){var e=window.event;return e&&e.type==="popstate"?e===db?!1:(db=e,!0):(db=null,!1)}var NT=typeof setTimeout=="function"?setTimeout:void 0,eD=typeof clearTimeout=="function"?clearTimeout:void 0,Bk=typeof Promise=="function"?Promise:void 0,tD=typeof queueMicrotask=="function"?queueMicrotask:typeof Bk<"u"?function(e){return Bk.resolve(null).then(e).catch(rD)}:NT;function rD(e){setTimeout(function(){throw e})}function bu(e){return e==="head"}function zk(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"||r==="/&"){if(a===0){e.removeChild(s),yf(t);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")Ym(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ym(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[rp]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&Ym(e.ownerDocument.body);r=s}while(r);yf(t)}function Uk(e,t){var r=e;e=0;do{var a=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=a}while(r)}function fw(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fw(r),O5(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function aD(e,t,r,a){for(;e.nodeType===1;){var s=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[rp])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Uo(e.nextSibling),e===null)break}return null}function nD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Uo(e.nextSibling),e===null))return null;return e}function kT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Uo(e.nextSibling),e===null))return null;return e}function mw(e){return e.data==="$?"||e.data==="$~"}function gw(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pw=null;function Vk(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Uo(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function qk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function jT(e,t,r){switch(t=By(r),e){case"html":if(e=t.documentElement,!e)throw Error(nt(452));return e;case"head":if(e=t.head,!e)throw Error(nt(453));return e;case"body":if(e=t.body,!e)throw Error(nt(454));return e;default:throw Error(nt(451))}}function Ym(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);O5(e)}var qo=new Map,$k=new Set;function zy(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sd=Ur.d;Ur.d={f:iD,r:oD,D:lD,C:cD,L:dD,m:uD,X:fD,S:hD,M:mD};function iD(){var e=sd.f(),t=q1();return e||t}function oD(e){var t=Cf(e);t!==null&&t.tag===5&&t.type==="form"?y8(t):sd.r(e)}var Rf=typeof document>"u"?null:document;function ST(e,t,r){var a=Rf;if(a&&typeof t=="string"&&t){var s=Ro(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof r=="string"&&(s+='[crossorigin="'+r+'"]'),$k.has(s)||($k.add(s),e={rel:e,crossOrigin:r,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),ds(t,"link",e),Un(t),a.head.appendChild(t)))}}function lD(e){sd.D(e),ST("dns-prefetch",e,null)}function cD(e,t){sd.C(e,t),ST("preconnect",e,t)}function dD(e,t,r){sd.L(e,t,r);var a=Rf;if(a&&e&&t){var s='link[rel="preload"][as="'+Ro(t)+'"]';t==="image"&&r&&r.imageSrcSet?(s+='[imagesrcset="'+Ro(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(s+='[imagesizes="'+Ro(r.imageSizes)+'"]')):s+='[href="'+Ro(e)+'"]';var i=s;switch(t){case"style":i=xf(e);break;case"script":i=Of(e)}qo.has(i)||(e=Ea({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),qo.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(lp(i))||t==="script"&&a.querySelector(cp(i))||(t=a.createElement("link"),ds(t,"link",e),Un(t),a.head.appendChild(t)))}}function uD(e,t){sd.m(e,t);var r=Rf;if(r&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ro(a)+'"][href="'+Ro(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Of(e)}if(!qo.has(i)&&(e=Ea({rel:"modulepreload",href:e},t),qo.set(i,e),r.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cp(i)))return}a=r.createElement("link"),ds(a,"link",e),Un(a),r.head.appendChild(a)}}}function hD(e,t,r){sd.S(e,t,r);var a=Rf;if(a&&e){var s=V0(a).hoistableStyles,i=xf(e);t=t||"default";var o=s.get(i);if(!o){var l={loading:0,preload:null};if(o=a.querySelector(lp(i)))l.loading=5;else{e=Ea({rel:"stylesheet",href:e,"data-precedence":t},r),(r=qo.get(i))&&b_(e,r);var c=o=a.createElement("link");Un(c),ds(c,"link",e),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Yx(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:l},s.set(i,o)}}}function fD(e,t){sd.X(e,t);var r=Rf;if(r&&e){var a=V0(r).hoistableScripts,s=Of(e),i=a.get(s);i||(i=r.querySelector(cp(s)),i||(e=Ea({src:e,async:!0},t),(t=qo.get(s))&&w_(e,t),i=r.createElement("script"),Un(i),ds(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function mD(e,t){sd.M(e,t);var r=Rf;if(r&&e){var a=V0(r).hoistableScripts,s=Of(e),i=a.get(s);i||(i=r.querySelector(cp(s)),i||(e=Ea({src:e,async:!0,type:"module"},t),(t=qo.get(s))&&w_(e,t),i=r.createElement("script"),Un(i),ds(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Hk(e,t,r,a){var s=(s=Zd.current)?zy(s):null;if(!s)throw Error(nt(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=xf(r.href),r=V0(s).hoistableStyles,a=r.get(t),a||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=xf(r.href);var i=V0(s).hoistableStyles,o=i.get(e);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=s.querySelector(lp(e)))&&!i._p&&(o.instance=i,o.state.loading=5),qo.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qo.set(e,r),i||gD(s,e,r,o.state))),t&&a===null)throw Error(nt(528,""));return o}if(t&&a!==null)throw Error(nt(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Of(r),r=V0(s).hoistableScripts,a=r.get(t),a||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(nt(444,e))}}function xf(e){return'href="'+Ro(e)+'"'}function lp(e){return'link[rel="stylesheet"]['+e+"]"}function AT(e){return Ea({},e,{"data-precedence":e.precedence,precedence:null})}function gD(e,t,r,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ds(t,"link",r),Un(t),e.head.appendChild(t))}function Of(e){return'[src="'+Ro(e)+'"]'}function cp(e){return"script[async]"+e}function Wk(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ro(r.href)+'"]');if(a)return t.instance=a,Un(a),a;var s=Ea({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Un(a),ds(a,"style",s),Yx(a,r.precedence,e),t.instance=a;case"stylesheet":s=xf(r.href);var i=e.querySelector(lp(s));if(i)return t.state.loading|=4,t.instance=i,Un(i),i;a=AT(r),(s=qo.get(s))&&b_(a,s),i=(e.ownerDocument||e).createElement("link"),Un(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),ds(i,"link",a),t.state.loading|=4,Yx(i,r.precedence,e),t.instance=i;case"script":return i=Of(r.src),(s=e.querySelector(cp(i)))?(t.instance=s,Un(s),s):(a=r,(s=qo.get(i))&&(a=Ea({},r),w_(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),Un(s),ds(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(nt(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Yx(a,r.precedence,e));return t.instance}function Yx(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,o=0;o<a.length;o++){var l=a[o];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function b_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function w_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kx=null;function Gk(e,t,r){if(Kx===null){var a=new Map,s=Kx=new Map;s.set(r,a)}else s=Kx,a=s.get(r),a||(a=new Map,s.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),s=0;s<r.length;s++){var i=r[s];if(!(i[rp]||i[ss]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=a.get(o);l?l.push(i):a.set(o,[i])}}return a}function Yk(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function pD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ET(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function xD(e,t,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var s=xf(a.href),i=t.querySelector(lp(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uy.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,Un(i);return}i=t.ownerDocument||t,a=AT(a),(s=qo.get(s))&&b_(a,s),i=i.createElement("link"),Un(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),ds(i,"link",a),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=Uy.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var ub=0;function yD(e,t){return e.stylesheets&&e.count===0&&Zx(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var a=setTimeout(function(){if(e.stylesheets&&Zx(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&ub===0&&(ub=62500*JO());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zx(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>ub?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Uy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vy=null;function Zx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vy=new Map,t.forEach(vD,e),Vy=null,Uy.call(e))}function vD(e,t){if(!(t.state.loading&4)){var r=Vy.get(e);if(r)var a=r.get(null);else{r=new Map,Vy.set(e,r);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),a=o)}a&&r.set(null,a)}s=t.instance,o=s.getAttribute("data-precedence"),i=r.get(o)||a,i===a&&r.set(null,s),r.set(o,s),this.count++,a=Uy.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ag={$$typeof:Ic,Provider:null,Consumer:null,_currentValue:rh,_currentValue2:rh,_threadCount:0};function bD(e,t,r,a,s,i,o,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rv(0),this.hiddenUpdates=Rv(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function TT(e,t,r,a,s,i,o,l,c,u,h,f){return e=new bD(e,t,r,o,c,u,h,f,l),t=1,i===!0&&(t|=24),i=eo(3,null,null,t),e.current=i,i.stateNode=e,t=G5(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:r,cache:t},Z5(i),e}function CT(e){return e?(e=C0,e):C0}function LT(e,t,r,a,s,i){s=CT(s),a.context===null?a.context=s:a.pendingContext=s,a=Jd(t),a.payload={element:r},i=i===void 0?null:i,i!==null&&(a.callback=i),r=Qd(e,a,t),r!==null&&(_i(r,e,t),zm(r,e,t))}function Kk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function __(e,t){Kk(e,t),(e=e.alternate)&&Kk(e,t)}function PT(e){if(e.tag===13||e.tag===31){var t=Ah(e,67108864);t!==null&&_i(t,e,67108864),__(e,67108864)}}function Zk(e){if(e.tag===13||e.tag===31){var t=lo();t=M5(t);var r=Ah(e,t);r!==null&&_i(r,e,t),__(e,t)}}var qy=!0;function wD(e,t,r,a){var s=rr.T;rr.T=null;var i=Ur.p;try{Ur.p=2,N_(e,t,r,a)}finally{Ur.p=i,rr.T=s}}function _D(e,t,r,a){var s=rr.T;rr.T=null;var i=Ur.p;try{Ur.p=8,N_(e,t,r,a)}finally{Ur.p=i,rr.T=s}}function N_(e,t,r,a){if(qy){var s=xw(a);if(s===null)cb(e,t,a,$y,r),Xk(e,a);else if(kD(s,e,t,r,a))a.stopPropagation();else if(Xk(e,a),t&4&&-1<ND.indexOf(e)){for(;s!==null;){var i=Cf(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=qu(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-oo(o);l.entanglements[1]|=c,o&=~c}mc(i),!(zr&6)&&(My=so()+500,op(0))}}break;case 31:case 13:l=Ah(i,2),l!==null&&_i(l,i,2),q1(),__(i,2)}if(i=xw(a),i===null&&cb(e,t,a,$y,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else cb(e,t,a,null,r)}}function xw(e){return e=I5(e),k_(e)}var $y=null;function k_(e){if($y=null,e=k0(e),e!==null){var t=Jg(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=JA(t),e!==null)return e;e=null}else if(r===31){if(e=QA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $y=e,null}function MT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lR()){case aE:return 2;case nE:return 8;case vy:case cR:return 32;case sE:return 268435456;default:return 32}default:return 32}}var yw=!1,ru=null,au=null,nu=null,Eg=new Map,Tg=new Map,Bd=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xk(e,t){switch(e){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":Eg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tg.delete(t.pointerId)}}function pm(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cf(t),t!==null&&PT(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kD(e,t,r,a,s){switch(t){case"focusin":return ru=pm(ru,e,t,r,a,s),!0;case"dragenter":return au=pm(au,e,t,r,a,s),!0;case"mouseover":return nu=pm(nu,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return Eg.set(i,pm(Eg.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Tg.set(i,pm(Tg.get(i)||null,e,t,r,a,s)),!0}return!1}function RT(e){var t=k0(e.target);if(t!==null){var r=Jg(t);if(r!==null){if(t=r.tag,t===13){if(t=JA(r),t!==null){e.blockedOn=t,ON(e.priority,function(){Zk(r)});return}}else if(t===31){if(t=QA(r),t!==null){e.blockedOn=t,ON(e.priority,function(){Zk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xw(e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);D2=a,r.target.dispatchEvent(a),D2=null}else return t=Cf(r),t!==null&&PT(t),e.blockedOn=r,!1;t.shift()}return!0}function Jk(e,t,r){Xx(e)&&r.delete(t)}function jD(){yw=!1,ru!==null&&Xx(ru)&&(ru=null),au!==null&&Xx(au)&&(au=null),nu!==null&&Xx(nu)&&(nu=null),Eg.forEach(Jk),Tg.forEach(Jk)}function ax(e,t){e.blockedOn===t&&(e.blockedOn=null,yw||(yw=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,jD)))}var nx=null;function Qk(e){nx!==e&&(nx=e,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,function(){nx===e&&(nx=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(k_(a||r)===null)continue;break}var i=Cf(r);i!==null&&(e.splice(t,3),t-=3,J2(i,{pending:!0,data:s,method:r.method,action:a},a,s))}}))}function yf(e){function t(c){return ax(c,e)}ru!==null&&ax(ru,e),au!==null&&ax(au,e),nu!==null&&ax(nu,e),Eg.forEach(t),Tg.forEach(t);for(var r=0;r<Bd.length;r++){var a=Bd[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bd.length&&(r=Bd[0],r.blockedOn===null);)RT(r),r.blockedOn===null&&Bd.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var s=r[a],i=r[a+1],o=s[Si]||null;if(typeof i=="function")o||Qk(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[Si]||null)l=o.formAction;else if(k_(s)!==null)continue}else l=o.action;typeof l=="function"?r[a+1]=l:(r.splice(a,3),a-=3),Qk(r)}}}function OT(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return s=o})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function j_(e){this._internalRoot=e}W1.prototype.render=j_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nt(409));var r=t.current,a=lo();LT(r,a,e,t,null,null)};W1.prototype.unmount=j_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;LT(e.current,2,null,e,null,null),q1(),t[Tf]=null}};function W1(e){this._internalRoot=e}W1.prototype.unstable_scheduleHydration=function(e){if(e){var t=dE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bd.length&&t!==0&&t<Bd[r].priority;r++);Bd.splice(r,0,e),r===0&&RT(e)}};var ej=ZA.version;if(ej!=="19.2.0")throw Error(nt(527,ej,"19.2.0"));Ur.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=tR(t),e=e!==null?eE(e):null,e=e===null?null:e.stateNode,e};var SD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:rr,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{Qg=sx.inject(SD),io=sx}catch{}}T1.createRoot=function(e,t){if(!XA(e))throw Error(nt(299));var r=!1,a="",s=S8,i=A8,o=E8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=TT(e,1,!1,null,null,r,a,null,s,i,o,OT),e[Tf]=t.current,v_(e),new j_(t)};T1.hydrateRoot=function(e,t,r){if(!XA(e))throw Error(nt(299));var a=!1,s="",i=S8,o=A8,l=E8,c=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=TT(e,1,!0,t,r??null,a,s,c,i,o,l,OT),t.context=CT(null),r=t.current,a=lo(),a=M5(a),s=Jd(a),s.callback=null,Qd(r,s,a),r=a,t.current.lanes=r,tp(t,r),mc(t),e[Tf]=t.current,v_(e),new W1(t)};T1.version="19.2.0";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(e){console.error(e)}}DT(),DA.exports=T1;var AD=DA.exports;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tj="popstate";function ED(e={}){function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return vw("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Cg(s)}return CD(t,r,null,e)}function Oa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ho(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TD(){return Math.random().toString(36).substring(2,10)}function rj(e,t){return{usr:e.state,key:e.key,idx:t}}function vw(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Df(t):t,state:r,key:t&&t.key||a||TD()}}function Cg({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Df(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function CD(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let N=h(),b=N==null?null:N-u;u=N,c&&c({action:l,location:x.location,delta:b})}function m(N,b){l="PUSH";let w=vw(x.location,N,b);u=h()+1;let k=rj(w,u),S=x.createHref(w);try{o.pushState(k,"",S)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function g(N,b){l="REPLACE";let w=vw(x.location,N,b);u=h();let k=rj(w,u),S=x.createHref(w);o.replaceState(k,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function y(N){return LD(N)}let x={get action(){return l},get location(){return e(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tj,f),c=N,()=>{s.removeEventListener(tj,f),c=null}},createHref(N){return t(s,N)},createURL:y,encodeLocation(N){let b=y(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(N){return o.go(N)}};return x}function LD(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oa(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Cg(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function IT(e,t,r="/"){return PD(e,t,r,!1)}function PD(e,t,r,a){let s=typeof t=="string"?Df(t):t,i=ed(s.pathname||"/",r);if(i==null)return null;let o=FT(e);MD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$D(i);l=VD(o[c],u,a)}return l}function FT(e,t=[],r=[],a="",s=!1){let i=(o,l,c=s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&c)return;Oa(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let f=qc([a,h.relativePath]),m=r.concat(h);o.children&&o.children.length>0&&(Oa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),FT(o.children,t,m,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:zD(f,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of BT(o.path))i(o,l,!0,u)}),t}function BT(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=BT(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function MD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UD(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var RD=/^:[\w-]+$/,OD=3,DD=2,ID=1,FD=10,BD=-2,aj=e=>e==="*";function zD(e,t){let r=e.split("/"),a=r.length;return r.some(aj)&&(a+=BD),t&&(a+=DD),r.filter(s=>!aj(s)).reduce((s,i)=>s+(RD.test(i)?OD:i===""?ID:FD),a)}function UD(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function VD(e,t,r=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Hy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&r&&!a[a.length-1].route.index&&(f=Hy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:qc([i,f.pathname]),pathnameBase:KD(qc([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=qc([i,f.pathnameBase]))}return o}function Hy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=qD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function qD(e,t=!1,r=!0){ho(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function $D(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ho(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ed(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WD=e=>HD.test(e);function GD(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Df(e):e,i;if(r)if(WD(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ho(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=nj(r.substring(1),"/"):i=nj(r,t)}else i=t;return{pathname:i,search:ZD(a),hash:XD(s)}}function nj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function hb(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function S_(e){let t=YD(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function A_(e,t,r,a=!1){let s;typeof e=="string"?s=Df(e):(s={...e},Oa(!s.pathname||!s.pathname.includes("?"),hb("?","pathname","search",s)),Oa(!s.pathname||!s.pathname.includes("#"),hb("#","pathname","hash",s)),Oa(!s.search||!s.search.includes("#"),hb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=GD(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var qc=e=>e.join("/").replace(/\/\/+/g,"/"),KD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zT=["POST","PUT","PATCH","DELETE"];new Set(zT);var QD=["GET",...zT];new Set(QD);var If=C.createContext(null);If.displayName="DataRouter";var G1=C.createContext(null);G1.displayName="DataRouterState";C.createContext(!1);var UT=C.createContext({isTransitioning:!1});UT.displayName="ViewTransition";var eI=C.createContext(new Map);eI.displayName="Fetchers";var tI=C.createContext(null);tI.displayName="Await";var Dl=C.createContext(null);Dl.displayName="Navigation";var dp=C.createContext(null);dp.displayName="Location";var Il=C.createContext({outlet:null,matches:[],isDataRoute:!1});Il.displayName="Route";var E_=C.createContext(null);E_.displayName="RouteError";function rI(e,{relative:t}={}){Oa(Ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=C.useContext(Dl),{hash:s,pathname:i,search:o}=up(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:qc([r,i])),a.createHref({pathname:l,search:o,hash:s})}function Ff(){return C.useContext(dp)!=null}function Wn(){return Oa(Ff(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(dp).location}var VT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(e){C.useContext(Dl).static||C.useLayoutEffect(e)}function br(){let{isDataRoute:e}=C.useContext(Il);return e?gI():aI()}function aI(){Oa(Ff(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(If),{basename:t,navigator:r}=C.useContext(Dl),{matches:a}=C.useContext(Il),{pathname:s}=Wn(),i=JSON.stringify(S_(a)),o=C.useRef(!1);return qT(()=>{o.current=!0}),C.useCallback((c,u={})=>{if(ho(o.current,VT),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=A_(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qc([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,s,e])}C.createContext(null);function T_(){let{matches:e}=C.useContext(Il),t=e[e.length-1];return t?t.params:{}}function up(e,{relative:t}={}){let{matches:r}=C.useContext(Il),{pathname:a}=Wn(),s=JSON.stringify(S_(r));return C.useMemo(()=>A_(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function nI(e,t){return $T(e,t)}function $T(e,t,r,a,s){var w;Oa(Ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Dl),{matches:o}=C.useContext(Il),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let k=f&&f.path||"";HT(u,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=Wn(),g;if(t){let k=typeof t=="string"?Df(t):t;Oa(h==="/"||((w=k.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=m;let y=g.pathname||"/",x=y;if(h!=="/"){let k=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=IT(e,{pathname:x});ho(f||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ho(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=cI(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:qc([h,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:qc([h,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,r,a,s);return t&&b?C.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},b):b}function sI(){let e=mI(),t=JD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,o)}var iI=C.createElement(sI,null),oI=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Il.Provider,{value:this.props.routeContext},C.createElement(E_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lI({routeContext:e,match:t,children:r}){let a=C.useContext(If);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Il.Provider,{value:e},r)}function cI(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Oa(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(r)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:g}=r,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&a?(h,f)=>{var m,g;a(h,{location:r.location,params:((g=(m=r.matches)==null?void 0:m[0])==null?void 0:g.params)??{},errorInfo:f})}:void 0;return i.reduceRight((h,f,m)=>{let g,y=!1,x=null,N=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||iI,l&&(c<0&&m===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,N=null):c===m&&(y=!0,N=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),w=()=>{let k;return g?k=x:y?k=N:f.route.Component?k=C.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,C.createElement(lI,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(oI,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function C_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dI(e){let t=C.useContext(If);return Oa(t,C_(e)),t}function uI(e){let t=C.useContext(G1);return Oa(t,C_(e)),t}function hI(e){let t=C.useContext(Il);return Oa(t,C_(e)),t}function L_(e){let t=hI(e),r=t.matches[t.matches.length-1];return Oa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function fI(){return L_("useRouteId")}function mI(){var a;let e=C.useContext(E_),t=uI("useRouteError"),r=L_("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function gI(){let{router:e}=dI("useNavigate"),t=L_("useNavigate"),r=C.useRef(!1);return qT(()=>{r.current=!0}),C.useCallback(async(s,i={})=>{ho(r.current,VT),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var sj={};function HT(e,t,r){!t&&!sj[e]&&(sj[e]=!0,ho(!1,r))}C.memo(pI);function pI({routes:e,future:t,state:r,unstable_onError:a}){return $T(e,void 0,r,a,t)}function bw({to:e,replace:t,state:r,relative:a}){Oa(Ff(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(Dl);ho(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Il),{pathname:o}=Wn(),l=br(),c=A_(e,S_(i),o,a==="path"),u=JSON.stringify(c);return C.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:a})},[l,u,a,t,r]),null}function Lr(e){Oa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xI({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:i=!1}){Oa(!Ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Df(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=r,g=C.useMemo(()=>{let y=ed(c,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:m},navigationType:a}},[o,c,u,h,f,m,a]);return ho(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:C.createElement(Dl.Provider,{value:l},C.createElement(dp.Provider,{children:t,value:g}))}function yI({children:e,location:t}){return nI(ww(e),t)}function ww(e,t=[]){let r=[];return C.Children.forEach(e,(a,s)=>{if(!C.isValidElement(a))return;let i=[...t,s];if(a.type===C.Fragment){r.push.apply(r,ww(a.props.children,i));return}Oa(a.type===Lr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oa(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ww(a.props.children,i)),r.push(o)}),r}var Jx="get",Qx="application/x-www-form-urlencoded";function Y1(e){return e!=null&&typeof e.tagName=="string"}function vI(e){return Y1(e)&&e.tagName.toLowerCase()==="button"}function bI(e){return Y1(e)&&e.tagName.toLowerCase()==="form"}function wI(e){return Y1(e)&&e.tagName.toLowerCase()==="input"}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}function _w(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function kI(e,t){let r=_w(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var ix=null;function jI(){if(ix===null)try{new FormData(document.createElement("form"),0),ix=!1}catch{ix=!0}return ix}var SI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fb(e){return e!=null&&!SI.has(e)?(ho(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qx}"`),null):e}function AI(e,t){let r,a,s,i,o;if(bI(e)){let l=e.getAttribute("action");a=l?ed(l,t):null,r=e.getAttribute("method")||Jx,s=fb(e.getAttribute("enctype"))||Qx,i=new FormData(e)}else if(vI(e)||wI(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(a=c?ed(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Jx,s=fb(e.getAttribute("formenctype"))||fb(l.getAttribute("enctype"))||Qx,i=new FormData(l,e),!jI()){let{name:u,type:h,value:f}=e;if(h==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(Y1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jx,a=null,s=Qx,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EI(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&ed(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function TI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LI(e,t,r){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await TI(i,r);return o.links?o.links():[]}return[]}));return OI(a.flat(1).filter(CI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ij(e,t,r,a,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var h;return r[u].pathname!==c.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let h=a.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function PI(e,t,{includeHydrateFallback:r}={}){return MI(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function MI(e){return[...new Set(e)]}function RI(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function OI(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(RI(s));return r.has(i)||(r.add(i),a.push({key:i,link:s})),a},[])}function WT(){let e=C.useContext(If);return P_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DI(){let e=C.useContext(G1);return P_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var M_=C.createContext(void 0);M_.displayName="FrameworkContext";function GT(){let e=C.useContext(M_);return P_(e,"You must render this element inside a <HydratedRouter> element"),e}function II(e,t){let r=C.useContext(M_),[a,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,m=C.useRef(null);C.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=b=>{b.forEach(w=>{o(w.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[e]),C.useEffect(()=>{if(a){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[a]);let g=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:xm(l,g),onBlur:xm(c,y),onMouseEnter:xm(u,g),onMouseLeave:xm(h,y),onTouchStart:xm(f,g)}]:[!1,m,{}]}function xm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function FI({page:e,...t}){let{router:r}=WT(),a=C.useMemo(()=>IT(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?C.createElement(zI,{page:e,matches:a,...t}):null}function BI(e){let{manifest:t,routeModules:r}=GT(),[a,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return LI(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),a}function zI({page:e,matches:t,...r}){let a=Wn(),{manifest:s,routeModules:i}=GT(),{basename:o}=WT(),{loaderData:l,matches:c}=DI(),u=C.useMemo(()=>ij(e,t,c,s,a,"data"),[e,t,c,s,a]),h=C.useMemo(()=>ij(e,t,c,s,a,"assets"),[e,t,c,s,a]),f=C.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,x=!1;if(t.forEach(b=>{var k;let w=s.routes[b.route.id];!w||!w.hasLoader||(!u.some(S=>S.route.id===b.route.id)&&b.route.id in l&&((k=i[b.route.id])!=null&&k.shouldRevalidate)||w.hasClientLoader?x=!0:y.add(b.route.id))}),y.size===0)return[];let N=EI(e,o,"data");return x&&y.size>0&&N.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[o,l,a,s,u,t,e,i]),m=C.useMemo(()=>PI(h,s),[h,s]),g=BI(h);return C.createElement(C.Fragment,null,f.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:x})=>C.createElement("link",{key:y,nonce:r.nonce,...x})))}function UI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.9.6")}catch{}function VI({basename:e,children:t,window:r}){let a=C.useRef();a.current==null&&(a.current=ED({window:r,v5Compat:!0}));let s=a.current,[i,o]=C.useState({action:s.action,location:s.location}),l=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>s.listen(l),[s,l]),C.createElement(xI,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=C.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...m},g){let{basename:y}=C.useContext(Dl),x=typeof u=="string"&&KT.test(u),N,b=!1;if(typeof u=="string"&&x&&(N=u,YT))try{let P=new URL(window.location.href),G=u.startsWith("//")?new URL(P.protocol+u):new URL(u),I=ed(G.pathname,y);G.origin===P.origin&&I!=null?u=I+G.search+G.hash:b=!0}catch{ho(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=rI(u,{relative:s}),[k,S,B]=II(a,m),H=WI(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function F(P){t&&t(P),P.defaultPrevented||H(P)}let D=C.createElement("a",{...m,...B,href:N||w,onClick:b||i?t:F,ref:UI(g,S),target:c,"data-discover":!x&&r==="render"?"true":void 0});return k&&!x?C.createElement(C.Fragment,null,D,C.createElement(FI,{page:w})):D});ec.displayName="Link";var qI=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let f=up(o,{relative:u.relative}),m=Wn(),g=C.useContext(G1),{navigator:y,basename:x}=C.useContext(Dl),N=g!=null&&XI(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=m.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(w=w.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&x&&(k=ed(k,x)||k);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let B=w===b||!s&&w.startsWith(b)&&w.charAt(S)==="/",H=k!=null&&(k===b||!s&&k.startsWith(b)&&k.charAt(b.length)==="/"),F={isActive:B,isPending:H,isTransitioning:N},D=B?t:void 0,P;typeof a=="function"?P=a(F):P=[a,B?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(F):i;return C.createElement(ec,{...u,"aria-current":D,className:P,ref:h,style:G,to:o,viewTransition:l},typeof c=="function"?c(F):c)});qI.displayName="NavLink";var $I=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:i,method:o=Jx,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...m},g)=>{let y=KI(),x=ZI(l,{relative:u}),N=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&KT.test(l),w=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,B=(S==null?void 0:S.getAttribute("formmethod"))||o;y(S||k.currentTarget,{fetcherKey:t,method:B,navigate:r,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return C.createElement("form",{ref:g,method:N,action:x,onSubmit:a?c:w,...m,"data-discover":!b&&e==="render"?"true":void 0})});$I.displayName="Form";function HI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(e){let t=C.useContext(If);return Oa(t,HI(e)),t}function WI(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=br(),c=Wn(),u=up(e,{relative:i});return C.useCallback(h=>{if(NI(h,t)){h.preventDefault();let f=r!==void 0?r:Cg(c)===Cg(u);l(e,{replace:f,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,t,e,s,i,o])}function R_(e){ho(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(_w(e)),r=C.useRef(!1),a=Wn(),s=C.useMemo(()=>kI(a.search,r.current?null:t.current),[a.search]),i=br(),o=C.useCallback((l,c)=>{const u=_w(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var GI=0,YI=()=>`__${String(++GI)}__`;function KI(){let{router:e}=ZT("useSubmit"),{basename:t}=C.useContext(Dl),r=fI();return C.useCallback(async(a,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=AI(a,t);if(s.navigate===!1){let h=s.fetcherKey||YI();await e.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function ZI(e,{relative:t}={}){let{basename:r}=C.useContext(Dl),a=C.useContext(Il);Oa(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...up(e||".",{relative:t})},o=Wn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:qc([r,i.pathname])),Cg(i)}function XI(e,{relative:t}={}){let r=C.useContext(UT);Oa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ZT("useViewTransitionState"),s=up(e,{relative:t});if(!r.isTransitioning)return!1;let i=ed(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=ed(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Hy(s.pathname,o)!=null||Hy(s.pathname,i)!=null}function K1(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function JI(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function c(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}const QI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class O_ extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class eF extends O_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oj extends O_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lj extends O_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nw||(Nw={}));class tF{constructor(t,{headers:r={},customFetch:a,region:s=Nw.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=QI(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return JI(this,arguments,void 0,function*(r,a={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:h,timeout:f}=a;let m={},{region:g}=a;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(m["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(m["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let N=h;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),h?(N=o.signal,h.addEventListener("abort",()=>o.abort())):N=o.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:x,signal:N}).catch(B=>{throw new eF(B)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new oj(b);if(!b.ok)throw new lj(b);let k=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield b.json():k==="application/octet-stream"||k==="application/pdf"?S=yield b.blob():k==="text/event-stream"?S=b:k==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof lj||l instanceof oj?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var rF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},aF=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,h=i.statusText;if(i.ok){var f,m;if(r.method!=="HEAD"){var g;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const x=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&N&&N.length>1&&(c=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const x=await i.text();try{o=JSON.parse(x),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,h="OK")}catch{i.status===404&&x===""?(u=204,h="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,h="OK"),o&&r.shouldThrowOnError)throw new rF(o)}return{error:o,data:l,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,h,f,m;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",x=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${y}`,x&&(l+=` (${x})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var g;l=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},nF=class extends aF{select(e){let t=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:a=r}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const cj=new RegExp("[,()]");var p0=class extends nF{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&cj.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&cj.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sF=class{constructor(e,{headers:t={},schema:r,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:a}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),a&&c.append("Prefer",`count=${a}`),new p0({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var a;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new p0({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),a&&c.append("Prefer",`count=${a}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new p0({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const a="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new p0({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:a,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new p0({method:r,url:a,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},iF=class XT{constructor(t,{headers:r={},schema:a,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=a,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sF(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new XT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:a=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const h=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(h)),f=a&&Object.values(r).some(h);f?(l="POST",u=r):a||s?(l=a?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{c.searchParams.append(g,y)})):(l="POST",u=r);const m=new Headers(this.headers);return f?m.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&m.set("Prefer",`count=${i}`),new p0({method:l,url:c,headers:m,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class oF{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const s=a.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lF="2.90.1",cF=`realtime-js/${lF}`,JT="1.0.0",dF="2.0.0",dj=JT,kw=1e4,uF=1e3,hF=100;var Od;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Od||(Od={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var _l;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_l||(_l={}));var jw;(function(e){e.websocket="websocket"})(jw||(jw={}));var Ku;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ku||(Ku={}));class fF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const s=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,a;const s=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,a){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(g),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,l.length),y.setUint8(x++,o.length),y.setUint8(x++,u.length),y.setUint8(x++,f.length),y.setUint8(x++,r),Array.from(c,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(x++,b.charCodeAt(0)));var N=new Uint8Array(g.byteLength+a.byteLength);return N.set(new Uint8Array(g),0),N.set(new Uint8Array(a),g.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[s,i,o,l,c]=a;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,a){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=a.decode(t.slice(c,c+s));c=c+s;const h=a.decode(t.slice(c,c+i));c=c+i;const f=a.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),g=l===this.JSON_ENCODING?JSON.parse(a.decode(m)):m,y={type:this.BROADCAST_EVENT,event:h,payload:g};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class QT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xa;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xa||(xa={}));const uj=(e,t,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=mF(o,e,t,s),i),{}):{}},mF=(e,t,r,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!a.includes(i)?eC(i,o):Sw(o)},eC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yF(t,r)}switch(e){case xa.bool:return gF(t);case xa.float4:case xa.float8:case xa.int2:case xa.int4:case xa.int8:case xa.numeric:case xa.oid:return pF(t);case xa.json:case xa.jsonb:return xF(t);case xa.timestamp:return vF(t);case xa.abstime:case xa.date:case xa.daterange:case xa.int4range:case xa.int8range:case xa.money:case xa.reltime:case xa.text:case xa.time:case xa.timestamptz:case xa.timetz:case xa.tsrange:case xa.tstzrange:return Sw(t);default:return Sw(t)}},Sw=e=>e,gF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>eC(t,l))}return e},vF=e=>typeof e=="string"?e.replace(" ","T"):e,tC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class mb{constructor(t,r,a={},s=kw){this.channel=t,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hj||(hj={}));class Km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Km.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Km.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Km.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const f=i[u];if(f){const m=h.map(N=>N.presence_ref),g=f.map(N=>N.presence_ref),y=h.filter(N=>g.indexOf(N.presence_ref)<0),x=f.filter(N=>m.indexOf(N.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(t,r,a,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(g=>g.presence_ref),m=h.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}a(l,h,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const s=t[a];return"metas"in s?r[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fj||(fj={}));var Zm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zm||(Zm={}));var Mc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mc||(Mc={}));class R0{constructor(t,r={config:{}},a){var s,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mb(this,_l.join,this.params,this.timeout),this.rejoinTimer=new QT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_l.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Km(this),this.broadcastEndpointURL=tC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Zm.PRESENCE]&&this.bindings[Zm.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Mc.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Mc.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Mc.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,b=[];for(let w=0;w<N;w++){const k=x[w],{filter:{event:S,schema:B,table:H,filter:F}}=k,D=g&&g[w];if(D&&D.event===S&&R0.isFilterValueEqual(D.schema,B)&&R0.isFilterValueEqual(D.table,H)&&R0.isFilterValueEqual(D.filter,F))b.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),this.state=Pn.errored,t==null||t(Mc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Mc.SUBSCRIBED);return}}).receive("error",g=>{this.state=Pn.errored,t==null||t(Mc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Pn.joined&&t===Zm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_l.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new mb(this,_l.leave,{},t),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mb(this,t,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=_l;if(a&&[l,c,u,h].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,r,a);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,x,N;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((N=(x=g.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(g=>g.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,x,N,b,w,k,S,B;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const H=g.id,F=(y=g.filter)===null||y===void 0?void 0:y.event;return H&&((x=r.ids)===null||x===void 0?void 0:x.includes(H))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((b=g.filter)===null||b===void 0)&&b.table)||g.filter.table===((w=r.data)===null||w===void 0?void 0:w.table))}else{const H=(S=(k=g==null?void 0:g.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return H==="*"||H===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:x,table:N,commit_timestamp:b,type:w,errors:k}=y;m=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:b,eventType:w,new:{},old:{},errors:k}),this._getPayloadRecords(y))}g.callback(m,a)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&R0.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_l.close,{},t)}_onError(t){this._on(_l.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uj(t.columns,t.old_record)),r}}const gb=()=>{},ox={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bF=[1e3,2e3,5e3,1e4],wF=1e4,_F=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NF{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kw,this.transport=null,this.heartbeatIntervalMs=ox.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gb,this.ref=0,this.reconnectTimer=null,this.vsn=dj,this.logger=gb,this.conn=null,this.sendBuffer=[],this.serializer=new fF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jw.websocket}`,this.httpEndpoint=tC(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Od.connecting:return Ku.Connecting;case Od.open:return Ku.Open;case Od.closing:return Ku.Closing;default:return Ku.Closed}}isConnected(){return this.connectionState()===Ku.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new R0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ox.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Od.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Od.open||this.conn.readyState===Od.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_l.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${a}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([_F],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:cF};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(_l.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new QT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ox.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,s,i,o,l,c,u,h,f,m,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:kw,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ox.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:gb,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:dj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>bF[y-1]||wF,this.vsn){case JT:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(y,x)=>x(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,x)=>x(JSON.parse(y));break;case dF:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Lg=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kF(e,t,r){const a=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&a.searchParams.set(s,i);return a.toString()}async function jF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function SF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:s,body:i,headers:o}){const l=kF(e.baseUrl,a,s),c=await jF(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&h?JSON.parse(h):h;if(!u.ok){const g=f?m:void 0,y=g==null?void 0:g.error;throw new Lg((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:m}}}}function lx(e){return e.join("")}var AF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:lx(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lx(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lx(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lx(e.namespace)}`}),!0}catch(t){if(t instanceof Lg&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Lg&&r.status===409)return;throw r}}};function Qh(e){return e.join("")}var EF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Lg&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Lg&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},TF=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=SF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new AF(this.client,t),this.tableOps=new EF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Z1=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ba(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var CF=class extends Z1{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Aw=class extends Z1{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const D_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LF=()=>Response,Ew=e=>{if(Array.isArray(e))return e.map(r=>Ew(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ew(a)}),t},PF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function RF(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OF(e){var t=RF(e,"string");return Pg(t)=="symbol"?t:t+""}function DF(e,t,r){return(t=OF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(a){DF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}const pb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},IF=async(e,t,r)=>{e instanceof await LF()&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new CF(pb(a),s,i))}).catch(a=>{t(new Aw(pb(a),a))}):t(new Aw(pb(e),e))},FF=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(PF(a)?(s.headers=Jt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Jt(Jt({},s),r))};async function hp(e,t,r,a,s,i){return new Promise((o,l)=>{e(r,FF(t,a,s,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>IF(c,l,a))})}async function Mg(e,t,r,a){return hp(e,"GET",t,r,a)}async function bl(e,t,r,a,s){return hp(e,"POST",t,a,s,r)}async function Tw(e,t,r,a,s){return hp(e,"PUT",t,a,s,r)}async function BF(e,t,r,a){return hp(e,"HEAD",t,Jt(Jt({},r),{},{noResolveJson:!0}),a)}async function I_(e,t,r,a,s){return hp(e,"DELETE",t,a,s,r)}var zF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ba(t))return{data:null,error:t};throw t}}};let rC;rC=Symbol.toStringTag;var UF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rC]="BlobDownloadBuilder",this.promise=null}asStream(){return new zF(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ba(t))return{data:null,error:t};throw t}}};const VF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qF=class{constructor(e,t={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=D_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,a){var s=this;try{let i;const o=Jt(Jt({},gj),a);let l=Jt(Jt({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Jt(Jt({},l),a.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?Tw:bl)(s.fetch,`${s.url}/object/${h}`,i,Jt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ba(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,a){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Jt({upsert:gj.upsert},a),h=Jt(Jt({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:i,fullPath:(await Tw(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Ba(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let a=r._getFinalPath(e);const s=Jt({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await bl(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Z1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ba(a))return{data:null,error:a};throw a}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var a=this;try{return{data:await bl(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ba(s))return{data:null,error:s};throw s}}async copy(e,t,r){var a=this;try{return{data:{path:(await bl(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers})).Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ba(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var a=this;try{let s=a._getFinalPath(e),i=await bl(a.fetch,`${a.url}/object/sign/${s}`,Jt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:a.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${a.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ba(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var a=this;try{const s=await bl(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Jt(Jt({},o),{},{signedUrl:o.signedURL?encodeURI(`${a.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ba(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",i=this._getFinalPath(e),o=()=>Mg(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new UF(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ew(await Mg(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ba(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await BF(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ba(a)&&a instanceof Aw){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&a.push(o);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await I_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async list(e,t,r){var a=this;try{const s=Jt(Jt(Jt({},VF),t),{},{prefix:e||""});return{data:await bl(a.fetch,`${a.url}/object/list/${a.bucketId}`,s,{headers:a.headers},r),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ba(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const a=Jt({},e);return{data:await bl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},t),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ba(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const aC="2.90.1",nC={"X-Client-Info":`storage-js/${aC}`};var $F=class{constructor(e,t={},r,a){this.shouldThrowOnError=!1;const s=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Jt(Jt({},nC),t),this.fetch=D_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Mg(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Mg(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await bl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ba(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var r=this;try{return{data:await Tw(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ba(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await bl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await I_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},HF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Jt(Jt({},nC),t),this.fetch=D_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await bl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const a=r.toString(),s=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Mg(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await I_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!MF(e))throw new Z1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new TF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(a)throw c;return{data:null,error:c}}}}})}};const F_={"X-Client-Info":`storage-js/${aC}`,"Content-Type":"application/json"};var sC=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function to(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var xb=class extends sC{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},WF=class extends sC{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const B_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YF=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new xb(pj(i),a,o))}).catch(()=>{const i=a+"";t(new xb(s.statusText||`HTTP ${a} error`,a,i))});else{const i=a+"";t(new xb(s.statusText||`HTTP ${a} error`,a,i))}}else t(new WF(pj(e),e))},KF=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(GF(a)?(s.headers=Jt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Jt(Jt({},s),r)):s};async function ZF(e,t,r,a,s,i){return new Promise((o,l)=>{e(r,KF(t,a,s,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>YF(c,l,a))})}async function ro(e,t,r,a,s){return ZF(e,"POST",t,a,s,r)}var XF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Jt(Jt({},F_),t),this.fetch=B_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ro(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(to(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ro(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(to(a))return{data:null,error:a};throw a}}},JF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Jt(Jt({},F_),t),this.fetch=B_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ro(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ro(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ro(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}},QF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Jt(Jt({},F_),t),this.fetch=B_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ro(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ro(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(to(r))return{data:null,error:r};throw r}}},eB=class extends QF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tB(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},tB=class extends XF{constructor(e,t,r,a){super(e,t,a),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new rB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rB=class extends JF{constructor(e,t,r,a,s){super(e,t,s),this.vectorBucketName=r,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Jt(Jt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},aB=class extends $F{constructor(e,t={},r,a){super(e,t,r,a)}from(e){return new qF(this.url,this.headers,e,this.fetch)}get vectors(){return new eB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HF(this.url+"/iceberg",this.headers,this.fetch)}};const iC="2.90.1",x0=30*1e3,Cw=3,yb=Cw*x0,nB="http://localhost:9999",sB="supabase.auth.token",iB={"X-Client-Info":`gotrue-js/${iC}`},Lw="X-Supabase-Api-Version",oC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lB=10*60*1e3;class Rg extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cB extends Rg{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function dB(e){return Ut(e)&&e.name==="AuthApiError"}class Zu extends Rg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class id extends Rg{constructor(t,r,a,s){super(t,a,s),this.name=r,this.status=a}}class Gi extends id{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uB(e){return Ut(e)&&e.name==="AuthSessionMissingError"}class e0 extends id{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cx extends id{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dx extends id{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hB(e){return Ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class xj extends id{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fB extends id{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pw extends id{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vb(e){return Ut(e)&&e.name==="AuthRetryableFetchError"}class yj extends id{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class Mw extends id{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vj=` 	
\r=`.split(""),mB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vj.length;t+=1)e[vj[t].charCodeAt(0)]=-2;for(let t=0;t<Wy.length;t+=1)e[Wy[t].charCodeAt(0)]=t;return e})();function bj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Wy[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Wy[a]),t.queuedBits-=6}}function lC(e,t,r){const a=mB[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{xB(o,a,r)};for(let o=0;o<e.length;o+=1)lC(e.charCodeAt(o),s,i);return t.join("")}function gB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pB(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gB(a,t)}}function xB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function K0(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lC(e.charCodeAt(s),r,a);return new Uint8Array(t)}function yB(e){const t=[];return pB(e,r=>t.push(r)),new Uint8Array(t)}function Qu(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>bj(s,r,a)),bj(null,r,a),t.join("")}function vB(e){return Math.round(Date.now()/1e3)+e}function bB(){return Symbol("auth-callback")}const ts=()=>typeof window<"u"&&typeof document<"u",Bu={tested:!1,writable:!1},cC=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bu.tested)return Bu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bu.tested=!0,Bu.writable=!0}catch{Bu.tested=!0,Bu.writable=!1}return Bu.writable};function wB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((a,s)=>{t[s]=a}),t}const dC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_B=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",y0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(e,t)=>{await e.removeItem(t)};class X1{constructor(){this.promise=new X1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}X1.promiseConstructor=Promise;function bb(e){const t=e.split(".");if(t.length!==3)throw new Mw("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!oB.test(t[a]))throw new Mw("JWT not in base64url format");return{header:JSON.parse(wj(t[0])),payload:JSON.parse(wj(t[1])),signature:K0(t[2]),raw:{header:t[0],payload:t[1]}}}async function NB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kB(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function jB(e){return("0"+e.toString(16)).substr(-2)}function SB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,jB).join("")}async function AB(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function EB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await AB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function t0(e,t,r=!1){const a=SB();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await y0(e,`${t}-code-verifier`,s);const i=await EB(a);return[i,a===i?"plain":"s256"]}const TB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CB(e){const t=e.headers.get(Lw);if(!t||!t.match(TB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function LB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function r0(e){if(!MB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RB(e,t){return new Proxy(e,{get:(r,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,s)}})}function _j(e){return JSON.parse(JSON.stringify(e))}const Wu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OB=[502,503,504];async function Nj(e){var t;if(!_B(e))throw new Pw(Wu(e),0);if(OB.includes(e.status))throw new Pw(Wu(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zu(Wu(i),i)}let a;const s=CB(e);if(s&&s.getTime()>=oC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new yj(Wu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yj(Wu(r),e.status,r.weak_password.reasons);throw new cB(Wu(r),e.status||500,a)}const DB=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function Xt(e,t,r,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[Lw]||(i[Lw]=oC["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await IB(e,t,r+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function IB(e,t,r,a,s,i){const o=DB(t,a,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Pw(Wu(c),0)}if(l.ok||await Nj(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await Nj(c)}}function yl(e){var t;let r=null;zB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vB(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function kj(e){const t=yl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FB(e){return{data:e,error:null}}function BB(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i}=e,o=K1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function jj(e){return e}function zB(e){return e.access_token&&e.refresh_token&&e.expires_in}const _b=["global","local","others"];class UB{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=dC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_b[0]){if(_b.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_b.join(", ")}`);try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=K1(t,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:BB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zd})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jj});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){r0(t);try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zd})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){r0(t);try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){r0(t);try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){r0(t.userId);try{const{data:r,error:a}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){r0(t.userId),r0(t.id);try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jj});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ut(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Xt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}function Sj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const a0={debug:!!(globalThis&&cC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class VB extends uC{}async function qB(e,t,r){a0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),a0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){a0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{a0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw a0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(a0.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $B(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function HB(e){return parseInt(e,16)}function WB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function GB(e){var t;const{chainId:r,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:h,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=hC(e.address),y=h?`${h}://${a}`:a,x=e.statement?`${e.statement}
`:"",N=`${y} wants you to sign in with your Ethereum account:
${g}

${x}`;let b=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);w+=`
- ${k}`}b+=w}return`${N}
${b}`}class gn extends Error{constructor({message:t,code:r,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Gy extends gn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function YB({error:e,options:t}){var r,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new gn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new gn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new gn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new gn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fC(o)){if(i.rp.id!==o)return new gn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new gn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(fC(a)){if(r.rpId!==a)return new gn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ZB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XB=new ZB;function JB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,s=K1(e,["challenge","user","excludeCredentials"]),i=K0(t).buffer,o=Object.assign(Object.assign({},r),{id:K0(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:K0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function QB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=K1(e,["challenge","allowCredentials"]),s=K0(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:K0(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function ez(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qu(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qu(new Uint8Array(s.authenticatorData)),clientDataJSON:Qu(new Uint8Array(s.clientDataJSON)),signature:Qu(new Uint8Array(s.signature)),userHandle:s.userHandle?Qu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Aj(){var e,t;return!!(ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function rz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gy("Browser returned unexpected credential type",t)}:{data:null,error:new Gy("Empty credential response",t)}}catch(t){return{data:null,error:YB({error:t,options:e})}}}async function az(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gy("Browser returned unexpected credential type",t)}:{data:null,error:new Gy("Empty credential response",t)}}catch(t){return{data:null,error:KB({error:t,options:e})}}}const nz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yy(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(r(o))a[i]=o;else if(t(o)){const l=a[i];t(l)?a[i]=Yy(l,o):a[i]=Yy(o)}else a[i]=o}return a}function iz(e,t){return Yy(nz,e,t||{})}function oz(e,t){return Yy(sz,e,t||{})}class lz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??XB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=iz(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await rz({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=oz(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await az(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Zu("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Rg("rpId is required for WebAuthn authentication")};try{if(!Aj())return{data:null,error:new Zu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Zu("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Rg("rpId is required for WebAuthn registration")};try{if(!Aj())return{data:null,error:new Zu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Zu("Unexpected error in register",o)}}}}$B();const cz={url:nB,storageKey:sB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ej(e,t,r){return await r()}const n0={};class Og{get jwks(){var t,r;return(r=(t=n0[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){n0[this.storageKey]=Object.assign(Object.assign({},n0[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=n0[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){n0[this.storageKey]=Object.assign(Object.assign({},n0[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cz),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Og.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Og.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ts()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dC(i.fetch),this.lock=i.lock||Ej,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ts()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=qB:this.lock=Ej,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Sj(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(ts()&&(r=wB(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),ts()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hB(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?this._returnResult({error:r}):this._returnResult({error:new Zu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,s;try{const i=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yl}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,s;try{let i;if("email"in t){const{email:h,password:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await t0(this.storage,this.storageKey)),i=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},xform:yl})}else if("phone"in t){const{phone:h,password:f,options:m}=t;i=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:yl})}else throw new cx("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Qn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kj})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kj})}else throw new cx("You must provide either an email or phone number and a password");const{data:a,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const i=new e0;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,s,i,o,l,c,u,h,f,m;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:x,wallet:N,statement:b,options:w}=t;let k;if(ts())if(typeof N=="object")k=N;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")k=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),B=await k.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=hC(B[0]);let F=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!F){const P=await k.request({method:"eth_chainId"});F=HB(P)}const D={domain:S.host,address:H,statement:b,uri:S.href,version:"1",chainId:F,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=GB(D),y=await k.request({method:"personal_sign",params:[WB(g),H]})}try{const{data:x,error:N}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:yl});if(N)throw N;if(!x||!x.session||!x.user){const b=new e0;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:N})}catch(x){if(Ut(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,a,s,i,o,l,c,u,h,f,m,g;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:N,wallet:b,statement:w,options:k}=t;let S;if(ts())if(typeof b=="object")S=b;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))S=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const B=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const H=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),w?{statement:w}:null));let F;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")F=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)F=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)y=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),x=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${B.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(a=k==null?void 0:k.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((f=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...k.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const H=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=H}}try{const{data:N,error:b}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Qu(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:yl});if(b)throw b;if(!N||!N.session||!N.user){const w=new e0;return this._returnResult({data:{user:null,session:null},error:w})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:b})}catch(N){if(Ut(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await zu(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new fB;const{data:i,error:o}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:yl});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new e0;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:s,access_token:i,nonce:o}=t,l=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yl}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new e0;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await t0(this.storage,this.storageKey));const{error:f}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new cx("You must provide either an email or phone number.")}catch(l){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,a;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,a,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await t0(this.storage,this.storageKey));const u=await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:FB});return!((i=u.data)===null||i===void 0)&&i.url&&ts()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Gi;const{error:s}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:o}=await Xt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:o,error:l}=await Xt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new cx("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<yb:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await zu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=wb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=RB(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zd}):await this._useSession(async r=>{var a,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gi}:await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zd})})}catch(r){if(Ut(r))return uB(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Gi;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await t0(this.storage,this.storageKey));const{data:u,error:h}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zd});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(a){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gi;const r=Date.now()/1e3;let a=r,s=!0,i=null;const{payload:o}=bb(t.access_token);if(o.exp&&(a=o.exp,s=a<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Gi;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ts())throw new dx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dx("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xj("No code detected.");const{data:w,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new dx("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;c&&(m=parseInt(c));const g=m-h;g*1e3<=x0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=m-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,h);const{data:x,error:N}=await this._getUser(i);if(N)throw N;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(a){if(Ut(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(dB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=bB(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await t0(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:s}=await this._useSession(async i=>{var o,l,c,u,h;const{data:f,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ts()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Ut(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:h}=t,f=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yl}),{data:m,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new e0}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:g}))}catch(s){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,s;const{data:i,error:o}=r;if(o)throw o;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await kB(async s=>(s>0&&await NB(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yl})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vb(i)&&Date.now()+o-a<x0})}catch(a){if(this._debug(r,"error",a),Ut(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),ts()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await zu(this.storage,this.storageKey);if(s&&this.userStorage){let o=await zu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await y0(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:wb()}else if(s&&!s.user&&!s.user){const o=await zu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Qn(this.storage,this.storageKey+"-user"),await y0(this.storage,this.storageKey,s)):s.user=wb()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yb;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${yb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vb(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new X1;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Gi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ut(i)){const o={data:null,error:i};return vb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await y0(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=_j(s);await y0(this.storage,this.storageKey,i)}else{const s=_j(r);await y0(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),x0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/x0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${x0}ms, refresh threshold is ${Cw} ticks`),s<=Cw&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await t0(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ez(t.webauthn.credential_response):tz(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JB(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QB(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=bb(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await Xt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gi})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Gi});const o=await Xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Gi});const o=await Xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await Xt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Gi})})}catch(t){if(Ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?(await Xt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gi})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+lB>s)return a;const{data:i,error:o}=await Xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});a=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=bb(a);r!=null&&r.allowExpired||LB(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(a);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const h=PB(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,yB(`${l}.${c}`)))throw new Mw("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}}Og.nextInstanceID={};const dz=Og,uz="2.90.1";let Lm="";typeof Deno<"u"?Lm="deno":typeof document<"u"?Lm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lm="react-native":Lm="node";const hz={"X-Client-Info":`supabase-js-${Lm}/${uz}`},fz={headers:hz},mz={schema:"public"},gz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pz={};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function xz(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yz(e){var t=xz(e,"string");return Dg(t)=="symbol"?t:t+""}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}const bz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wz=()=>Headers,_z=(e,t,r)=>{const a=bz(r),s=wz();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(i,Ka(Ka({},o),{},{headers:u}))}};function Nz(e){return e.endsWith("/")?e:e+"/"}function kz(e,t){var r,a;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,m={db:Ka(Ka({},c),s),auth:Ka(Ka({},u),i),realtime:Ka(Ka({},h),o),storage:{},global:Ka(Ka(Ka({},f),l),{},{headers:Ka(Ka({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function jz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sz=class extends dz{constructor(e){super(e)}},Az=class{constructor(e,t,r){var a,s;this.supabaseUrl=e,this.supabaseKey=t;const i=jz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:mz,realtime:pz,auth:Ka(Ka({},gz),{},{storageKey:o}),global:fz},c=kz(r??{},l);if(this.storageKey=(a=c.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=_z(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ka({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new iF(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new aB(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new tF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sz({url:this.authUrl.href,headers:Ka(Ka({},m),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new NF(this.realtimeUrl.href,Ka(Ka({},e),{},{params:Ka(Ka({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ez=(e,t,r)=>new Az(e,t,r);function Tz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Tz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cz="https://yydtsteyknbpfpxjtlxe.supabase.co",Lz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5ZHRzdGV5a25icGZweGp0bHhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM3OTkzODgsImV4cCI6MjA3OTM3NTM4OH0.QTUVmTdtnoFhzZ0G6XjdzhFDxcFae0hDSraFhazdNsU";let He=null;He=Ez(Cz,Lz,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});const Ra=()=>He!==null,mC=C.createContext(void 0),Th=()=>{const e=C.useContext(mC);if(!e)throw new Error("useProperties must be used within PropertyProvider");return e},Cj={USD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),EUR:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}),GBP:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",maximumFractionDigits:0}),INR:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),AED:new Intl.NumberFormat("ar-AE",{style:"currency",currency:"AED",maximumFractionDigits:0}),CAD:new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}),AUD:new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",maximumFractionDigits:0}),JPY:new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}),CNY:new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",maximumFractionDigits:0}),SGD:new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",maximumFractionDigits:0})},Lj=e=>{const t=e.image_urls||[];return{id:e.id,title:e.title||"",description:e.description,shortDescription:e.short_description,price:{amount:parseFloat(e.price)||0,currency:e.currency||"USD",negotiable:e.negotiable||!1},priceString:`${e.currency||"USD"} ${e.price}`,propertyType:e.property_type||"apartment",listingType:e.listing_type||"sale",status:e.status||"available",location:{addressLine1:e.address_line_1,addressLine2:e.address_line_2,city:e.city,state:e.state,postalCode:e.postcode,country:e.country,countryCode:e.country==="United Kingdom"?"GB":"US",latitude:e.latitude?parseFloat(e.latitude):void 0,longitude:e.longitude?parseFloat(e.longitude):void 0,neighborhood:e.neighborhood,landmark:e.landmark},address:e.address_line_1,city:e.city,state:e.state,zipCode:e.postcode,dimensions:{totalArea:parseFloat(e.area)||0,areaUnit:e.area_unit||"sqft",floorNumber:e.floor_number,totalFloors:e.total_floors},area:parseFloat(e.area)||0,rooms:{bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,balconies:e.balconies||0,parkingSpaces:e.parking_spaces||0},bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,yearBuilt:e.year_built,furnishing:e.furnishing||"unfurnished",condition:e.condition||"good",facing:e.facing,amenities:e.amenities||{interior:[],exterior:[],community:[],security:[],utilities:[]},features:[],media:{images:t.map((r,a)=>({id:`img-${a}`,url:r,type:"image",isPrimary:a===0,order:a,uploadedAt:e.created_at})),videos:[],floorPlans:[],virtualTourUrl:e.virtual_tour_url},images:t,virtualTourUrl:e.virtual_tour_url,contact:{name:e.contact_name||"",email:e.contact_email||"",phone:e.contact_phone||"",preferredContactMethod:"any",company:e.company},contactName:e.contact_name,phoneNumber:e.contact_phone,emailAddress:e.contact_email,availableFrom:e.available_from||new Date().toISOString(),minimumLease:e.minimum_lease,inclusions:e.inclusions,exclusions:e.exclusions,financial:{deposit:e.deposit?parseFloat(e.deposit):void 0,maintenanceCharges:e.maintenance_charges?parseFloat(e.maintenance_charges):void 0},analytics:{views:e.views||0,inquiries:e.inquiries||0,favorites:e.favorites||0,shares:0},propertyId:`PROP-${e.id.slice(-6)}`,createdAt:e.created_at,updatedAt:e.updated_at,published:e.published??!0,draft:e.draft||!1,featured:e.featured||!1,verified:e.verified||!1,version:1}},Pj=e=>{var r,a,s,i,o,l,c,u,h,f,m,g,y,x,N,b,w,k,S,B,H,F,D,P,G,I,q;const t={};return e.title!==void 0&&(t.title=e.title),e.description!==void 0&&(t.description=e.description),e.shortDescription!==void 0&&(t.short_description=e.shortDescription),e.price!==void 0&&(t.price=e.price.amount),((r=e.price)==null?void 0:r.currency)!==void 0&&(t.currency=e.price.currency),((a=e.price)==null?void 0:a.negotiable)!==void 0&&(t.negotiable=e.price.negotiable),e.propertyType!==void 0&&(t.property_type=e.propertyType),e.listingType!==void 0&&(t.listing_type=e.listingType),e.status!==void 0&&(t.status=e.status),((s=e.location)==null?void 0:s.addressLine1)!==void 0&&(t.address_line_1=e.location.addressLine1),((i=e.location)==null?void 0:i.addressLine2)!==void 0&&(t.address_line_2=e.location.addressLine2),((o=e.location)==null?void 0:o.city)!==void 0&&(t.city=e.location.city),((l=e.location)==null?void 0:l.state)!==void 0&&(t.state=e.location.state),((c=e.location)==null?void 0:c.postalCode)!==void 0&&(t.postcode=e.location.postalCode),((u=e.location)==null?void 0:u.country)!==void 0&&(t.country=e.location.country),((h=e.location)==null?void 0:h.latitude)!==void 0&&(t.latitude=e.location.latitude),((f=e.location)==null?void 0:f.longitude)!==void 0&&(t.longitude=e.location.longitude),((m=e.location)==null?void 0:m.neighborhood)!==void 0&&(t.neighborhood=e.location.neighborhood),((g=e.location)==null?void 0:g.landmark)!==void 0&&(t.landmark=e.location.landmark),e.address!==void 0&&(t.address_line_1=e.address),e.city!==void 0&&(t.city=e.city),e.state!==void 0&&(t.state=e.state),e.zipCode!==void 0&&(t.postcode=e.zipCode),((y=e.dimensions)==null?void 0:y.totalArea)!==void 0&&(t.area=e.dimensions.totalArea),((x=e.dimensions)==null?void 0:x.areaUnit)!==void 0&&(t.area_unit=e.dimensions.areaUnit),((N=e.dimensions)==null?void 0:N.floorNumber)!==void 0&&(t.floor_number=e.dimensions.floorNumber),((b=e.dimensions)==null?void 0:b.totalFloors)!==void 0&&(t.total_floors=e.dimensions.totalFloors),e.area!==void 0&&(t.area=e.area),((w=e.rooms)==null?void 0:w.bedrooms)!==void 0&&(t.bedrooms=e.rooms.bedrooms),((k=e.rooms)==null?void 0:k.bathrooms)!==void 0&&(t.bathrooms=e.rooms.bathrooms),((S=e.rooms)==null?void 0:S.balconies)!==void 0&&(t.balconies=e.rooms.balconies),((B=e.rooms)==null?void 0:B.parkingSpaces)!==void 0&&(t.parking_spaces=e.rooms.parkingSpaces),e.bedrooms!==void 0&&(t.bedrooms=e.bedrooms),e.bathrooms!==void 0&&(t.bathrooms=e.bathrooms),e.yearBuilt!==void 0&&(t.year_built=e.yearBuilt),e.furnishing!==void 0&&(t.furnishing=e.furnishing),e.condition!==void 0&&(t.condition=e.condition),e.facing!==void 0&&(t.facing=e.facing),e.amenities!==void 0&&(t.amenities=e.amenities),e.images!==void 0&&(t.image_urls=e.images.filter(Y=>typeof Y=="string")),e.virtualTourUrl!==void 0&&(t.virtual_tour_url=e.virtualTourUrl),((H=e.media)==null?void 0:H.virtualTourUrl)!==void 0&&(t.virtual_tour_url=e.media.virtualTourUrl),((F=e.contact)==null?void 0:F.name)!==void 0&&(t.contact_name=e.contact.name),((D=e.contact)==null?void 0:D.email)!==void 0&&(t.contact_email=e.contact.email),((P=e.contact)==null?void 0:P.phone)!==void 0&&(t.contact_phone=e.contact.phone),((G=e.contact)==null?void 0:G.company)!==void 0&&(t.company=e.contact.company),e.contactName!==void 0&&(t.contact_name=e.contactName),e.emailAddress!==void 0&&(t.contact_email=e.emailAddress),e.phoneNumber!==void 0&&(t.contact_phone=e.phoneNumber),e.availableFrom!==void 0&&(t.available_from=e.availableFrom),e.minimumLease!==void 0&&(t.minimum_lease=e.minimumLease),e.inclusions!==void 0&&(t.inclusions=e.inclusions),e.exclusions!==void 0&&(t.exclusions=e.exclusions),((I=e.financial)==null?void 0:I.deposit)!==void 0&&(t.deposit=e.financial.deposit),((q=e.financial)==null?void 0:q.maintenanceCharges)!==void 0&&(t.maintenance_charges=e.financial.maintenanceCharges),e.featured!==void 0&&(t.featured=e.featured),e.verified!==void 0&&(t.verified=e.verified),e.published!==void 0&&(t.published=e.published),e.draft!==void 0&&(t.draft=e.draft),t},Pz=({children:e})=>{const[t,r]=C.useState([]),[a,s]=C.useState([]),[i,o]=C.useState({}),[l,c]=C.useState({field:"createdAt",order:"desc"}),[u,h]=C.useState({page:1,limit:12,total:0,totalPages:0}),[f,m]=C.useState(!1),[g,y]=C.useState(null),x=C.useCallback(async()=>{if(!He){y("Supabase client not initialized"),m(!1);return}m(!0),y(null);try{const{data:{user:R}}=await He.auth.getUser();let W=He.from("properties").select("*");R&&(W=W.eq("agent_id",R.id));const X=l.field==="createdAt"?"created_at":l.field==="updatedAt"?"updated_at":l.field;W=W.order(X,{ascending:l.order==="asc"});const{data:ne,error:re}=await W;if(re)throw re;const Z=(ne||[]).map(Lj);r(Z)}catch(R){console.error("Error fetching properties:",R),y(R.message||"Failed to fetch properties")}finally{m(!1)}},[l]);C.useEffect(()=>{x()},[x]);const b=C.useCallback(()=>{var W,X,ne;let R=[...t];if(i.search){const re=i.search.toLowerCase();R=R.filter(Z=>{var ke,Le;return Z.title.toLowerCase().includes(re)||((ke=Z.description)==null?void 0:ke.toLowerCase().includes(re))||((Le=Z.city)==null?void 0:Le.toLowerCase().includes(re))})}return(W=i.propertyType)!=null&&W.length&&(R=R.filter(re=>i.propertyType.includes(re.propertyType))),(X=i.listingType)!=null&&X.length&&(R=R.filter(re=>i.listingType.includes(re.listingType))),(ne=i.status)!=null&&ne.length&&(R=R.filter(re=>i.status.includes(re.status))),(i.priceMin!==void 0||i.priceMax!==void 0)&&(R=R.filter(re=>{var Oe;const Z=((Oe=re.price)==null?void 0:Oe.amount)||0,ke=i.priceMin===void 0||Z>=i.priceMin,Le=i.priceMax===void 0||Z<=i.priceMax;return ke&&Le})),i.bedroomsMin!==void 0&&(R=R.filter(re=>{var Z;return(((Z=re.rooms)==null?void 0:Z.bedrooms)||re.bedrooms||0)>=i.bedroomsMin})),i.city&&(R=R.filter(re=>{var Z;return(Z=re.city)==null?void 0:Z.toLowerCase().includes(i.city.toLowerCase())})),i.featured!==void 0&&(R=R.filter(re=>re.featured===i.featured)),R},[t,i])();C.useEffect(()=>{h(R=>({...R,total:b.length,totalPages:Math.ceil(b.length/R.limit)}))},[b.length,u.limit]);const w=b.slice((u.page-1)*u.limit,u.page*u.limit),k=async R=>{if(!He)throw new Error("Supabase client not initialized");const{data:{user:W}}=await He.auth.getUser();if(!W)throw new Error("Must be logged in to upload images");const X=[];for(const ne of R){const re=ne.name.split(".").pop(),Z=`${W.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${re}`,{error:ke}=await He.storage.from("property-images").upload(Z,ne);if(ke){console.error("Upload error:",ke);continue}const{data:{publicUrl:Le}}=He.storage.from("property-images").getPublicUrl(Z);X.push(Le)}return X},S=async R=>{if(!He)return y("Supabase client not initialized"),null;m(!0),y(null);try{const{data:{user:W}}=await He.auth.getUser();if(!W)throw new Error("Must be logged in to add a property");const X=Pj(R);X.agent_id=W.id;const{data:ne,error:re}=await He.from("properties").insert(X).select().single();if(re)throw re;const Z=Lj(ne);return r(ke=>[Z,...ke]),Z}catch(W){return console.error("Error adding property:",W),y(W.message||"Failed to add property"),null}finally{m(!1)}},B=async(R,W)=>{if(!He){y("Supabase client not initialized");return}m(!0),y(null);try{const X=Pj(W);X.updated_at=new Date().toISOString();const{error:ne}=await He.from("properties").update(X).eq("id",R);if(ne)throw ne;r(re=>re.map(Z=>Z.id===R?{...Z,...W,updatedAt:X.updated_at}:Z))}catch(X){console.error("Error updating property:",X),y(X.message||"Failed to update property")}finally{m(!1)}},H=async R=>{if(!He){y("Supabase client not initialized");return}try{const{error:W}=await He.from("properties").delete().eq("id",R);if(W)throw W;r(X=>X.filter(ne=>ne.id!==R)),s(X=>X.filter(ne=>ne!==R))}catch(W){console.error("Error deleting property:",W),y(W.message||"Failed to delete property")}},F=async R=>{if(!He){y("Supabase client not initialized");return}try{const{error:W}=await He.from("properties").delete().in("id",R);if(W)throw W;r(X=>X.filter(ne=>!R.includes(ne.id))),s(X=>X.filter(ne=>!R.includes(ne)))}catch(W){console.error("Error deleting properties:",W),y(W.message||"Failed to delete properties")}},D=async R=>{const W=t.find(ne=>ne.id===R);if(!W)return null;const X={...W,title:`${W.title} (Copy)`,published:!1,draft:!0,analytics:{views:0,inquiries:0,favorites:0,shares:0}};return delete X.id,delete X.createdAt,delete X.updatedAt,await S(X)},P=R=>t.find(W=>W.id===R),G=R=>s(W=>W.includes(R)?W:[...W,R]),I=R=>s(W=>W.filter(X=>X!==R)),q=()=>s(w.map(R=>R.id)),Y=()=>s([]),ee=async(R,W)=>{if(!He){y("Supabase client not initialized");return}try{const{error:X}=await He.from("properties").update({status:W,updated_at:new Date().toISOString()}).in("id",R);if(X)throw X;r(ne=>ne.map(re=>R.includes(re.id)?{...re,status:W,updatedAt:new Date().toISOString()}:re))}catch(X){console.error("Error updating statuses:",X),y(X.message||"Failed to update statuses")}},ue=R=>{o(R),h(W=>({...W,page:1}))},le=()=>{o({}),h(R=>({...R,page:1}))},xe=R=>h(W=>({...W,page:R})),oe=R=>h(W=>({...W,limit:R,page:1})),fe=async R=>{var X;if(!He)return;const W=t.find(ne=>ne.id===R);if(W)try{await He.from("properties").update({views:(((X=W.analytics)==null?void 0:X.views)||0)+1}).eq("id",R),r(ne=>ne.map(re=>{var Z;return re.id===R?{...re,analytics:{...re.analytics,views:(((Z=re.analytics)==null?void 0:Z.views)||0)+1}}:re}))}catch(ne){console.error("Error incrementing views:",ne)}},Se=async R=>{var X;if(!He)return;const W=t.find(ne=>ne.id===R);if(W)try{await He.from("properties").update({inquiries:(((X=W.analytics)==null?void 0:X.inquiries)||0)+1}).eq("id",R),r(ne=>ne.map(re=>{var Z;return re.id===R?{...re,analytics:{...re.analytics,inquiries:(((Z=re.analytics)==null?void 0:Z.inquiries)||0)+1}}:re}))}catch(ne){console.error("Error incrementing inquiries:",ne)}},K=(R,W)=>{const X=W?t.filter(ne=>W.includes(ne.id)):w;if(R==="json"){const ne=JSON.stringify(X,null,2),re=new Blob([ne],{type:"application/json"}),Z=URL.createObjectURL(re),ke=document.createElement("a");ke.href=Z,ke.download="properties.json",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(Z)}else if(R==="csv"){const ne=["ID","Title","Type","Status","Price","Bedrooms","Bathrooms","City"],re=X.map(Ge=>{var de;return[Ge.id,`"${Ge.title}"`,Ge.propertyType,Ge.status,((de=Ge.price)==null?void 0:de.amount)||0,Ge.bedrooms||0,Ge.bathrooms||0,Ge.city||""]}),Z=[ne.join(","),...re.map(Ge=>Ge.join(","))].join(`
`),ke=new Blob([Z],{type:"text/csv"}),Le=URL.createObjectURL(ke),Oe=document.createElement("a");Oe.href=Le,Oe.download="properties.csv",document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(Le)}},A=R=>(Cj[R.currency]||Cj.USD).format(R.amount),z=(R,W)=>`${new Intl.NumberFormat().format(R)} ${{sqft:"sq ft",sqm:"sq m",acres:"acres",hectares:"ha"}[W]}`,O=()=>({total:t.length,available:t.filter(R=>R.status==="available").length,sold:t.filter(R=>R.status==="sold").length,rented:t.filter(R=>R.status==="rented").length,pending:t.filter(R=>R.status==="pending").length});return n.jsx(mC.Provider,{value:{properties:t,filteredProperties:w,selectedProperties:a,filters:i,sort:l,pagination:u,loading:f,error:g,fetchProperties:x,addProperty:S,updateProperty:B,deleteProperty:H,deleteProperties:F,duplicateProperty:D,getProperty:P,uploadImages:k,selectProperty:G,deselectProperty:I,selectAllProperties:q,clearSelection:Y,bulkUpdateStatus:ee,setFilters:ue,clearFilters:le,setSort:c,setPage:xe,setLimit:oe,incrementViews:fe,incrementInquiries:Se,exportProperties:K,formatPrice:A,formatArea:z,getPropertyStats:O},children:e})},gC=C.createContext(void 0),z_=()=>{const e=C.useContext(gC);if(!e)throw new Error("useLeads must be used within LeadProvider");return e},Mz=({children:e})=>{const[t,r]=C.useState([]);C.useEffect(()=>{const l=localStorage.getItem("leads");if(l)try{r(JSON.parse(l))}catch(c){console.error("Error loading leads:",c);const u=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",phone:"+1 (555) 234-5678",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 345-6789",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];r(u),localStorage.setItem("leads",JSON.stringify(u))}else{const c=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",phone:"+1 (555) 234-5678",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 345-6789",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];r(c),localStorage.setItem("leads",JSON.stringify(c))}},[]),C.useEffect(()=>{localStorage.setItem("leads",JSON.stringify(t))},[t]);const a=l=>{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r(u=>[...u,c]),c},s=(l,c)=>{r(u=>u.map(h=>h.id===l?{...h,...c,updatedAt:new Date().toISOString()}:h))},i=l=>{r(c=>c.filter(u=>u.id!==l))},o=l=>t.find(c=>c.id===l);return n.jsx(gC.Provider,{value:{leads:t,addLead:a,updateLead:s,deleteLead:i,getLead:o},children:e})},pC=C.createContext(),Rz=()=>{const e=C.useContext(pC);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Oz=({children:e})=>{const[t,r]=C.useState(()=>(typeof window<"u"&&(window.location.pathname.startsWith("/user/dashboard"),document.documentElement.classList.remove("dark")),"light"));C.useEffect(()=>{if(typeof window<"u"){const s=window.location.pathname.startsWith("/user/dashboard"),i=document.documentElement;s?(i.classList.remove("dark"),t!=="light"&&r("light")):t==="dark"?i.classList.add("dark"):i.classList.remove("dark");const o=()=>{window.location.pathname.startsWith("/user/dashboard")&&(i.classList.remove("dark"),t!=="light"&&r("light"))};return window.addEventListener("popstate",o),window.addEventListener("pushstate",o),window.addEventListener("replacestate",o),()=>{window.removeEventListener("popstate",o),window.removeEventListener("pushstate",o),window.removeEventListener("replacestate",o)}}},[t,r]);const a=s=>{typeof window<"u"&&window.location.pathname.startsWith("/user/dashboard")&&s==="dark"||r(s)};return n.jsx(pC.Provider,{value:{theme:t,toggleTheme:a},children:e})},xC=C.createContext(null),Dz=({children:e})=>{const[t,r]=C.useState(null),[a,s]=C.useState(null),[i,o]=C.useState(null),[l,c]=C.useState(!0),[u,h]=C.useState(!1),[f,m]=C.useState(null),g=C.useCallback(async B=>{if(!Ra()||!He||!B)return null;h(!0);try{const{data:H,error:F}=await He.from("profiles").select("*").eq("id",B).single();return F?F.code==="PGRST116"?(console.log("Profile not found, may need to be created"),null):(console.error("Error fetching profile:",F),null):(o(H),H)}catch(H){return console.error("Failed to fetch profile:",H),null}finally{h(!1)}},[]),y=async B=>{if(!Ra()||!He||!(a!=null&&a.id))return m("Cannot update profile: not authenticated"),{error:"Not authenticated"};h(!0);try{const{data:H,error:F}=await He.from("profiles").update({...B,updated_at:new Date().toISOString()}).eq("id",a.id).select().single();return F?(console.error("Error updating profile:",F),m(F.message),{error:F.message}):(o(H),{data:H})}catch(H){return console.error("Failed to update profile:",H),m(H.message),{error:H.message}}finally{h(!1)}},x=async B=>{var H,F;if(!Ra()||!He||!(a!=null&&a.id))return{error:"Not authenticated"};try{const{data:D,error:P}=await He.from("profiles").insert({id:a.id,email:a.email,full_name:(B==null?void 0:B.full_name)||((H=a.user_metadata)==null?void 0:H.full_name)||"",role:(B==null?void 0:B.role)||((F=a.user_metadata)==null?void 0:F.role)||"user",...B}).select().single();return P?P.code==="23505"?await g(a.id):(console.error("Error creating profile:",P),{error:P.message}):(o(D),{data:D})}catch(D){return console.error("Failed to create profile:",D),{error:D.message}}};C.useEffect(()=>{if(!Ra()||!He){console.warn("Supabase is not configured. Auth features will not work."),c(!1);return}He.auth.getSession().then(async({data:H,error:F})=>{var D,P;F?(console.error("Error getting session:",F),m(F.message)):(r(H.session),s(((D=H.session)==null?void 0:D.user)??null),(P=H.session)!=null&&P.user&&await g(H.session.user.id)),c(!1)}).catch(H=>{console.error("Failed to get session:",H),m("Failed to initialize authentication"),c(!1)});const{data:B}=He.auth.onAuthStateChange(async(H,F)=>{console.log("Auth state changed:",H),r(F),s((F==null?void 0:F.user)??null),c(!1),m(null),H==="SIGNED_IN"&&(F!=null&&F.user)&&await g(F.user.id),H==="SIGNED_OUT"&&o(null)});return()=>{var H;(H=B==null?void 0:B.subscription)==null||H.unsubscribe()}},[g]);const N=async()=>{if(!Ra()||!He){console.warn("Supabase is not configured");return}try{const{error:B}=await He.auth.signOut();if(B)throw B;r(null),s(null),o(null)}catch(B){console.error("Sign out error:",B),m(B.message)}},b=()=>{var B;return i!=null&&i.full_name?i.full_name:(B=a==null?void 0:a.user_metadata)!=null&&B.full_name?a.user_metadata.full_name:a!=null&&a.email?a.email.split("@")[0]:"User"},w=()=>{var B;return i!=null&&i.role?i.role:(B=a==null?void 0:a.user_metadata)!=null&&B.role?a.user_metadata.role:"user"},k=()=>{var B;return i!=null&&i.avatar_url?i.avatar_url:(B=a==null?void 0:a.user_metadata)!=null&&B.avatar_url?a.user_metadata.avatar_url:null},S={session:t,user:a,profile:i,loading:l,profileLoading:u,error:f,signOut:N,isAuthenticated:!!t,isSupabaseConfigured:Ra(),fetchProfile:g,updateProfile:y,createProfile:x,getDisplayName:b,getRole:w,getAvatarUrl:k};return n.jsx(xC.Provider,{value:S,children:e})},J1=()=>{const e=C.useContext(xC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},yC=C.createContext(),Bf=()=>{const e=C.useContext(yC);if(!e)throw new Error("useMessages must be used within a MessagesProvider");return e},Mj=[{id:"1",agentId:"agent-1",agentName:"Sarah Johnson",agentAgency:"Prime Realty Group",agentAvatar:null,agentEmail:"sarah@primerealty.com",agentPhone:"+1 (555) 123-4567",isOnline:!0,propertyId:"prop-1",propertyTitle:"Modern Downtown Apartment",propertyAddress:"123 Main St, Downtown",propertyImage:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400",propertyPrice:45e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-12e4).toISOString(),unreadCount:2,messages:[{id:"msg-1",senderId:"agent-1",senderType:"agent",text:"Hi! I have some properties that might interest you.",timestamp:new Date(Date.now()-12e4).toISOString(),read:!0,delivered:!0,attachments:[]},{id:"msg-2",senderId:"user",senderType:"user",text:"Hello! I'm interested in learning more about the Modern Downtown Apartment.",timestamp:new Date(Date.now()-6e4).toISOString(),read:!0,delivered:!0,attachments:[]}]},{id:"2",agentId:"agent-2",agentName:"Michael Chen",agentAgency:"Elite Properties",agentAvatar:null,agentEmail:"michael@eliteproperties.com",agentPhone:"+1 (555) 234-5678",isOnline:!1,propertyId:"prop-2",propertyTitle:"Luxury Suburban Home",propertyAddress:"456 Oak Avenue, Suburbs",propertyImage:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=400",propertyPrice:75e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-36e5).toISOString(),unreadCount:0,messages:[{id:"msg-3",senderId:"agent-2",senderType:"agent",text:"Thank you for your interest. Let me know if you have any questions.",timestamp:new Date(Date.now()-36e5).toISOString(),read:!0,delivered:!0,attachments:[]}]},{id:"3",agentId:"agent-3",agentName:"Emily Rodriguez",agentAgency:"City View Realty",agentAvatar:null,agentEmail:"emily@cityview.com",agentPhone:"+1 (555) 345-6789",isOnline:!0,propertyId:"prop-3",propertyTitle:"Cozy Family Home",propertyAddress:"789 Pine Street, Residential",propertyImage:"https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=400",propertyPrice:32e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-108e5).toISOString(),unreadCount:1,messages:[{id:"msg-4",senderId:"agent-3",senderType:"agent",text:"The viewing is scheduled for tomorrow at 3 PM.",timestamp:new Date(Date.now()-108e5).toISOString(),read:!1,delivered:!0,attachments:[]}]}],Iz=["Is this property still available?","Can I schedule a viewing?","What are the property details?","What's the best time to contact you?","I'm interested in this property."],Fz=({children:e})=>{const[t,r]=C.useState(()=>{if(typeof window<"u"){const F=localStorage.getItem("estospaces-conversations");if(F)try{return JSON.parse(F)}catch{return Mj}}return Mj}),[a,s]=C.useState(null),[i,o]=C.useState("all"),[l,c]=C.useState(""),[u,h]=C.useState(!1);C.useEffect(()=>{typeof window<"u"&&localStorage.setItem("estospaces-conversations",JSON.stringify(t))},[t]);const f=t.reduce((F,D)=>F+(D.isArchived?0:D.unreadCount),0),m=C.useCallback(()=>{let F=[...t];switch(i){case"unread":F=F.filter(D=>!D.isArchived&&D.unreadCount>0);break;case"archived":F=F.filter(D=>D.isArchived);break;case"property-specific":break;case"all":default:F=F.filter(D=>!D.isArchived);break}if(l.trim()){const D=l.toLowerCase();F=F.filter(P=>{var ee,ue;const G=P.agentName.toLowerCase().includes(D),I=P.agentAgency.toLowerCase().includes(D),q=((ee=P.propertyTitle)==null?void 0:ee.toLowerCase().includes(D))||((ue=P.propertyAddress)==null?void 0:ue.toLowerCase().includes(D)),Y=P.messages.some(le=>le.text.toLowerCase().includes(D));return G||I||q||Y})}return F.sort((D,P)=>new Date(P.lastActivity)-new Date(D.lastActivity))},[t,i,l]),g=C.useCallback((F,D)=>{const P={id:`conv-${Date.now()}`,agentId:F.id||`agent-${Date.now()}`,agentName:F.name,agentAgency:F.agency||"",agentAvatar:F.avatar||null,agentEmail:F.email||"",agentPhone:F.phone||"",isOnline:F.isOnline||!1,propertyId:(D==null?void 0:D.id)||null,propertyTitle:(D==null?void 0:D.title)||null,propertyAddress:(D==null?void 0:D.address)||null,propertyImage:(D==null?void 0:D.image)||null,propertyPrice:(D==null?void 0:D.price)||null,isArchived:!1,isMuted:!1,lastActivity:new Date().toISOString(),unreadCount:0,messages:[]};return r(G=>[P,...G]),s(P.id),P.id},[]),y=C.useCallback((F,D,P=[])=>{if(!D.trim()&&P.length===0)return;const G={id:`msg-${Date.now()}`,senderId:"user",senderType:"user",text:D.trim(),timestamp:new Date().toISOString(),read:!1,delivered:!1,attachments:P.map(I=>({id:`att-${Date.now()}-${Math.random()}`,name:I.name,type:I.type,url:I.url||URL.createObjectURL(I.file),size:I.size}))};r(I=>I.map(q=>q.id===F?{...q,messages:[...q.messages,G],lastActivity:new Date().toISOString()}:q)),setTimeout(()=>{r(I=>I.map(q=>q.id===F?{...q,messages:q.messages.map(Y=>Y.id===G.id?{...Y,delivered:!0,read:!0}:Y)}:q))},500),setTimeout(()=>{const I=t.find(q=>q.id===F);if(I&&Math.random()>.5){const q=["Thanks for your message! I'll get back to you shortly.","I'll check on that and get back to you.","Great question! Let me find that information for you."],Y=q[Math.floor(Math.random()*q.length)],ee={id:`msg-${Date.now()}-agent`,senderId:I.agentId,senderType:"agent",text:Y,timestamp:new Date().toISOString(),read:!1,delivered:!0,attachments:[]};r(ue=>ue.map(le=>le.id===F?{...le,messages:[...le.messages,ee],lastActivity:new Date().toISOString(),unreadCount:le.unreadCount+1}:le))}},2e3)},[t]),x=C.useCallback(F=>{r(D=>D.map(P=>P.id===F?{...P,unreadCount:0,messages:P.messages.map(G=>({...G,read:!0}))}:P))},[]),N=C.useCallback(F=>{r(D=>D.map(P=>P.id===F?{...P,isArchived:!0}:P))},[]),b=C.useCallback(F=>{r(D=>D.map(P=>P.id===F?{...P,isArchived:!1}:P))},[]),w=C.useCallback(F=>{r(D=>D.map(P=>P.id===F?{...P,isMuted:!0}:P))},[]),k=C.useCallback(F=>{r(D=>D.map(P=>P.id===F?{...P,isMuted:!1}:P))},[]),S=C.useCallback(F=>{r(D=>D.filter(P=>P.id!==F)),a===F&&s(null)},[a]),B=C.useCallback(F=>t.find(D=>D.id===F),[t]),H={conversations:m(),allConversations:t,selectedConversationId:a,setSelectedConversationId:s,filter:i,setFilter:o,searchQuery:l,setSearchQuery:c,isLoading:u,totalUnreadCount:f,createConversation:g,sendMessage:y,markAsRead:x,archiveConversation:N,unarchiveConversation:b,muteConversation:w,unmuteConversation:k,deleteConversation:S,getConversation:B,quickReplyTemplates:Iz};return n.jsx(yC.Provider,{value:H,children:e})},vC=C.createContext(null),Bz=({children:e})=>{const t=Wn(),r=br(),a=C.useCallback(()=>{if(t.pathname==="/user/dashboard/discover"){const c=new URLSearchParams(t.search).get("type");if(c==="buy"||c==="sale")return"buy";if(c==="rent")return"rent"}return"all"},[t]),[s,i]=C.useState(a),o=C.useCallback(l=>{if(i(l),t.pathname==="/user/dashboard/discover"){const c=new URLSearchParams(t.search);l==="all"?c.delete("type"):l==="buy"?c.set("type","buy"):l==="rent"&&c.set("type","rent"),r(`/user/dashboard/discover?${c.toString()}`,{replace:!0})}else r(l==="all"?"/user/dashboard/discover":`/user/dashboard/discover?type=${l}`)},[t,r]);return lc.useEffect(()=>{const l=a();l!==s&&i(l)},[t.pathname,t.search]),n.jsx(vC.Provider,{value:{activeTab:s,setActiveTab:o,getApiType:()=>s==="buy"?"buy":s==="rent"?"rent":"all"},children:e})},U_=()=>{const e=C.useContext(vC);if(!e)throw new Error("usePropertyFilter must be used within PropertyFilterProvider");return e},bC=C.createContext(),zf=()=>{const e=C.useContext(bC);if(!e)throw new Error("useSavedProperties must be used within a SavedPropertiesProvider");return e},zz=({children:e})=>{const[t,r]=C.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("saved-properties");if(l)try{return JSON.parse(l)}catch{return[]}}return[]});C.useEffect(()=>{typeof window<"u"&&localStorage.setItem("saved-properties",JSON.stringify(t))},[t]);const a=l=>{r(c=>c.some(h=>h.id===l.id)?c:[...c,l])},s=l=>{r(c=>c.filter(u=>u.id!==l))},i=l=>{r(c=>c.some(h=>h.id===l.id)?c.filter(h=>h.id!==l.id):[...c,l])},o=l=>t.some(c=>c.id===l);return n.jsx(bC.Provider,{value:{savedProperties:t,saveProperty:a,removeProperty:s,toggleProperty:i,isPropertySaved:o},children:e})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Rj=e=>{const t=Vz(e);return t.charAt(0).toUpperCase()+t.slice(1)},wC=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),qz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...$z,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:wC("lucide",s),...!i&&!qz(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const r=C.forwardRef(({className:a,...s},i)=>C.createElement(Hz,{ref:i,iconNode:t,className:wC(`lucide-${Uz(Rj(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Rj(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],_C=Xe("archive",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],Yz=Xe("arrow-down-wide-narrow",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cc=Xe("arrow-left",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gh=Xe("arrow-right",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Jz=Xe("arrow-up-down",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],eU=Xe("arrow-up-narrow-wide",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],NC=Xe("award",tU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z0=Xe("badge-check",rU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],ph=Xe("bath",aU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],du=Xe("bed",nU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],iU=Xe("bell-off",sU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uu=Xe("bell",oU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],cU=Xe("bold",lU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ym=Xe("book",dU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Nl=Xe("bot",uU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fU=Xe("briefcase",hU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],dc=Xe("building-2",mU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Hs=Xe("building",gU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],xU=Xe("calendar-check",pU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wi=Xe("calendar",yU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ky=Xe("camera",vU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],V_=Xe("car",bU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],q_=Xe("chart-column",wU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Oj=Xe("check-check",_U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xh=Xe("check",NU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yh=Xe("chevron-down",kU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ic=Xe("chevron-left",jU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],El=Xe("chevron-right",SU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ba=Xe("circle-alert",AU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ar=Xe("circle-check-big",EU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CU=Xe("circle-check",TU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kC=Xe("circle-question-mark",LU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],MU=Xe("circle-user",PU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],As=Xe("circle-x",RU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jC=Xe("circle",OU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ya=Xe("clock",DU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zy=Xe("copy",IU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Q1=Xe("credit-card",FU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Tl=Xe("dollar-sign",BU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Es=Xe("download",zU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Nb=Xe("dumbbell",UU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Xy=Xe("ellipsis-vertical",VU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$_=Xe("external-link",qU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],SC=Xe("eye-off",$U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fa=Xe("eye",HU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],GU=Xe("file-braces",WU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Xm=Xe("file-check",YU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Jm=Xe("file-down",KU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qm=Xe("file-spreadsheet",ZU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Or=Xe("file-text",XU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],QU=Xe("file",JU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Io=Xe("funnel",eV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],H_=Xe("globe",tV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],W_=Xe("grid-3x3",rV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Dj=Xe("headphones",aV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],td=Xe("heart",nV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gr=Xe("house",sV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],G_=Xe("image",iV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ij=Xe("inbox",oV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cV=Xe("info",lV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],AC=Xe("instagram",dV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],hV=Xe("italic",uV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mV=Xe("key",fV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ig=Xe("layout-dashboard",gV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],EC=Xe("lightbulb",pV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],yV=Xe("link-2",xV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],bV=Xe("link",vV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],TC=Xe("linkedin",wV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Y_=Xe("list",_V);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ni=Xe("loader-circle",NV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Fj=Xe("log-in",kV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SV=Xe("lock",jV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jy=Xe("log-out",AV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_n=Xe("mail",EV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aa=Xe("map-pin",TV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],vf=Xe("map",CV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],bf=Xe("maximize",LV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MV=Xe("menu",PV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],eg=Xe("message-circle",RV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vo=Xe("message-square",OV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],CC=Xe("mic-off",DV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Rw=Xe("mic",IV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],BV=Xe("mouse-pointer-2",FV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],UV=Xe("navigation",zV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],qV=Xe("network",VV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],HV=Xe("palette",$V);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],LC=Xe("paperclip",WV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],od=Xe("phone",GV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],KV=Xe("play",YV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ll=Xe("plus",ZV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],JV=Xe("receipt",XV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eq=Xe("refresh-cw",QV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],rq=Xe("rocket",tq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nq=Xe("rotate-ccw",aq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iq=Xe("save",sq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],us=Xe("search",oq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ch=Xe("send",lq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$c=Xe("settings",cq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fo=Xe("share-2",dq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],su=Xe("shield",uq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Bj=Xe("shopping-bag",hq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zj=Xe("shopping-cart",fq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],PC=Xe("smile",mq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],pq=Xe("sofa",gq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],MC=Xe("sparkles",xq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uj=Xe("square-check-big",yq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$o=Xe("square-pen",vq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Vj=Xe("square",bq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jl=Xe("star",wq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qy=Xe("target",_q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ss=Xe("trash-2",Nq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],qj=Xe("tree-pine",kq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],e1=Xe("trending-down",jq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bn=Xe("trending-up",Sq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],RC=Xe("twitter",Aq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Tq=Xe("underline",Eq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fp=Xe("upload",Cq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ey=Xe("user-check",Lq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ow=Xe("user-plus",Pq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kn=Xe("user",Mq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hu=Xe("users",Rq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Dq=Xe("utensils-crossed",Oq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Dw=Xe("video",Iq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],$j=Xe("waves",Fq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Hj=Xe("wifi",Bq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Uq=Xe("wrench",zq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yr=Xe("x",Vq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wf=Xe("zap",qq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Hq=Xe("zoom-in",$q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Gq=Xe("zoom-out",Wq),Yq=({isOpen:e,onClose:t,onVerified:r,email:a,phone:s})=>{const[i,o]=C.useState("email"),[l,c]=C.useState(""),[u,h]=C.useState(""),[f,m]=C.useState(!1),[g,y]=C.useState(!1),[x,N]=C.useState(!1),[b,w]=C.useState(""),k=()=>{m(!0),w(""),console.log("Verification code sent to:",a)},S=()=>{y(!0),w(""),console.log("Verification code sent to:",s)},B=()=>{if(!l.trim()){w("Please enter the verification code");return}N(!0),w(""),setTimeout(()=>{N(!1),l.length===6?o(s?"phone":"complete"):w("Invalid verification code. Please try again.")},1e3)},H=()=>{if(!u.trim()){w("Please enter the verification code");return}N(!0),w(""),setTimeout(()=>{N(!1),u.length===6?o("complete"):w("Invalid verification code. Please try again.")},1e3)},F=()=>{r(),t(),o("email"),c(""),h(""),m(!1),y(!1)},D=()=>{t(),o("email"),c(""),h(""),m(!1),y(!1),w("")};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[n.jsx("button",{onClick:D,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(yr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),i==="email"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(_n,{className:"w-8 h-8 text-primary"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verify Your Email"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["We'll send a verification code to ",n.jsx("span",{className:"font-medium",children:a})]})]}),f?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Verification Code"}),n.jsx("input",{type:"text",value:l,onChange:P=>{c(P.target.value.replace(/\D/g,"").slice(0,6)),w("")},placeholder:"000000",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",maxLength:6}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Code sent to ",a]})]}),b&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Resend Code"}),n.jsxs("button",{onClick:B,disabled:x||l.length!==6,className:"flex-1 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[x?"Verifying...":"Verify",!x&&n.jsx(gh,{className:"w-4 h-4"})]})]})]}):n.jsx("div",{className:"space-y-4",children:n.jsx("button",{onClick:k,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Send Verification Code"})})]}),i==="phone"&&s&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(od,{className:"w-8 h-8 text-primary"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verify Your Phone"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["We'll send a verification code to ",n.jsx("span",{className:"font-medium",children:s})]})]}),g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Verification Code"}),n.jsx("input",{type:"text",value:u,onChange:P=>{h(P.target.value.replace(/\D/g,"").slice(0,6)),w("")},placeholder:"000000",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",maxLength:6}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Code sent to ",s]})]}),b&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>o("email"),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[n.jsx(cc,{className:"w-4 h-4"}),"Back"]}),n.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Resend Code"}),n.jsxs("button",{onClick:H,disabled:x||u.length!==6,className:"flex-1 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[x?"Verifying...":"Verify",!x&&n.jsx(gh,{className:"w-4 h-4"})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:S,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Send Verification Code"}),n.jsxs("button",{onClick:()=>o("email"),className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors flex items-center justify-center gap-2",children:[n.jsx(cc,{className:"w-4 h-4"}),"Back to Email"]})]})]}),i==="complete"&&n.jsxs("div",{className:"space-y-4 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ar,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verification Complete!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your account has been successfully verified. You can now access all features."}),n.jsx("button",{onClick:F,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Continue"})]})]})}):null},Kq=({isOpen:e,onToggle:t})=>{var S;const r=Wn(),a=br(),{user:s,profile:i,getDisplayName:o,signOut:l}=J1(),c=o?o():((S=s==null?void 0:s.email)==null?void 0:S.split("@")[0])||"Property Manager",u=(s==null?void 0:s.email)||(i==null?void 0:i.email)||"",[h,f]=C.useState(()=>i!=null&&i.is_verified?!0:localStorage.getItem("managerVerified")==="true"),[m,g]=C.useState(!1),[y,x]=C.useState(!1),N=()=>{f(!0),localStorage.setItem("managerVerified","true")},b=async()=>{x(!0);try{l&&await l(),a("/")}catch(B){console.error("Error signing out:",B),a("/")}finally{x(!1)}},w=[{icon:Ig,label:"Dashboard",path:"/manager/dashboard"},{icon:dc,label:"Properties",path:"/manager/dashboard/properties"},{icon:hu,label:"Leads & Clients",path:"/manager/dashboard/leads"},{icon:Or,label:"Applications",path:"/manager/dashboard/application"},{icon:wi,label:"Appointments",path:"/manager/dashboard/appointment"},{icon:Vo,label:"Messages",path:"/manager/dashboard/messages"},{icon:q_,label:"Analytics",path:"/manager/dashboard/analytics"},{icon:Q1,label:"Billing",path:"/manager/dashboard/billing"}],k=[{icon:MU,label:"Profile",path:"/manager/dashboard/profile"},{icon:kC,label:"Help & Support",path:"/manager/dashboard/help"}];return n.jsxs("div",{className:`fixed left-0 top-0 h-full bg-white dark:bg-black shadow-lg transition-all duration-300 z-50 font-sans ${e?"w-64":"w-20"}`,children:[n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),e&&n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white transition-colors duration-300",children:"Estospaces"})})]})}),n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0 transition-colors duration-300",children:n.jsx(kn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300 transition-colors duration-300"})}),e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white transition-colors duration-300 truncate",children:c}),h?n.jsx(Z0,{className:"w-4 h-4 text-primary flex-shrink-0"}):n.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-primary/10 hover:bg-primary/20 text-primary rounded-md transition-colors",title:"Verify your account",children:[n.jsx(su,{className:"w-3 h-3"}),n.jsx("span",{children:"Verify"})]})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate transition-colors duration-300",children:u})]})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:n.jsx("ul",{className:"space-y-2",children:w.map((B,H)=>{const F=B.icon,D=r.pathname===B.path;return n.jsx("li",{children:n.jsxs(ec,{to:B.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 group ${D?"bg-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white hover:scale-[1.02] hover:shadow-sm hover:brightness-105 dark:hover:brightness-110"}`,children:[n.jsx(F,{className:`w-5 h-5 transition-transform duration-300 ${!D&&"group-hover:scale-110"}`}),e&&n.jsx("span",{className:`menu-item transition-all duration-300 ${!D&&"group-hover:translate-x-1"}`,children:B.label})]})},H)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsx("ul",{className:"space-y-2",children:k.map((B,H)=>{const F=B.icon,D=r.pathname===B.path;return n.jsx("li",{children:n.jsxs(ec,{to:B.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 group ${D?"bg-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white hover:scale-[1.02] hover:shadow-sm hover:brightness-105 dark:hover:brightness-110"}`,children:[n.jsx(F,{className:`w-5 h-5 transition-transform duration-300 ${!D&&"group-hover:scale-110"}`}),e&&n.jsx("span",{className:`menu-item transition-all duration-300 ${!D&&"group-hover:translate-x-1"}`,children:B.label})]})},H)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("button",{onClick:b,disabled:y,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300 group hover:scale-[1.02] hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Jy,{className:`w-5 h-5 flex-shrink-0 transition-transform duration-300 ${y?"animate-spin":"group-hover:scale-110 group-hover:rotate-12"}`}),e&&n.jsx("span",{className:"text-sm font-medium transition-all duration-300 group-hover:translate-x-1",children:y?"Signing out...":"Sign out"})]})})]}),n.jsx(Yq,{isOpen:m,onClose:()=>g(!1),onVerified:N,email:u||"manager@estospaces.com",phone:(i==null?void 0:i.phone)||"+1 (555) 123-4567"})]})},Zq=({onMenuToggle:e})=>{const t=br(),[r,a]=C.useState(""),[s,i]=C.useState(!1),o=C.useRef(null),{theme:l,setTheme:c}=Rz(),u=[{value:"light",label:"Light"},{value:"dark",label:"Dark"}];C.useEffect(()=>{const f=m=>{o.current&&!o.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const h=f=>{c(f),i(!1)};return n.jsx("header",{className:"bg-white dark:bg-black shadow-sm border-b border-gray-200 dark:border-gray-800 sticky top-0 z-40 font-sans transition-colors duration-300",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[n.jsx("h1",{className:"page-title text-gray-800 dark:text-white transition-colors duration-300",children:"Manager Dashboard"}),n.jsx("div",{className:"flex-1 max-w-md",children:n.jsxs("div",{className:"relative group",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500 group-focus-within:text-primary transition-colors duration-200"}),n.jsx("input",{type:"text",placeholder:"AI-powered search...",value:r,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary focus:bg-white dark:focus:bg-gray-800 shadow-sm hover:shadow-md transition-all duration-200"})]})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",ref:o,children:[n.jsx("button",{onClick:()=>i(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors duration-300",title:"Theme",children:n.jsx(HV,{className:"w-6 h-6"})}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-black rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 py-2 z-50 transition-colors duration-300",children:[n.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-800",children:n.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Select Theme"})}),u.map(f=>n.jsxs("button",{onClick:()=>h(f.value),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-900 active:bg-gray-200 dark:active:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 transition-colors duration-300 flex items-center justify-between ${l===f.value?"bg-primary/10 dark:bg-primary/20 text-primary font-medium active:text-primary dark:active:text-primary":"text-gray-700 dark:text-gray-300"}`,children:[n.jsx("span",{children:f.label}),l===f.value&&n.jsx("span",{className:"text-primary",children:""})]},f.value))]})]}),n.jsxs("button",{className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:[n.jsx(uu,{className:"w-6 h-6"}),n.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),n.jsx("button",{onClick:()=>t("/manager/dashboard/profile"),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",title:"Profile",children:n.jsx(kn,{className:"w-6 h-6"})})]})]})})})},gi=({children:e})=>{const[t,r]=C.useState(!0);return n.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-black font-sans transition-colors duration-300",children:[n.jsx(Kq,{isOpen:t,onToggle:()=>r(!t)}),n.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${t?"ml-64":"ml-20"}`,children:[n.jsx(Zq,{onMenuToggle:()=>r(!t)}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6 font-sans bg-gray-50 dark:bg-black transition-colors duration-300",children:e})]})]})},pi=({children:e})=>{const[t,r]=C.useState(!0),[a,s]=C.useState(!1),[i,o]=C.useState(!1),l=Wn();return C.useEffect(()=>{if((async()=>{var h,f;if(!Ra()){s(!1),o(!1),r(!1);return}try{const{data:{session:m}}=await He.auth.getSession();if(!m){s(!1),o(!1),r(!1);return}s(!0);const g=(f=(h=m.user)==null?void 0:h.user_metadata)==null?void 0:f.role;g==="manager"&&o(!0);const{data:y,error:x}=await He.from("profiles").select("role").eq("id",m.user.id).single();x?(console.log("Profile fetch result:",x.code,x.message),x.code!=="PGRST116"&&y?o(!1):x.code==="PGRST116"?(console.log("Profile not found, using user_metadata role:",g),o(g==="manager")):(console.warn("Error checking profile, defaulting to false:",x),o(!1))):(y==null?void 0:y.role)==="manager"?o(!0):y!=null&&y.role&&o(!1)}catch(m){console.error("Error checking manager auth:",m),s(!1),o(!1)}finally{r(!1)}})(),!Ra())return;const{data:{subscription:u}}=He.auth.onAuthStateChange(async(h,f)=>{var g,y;if(!f){s(!1),o(!1);return}s(!0);const m=(y=(g=f.user)==null?void 0:g.user_metadata)==null?void 0:y.role;m==="manager"&&o(!0);try{const{data:x,error:N}=await He.from("profiles").select("role").eq("id",f.user.id).single();N?N.code==="PGRST116"?(console.log("Profile not found in auth listener, using user_metadata role:",m),o(m==="manager")):(console.warn("Error fetching profile in auth listener:",N),o(m==="manager")):(x==null?void 0:x.role)==="manager"?o(!0):x!=null&&x.role?o(!1):o(m==="manager")}catch(x){console.error("Error checking profile in auth listener:",x),o(m==="manager")}});return()=>u.unsubscribe()},[]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black transition-colors duration-300",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Verifying access..."})]})}):a?i?e:n.jsx(bw,{to:"/user/dashboard",replace:!0}):n.jsx(bw,{to:"/auth/login",state:{from:l,intendedRole:"manager"},replace:!0})},xi=({children:e})=>{const[t,r]=C.useState(!0),[a,s]=C.useState(!1),i=Wn();return C.useEffect(()=>{if((async()=>{if(!Ra()){s(!1),r(!1);return}try{const{data:{session:c}}=await He.auth.getSession();s(!!c)}catch(c){console.error("Error checking user auth:",c),s(!1)}finally{r(!1)}})(),!Ra())return;const{data:{subscription:l}}=He.auth.onAuthStateChange((c,u)=>{s(!!u)});return()=>l.unsubscribe()},[]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#0a0a0a] transition-colors duration-300",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Verifying access..."})]})}):a?e:n.jsx(bw,{to:"/auth/login",state:{from:i,intendedRole:"user"},replace:!0})},Xq=()=>{const e=br();return n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"page-title text-gray-800 dark:text-white mb-2",children:"Welcome Prajol"}),n.jsx("p",{className:"body-text text-gray-600 dark:text-gray-400",children:"Manage Your Properties, ideas, and grow your business with powerful insight"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Ll,{className:"w-5 h-5"}),"Add Property"]})]}),n.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"3 Active Properties"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"6 Active Leads"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"6 Applications"})]})]})]})},ux=({title:e,value:t,change:r,icon:a,iconColor:s,trendColor:i})=>n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-800 relative overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:brightness-110 dark:hover:brightness-150",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/20 dark:via-white/10 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-30 dark:group-hover:opacity-20 transition-opacity duration-300 bg-gradient-to-br from-white/50 dark:from-white/30 via-transparent to-transparent"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${s} transition-transform duration-300 group-hover:scale-110 group-hover:shadow-lg`,children:n.jsx(a,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:`flex items-center gap-1 ${i} transition-transform duration-300 group-hover:scale-110`,children:[n.jsx(bn,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:r})]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-1 transition-all duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:t}),n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400",children:e})]})]}),Jq=({activeTab:e,onTabChange:t})=>{const r=[{id:"overview",label:"Overview",icon:Ig},{id:"properties",label:"Properties",icon:dc},{id:"leads",label:"Leads",icon:hu},{id:"application",label:"Application",icon:Or},{id:"analytics",label:"Analytics",icon:q_}];return n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mb-6",children:n.jsx("div",{className:"flex items-center gap-2",children:r.map(a=>{const s=a.icon;return n.jsxs("button",{onClick:()=>t(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e===a.id?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(s,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.id)})})})};function OC(e,t){const r=C.useRef(t);C.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const Qq=1;function e$(e){return Object.freeze({__version:Qq,map:e})}function t$(e,t){return Object.freeze({...e,...t})}const DC=C.createContext(null),IC=DC.Provider;function K_(){const e=C.useContext(DC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function r$(e){function t(r,a){const{instance:s,context:i}=e(r).current;return C.useImperativeHandle(a,()=>s),r.children==null?null:lc.createElement(IC,{value:i},r.children)}return C.forwardRef(t)}function a$(e){function t(r,a){const[s,i]=C.useState(!1),{instance:o}=e(r,i).current;C.useImperativeHandle(a,()=>o),C.useEffect(function(){s&&o.update()},[o,s,r.children]);const l=o._contentNode;return l?KA.createPortal(r.children,l):null}return C.forwardRef(t)}function n$(e){function t(r,a){const{instance:s}=e(r).current;return C.useImperativeHandle(a,()=>s),null}return C.forwardRef(t)}function FC(e,t){const r=C.useRef();C.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function Z_(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function s$(e,t){return function(a,s){const i=K_(),o=e(Z_(a,i),i);return OC(i.map,a.attribution),FC(o.current,a.eventHandlers),t(o.current,i,a,s),o}}var Iw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,a){a(t)})(h0,function(r){var a="1.9.4";function s(d){var p,_,T,V;for(_=1,T=arguments.length;_<T;_++){V=arguments[_];for(p in V)d[p]=V[p]}return d}var i=Object.create||function(){function d(){}return function(p){return d.prototype=p,new d}}();function o(d,p){var _=Array.prototype.slice;if(d.bind)return d.bind.apply(d,_.call(arguments,1));var T=_.call(arguments,2);return function(){return d.apply(p,T.length?T.concat(_.call(arguments)):arguments)}}var l=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function u(d,p,_){var T,V,ie,Ee;return Ee=function(){T=!1,V&&(ie.apply(_,V),V=!1)},ie=function(){T?V=arguments:(d.apply(_,arguments),setTimeout(Ee,p),T=!0)},ie}function h(d,p,_){var T=p[1],V=p[0],ie=T-V;return d===T&&_?d:((d-V)%ie+ie)%ie+V}function f(){return!1}function m(d,p){if(p===!1)return d;var _=Math.pow(10,p===void 0?6:p);return Math.round(d*_)/_}function g(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function y(d){return g(d).split(/\s+/)}function x(d,p){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?i(d.options):{});for(var _ in p)d.options[_]=p[_];return d.options}function N(d,p,_){var T=[];for(var V in d)T.push(encodeURIComponent(_?V.toUpperCase():V)+"="+encodeURIComponent(d[V]));return(!p||p.indexOf("?")===-1?"?":"&")+T.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(d,p){return d.replace(b,function(_,T){var V=p[T];if(V===void 0)throw new Error("No value provided for variable "+_);return typeof V=="function"&&(V=V(p)),V})}var k=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function S(d,p){for(var _=0;_<d.length;_++)if(d[_]===p)return _;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var F=0;function D(d){var p=+new Date,_=Math.max(0,16-(p-F));return F=p+_,window.setTimeout(d,_)}var P=window.requestAnimationFrame||H("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function I(d,p,_){if(_&&P===D)d.call(p);else return P.call(window,o(d,p))}function q(d){d&&G.call(window,d)}var Y={__proto__:null,extend:s,create:i,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:h,falseFn:f,formatNum:m,trim:g,splitWords:y,setOptions:x,getParamString:N,template:w,isArray:k,indexOf:S,emptyImageUrl:B,requestFn:P,cancelFn:G,requestAnimFrame:I,cancelAnimFrame:q};function ee(){}ee.extend=function(d){var p=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=p.__super__=this.prototype,T=i(_);T.constructor=p,p.prototype=T;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(p[V]=this[V]);return d.statics&&s(p,d.statics),d.includes&&(ue(d.includes),s.apply(null,[T].concat(d.includes))),s(T,d),delete T.statics,delete T.includes,T.options&&(T.options=_.options?i(_.options):{},s(T.options,d.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,Ee=T._initHooks.length;ie<Ee;ie++)T._initHooks[ie].call(this)}},p},ee.include=function(d){var p=this.prototype.options;return s(this.prototype,d),d.options&&(this.prototype.options=p,this.mergeOptions(d.options)),this},ee.mergeOptions=function(d){return s(this.prototype.options,d),this},ee.addInitHook=function(d){var p=Array.prototype.slice.call(arguments,1),_=typeof d=="function"?d:function(){this[d].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ue(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=k(d)?d:[d];for(var p=0;p<d.length;p++)d[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var le={on:function(d,p,_){if(typeof d=="object")for(var T in d)this._on(T,d[T],p);else{d=y(d);for(var V=0,ie=d.length;V<ie;V++)this._on(d[V],p,_)}return this},off:function(d,p,_){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var T in d)this._off(T,d[T],p);else{d=y(d);for(var V=arguments.length===1,ie=0,Ee=d.length;ie<Ee;ie++)V?this._off(d[ie]):this._off(d[ie],p,_)}return this},_on:function(d,p,_,T){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(d,p,_)===!1){_===this&&(_=void 0);var V={fn:p,ctx:_};T&&(V.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(V)}},_off:function(d,p,_){var T,V,ie;if(this._events&&(T=this._events[d],!!T)){if(arguments.length===1){if(this._firingCount)for(V=0,ie=T.length;V<ie;V++)T[V].fn=f;delete this._events[d];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Ee=this._listens(d,p,_);if(Ee!==!1){var Be=T[Ee];this._firingCount&&(Be.fn=f,this._events[d]=T=T.slice()),T.splice(Ee,1)}}},fire:function(d,p,_){if(!this.listens(d,_))return this;var T=s({},p,{type:d,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var V=this._events[d];if(V){this._firingCount=this._firingCount+1||1;for(var ie=0,Ee=V.length;ie<Ee;ie++){var Be=V[ie],We=Be.fn;Be.once&&this.off(d,We,Be.ctx),We.call(Be.ctx||this,T)}this._firingCount--}}return _&&this._propagateEvent(T),this},listens:function(d,p,_,T){typeof d!="string"&&console.warn('"string" type argument expected');var V=p;typeof p!="function"&&(T=!!p,V=void 0,_=void 0);var ie=this._events&&this._events[d];if(ie&&ie.length&&this._listens(d,V,_)!==!1)return!0;if(T){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(d,p,_,T))return!0}return!1},_listens:function(d,p,_){if(!this._events)return!1;var T=this._events[d]||[];if(!p)return!!T.length;_===this&&(_=void 0);for(var V=0,ie=T.length;V<ie;V++)if(T[V].fn===p&&T[V].ctx===_)return V;return!1},once:function(d,p,_){if(typeof d=="object")for(var T in d)this._on(T,d[T],p,!0);else{d=y(d);for(var V=0,ie=d.length;V<ie;V++)this._on(d[V],p,_,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var p in this._eventParents)this._eventParents[p].fire(d.type,s({layer:d.target,propagatedFrom:d.target},d),!0)}};le.addEventListener=le.on,le.removeEventListener=le.clearAllEventListeners=le.off,le.addOneTimeEventListener=le.once,le.fireEvent=le.fire,le.hasEventListeners=le.listens;var xe=ee.extend(le);function oe(d,p,_){this.x=_?Math.round(d):d,this.y=_?Math.round(p):p}var fe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(d){return this.clone()._add(Se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(Se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new oe(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new oe(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(d){d=Se(d);var p=d.x-this.x,_=d.y-this.y;return Math.sqrt(p*p+_*_)},equals:function(d){return d=Se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=Se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function Se(d,p,_){return d instanceof oe?d:k(d)?new oe(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new oe(d.x,d.y):new oe(d,p,_)}function K(d,p){if(d)for(var _=p?[d,p]:d,T=0,V=_.length;T<V;T++)this.extend(_[T])}K.prototype={extend:function(d){var p,_;if(!d)return this;if(d instanceof oe||typeof d[0]=="number"||"x"in d)p=_=Se(d);else if(d=A(d),p=d.min,_=d.max,!p||!_)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=_.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(d){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var p,_;return typeof d[0]=="number"||d instanceof oe?d=Se(d):d=A(d),d instanceof K?(p=d.min,_=d.max):p=_=d,p.x>=this.min.x&&_.x<=this.max.x&&p.y>=this.min.y&&_.y<=this.max.y},intersects:function(d){d=A(d);var p=this.min,_=this.max,T=d.min,V=d.max,ie=V.x>=p.x&&T.x<=_.x,Ee=V.y>=p.y&&T.y<=_.y;return ie&&Ee},overlaps:function(d){d=A(d);var p=this.min,_=this.max,T=d.min,V=d.max,ie=V.x>p.x&&T.x<_.x,Ee=V.y>p.y&&T.y<_.y;return ie&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var p=this.min,_=this.max,T=Math.abs(p.x-_.x)*d,V=Math.abs(p.y-_.y)*d;return A(Se(p.x-T,p.y-V),Se(_.x+T,_.y+V))},equals:function(d){return d?(d=A(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function A(d,p){return!d||d instanceof K?d:new K(d,p)}function z(d,p){if(d)for(var _=p?[d,p]:d,T=0,V=_.length;T<V;T++)this.extend(_[T])}z.prototype={extend:function(d){var p=this._southWest,_=this._northEast,T,V;if(d instanceof R)T=d,V=d;else if(d instanceof z){if(T=d._southWest,V=d._northEast,!T||!V)return this}else return d?this.extend(W(d)||O(d)):this;return!p&&!_?(this._southWest=new R(T.lat,T.lng),this._northEast=new R(V.lat,V.lng)):(p.lat=Math.min(T.lat,p.lat),p.lng=Math.min(T.lng,p.lng),_.lat=Math.max(V.lat,_.lat),_.lng=Math.max(V.lng,_.lng)),this},pad:function(d){var p=this._southWest,_=this._northEast,T=Math.abs(p.lat-_.lat)*d,V=Math.abs(p.lng-_.lng)*d;return new z(new R(p.lat-T,p.lng-V),new R(_.lat+T,_.lng+V))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof R||"lat"in d?d=W(d):d=O(d);var p=this._southWest,_=this._northEast,T,V;return d instanceof z?(T=d.getSouthWest(),V=d.getNorthEast()):T=V=d,T.lat>=p.lat&&V.lat<=_.lat&&T.lng>=p.lng&&V.lng<=_.lng},intersects:function(d){d=O(d);var p=this._southWest,_=this._northEast,T=d.getSouthWest(),V=d.getNorthEast(),ie=V.lat>=p.lat&&T.lat<=_.lat,Ee=V.lng>=p.lng&&T.lng<=_.lng;return ie&&Ee},overlaps:function(d){d=O(d);var p=this._southWest,_=this._northEast,T=d.getSouthWest(),V=d.getNorthEast(),ie=V.lat>p.lat&&T.lat<_.lat,Ee=V.lng>p.lng&&T.lng<_.lng;return ie&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,p){return d?(d=O(d),this._southWest.equals(d.getSouthWest(),p)&&this._northEast.equals(d.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function O(d,p){return d instanceof z?d:new z(d,p)}function R(d,p,_){if(isNaN(d)||isNaN(p))throw new Error("Invalid LatLng object: ("+d+", "+p+")");this.lat=+d,this.lng=+p,_!==void 0&&(this.alt=+_)}R.prototype={equals:function(d,p){if(!d)return!1;d=W(d);var _=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return _<=(p===void 0?1e-9:p)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return ne.distance(this,W(d))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(d){var p=180*d/40075017,_=p/Math.cos(Math.PI/180*this.lat);return O([this.lat-p,this.lng-_],[this.lat+p,this.lng+_])},clone:function(){return new R(this.lat,this.lng,this.alt)}};function W(d,p,_){return d instanceof R?d:k(d)&&typeof d[0]!="object"?d.length===3?new R(d[0],d[1],d[2]):d.length===2?new R(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new R(d.lat,"lng"in d?d.lng:d.lon,d.alt):p===void 0?null:new R(d,p,_)}var X={latLngToPoint:function(d,p){var _=this.projection.project(d),T=this.scale(p);return this.transformation._transform(_,T)},pointToLatLng:function(d,p){var _=this.scale(p),T=this.transformation.untransform(d,_);return this.projection.unproject(T)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var p=this.projection.bounds,_=this.scale(d),T=this.transformation.transform(p.min,_),V=this.transformation.transform(p.max,_);return new K(T,V)},infinite:!1,wrapLatLng:function(d){var p=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,_=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,T=d.alt;return new R(_,p,T)},wrapLatLngBounds:function(d){var p=d.getCenter(),_=this.wrapLatLng(p),T=p.lat-_.lat,V=p.lng-_.lng;if(T===0&&V===0)return d;var ie=d.getSouthWest(),Ee=d.getNorthEast(),Be=new R(ie.lat-T,ie.lng-V),We=new R(Ee.lat-T,Ee.lng-V);return new z(Be,We)}},ne=s({},X,{wrapLng:[-180,180],R:6371e3,distance:function(d,p){var _=Math.PI/180,T=d.lat*_,V=p.lat*_,ie=Math.sin((p.lat-d.lat)*_/2),Ee=Math.sin((p.lng-d.lng)*_/2),Be=ie*ie+Math.cos(T)*Math.cos(V)*Ee*Ee,We=2*Math.atan2(Math.sqrt(Be),Math.sqrt(1-Be));return this.R*We}}),re=6378137,Z={R:re,MAX_LATITUDE:85.0511287798,project:function(d){var p=Math.PI/180,_=this.MAX_LATITUDE,T=Math.max(Math.min(_,d.lat),-_),V=Math.sin(T*p);return new oe(this.R*d.lng*p,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(d){var p=180/Math.PI;return new R((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*p,d.x*p/this.R)},bounds:function(){var d=re*Math.PI;return new K([-d,-d],[d,d])}()};function ke(d,p,_,T){if(k(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=p,this._c=_,this._d=T}ke.prototype={transform:function(d,p){return this._transform(d.clone(),p)},_transform:function(d,p){return p=p||1,d.x=p*(this._a*d.x+this._b),d.y=p*(this._c*d.y+this._d),d},untransform:function(d,p){return p=p||1,new oe((d.x/p-this._b)/this._a,(d.y/p-this._d)/this._c)}};function Le(d,p,_,T){return new ke(d,p,_,T)}var Oe=s({},ne,{code:"EPSG:3857",projection:Z,transformation:function(){var d=.5/(Math.PI*Z.R);return Le(d,.5,-d,.5)}()}),Ge=s({},Oe,{code:"EPSG:900913"});function de(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Ae(d,p){var _="",T,V,ie,Ee,Be,We;for(T=0,ie=d.length;T<ie;T++){for(Be=d[T],V=0,Ee=Be.length;V<Ee;V++)We=Be[V],_+=(V?"L":"M")+We.x+" "+We.y;_+=p?St.svg?"z":"x":""}return _||"M0 0"}var je=document.documentElement.style,et="ActiveXObject"in window,ae=et&&!document.addEventListener,De="msLaunchUri"in navigator&&!("documentMode"in document),Ke=Tr("webkit"),at=Tr("android"),yt=Tr("android 2")||Tr("android 3"),wt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=at&&Tr("Google")&&wt<537&&!("AudioNode"in window),jt=!!window.opera,Et=!De&&Tr("chrome"),Te=Tr("gecko")&&!Ke&&!jt&&!et,st=!Et&&Tr("safari"),gt=Tr("phantom"),_t="OTransition"in je,wr=navigator.platform.indexOf("Win")===0,er=et&&"transition"in je,Ht="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yt,Gt="MozPerspective"in je,_r=!window.L_DISABLE_3D&&(er||Ht||Gt)&&!_t&&!gt,Ct=typeof orientation<"u"||Tr("mobile"),lt=Ct&&Ke,It=Ct&&Ht,qt=!window.PointerEvent&&window.MSPointerEvent,Er=!!(window.PointerEvent||qt),Qt="ontouchstart"in window||!!window.TouchEvent,Ot=!window.L_NO_TOUCH&&(Qt||Er),pr=Ct&&jt,Qs=Ct&&Te,un=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Li=function(){var d=!1;try{var p=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",f,p),window.removeEventListener("testPassiveEventSupport",f,p)}catch{}return d}(),ei=function(){return!!document.createElement("canvas").getContext}(),$t=!!(document.createElementNS&&de("svg").createSVGRect),Pi=!!$t&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mi=!$t&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var p=d.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),In=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function Tr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var St={ie:et,ielt9:ae,edge:De,webkit:Ke,android:at,android23:yt,androidStock:it,opera:jt,chrome:Et,gecko:Te,safari:st,phantom:gt,opera12:_t,win:wr,ie3d:er,webkit3d:Ht,gecko3d:Gt,any3d:_r,mobile:Ct,mobileWebkit:lt,mobileWebkit3d:It,msPointer:qt,pointer:Er,touch:Ot,touchNative:Qt,mobileOpera:pr,mobileGecko:Qs,retina:un,passiveEvents:Li,canvas:ei,svg:$t,vml:Mi,inlineSvg:Pi,mac:In,linux:ms},te=St.msPointer?"MSPointerDown":"pointerdown",be=St.msPointer?"MSPointerMove":"pointermove",me=St.msPointer?"MSPointerUp":"pointerup",pe=St.msPointer?"MSPointerCancel":"pointercancel",ve={touchstart:te,touchmove:be,touchend:me,touchcancel:pe},Ne={touchstart:Nt,touchmove:mt,touchend:mt,touchcancel:mt},Ie={},Ye=!1;function ze(d,p,_){return p==="touchstart"&&At(),Ne[p]?(_=Ne[p].bind(this,_),d.addEventListener(ve[p],_,!1),_):(console.warn("wrong event specified:",p),f)}function Ue(d,p,_){if(!ve[p]){console.warn("wrong event specified:",p);return}d.removeEventListener(ve[p],_,!1)}function $e(d){Ie[d.pointerId]=d}function ht(d){Ie[d.pointerId]&&(Ie[d.pointerId]=d)}function pt(d){delete Ie[d.pointerId]}function At(){Ye||(document.addEventListener(te,$e,!0),document.addEventListener(be,ht,!0),document.addEventListener(me,pt,!0),document.addEventListener(pe,pt,!0),Ye=!0)}function mt(d,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var _ in Ie)p.touches.push(Ie[_]);p.changedTouches=[p],d(p)}}function Nt(d,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&wa(p),mt(d,p)}function Zt(d){var p={},_,T;for(T in d)_=d[T],p[T]=_&&_.bind?_.bind(d):_;return d=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Vr=200;function vr(d,p){d.addEventListener("dblclick",p);var _=0,T;function V(ie){if(ie.detail!==1){T=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var Ee=po(ie);if(!(Ee.some(function(We){return We instanceof HTMLLabelElement&&We.attributes.for})&&!Ee.some(function(We){return We instanceof HTMLInputElement||We instanceof HTMLSelectElement}))){var Be=Date.now();Be-_<=Vr?(T++,T===2&&p(Zt(ie))):T=1,_=Be}}}return d.addEventListener("click",V),{dblclick:p,simDblclick:V}}function Ca(d,p){d.removeEventListener("dblclick",p.dblclick),d.removeEventListener("click",p.simDblclick)}var ti=dd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gn=dd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ri=Gn==="webkitTransition"||Gn==="OTransition"?Gn+"End":"transitionend";function Ps(d){return typeof d=="string"?document.getElementById(d):d}function ri(d,p){var _=d.style[p]||d.currentStyle&&d.currentStyle[p];if((!_||_==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(d,null);_=T?T[p]:null}return _==="auto"?null:_}function Yt(d,p,_){var T=document.createElement(d);return T.className=p||"",_&&_.appendChild(T),T}function qr(d){var p=d.parentNode;p&&p.removeChild(d)}function cd(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function ca(d){var p=d.parentNode;p&&p.lastChild!==d&&p.appendChild(d)}function Go(d){var p=d.parentNode;p&&p.firstChild!==d&&p.insertBefore(d,p.firstChild)}function ai(d,p){if(d.classList!==void 0)return d.classList.contains(p);var _=La(d);return _.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(_)}function ar(d,p){if(d.classList!==void 0)for(var _=y(p),T=0,V=_.length;T<V;T++)d.classList.add(_[T]);else if(!ai(d,p)){var ie=La(d);gs(d,(ie?ie+" ":"")+p)}}function ga(d,p){d.classList!==void 0?d.classList.remove(p):gs(d,g((" "+La(d)+" ").replace(" "+p+" "," ")))}function gs(d,p){d.className.baseVal===void 0?d.className=p:d.className.baseVal=p}function La(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Ua(d,p){"opacity"in d.style?d.style.opacity=p:"filter"in d.style&&Fh(d,p)}function Fh(d,p){var _=!1,T="DXImageTransform.Microsoft.Alpha";try{_=d.filters.item(T)}catch{if(p===1)return}p=Math.round(p*100),_?(_.Enabled=p!==100,_.Opacity=p):d.style.filter+=" progid:"+T+"(opacity="+p+")"}function dd(d){for(var p=document.documentElement.style,_=0;_<d.length;_++)if(d[_]in p)return d[_];return!1}function Yo(d,p,_){var T=p||new oe(0,0);d.style[ti]=(St.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(_?" scale("+_+")":"")}function Fr(d,p){d._leaflet_pos=p,St.any3d?Yo(d,p):(d.style.left=p.x+"px",d.style.top=p.y+"px")}function mo(d){return d._leaflet_pos||new oe(0,0)}var zl,go,Ko;if("onselectstart"in document)zl=function(){xt(window,"selectstart",wa)},go=function(){$r(window,"selectstart",wa)};else{var xc=dd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);zl=function(){if(xc){var d=document.documentElement.style;Ko=d[xc],d[xc]="none"}},go=function(){xc&&(document.documentElement.style[xc]=Ko,Ko=void 0)}}function Nu(){xt(window,"dragstart",wa)}function ku(){$r(window,"dragstart",wa)}var Ul,ud;function Ms(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(hd(),Ul=d,ud=d.style.outlineStyle,d.style.outlineStyle="none",xt(window,"keydown",hd))}function hd(){Ul&&(Ul.style.outlineStyle=ud,Ul=void 0,ud=void 0,$r(window,"keydown",hd))}function Vl(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function yc(d){var p=d.getBoundingClientRect();return{x:p.width/d.offsetWidth||1,y:p.height/d.offsetHeight||1,boundingClientRect:p}}var Xf={__proto__:null,TRANSFORM:ti,TRANSITION:Gn,TRANSITION_END:Ri,get:Ps,getStyle:ri,create:Yt,remove:qr,empty:cd,toFront:ca,toBack:Go,hasClass:ai,addClass:ar,removeClass:ga,setClass:gs,getClass:La,setOpacity:Ua,testProp:dd,setTransform:Yo,setPosition:Fr,getPosition:mo,get disableTextSelection(){return zl},get enableTextSelection(){return go},disableImageDrag:Nu,enableImageDrag:ku,preventOutline:Ms,restoreOutline:hd,getSizedParentNode:Vl,getScale:yc};function xt(d,p,_,T){if(p&&typeof p=="object")for(var V in p)Di(d,V,p[V],_);else{p=y(p);for(var ie=0,Ee=p.length;ie<Ee;ie++)Di(d,p[ie],_,T)}return this}var ni="_leaflet_events";function $r(d,p,_,T){if(arguments.length===1)Bh(d),delete d[ni];else if(p&&typeof p=="object")for(var V in p)ju(d,V,p[V],_);else if(p=y(p),arguments.length===2)Bh(d,function(Be){return S(p,Be)!==-1});else for(var ie=0,Ee=p.length;ie<Ee;ie++)ju(d,p[ie],_,T);return this}function Bh(d,p){for(var _ in d[ni]){var T=_.split(/\d/)[0];(!p||p(T))&&ju(d,T,null,null,_)}}var Oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Di(d,p,_,T){var V=p+c(_)+(T?"_"+c(T):"");if(d[ni]&&d[ni][V])return this;var ie=function(Be){return _.call(T||d,Be||window.event)},Ee=ie;!St.touchNative&&St.pointer&&p.indexOf("touch")===0?ie=ze(d,p,ie):St.touch&&p==="dblclick"?ie=vr(d,ie):"addEventListener"in d?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?d.addEventListener(Oi[p]||p,ie,St.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(ie=function(Be){Be=Be||window.event,md(d,Be)&&Ee(Be)},d.addEventListener(Oi[p],ie,!1)):d.addEventListener(p,Ee,!1):d.attachEvent("on"+p,ie),d[ni]=d[ni]||{},d[ni][V]=ie}function ju(d,p,_,T,V){V=V||p+c(_)+(T?"_"+c(T):"");var ie=d[ni]&&d[ni][V];if(!ie)return this;!St.touchNative&&St.pointer&&p.indexOf("touch")===0?Ue(d,p,ie):St.touch&&p==="dblclick"?Ca(d,ie):"removeEventListener"in d?d.removeEventListener(Oi[p]||p,ie,!1):d.detachEvent("on"+p,ie),d[ni][V]=null}function Zo(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function ql(d){return Di(d,"wheel",Zo),this}function Xo(d){return xt(d,"mousedown touchstart dblclick contextmenu",Zo),d._leaflet_disable_click=!0,this}function wa(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Jo(d){return wa(d),Zo(d),this}function po(d){if(d.composedPath)return d.composedPath();for(var p=[],_=d.target;_;)p.push(_),_=_.parentNode;return p}function zh(d,p){if(!p)return new oe(d.clientX,d.clientY);var _=yc(p),T=_.boundingClientRect;return new oe((d.clientX-T.left)/_.x-p.clientLeft,(d.clientY-T.top)/_.y-p.clientTop)}var Su=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fd(d){return St.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Su:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function md(d,p){var _=p.relatedTarget;if(!_)return!0;try{for(;_&&_!==d;)_=_.parentNode}catch{return!1}return _!==d}var Qo={__proto__:null,on:xt,off:$r,stopPropagation:Zo,disableScrollPropagation:ql,disableClickPropagation:Xo,preventDefault:wa,stop:Jo,getPropagationPath:po,getMousePosition:zh,getWheelDelta:fd,isExternalTarget:md,addListener:xt,removeListener:$r},gd=xe.extend({run:function(d,p,_,T){this.stop(),this._el=d,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=mo(d),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(d){var p=+new Date-this._startTime,_=this._duration*1e3;p<_?this._runFrame(this._easeOut(p/_),d):(this._runFrame(1),this._complete())},_runFrame:function(d,p){var _=this._startPos.add(this._offset.multiplyBy(d));p&&_._round(),Fr(this._el,_),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),dr=xe.extend({options:{crs:Oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,p){p=x(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(W(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gn&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,Ri,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,p,_){if(p=p===void 0?this._zoom:this._limitZoom(p),d=this._limitCenter(W(d),p,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=s({animate:_.animate},_.zoom),_.pan=s({animate:_.animate,duration:_.duration},_.pan));var T=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,p,_.zoom):this._tryAnimatedPan(d,_.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(d,p,_.pan&&_.pan.noMoveStart),this},setZoom:function(d,p){return this._loaded?this.setView(this.getCenter(),d,{zoom:p}):(this._zoom=d,this)},zoomIn:function(d,p){return d=d||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,p)},zoomOut:function(d,p){return d=d||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,p)},setZoomAround:function(d,p,_){var T=this.getZoomScale(p),V=this.getSize().divideBy(2),ie=d instanceof oe?d:this.latLngToContainerPoint(d),Ee=ie.subtract(V).multiplyBy(1-1/T),Be=this.containerPointToLatLng(V.add(Ee));return this.setView(Be,p,{zoom:_})},_getBoundsCenterZoom:function(d,p){p=p||{},d=d.getBounds?d.getBounds():O(d);var _=Se(p.paddingTopLeft||p.padding||[0,0]),T=Se(p.paddingBottomRight||p.padding||[0,0]),V=this.getBoundsZoom(d,!1,_.add(T));if(V=typeof p.maxZoom=="number"?Math.min(p.maxZoom,V):V,V===1/0)return{center:d.getCenter(),zoom:V};var ie=T.subtract(_).divideBy(2),Ee=this.project(d.getSouthWest(),V),Be=this.project(d.getNorthEast(),V),We=this.unproject(Ee.add(Be).divideBy(2).add(ie),V);return{center:We,zoom:V}},fitBounds:function(d,p){if(d=O(d),!d.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(d,p);return this.setView(_.center,_.zoom,p)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,p){return this.setView(d,this._zoom,{pan:p})},panBy:function(d,p){if(d=Se(d).round(),p=p||{},!d.x&&!d.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){ar(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,_,p.duration||.25,p.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,p,_){if(_=_||{},_.animate===!1||!St.any3d)return this.setView(d,p,_);this._stop();var T=this.project(this.getCenter()),V=this.project(d),ie=this.getSize(),Ee=this._zoom;d=W(d),p=p===void 0?Ee:p;var Be=Math.max(ie.x,ie.y),We=Be*this.getZoomScale(Ee,p),ct=V.distanceTo(T)||1,Tt=1.42,Wt=Tt*Tt;function fr(Yr){var Kn=Yr?-1:1,yv=Yr?We:Be,vv=We*We-Be*Be+Kn*Wt*Wt*ct*ct,Pp=2*yv*Wt*ct,Kh=vv/Pp,sm=Math.sqrt(Kh*Kh+1)-Kh,Mp=sm<1e-9?-18:Math.log(sm);return Mp}function Yn(Yr){return(Math.exp(Yr)-Math.exp(-Yr))/2}function rn(Yr){return(Math.exp(Yr)+Math.exp(-Yr))/2}function di(Yr){return Yn(Yr)/rn(Yr)}var bs=fr(0);function _d(Yr){return Be*(rn(bs)/rn(bs+Tt*Yr))}function pv(Yr){return Be*(rn(bs)*di(bs+Tt*Yr)-Yn(bs))/Wt}function Kl(Yr){return 1-Math.pow(1-Yr,1.5)}var zi=Date.now(),So=(fr(1)-bs)/Tt,xv=_.duration?1e3*_.duration:1e3*So*.8;function nm(){var Yr=(Date.now()-zi)/xv,Kn=Kl(Yr)*So;Yr<=1?(this._flyToFrame=I(nm,this),this._move(this.unproject(T.add(V.subtract(T).multiplyBy(pv(Kn)/ct)),Ee),this.getScaleZoom(Be/_d(Kn),Ee),{flyTo:!0})):this._move(d,p)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),nm.call(this),this},flyToBounds:function(d,p){var _=this._getBoundsCenterZoom(d,p);return this.flyTo(_.center,_.zoom,p)},setMaxBounds:function(d){return d=O(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var p=this.options.minZoom;return this.options.minZoom=d,this._loaded&&p!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var p=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&p!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,p){this._enforcingBounds=!0;var _=this.getCenter(),T=this._limitCenter(_,this._zoom,O(d));return _.equals(T)||this.panTo(T,p),this._enforcingBounds=!1,this},panInside:function(d,p){p=p||{};var _=Se(p.paddingTopLeft||p.padding||[0,0]),T=Se(p.paddingBottomRight||p.padding||[0,0]),V=this.project(this.getCenter()),ie=this.project(d),Ee=this.getPixelBounds(),Be=A([Ee.min.add(_),Ee.max.subtract(T)]),We=Be.getSize();if(!Be.contains(ie)){this._enforcingBounds=!0;var ct=ie.subtract(Be.getCenter()),Tt=Be.extend(ie).getSize().subtract(We);V.x+=ct.x<0?-Tt.x:Tt.x,V.y+=ct.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(V),p),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=s({animate:!1,pan:!0},d===!0?{animate:!0}:d);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),T=p.divideBy(2).round(),V=_.divideBy(2).round(),ie=T.subtract(V);return!ie.x&&!ie.y?this:(d.animate&&d.pan?this.panBy(ie):(d.pan&&this._rawPanBy(ie),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=s({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=o(this._handleGeolocationResponse,this),_=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,_,d):navigator.geolocation.getCurrentPosition(p,_,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var p=d.code,_=d.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var p=d.coords.latitude,_=d.coords.longitude,T=new R(p,_),V=T.toBounds(d.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var Ee=this.getBoundsZoom(V);this.setView(T,ie.maxZoom?Math.min(Ee,ie.maxZoom):Ee)}var Be={latlng:T,bounds:V,timestamp:d.timestamp};for(var We in d.coords)typeof d.coords[We]=="number"&&(Be[We]=d.coords[We]);this.fire("locationfound",Be)}},addHandler:function(d,p){if(!p)return this;var _=this[d]=new p(this);return this._handlers.push(_),this.options[d]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)qr(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,p){var _="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),T=Yt("div",_,p||this._mapPane);return d&&(this._panes[d]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),p=this.unproject(d.getBottomLeft()),_=this.unproject(d.getTopRight());return new z(p,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,p,_){d=O(d),_=Se(_||[0,0]);var T=this.getZoom()||0,V=this.getMinZoom(),ie=this.getMaxZoom(),Ee=d.getNorthWest(),Be=d.getSouthEast(),We=this.getSize().subtract(_),ct=A(this.project(Be,T),this.project(Ee,T)).getSize(),Tt=St.any3d?this.options.zoomSnap:1,Wt=We.x/ct.x,fr=We.y/ct.y,Yn=p?Math.max(Wt,fr):Math.min(Wt,fr);return T=this.getScaleZoom(Yn,T),Tt&&(T=Math.round(T/(Tt/100))*(Tt/100),T=p?Math.ceil(T/Tt)*Tt:Math.floor(T/Tt)*Tt),Math.max(V,Math.min(ie,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,p){var _=this._getTopLeftPoint(d,p);return new K(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,p){var _=this.options.crs;return p=p===void 0?this._zoom:p,_.scale(d)/_.scale(p)},getScaleZoom:function(d,p){var _=this.options.crs;p=p===void 0?this._zoom:p;var T=_.zoom(d*_.scale(p));return isNaN(T)?1/0:T},project:function(d,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(W(d),p)},unproject:function(d,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(Se(d),p)},layerPointToLatLng:function(d){var p=Se(d).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(d){var p=this.project(W(d))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(W(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(O(d))},distance:function(d,p){return this.options.crs.distance(W(d),W(p))},containerPointToLayerPoint:function(d){return Se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return Se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var p=this.containerPointToLayerPoint(Se(d));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(d)))},mouseEventToContainerPoint:function(d){return zh(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var p=this._container=Ps(d);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xt(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,ar(d,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=ri(d,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fr(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ar(d.markerPane,"leaflet-zoom-hide"),ar(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,p,_){Fr(this._mapPane,new oe(0,0));var T=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var V=this._zoom!==p;this._moveStart(V,_)._move(d,p)._moveEnd(V),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(d,p){return d&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(d,p,_,T){p===void 0&&(p=this._zoom);var V=this._zoom!==p;return this._zoom=p,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),T?_&&_.pinch&&this.fire("zoom",_):((V||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Fr(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var p=d?$r:xt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,p){for(var _=[],T,V=p==="mouseout"||p==="mouseover",ie=d.target||d.srcElement,Ee=!1;ie;){if(T=this._targets[c(ie)],T&&(p==="click"||p==="preclick")&&this._draggableMoved(T)){Ee=!0;break}if(T&&T.listens(p,!0)&&(V&&!md(ie,d)||(_.push(T),V))||ie===this._container)break;ie=ie.parentNode}return!_.length&&!Ee&&!V&&this.listens(p,!0)&&(_=[this]),_},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var p=d.target||d.srcElement;if(!(!this._loaded||p._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(p))){var _=d.type;_==="mousedown"&&Ms(p),this._fireDOMEvent(d,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,p,_){if(d.type==="click"){var T=s({},d);T.type="preclick",this._fireDOMEvent(T,T.type,_)}var V=this._findEventTargets(d,p);if(_){for(var ie=[],Ee=0;Ee<_.length;Ee++)_[Ee].listens(p,!0)&&ie.push(_[Ee]);V=ie.concat(V)}if(V.length){p==="contextmenu"&&wa(d);var Be=V[0],We={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var ct=Be.getLatLng&&(!Be._radius||Be._radius<=10);We.containerPoint=ct?this.latLngToContainerPoint(Be.getLatLng()):this.mouseEventToContainerPoint(d),We.layerPoint=this.containerPointToLayerPoint(We.containerPoint),We.latlng=ct?Be.getLatLng():this.layerPointToLatLng(We.layerPoint)}for(Ee=0;Ee<V.length;Ee++)if(V[Ee].fire(p,We,!0),We.originalEvent._stopped||V[Ee].options.bubblingMouseEvents===!1&&S(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,p=this._handlers.length;d<p;d++)this._handlers[d].disable()},whenReady:function(d,p){return this._loaded?d.call(p||this,{target:this}):this.on("load",d,p),this},_getMapPanePos:function(){return mo(this._mapPane)||new oe(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,p){var _=d&&p!==void 0?this._getNewPixelOrigin(d,p):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,p){var _=this.getSize()._divideBy(2);return this.project(d,p)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,p,_){var T=this._getNewPixelOrigin(_,p);return this.project(d,p)._subtract(T)},_latLngBoundsToNewLayerBounds:function(d,p,_){var T=this._getNewPixelOrigin(_,p);return A([this.project(d.getSouthWest(),p)._subtract(T),this.project(d.getNorthWest(),p)._subtract(T),this.project(d.getSouthEast(),p)._subtract(T),this.project(d.getNorthEast(),p)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,p,_){if(!_)return d;var T=this.project(d,p),V=this.getSize().divideBy(2),ie=new K(T.subtract(V),T.add(V)),Ee=this._getBoundsOffset(ie,_,p);return Math.abs(Ee.x)<=1&&Math.abs(Ee.y)<=1?d:this.unproject(T.add(Ee),p)},_limitOffset:function(d,p){if(!p)return d;var _=this.getPixelBounds(),T=new K(_.min.add(d),_.max.add(d));return d.add(this._getBoundsOffset(T,p))},_getBoundsOffset:function(d,p,_){var T=A(this.project(p.getNorthEast(),_),this.project(p.getSouthWest(),_)),V=T.min.subtract(d.min),ie=T.max.subtract(d.max),Ee=this._rebound(V.x,-ie.x),Be=this._rebound(V.y,-ie.y);return new oe(Ee,Be)},_rebound:function(d,p){return d+p>0?Math.round(d-p)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(p))},_limitZoom:function(d){var p=this.getMinZoom(),_=this.getMaxZoom(),T=St.any3d?this.options.zoomSnap:1;return T&&(d=Math.round(d/T)*T),Math.max(p,Math.min(_,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ga(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,p){var _=this._getCenterOffset(d)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,p),!0)},_createAnimProxy:function(){var d=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(p){var _=ti,T=this._proxy.style[_];Yo(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),T===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),p=this.getZoom();Yo(this._proxy,this.project(d,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,p,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(p),V=this._getCenterOffset(d)._divideBy(1-1/T);return _.animate!==!0&&!this.getSize().contains(V)?!1:(I(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(d,p,!0)},this),!0)},_animateZoom:function(d,p,_,T){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=p,ar(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:p,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ga(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Au(d,p){return new dr(d,p)}var Sn=ee.extend({options:{position:"topright"},initialize:function(d){x(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var p=this._map;return p&&p.removeControl(this),this.options.position=d,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var p=this._container=this.onAdd(d),_=this.getPosition(),T=d._controlCorners[_];return ar(p,"leaflet-control"),_.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),el=function(d){return new Sn(d)};dr.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},p="leaflet-",_=this._controlContainer=Yt("div",p+"control-container",this._container);function T(V,ie){var Ee=p+V+" "+p+ie;d[V+ie]=Yt("div",Ee,_)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)qr(this._controlCorners[d]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Eu=Sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,p,_,T){return _<T?-1:T<_?1:0}},initialize:function(d,p,_){x(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in d)this._addLayer(d[T],T);for(T in p)this._addLayer(p[T],T,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Sn.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,p){return this._addLayer(d,p),this._map?this._update():this},addOverlay:function(d,p){return this._addLayer(d,p,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(d));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){ar(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(ar(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):ga(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ga(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",p=this._container=Yt("div",d),_=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Xo(p),ql(p);var T=this._section=Yt("section",d+"-list");_&&(this._map.on("click",this.collapse,this),xt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=Yt("a",d+"-toggle",p);V.href="#",V.title="Layers",V.setAttribute("role","button"),xt(V,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){wa(ie),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Yt("div",d+"-base",T),this._separator=Yt("div",d+"-separator",T),this._overlaysList=Yt("div",d+"-overlays",T),p.appendChild(T)},_getLayer:function(d){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===d)return this._layers[p]},_addLayer:function(d,p,_){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:p,overlay:_}),this.options.sortLayers&&this._layers.sort(o(function(T,V){return this.options.sortFunction(T.layer,V.layer,T.name,V.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cd(this._baseLayersList),cd(this._overlaysList),this._layerControlInputs=[];var d,p,_,T,V=0;for(_=0;_<this._layers.length;_++)T=this._layers[_],this._addItem(T),p=p||T.overlay,d=d||!T.overlay,V+=T.overlay?0:1;return this.options.hideSingleBase&&(d=d&&V>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=p&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var p=this._getLayer(c(d.target)),_=p.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;_&&this._map.fire(_,p)},_createRadioElement:function(d,p){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(p?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=_,T.firstChild},_addItem:function(d){var p=document.createElement("label"),_=this._map.hasLayer(d.layer),T;d.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=_):T=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(T),T.layerId=c(d.layer),xt(T,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+d.name;var ie=document.createElement("span");p.appendChild(ie),ie.appendChild(T),ie.appendChild(V);var Ee=d.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,p,_,T=[],V=[];this._handlingClick=!0;for(var ie=d.length-1;ie>=0;ie--)p=d[ie],_=this._getLayer(p.layerId).layer,p.checked?T.push(_):p.checked||V.push(_);for(ie=0;ie<V.length;ie++)this._map.hasLayer(V[ie])&&this._map.removeLayer(V[ie]);for(ie=0;ie<T.length;ie++)this._map.hasLayer(T[ie])||this._map.addLayer(T[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,p,_,T=this._map.getZoom(),V=d.length-1;V>=0;V--)p=d[V],_=this._getLayer(p.layerId).layer,p.disabled=_.options.minZoom!==void 0&&T<_.options.minZoom||_.options.maxZoom!==void 0&&T>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,xt(d,"click",wa),this.expand();var p=this;setTimeout(function(){$r(d,"click",wa),p._preventClick=!1})}}),Uh=function(d,p,_){return new Eu(d,p,_)},Ii=Sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var p="leaflet-control-zoom",_=Yt("div",p+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,p+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,p+"-out",_,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,p,_,T,V){var ie=Yt("a",_,T);return ie.innerHTML=d,ie.href="#",ie.title=p,ie.setAttribute("role","button"),ie.setAttribute("aria-label",p),Xo(ie),xt(ie,"click",Jo),xt(ie,"click",V,this),xt(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var d=this._map,p="leaflet-disabled";ga(this._zoomInButton,p),ga(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(ar(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(ar(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});dr.mergeOptions({zoomControl:!0}),dr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ii,this.addControl(this.zoomControl))});var tl=function(d){return new Ii(d)},Tu=Sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var p="leaflet-control-scale",_=Yt("div",p),T=this.options;return this._addScales(T,p+"-line",_),d.on(T.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),_},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,p,_){d.metric&&(this._mScale=Yt("div",p,_)),d.imperial&&(this._iScale=Yt("div",p,_))},_update:function(){var d=this._map,p=d.getSize().y/2,_=d.distance(d.containerPointToLatLng([0,p]),d.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(_)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var p=this._getRoundNum(d),_=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,_,p/d)},_updateImperial:function(d){var p=d*3.2808399,_,T,V;p>5280?(_=p/5280,T=this._getRoundNum(_),this._updateScale(this._iScale,T+" mi",T/_)):(V=this._getRoundNum(p),this._updateScale(this._iScale,V+" ft",V/p))},_updateScale:function(d,p,_){d.style.width=Math.round(this.options.maxWidth*_)+"px",d.innerHTML=p},_getRoundNum:function(d){var p=Math.pow(10,(Math.floor(d)+"").length-1),_=d/p;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,p*_}}),vc=function(d){return new Tu(d)},Vh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E=Sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?Vh+" ":"")+"Leaflet</a>"},initialize:function(d){x(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),Xo(this._container);for(var p in d._layers)d._layers[p].getAttribution&&this.addAttribution(d._layers[p].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var p in this._attributions)this._attributions[p]&&d.push(p);var _=[];this.options.prefix&&_.push(this.options.prefix),d.length&&_.push(d.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});dr.mergeOptions({attributionControl:!0}),dr.addInitHook(function(){this.options.attributionControl&&new E().addTo(this)});var J=function(d){return new E(d)};Sn.Layers=Eu,Sn.Zoom=Ii,Sn.Scale=Tu,Sn.Attribution=E,el.layers=Uh,el.zoom=tl,el.scale=vc,el.attribution=J;var ye=ee.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(d,p){return d.addHandler(p,this),this};var Ce={Events:le},Re=St.touch?"touchstart mousedown":"mousedown",Ze=xe.extend({options:{clickTolerance:3},initialize:function(d,p,_,T){x(this,T),this._element=d,this._dragStartTarget=p||d,this._preventOutline=_},enable:function(){this._enabled||(xt(this._dragStartTarget,Re,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ze._dragging===this&&this.finishDrag(!0),$r(this._dragStartTarget,Re,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!ai(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ze._dragging===this&&this.finishDrag();return}if(!(Ze._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ze._dragging=this,this._preventOutline&&Ms(this._element),Nu(),zl(),!this._moving)){this.fire("down");var p=d.touches?d.touches[0]:d,_=Vl(this._element);this._startPoint=new oe(p.clientX,p.clientY),this._startPos=mo(this._element),this._parentScale=yc(_);var T=d.type==="mousedown";xt(document,T?"mousemove":"touchmove",this._onMove,this),xt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var p=d.touches&&d.touches.length===1?d.touches[0]:d,_=new oe(p.clientX,p.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,wa(d),this._moved||(this.fire("dragstart"),this._moved=!0,ar(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ar(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Fr(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){ga(document.body,"leaflet-dragging"),this._lastTarget&&(ga(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$r(document,"mousemove touchmove",this._onMove,this),$r(document,"mouseup touchend touchcancel",this._onUp,this),ku(),go();var p=this._moved&&this._moving;this._moving=!1,Ze._dragging=!1,p&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function ot(d,p,_){var T,V=[1,4,2,8],ie,Ee,Be,We,ct,Tt,Wt,fr;for(ie=0,Tt=d.length;ie<Tt;ie++)d[ie]._code=An(d[ie],p);for(Be=0;Be<4;Be++){for(Wt=V[Be],T=[],ie=0,Tt=d.length,Ee=Tt-1;ie<Tt;Ee=ie++)We=d[ie],ct=d[Ee],We._code&Wt?ct._code&Wt||(fr=si(ct,We,Wt,p,_),fr._code=An(fr,p),T.push(fr)):(ct._code&Wt&&(fr=si(ct,We,Wt,p,_),fr._code=An(fr,p),T.push(fr)),T.push(We));d=T}return d}function Pt(d,p){var _,T,V,ie,Ee,Be,We,ct,Tt;if(!d||d.length===0)throw new Error("latlngs not passed");En(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Wt=W([0,0]),fr=O(d),Yn=fr.getNorthWest().distanceTo(fr.getSouthWest())*fr.getNorthEast().distanceTo(fr.getNorthWest());Yn<1700&&(Wt=Dt(d));var rn=d.length,di=[];for(_=0;_<rn;_++){var bs=W(d[_]);di.push(p.project(W([bs.lat-Wt.lat,bs.lng-Wt.lng])))}for(Be=We=ct=0,_=0,T=rn-1;_<rn;T=_++)V=di[_],ie=di[T],Ee=V.y*ie.x-ie.y*V.x,We+=(V.x+ie.x)*Ee,ct+=(V.y+ie.y)*Ee,Be+=Ee*3;Be===0?Tt=di[0]:Tt=[We/Be,ct/Be];var _d=p.unproject(Se(Tt));return W([_d.lat+Wt.lat,_d.lng+Wt.lng])}function Dt(d){for(var p=0,_=0,T=0,V=0;V<d.length;V++){var ie=W(d[V]);p+=ie.lat,_+=ie.lng,T++}return W([p/T,_/T])}var tr={__proto__:null,clipPolygon:ot,polygonCenter:Pt,centroid:Dt};function sr(d,p){if(!p||!d.length)return d.slice();var _=p*p;return d=en(d,_),d=Va(d,_),d}function jr(d,p,_){return Math.sqrt(al(d,p,_,!0))}function _a(d,p,_){return al(d,p,_)}function Va(d,p){var _=d.length,T=typeof Uint8Array<"u"?Uint8Array:Array,V=new T(_);V[0]=V[_-1]=1,Hr(d,V,p,0,_-1);var ie,Ee=[];for(ie=0;ie<_;ie++)V[ie]&&Ee.push(d[ie]);return Ee}function Hr(d,p,_,T,V){var ie=0,Ee,Be,We;for(Be=T+1;Be<=V-1;Be++)We=al(d[Be],d[T],d[V],!0),We>ie&&(Ee=Be,ie=We);ie>_&&(p[Ee]=1,Hr(d,p,_,T,Ee),Hr(d,p,_,Ee,V))}function en(d,p){for(var _=[d[0]],T=1,V=0,ie=d.length;T<ie;T++)rl(d[T],d[V])>p&&(_.push(d[T]),V=T);return V<ie-1&&_.push(d[ie-1]),_}var Da;function hn(d,p,_,T,V){var ie=T?Da:An(d,_),Ee=An(p,_),Be,We,ct;for(Da=Ee;;){if(!(ie|Ee))return[d,p];if(ie&Ee)return!1;Be=ie||Ee,We=si(d,p,Be,_,V),ct=An(We,_),Be===ie?(d=We,ie=ct):(p=We,Ee=ct)}}function si(d,p,_,T,V){var ie=p.x-d.x,Ee=p.y-d.y,Be=T.min,We=T.max,ct,Tt;return _&8?(ct=d.x+ie*(We.y-d.y)/Ee,Tt=We.y):_&4?(ct=d.x+ie*(Be.y-d.y)/Ee,Tt=Be.y):_&2?(ct=We.x,Tt=d.y+Ee*(We.x-d.x)/ie):_&1&&(ct=Be.x,Tt=d.y+Ee*(Be.x-d.x)/ie),new oe(ct,Tt,V)}function An(d,p){var _=0;return d.x<p.min.x?_|=1:d.x>p.max.x&&(_|=2),d.y<p.min.y?_|=4:d.y>p.max.y&&(_|=8),_}function rl(d,p){var _=p.x-d.x,T=p.y-d.y;return _*_+T*T}function al(d,p,_,T){var V=p.x,ie=p.y,Ee=_.x-V,Be=_.y-ie,We=Ee*Ee+Be*Be,ct;return We>0&&(ct=((d.x-V)*Ee+(d.y-ie)*Be)/We,ct>1?(V=_.x,ie=_.y):ct>0&&(V+=Ee*ct,ie+=Be*ct)),Ee=d.x-V,Be=d.y-ie,T?Ee*Ee+Be*Be:new oe(V,ie)}function En(d){return!k(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function nl(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(d)}function $l(d,p){var _,T,V,ie,Ee,Be,We,ct;if(!d||d.length===0)throw new Error("latlngs not passed");En(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Tt=W([0,0]),Wt=O(d),fr=Wt.getNorthWest().distanceTo(Wt.getSouthWest())*Wt.getNorthEast().distanceTo(Wt.getNorthWest());fr<1700&&(Tt=Dt(d));var Yn=d.length,rn=[];for(_=0;_<Yn;_++){var di=W(d[_]);rn.push(p.project(W([di.lat-Tt.lat,di.lng-Tt.lng])))}for(_=0,T=0;_<Yn-1;_++)T+=rn[_].distanceTo(rn[_+1])/2;if(T===0)ct=rn[0];else for(_=0,ie=0;_<Yn-1;_++)if(Ee=rn[_],Be=rn[_+1],V=Ee.distanceTo(Be),ie+=V,ie>T){We=(ie-T)/V,ct=[Be.x-We*(Be.x-Ee.x),Be.y-We*(Be.y-Ee.y)];break}var bs=p.unproject(Se(ct));return W([bs.lat+Tt.lat,bs.lng+Tt.lng])}var bc={__proto__:null,simplify:sr,pointToSegmentDistance:jr,closestPointOnSegment:_a,clipSegment:hn,_getEdgeIntersection:si,_getBitCode:An,_sqClosestPointOnSegment:al,isFlat:En,_flat:nl,polylineCenter:$l},xo={project:function(d){return new oe(d.lng,d.lat)},unproject:function(d){return new R(d.y,d.x)},bounds:new K([-180,-90],[180,90])},tn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var p=Math.PI/180,_=this.R,T=d.lat*p,V=this.R_MINOR/_,ie=Math.sqrt(1-V*V),Ee=ie*Math.sin(T),Be=Math.tan(Math.PI/4-T/2)/Math.pow((1-Ee)/(1+Ee),ie/2);return T=-_*Math.log(Math.max(Be,1e-10)),new oe(d.lng*p*_,T)},unproject:function(d){for(var p=180/Math.PI,_=this.R,T=this.R_MINOR/_,V=Math.sqrt(1-T*T),ie=Math.exp(-d.y/_),Ee=Math.PI/2-2*Math.atan(ie),Be=0,We=.1,ct;Be<15&&Math.abs(We)>1e-7;Be++)ct=V*Math.sin(Ee),ct=Math.pow((1-ct)/(1+ct),V/2),We=Math.PI/2-2*Math.atan(ie*ct)-Ee,Ee+=We;return new R(Ee*p,d.x*p/_)}},wc={__proto__:null,LonLat:xo,Mercator:tn,SphericalMercator:Z},_c=s({},ne,{code:"EPSG:3395",projection:tn,transformation:function(){var d=.5/(Math.PI*tn.R);return Le(d,.5,-d,.5)}()}),pd=s({},ne,{code:"EPSG:4326",projection:xo,transformation:Le(1/180,1,-1/180,.5)}),Cu=s({},X,{projection:xo,transformation:Le(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,p){var _=p.lng-d.lng,T=p.lat-d.lat;return Math.sqrt(_*_+T*T)},infinite:!0});X.Earth=ne,X.EPSG3395=_c,X.EPSG3857=Oe,X.EPSG900913=Ge,X.EPSG4326=pd,X.Simple=Cu;var da=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var p=d.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var _=this.getEvents();p.on(_,this),this.once("remove",function(){p.off(_,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});dr.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(d);return this._layers[p]?this:(this._layers[p]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var p=c(d);return this._layers[p]?(this._loaded&&d.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,p){for(var _ in this._layers)d.call(p,this._layers[_]);return this},_addLayers:function(d){d=d?k(d)?d:[d]:[];for(var p=0,_=d.length;p<_;p++)this.addLayer(d[p])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var p=c(d);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,p=-1/0,_=this._getZoomSpan();for(var T in this._zoomBoundLayers){var V=this._zoomBoundLayers[T].options;d=V.minZoom===void 0?d:Math.min(d,V.minZoom),p=V.maxZoom===void 0?p:Math.max(p,V.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=d===1/0?void 0:d,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ps=da.extend({initialize:function(d,p){x(this,p),this._layers={};var _,T;if(d)for(_=0,T=d.length;_<T;_++)this.addLayer(d[_])},addLayer:function(d){var p=this.getLayerId(d);return this._layers[p]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var p=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(d){var p=typeof d=="number"?d:this.getLayerId(d);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var p=Array.prototype.slice.call(arguments,1),_,T;for(_ in this._layers)T=this._layers[_],T[d]&&T[d].apply(T,p);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,p){for(var _ in this._layers)d.call(p,this._layers[_]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),xd=function(d,p){return new ps(d,p)},ii=ps.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),ps.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),ps.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new z;for(var p in this._layers){var _=this._layers[p];d.extend(_.getBounds?_.getBounds():_.getLatLng())}return d}}),oi=function(d,p){return new ii(d,p)},li=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){x(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,p){var _=this._getIconUrl(d);if(!_){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(_,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(T,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(d,p){var _=this.options,T=_[p+"Size"];typeof T=="number"&&(T=[T,T]);var V=Se(T),ie=Se(p==="shadow"&&_.shadowAnchor||_.iconAnchor||V&&V.divideBy(2,!0));d.className="leaflet-marker-"+p+" "+(_.className||""),ie&&(d.style.marginLeft=-ie.x+"px",d.style.marginTop=-ie.y+"px"),V&&(d.style.width=V.x+"px",d.style.height=V.y+"px")},_createImg:function(d,p){return p=p||document.createElement("img"),p.src=d,p},_getIconUrl:function(d){return St.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Lu(d){return new li(d)}var sl=li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof sl.imagePath!="string"&&(sl.imagePath=this._detectIconPath()),(this.options.imagePath||sl.imagePath)+li.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var p=function(_,T,V){var ie=T.exec(_);return ie&&ie[V]};return d=p(d,/^url\((['"])?(.+)\1\)$/,2),d&&p(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Yt("div","leaflet-default-icon-path",document.body),p=ri(d,"background-image")||ri(d,"backgroundImage");if(document.body.removeChild(d),p=this._stripUrl(p),p)return p;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),il=ye.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ze(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ar(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ga(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var p=this._marker,_=p._map,T=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,ie=mo(p._icon),Ee=_.getPixelBounds(),Be=_.getPixelOrigin(),We=A(Ee.min._subtract(Be).add(V),Ee.max._subtract(Be).subtract(V));if(!We.contains(ie)){var ct=Se((Math.max(We.max.x,ie.x)-We.max.x)/(Ee.max.x-We.max.x)-(Math.min(We.min.x,ie.x)-We.min.x)/(Ee.min.x-We.min.x),(Math.max(We.max.y,ie.y)-We.max.y)/(Ee.max.y-We.max.y)-(Math.min(We.min.y,ie.y)-We.min.y)/(Ee.min.y-We.min.y)).multiplyBy(T);_.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),Fr(p._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=I(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,d)))},_onDrag:function(d){var p=this._marker,_=p._shadow,T=mo(p._icon),V=p._map.layerPointToLatLng(T);_&&Fr(_,T),p._latlng=V,d.latlng=V,d.oldLatLng=this._oldLatLng,p.fire("move",d).fire("drag",d)},_onDragEnd:function(d){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),yo=da.extend({options:{icon:new sl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,p){x(this,p),this._latlng=W(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var p=this._latlng;return this._latlng=W(d),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=d.icon.createIcon(this._icon),T=!1;_!==this._icon&&(this._icon&&this._removeIcon(),T=!0,d.title&&(_.title=d.title),_.tagName==="IMG"&&(_.alt=d.alt||"")),ar(_,p),d.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(_,"focus",this._panOnFocus,this);var V=d.icon.createShadow(this._shadow),ie=!1;V!==this._shadow&&(this._removeShadow(),ie=!0),V&&(ar(V,p),V.alt=""),this._shadow=V,d.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&ie&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$r(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Fr(this._icon,d),this._shadow&&Fr(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(ar(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),il)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new il(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Ua(this._icon,d),this._shadow&&Ua(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var p=this.options.icon.options,_=p.iconSize?Se(p.iconSize):Se(0,0),T=p.iconAnchor?Se(p.iconAnchor):Se(0,0);d.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:_.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rs(d,p){return new yo(d,p)}var qa=da.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return x(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fi=qa.extend({options:{fill:!0,radius:10},initialize:function(d,p){x(this,p),this._latlng=W(d),this._radius=this.options.radius},setLatLng:function(d){var p=this._latlng;return this._latlng=W(d),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var p=d&&d.radius||this._radius;return qa.prototype.setStyle.call(this,d),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,p=this._radiusY||d,_=this._clickTolerance(),T=[d+_,p+_];this._pxBounds=new K(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ol(d,p){return new Fi(d,p)}var vo=Fi.extend({initialize:function(d,p,_){if(typeof p=="number"&&(p=s({},_,{radius:p})),x(this,p),this._latlng=W(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:qa.prototype.setStyle,_project:function(){var d=this._latlng.lng,p=this._latlng.lat,_=this._map,T=_.options.crs;if(T.distance===ne.distance){var V=Math.PI/180,ie=this._mRadius/ne.R/V,Ee=_.project([p+ie,d]),Be=_.project([p-ie,d]),We=Ee.add(Be).divideBy(2),ct=_.unproject(We).lat,Tt=Math.acos((Math.cos(ie*V)-Math.sin(p*V)*Math.sin(ct*V))/(Math.cos(p*V)*Math.cos(ct*V)))/V;(isNaN(Tt)||Tt===0)&&(Tt=ie/Math.cos(Math.PI/180*p)),this._point=We.subtract(_.getPixelOrigin()),this._radius=isNaN(Tt)?0:We.x-_.project([ct,d-Tt]).x,this._radiusY=We.y-Ee.y}else{var Wt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Wt).x}this._updateBounds()}});function Pu(d,p,_){return new vo(d,p,_)}var xs=qa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,p){x(this,p),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var p=1/0,_=null,T=al,V,ie,Ee=0,Be=this._parts.length;Ee<Be;Ee++)for(var We=this._parts[Ee],ct=1,Tt=We.length;ct<Tt;ct++){V=We[ct-1],ie=We[ct];var Wt=T(d,V,ie,!0);Wt<p&&(p=Wt,_=T(d,V,ie))}return _&&(_.distance=Math.sqrt(p)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,p){return p=p||this._defaultShape(),d=W(d),p.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new z,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var p=[],_=En(d),T=0,V=d.length;T<V;T++)_?(p[T]=W(d[T]),this._bounds.extend(p[T])):p[T]=this._convertLatLngs(d[T]);return p},_project:function(){var d=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),p=new oe(d,d);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(d,p,_){var T=d[0]instanceof R,V=d.length,ie,Ee;if(T){for(Ee=[],ie=0;ie<V;ie++)Ee[ie]=this._map.latLngToLayerPoint(d[ie]),_.extend(Ee[ie]);p.push(Ee)}else for(ie=0;ie<V;ie++)this._projectLatlngs(d[ie],p,_)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,_,T,V,ie,Ee,Be,We;for(_=0,V=0,ie=this._rings.length;_<ie;_++)for(We=this._rings[_],T=0,Ee=We.length;T<Ee-1;T++)Be=hn(We[T],We[T+1],d,T,!0),Be&&(p[V]=p[V]||[],p[V].push(Be[0]),(Be[1]!==We[T+1]||T===Ee-2)&&(p[V].push(Be[1]),V++))}},_simplifyPoints:function(){for(var d=this._parts,p=this.options.smoothFactor,_=0,T=d.length;_<T;_++)d[_]=sr(d[_],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,p){var _,T,V,ie,Ee,Be,We=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(_=0,ie=this._parts.length;_<ie;_++)for(Be=this._parts[_],T=0,Ee=Be.length,V=Ee-1;T<Ee;V=T++)if(!(!p&&T===0)&&jr(d,Be[V],Be[T])<=We)return!0;return!1}});function Ia(d,p){return new xs(d,p)}xs._flat=nl;var ll=xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var p=xs.prototype._convertLatLngs.call(this,d),_=p.length;return _>=2&&p[0]instanceof R&&p[0].equals(p[_-1])&&p.pop(),p},_setLatLngs:function(d){xs.prototype._setLatLngs.call(this,d),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,p=this.options.weight,_=new oe(p,p);if(d=new K(d.min.subtract(_),d.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,V=this._rings.length,ie;T<V;T++)ie=ot(this._rings[T],d,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var p=!1,_,T,V,ie,Ee,Be,We,ct;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(ie=0,We=this._parts.length;ie<We;ie++)for(_=this._parts[ie],Ee=0,ct=_.length,Be=ct-1;Ee<ct;Be=Ee++)T=_[Ee],V=_[Be],T.y>d.y!=V.y>d.y&&d.x<(V.x-T.x)*(d.y-T.y)/(V.y-T.y)+T.x&&(p=!p);return p||xs.prototype._containsPoint.call(this,d,!0)}});function bo(d,p){return new ll(d,p)}var fn=ii.extend({initialize:function(d,p){x(this,p),this._layers={},d&&this.addData(d)},addData:function(d){var p=k(d)?d:d.features,_,T,V;if(p){for(_=0,T=p.length;_<T;_++)V=p[_],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var ie=this.options;if(ie.filter&&!ie.filter(d))return this;var Ee=Hl(d,ie);return Ee?(Ee.feature=_o(d),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),ie.onEachFeature&&ie.onEachFeature(d,Ee),this.addLayer(Ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=s({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(p){this._setLayerStyle(p,d)},this)},_setLayerStyle:function(d,p){d.setStyle&&(typeof p=="function"&&(p=p(d.feature)),d.setStyle(p))}});function Hl(d,p){var _=d.type==="Feature"?d.geometry:d,T=_?_.coordinates:null,V=[],ie=p&&p.pointToLayer,Ee=p&&p.coordsToLatLng||Nc,Be,We,ct,Tt;if(!T&&!_)return null;switch(_.type){case"Point":return Be=Ee(T),yd(ie,d,Be,p);case"MultiPoint":for(ct=0,Tt=T.length;ct<Tt;ct++)Be=Ee(T[ct]),V.push(yd(ie,d,Be,p));return new ii(V);case"LineString":case"MultiLineString":return We=Wl(T,_.type==="LineString"?0:1,Ee),new xs(We,p);case"Polygon":case"MultiPolygon":return We=Wl(T,_.type==="Polygon"?1:2,Ee),new ll(We,p);case"GeometryCollection":for(ct=0,Tt=_.geometries.length;ct<Tt;ct++){var Wt=Hl({geometry:_.geometries[ct],type:"Feature",properties:d.properties},p);Wt&&V.push(Wt)}return new ii(V);case"FeatureCollection":for(ct=0,Tt=_.features.length;ct<Tt;ct++){var fr=Hl(_.features[ct],p);fr&&V.push(fr)}return new ii(V);default:throw new Error("Invalid GeoJSON object.")}}function yd(d,p,_,T){return d?d(p,_):new yo(_,T&&T.markersInheritOptions&&T)}function Nc(d){return new R(d[1],d[0],d[2])}function Wl(d,p,_){for(var T=[],V=0,ie=d.length,Ee;V<ie;V++)Ee=p?Wl(d[V],p-1,_):(_||Nc)(d[V]),T.push(Ee);return T}function wo(d,p){return d=W(d),d.alt!==void 0?[m(d.lng,p),m(d.lat,p),m(d.alt,p)]:[m(d.lng,p),m(d.lat,p)]}function Bi(d,p,_,T){for(var V=[],ie=0,Ee=d.length;ie<Ee;ie++)V.push(p?Bi(d[ie],En(d[ie])?0:p-1,_,T):wo(d[ie],T));return!p&&_&&V.length>0&&V.push(V[0].slice()),V}function Os(d,p){return d.feature?s({},d.feature,{geometry:p}):_o(p)}function _o(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var No={toGeoJSON:function(d){return Os(this,{type:"Point",coordinates:wo(this.getLatLng(),d)})}};yo.include(No),vo.include(No),Fi.include(No),xs.include({toGeoJSON:function(d){var p=!En(this._latlngs),_=Bi(this._latlngs,p?1:0,!1,d);return Os(this,{type:(p?"Multi":"")+"LineString",coordinates:_})}}),ll.include({toGeoJSON:function(d){var p=!En(this._latlngs),_=p&&!En(this._latlngs[0]),T=Bi(this._latlngs,_?2:p?1:0,!0,d);return p||(T=[T]),Os(this,{type:(_?"Multi":"")+"Polygon",coordinates:T})}}),ps.include({toMultiPoint:function(d){var p=[];return this.eachLayer(function(_){p.push(_.toGeoJSON(d).geometry.coordinates)}),Os(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(d){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(d);var _=p==="GeometryCollection",T=[];return this.eachLayer(function(V){if(V.toGeoJSON){var ie=V.toGeoJSON(d);if(_)T.push(ie.geometry);else{var Ee=_o(ie);Ee.type==="FeatureCollection"?T.push.apply(T,Ee.features):T.push(Ee)}}}),_?Os(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Gl(d,p){return new fn(d,p)}var ci=Gl,Ds=da.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,p,_){this._url=d,this._bounds=O(p),x(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ar(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&ca(this._image),this},bringToBack:function(){return this._map&&Go(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=O(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",p=this._image=d?this._url:Yt("img");if(ar(p,"leaflet-image-layer"),this._zoomAnimated&&ar(p,"leaflet-zoom-animated"),this.options.className&&ar(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onload=o(this.fire,this,"load"),p.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(d){var p=this._map.getZoomScale(d.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;Yo(this._image,_,p)},_reset:function(){var d=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=p.getSize();Fr(d,p.min),d.style.width=_.x+"px",d.style.height=_.y+"px"},_updateOpacity:function(){Ua(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Dr=function(d,p,_){return new Ds(d,p,_)},Wr=Ds.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",p=this._image=d?this._url:Yt("video");if(ar(p,"leaflet-image-layer"),this._zoomAnimated&&ar(p,"leaflet-zoom-animated"),this.options.className&&ar(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onloadeddata=o(this.fire,this,"load"),d){for(var _=p.getElementsByTagName("source"),T=[],V=0;V<_.length;V++)T.push(_[V].src);this._url=_.length>0?T:[p.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var Ee=Yt("source");Ee.src=this._url[ie],p.appendChild(Ee)}}});function Fa(d,p,_){return new Wr(d,p,_)}var $a=Ds.extend({_initImage:function(){var d=this._image=this._url;ar(d,"leaflet-image-layer"),this._zoomAnimated&&ar(d,"leaflet-zoom-animated"),this.options.className&&ar(d,this.options.className),d.onselectstart=f,d.onmousemove=f}});function cl(d,p,_){return new $a(d,p,_)}var ys=da.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,p){d&&(d instanceof R||k(d))?(this._latlng=W(d),x(this,p)):(x(this,d),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Ua(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Ua(this._container,1),this.bringToFront(),this.options.interactive&&(ar(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Ua(this._container,0),this._removeTimeout=setTimeout(o(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(ga(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=W(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ca(this._container),this},bringToBack:function(){return this._map&&Go(this._container),this},_prepareOpen:function(d){var p=this._source;if(!p._map)return!1;if(p instanceof ii){p=null;var _=this._source._layers;for(var T in _)if(_[T]._map){p=_[T];break}if(!p)return!1;this._source=p}if(!d)if(p.getCenter)d=p.getCenter();else if(p.getLatLng)d=p.getLatLng();else if(p.getBounds)d=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")d.innerHTML=p;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),p=Se(this.options.offset),_=this._getAnchor();this._zoomAnimated?Fr(this._container,d.add(_)):p=p.add(d).add(_);var T=this._containerBottom=-p.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=T+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});dr.include({_initOverlay:function(d,p,_,T){var V=p;return V instanceof d||(V=new d(T).setContent(p)),_&&V.setLatLng(_),V}}),da.include({_initOverlay:function(d,p,_,T){var V=_;return V instanceof d?(x(V,T),V._source=this):(V=p&&!T?p:new d(T,this),V.setContent(_)),V}});var dl=ys.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,ys.prototype.openOn.call(this,d)},onAdd:function(d){ys.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qa||this._source.on("preclick",Zo))},onRemove:function(d){ys.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qa||this._source.off("preclick",Zo))},getEvents:function(){var d=ys.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",p=this._container=Yt("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Yt("div",d+"-content-wrapper",p);if(this._contentNode=Yt("div",d+"-content",_),Xo(p),ql(this._contentNode),xt(p,"contextmenu",Zo),this._tipContainer=Yt("div",d+"-tip-container",p),this._tip=Yt("div",d+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Yt("a",d+"-close-button",p);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xt(T,"click",function(V){wa(V),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,p=d.style;p.width="",p.whiteSpace="nowrap";var _=d.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),p.width=_+1+"px",p.whiteSpace="",p.height="";var T=d.offsetHeight,V=this.options.maxHeight,ie="leaflet-popup-scrolled";V&&T>V?(p.height=V+"px",ar(d,ie)):ga(d,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),_=this._getAnchor();Fr(this._container,p.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,p=parseInt(ri(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+p,T=this._containerWidth,V=new oe(this._containerLeft,-_-this._containerBottom);V._add(mo(this._container));var ie=d.layerPointToContainerPoint(V),Ee=Se(this.options.autoPanPadding),Be=Se(this.options.autoPanPaddingTopLeft||Ee),We=Se(this.options.autoPanPaddingBottomRight||Ee),ct=d.getSize(),Tt=0,Wt=0;ie.x+T+We.x>ct.x&&(Tt=ie.x+T-ct.x+We.x),ie.x-Tt-Be.x<0&&(Tt=ie.x-Be.x),ie.y+_+We.y>ct.y&&(Wt=ie.y+_-ct.y+We.y),ie.y-Wt-Be.y<0&&(Wt=ie.y-Be.y),(Tt||Wt)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Tt,Wt]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qh=function(d,p){return new dl(d,p)};dr.mergeOptions({closePopupOnClick:!0}),dr.include({openPopup:function(d,p,_){return this._initOverlay(dl,d,p,_).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),da.include({bindPopup:function(d,p){return this._popup=this._initOverlay(dl,this._popup,d,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof ii||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Jo(d);var p=d.layer||d.target;if(this._popup._source===p&&!(p instanceof qa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=p,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var Mu=ys.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){ys.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){ys.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=ys.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",p=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var p,_,T=this._map,V=this._container,ie=T.latLngToContainerPoint(T.getCenter()),Ee=T.layerPointToContainerPoint(d),Be=this.options.direction,We=V.offsetWidth,ct=V.offsetHeight,Tt=Se(this.options.offset),Wt=this._getAnchor();Be==="top"?(p=We/2,_=ct):Be==="bottom"?(p=We/2,_=0):Be==="center"?(p=We/2,_=ct/2):Be==="right"?(p=0,_=ct/2):Be==="left"?(p=We,_=ct/2):Ee.x<ie.x?(Be="right",p=0,_=ct/2):(Be="left",p=We+(Tt.x+Wt.x)*2,_=ct/2),d=d.subtract(Se(p,_,!0)).add(Tt).add(Wt),ga(V,"leaflet-tooltip-right"),ga(V,"leaflet-tooltip-left"),ga(V,"leaflet-tooltip-top"),ga(V,"leaflet-tooltip-bottom"),ar(V,"leaflet-tooltip-"+Be),Fr(V,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Ua(this._container,d)},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(p)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sp=function(d,p){return new Mu(d,p)};dr.include({openTooltip:function(d,p,_){return this._initOverlay(Mu,d,p,_).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),da.include({bindTooltip:function(d,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mu,this._tooltip,d,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var p=d?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[p](_),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof ii||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var p=typeof d.getElement=="function"&&d.getElement();p&&(xt(p,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),xt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var p=typeof d.getElement=="function"&&d.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var p=d.latlng,_,T;this._tooltip.options.sticky&&d.originalEvent&&(_=this._map.mouseEventToContainerPoint(d.originalEvent),T=this._map.containerPointToLayerPoint(_),p=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(p)}});var Jf=li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var p=d&&d.tagName==="DIV"?d:document.createElement("div"),_=this.options;if(_.html instanceof Element?(cd(p),p.appendChild(_.html)):p.innerHTML=_.html!==!1?_.html:"",_.bgPos){var T=Se(_.bgPos);p.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Ap(d){return new Jf(d)}li.Default=sl;var vd=da.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){x(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),qr(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ca(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Go(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof oe?d:new oe(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var p=this.getPane().children,_=-d(-1/0,1/0),T=0,V=p.length,ie;T<V;T++)ie=p[T].style.zIndex,p[T]!==this._container&&ie&&(_=d(_,+ie));isFinite(_)&&(this.options.zIndex=_+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){Ua(this._container,this.options.opacity);var d=+new Date,p=!1,_=!1;for(var T in this._tiles){var V=this._tiles[T];if(!(!V.current||!V.loaded)){var ie=Math.min(1,(d-V.loaded)/200);Ua(V.el,ie),ie<1?p=!0:(V.active?_=!0:this._onOpaqueTile(V),V.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),p&&(q(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,p=this.options.maxZoom;if(d!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===d?(this._levels[_].el.style.zIndex=p-Math.abs(d-_),this._onUpdateLevel(_)):(qr(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var T=this._levels[d],V=this._map;return T||(T=this._levels[d]={},T.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=p,T.origin=V.project(V.unproject(V.getPixelOrigin()),d).round(),T.zoom=d,this._setZoomTransform(T,V.getCenter(),V.getZoom()),f(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var d,p,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)p=this._tiles[d],p.retain=p.current;for(d in this._tiles)if(p=this._tiles[d],p.current&&!p.active){var T=p.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var p in this._tiles)this._tiles[p].coords.z===d&&this._removeTile(p)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)qr(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,p,_,T){var V=Math.floor(d/2),ie=Math.floor(p/2),Ee=_-1,Be=new oe(+V,+ie);Be.z=+Ee;var We=this._tileCoordsToKey(Be),ct=this._tiles[We];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),Ee>T?this._retainParent(V,ie,Ee,T):!1)},_retainChildren:function(d,p,_,T){for(var V=2*d;V<2*d+2;V++)for(var ie=2*p;ie<2*p+2;ie++){var Ee=new oe(V,ie);Ee.z=_+1;var Be=this._tileCoordsToKey(Ee),We=this._tiles[Be];if(We&&We.active){We.retain=!0;continue}else We&&We.loaded&&(We.retain=!0);_+1<T&&this._retainChildren(V,ie,_+1,T)}},_resetView:function(d){var p=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var p=this.options;return p.minNativeZoom!==void 0&&d<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<d?p.maxNativeZoom:d},_setView:function(d,p,_,T){var V=Math.round(p);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var ie=this.options.updateWhenZooming&&V!==this._tileZoom;(!T||ie)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(d),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(d,p)},_setZoomTransforms:function(d,p){for(var _ in this._levels)this._setZoomTransform(this._levels[_],d,p)},_setZoomTransform:function(d,p,_){var T=this._map.getZoomScale(_,d.zoom),V=d.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(p,_)).round();St.any3d?Yo(d.el,V,T):Fr(d.el,V)},_resetGrid:function(){var d=this._map,p=d.options.crs,_=this._tileSize=this.getTileSize(),T=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,p.wrapLng[0]],T).x/_.x),Math.ceil(d.project([0,p.wrapLng[1]],T).x/_.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([p.wrapLat[0],0],T).y/_.x),Math.ceil(d.project([p.wrapLat[1],0],T).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var p=this._map,_=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),T=p.getZoomScale(_,this._tileZoom),V=p.project(d,this._tileZoom).floor(),ie=p.getSize().divideBy(T*2);return new K(V.subtract(ie),V.add(ie))},_update:function(d){var p=this._map;if(p){var _=this._clampZoom(p.getZoom());if(d===void 0&&(d=p.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(d),V=this._pxBoundsToTileRange(T),ie=V.getCenter(),Ee=[],Be=this.options.keepBuffer,We=new K(V.getBottomLeft().subtract([Be,-Be]),V.getTopRight().add([Be,-Be]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var Tt=this._tiles[ct].coords;(Tt.z!==this._tileZoom||!We.contains(new oe(Tt.x,Tt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(d,_);return}for(var Wt=V.min.y;Wt<=V.max.y;Wt++)for(var fr=V.min.x;fr<=V.max.x;fr++){var Yn=new oe(fr,Wt);if(Yn.z=this._tileZoom,!!this._isValidTile(Yn)){var rn=this._tiles[this._tileCoordsToKey(Yn)];rn?rn.current=!0:Ee.push(Yn)}}if(Ee.sort(function(bs,_d){return bs.distanceTo(ie)-_d.distanceTo(ie)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(fr=0;fr<Ee.length;fr++)this._addTile(Ee[fr],di);this._level.el.appendChild(di)}}}},_isValidTile:function(d){var p=this._map.options.crs;if(!p.infinite){var _=this._globalTileRange;if(!p.wrapLng&&(d.x<_.min.x||d.x>_.max.x)||!p.wrapLat&&(d.y<_.min.y||d.y>_.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(d);return O(this.options.bounds).overlaps(T)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var p=this._map,_=this.getTileSize(),T=d.scaleBy(_),V=T.add(_),ie=p.unproject(T,d.z),Ee=p.unproject(V,d.z);return[ie,Ee]},_tileCoordsToBounds:function(d){var p=this._tileCoordsToNwSe(d),_=new z(p[0],p[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var p=d.split(":"),_=new oe(+p[0],+p[1]);return _.z=+p[2],_},_removeTile:function(d){var p=this._tiles[d];p&&(qr(p.el),delete this._tiles[d],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){ar(d,"leaflet-tile");var p=this.getTileSize();d.style.width=p.x+"px",d.style.height=p.y+"px",d.onselectstart=f,d.onmousemove=f,St.ielt9&&this.options.opacity<1&&Ua(d,this.options.opacity)},_addTile:function(d,p){var _=this._getTilePos(d),T=this._tileCoordsToKey(d),V=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(V),this.createTile.length<2&&I(o(this._tileReady,this,d,null,V)),Fr(V,_),this._tiles[T]={el:V,coords:d,current:!0},p.appendChild(V),this.fire("tileloadstart",{tile:V,coords:d})},_tileReady:function(d,p,_){p&&this.fire("tileerror",{error:p,tile:_,coords:d});var T=this._tileCoordsToKey(d);_=this._tiles[T],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Ua(_.el,0),q(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),p||(ar(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var p=new oe(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return p.z=d.z,p},_pxBoundsToTileRange:function(d){var p=this.getTileSize();return new K(d.min.unscaleBy(p).floor(),d.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Ep(d){return new vd(d)}var ko=vd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,p){this._url=d,p=x(this,p),p.detectRetina&&St.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,p){return this._url===d&&p===void 0&&(p=!0),this._url=d,p||this.redraw(),this},createTile:function(d,p){var _=document.createElement("img");return xt(_,"load",o(this._tileOnLoad,this,p,_)),xt(_,"error",o(this._tileOnError,this,p,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(d),_},getTileUrl:function(d){var p={r:St.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-d.y;this.options.tms&&(p.y=_),p["-y"]=_}return w(this._url,s(p,this.options))},_tileOnLoad:function(d,p){St.ielt9?setTimeout(o(d,this,null,p),0):d(null,p)},_tileOnError:function(d,p,_){var T=this.options.errorTileUrl;T&&p.getAttribute("src")!==T&&(p.src=T),d(_,p)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,p=this.options.maxZoom,_=this.options.zoomReverse,T=this.options.zoomOffset;return _&&(d=p-d),d+T},_getSubdomain:function(d){var p=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var d,p;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(p=this._tiles[d].el,p.onload=f,p.onerror=f,!p.complete)){p.src=B;var _=this._tiles[d].coords;qr(p),delete this._tiles[d],this.fire("tileabort",{tile:p,coords:_})}},_removeTile:function(d){var p=this._tiles[d];if(p)return p.el.setAttribute("src",B),vd.prototype._removeTile.call(this,d)},_tileReady:function(d,p,_){if(!(!this._map||_&&_.getAttribute("src")===B))return vd.prototype._tileReady.call(this,d,p,_)}});function Qf(d,p){return new ko(d,p)}var em=ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,p){this._url=d;var _=s({},this.defaultWmsParams);for(var T in p)T in this.options||(_[T]=p[T]);p=x(this,p);var V=p.detectRetina&&St.retina?2:1,ie=this.getTileSize();_.width=ie.x*V,_.height=ie.y*V,this.wmsParams=_},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,ko.prototype.onAdd.call(this,d)},getTileUrl:function(d){var p=this._tileCoordsToNwSe(d),_=this._crs,T=A(_.project(p[0]),_.project(p[1])),V=T.min,ie=T.max,Ee=(this._wmsVersion>=1.3&&this._crs===pd?[V.y,V.x,ie.y,ie.x]:[V.x,V.y,ie.x,ie.y]).join(","),Be=ko.prototype.getTileUrl.call(this,d);return Be+N(this.wmsParams,Be,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(d,p){return s(this.wmsParams,d),p||this.redraw(),this}});function Tp(d,p){return new em(d,p)}ko.WMS=em,Qf.wms=Tp;var jo=da.extend({options:{padding:.1},initialize:function(d){x(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ar(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,p){var _=this._map.getZoomScale(p,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,p),ie=T.multiplyBy(-_).add(V).subtract(this._map._getNewPixelOrigin(d,p));St.any3d?Yo(this._container,ie,_):Fr(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,p=this._map.getSize(),_=this._map.containerPointToLayerPoint(p.multiplyBy(-d)).round();this._bounds=new K(_,_.add(p.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tm=jo.extend({options:{tolerance:0},getEvents:function(){var d=jo.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");xt(d,"mousemove",this._onMouseMove,this),xt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,qr(this._container),$r(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var p in this._layers)d=this._layers[p],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jo.prototype._update.call(this);var d=this._bounds,p=this._container,_=d.getSize(),T=St.retina?2:1;Fr(p,d.min),p.width=T*_.x,p.height=T*_.y,p.style.width=_.x+"px",p.style.height=_.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){jo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var p=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var p=d._order,_=p.next,T=p.prev;_?_.prev=T:this._drawLast=T,T?T.next=_:this._drawFirst=_,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var p=d.options.dashArray.split(/[, ]+/),_=[],T,V;for(V=0;V<p.length;V++){if(T=Number(p[V]),isNaN(T))return;_.push(T)}d.options._dashArray=_}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var p=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(d._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(d._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var p=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,p=this._redrawBounds;if(this._ctx.save(),p){var _=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)d=T.layer,(!p||d._pxBounds&&d._pxBounds.intersects(p))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,p){if(this._drawing){var _,T,V,ie,Ee=d._parts,Be=Ee.length,We=this._ctx;if(Be){for(We.beginPath(),_=0;_<Be;_++){for(T=0,V=Ee[_].length;T<V;T++)ie=Ee[_][T],We[T?"lineTo":"moveTo"](ie.x,ie.y);p&&We.closePath()}this._fillStroke(We,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var p=d._point,_=this._ctx,T=Math.max(Math.round(d._radius),1),V=(Math.max(Math.round(d._radiusY),1)||T)/T;V!==1&&(_.save(),_.scale(1,V)),_.beginPath(),_.arc(p.x,p.y/V,T,0,Math.PI*2,!1),V!==1&&_.restore(),this._fillStroke(_,d)}},_fillStroke:function(d,p){var _=p.options;_.fill&&(d.globalAlpha=_.fillOpacity,d.fillStyle=_.fillColor||_.color,d.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(d.setLineDash&&d.setLineDash(p.options&&p.options._dashArray||[]),d.globalAlpha=_.opacity,d.lineWidth=_.weight,d.strokeStyle=_.color,d.lineCap=_.lineCap,d.lineJoin=_.lineJoin,d.stroke())},_onClick:function(d){for(var p=this._map.mouseEventToLayerPoint(d),_,T,V=this._drawFirst;V;V=V.next)_=V.layer,_.options.interactive&&_._containsPoint(p)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(_))&&(T=_);this._fireEvent(T?[T]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,p)}},_handleMouseOut:function(d){var p=this._hoveredLayer;p&&(ga(this._container,"leaflet-interactive"),this._fireEvent([p],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,p){if(!this._mouseHoverThrottled){for(var _,T,V=this._drawFirst;V;V=V.next)_=V.layer,_.options.interactive&&_._containsPoint(p)&&(T=_);T!==this._hoveredLayer&&(this._handleMouseOut(d),T&&(ar(this._container,"leaflet-interactive"),this._fireEvent([T],d,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,p,_){this._map._fireDOMEvent(p,_||p.type,d)},_bringToFront:function(d){var p=d._order;if(p){var _=p.next,T=p.prev;if(_)_.prev=T;else return;T?T.next=_:_&&(this._drawFirst=_),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(d)}},_bringToBack:function(d){var p=d._order;if(p){var _=p.next,T=p.prev;if(T)T.next=_;else return;_?_.prev=T:T&&(this._drawLast=T),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(d)}}});function rm(d){return St.canvas?new tm(d):null}var bd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Cp={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jo.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var p=d._container=bd("shape");ar(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",d._path=bd("path"),p.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var p=d._container;this._container.appendChild(p),d.options.interactive&&d.addInteractiveTarget(p)},_removePath:function(d){var p=d._container;qr(p),d.removeInteractiveTarget(p),delete this._layers[c(d)]},_updateStyle:function(d){var p=d._stroke,_=d._fill,T=d.options,V=d._container;V.stroked=!!T.stroke,V.filled=!!T.fill,T.stroke?(p||(p=d._stroke=bd("stroke")),V.appendChild(p),p.weight=T.weight+"px",p.color=T.color,p.opacity=T.opacity,T.dashArray?p.dashStyle=k(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=T.lineCap.replace("butt","flat"),p.joinstyle=T.lineJoin):p&&(V.removeChild(p),d._stroke=null),T.fill?(_||(_=d._fill=bd("fill")),V.appendChild(_),_.color=T.fillColor||T.color,_.opacity=T.fillOpacity):_&&(V.removeChild(_),d._fill=null)},_updateCircle:function(d){var p=d._point.round(),_=Math.round(d._radius),T=Math.round(d._radiusY||_);this._setPath(d,d._empty()?"M0 0":"AL "+p.x+","+p.y+" "+_+","+T+" 0,"+65535*360)},_setPath:function(d,p){d._path.v=p},_bringToFront:function(d){ca(d._container)},_bringToBack:function(d){Go(d._container)}},wd=St.vml?bd:de,Yl=jo.extend({_initContainer:function(){this._container=wd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),$r(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jo.prototype._update.call(this);var d=this._bounds,p=d.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,_.setAttribute("width",p.x),_.setAttribute("height",p.y)),Fr(_,d.min),_.setAttribute("viewBox",[d.min.x,d.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(d){var p=d._path=wd("path");d.options.className&&ar(p,d.options.className),d.options.interactive&&ar(p,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){qr(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var p=d._path,_=d.options;p&&(_.stroke?(p.setAttribute("stroke",_.color),p.setAttribute("stroke-opacity",_.opacity),p.setAttribute("stroke-width",_.weight),p.setAttribute("stroke-linecap",_.lineCap),p.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?p.setAttribute("stroke-dasharray",_.dashArray):p.removeAttribute("stroke-dasharray"),_.dashOffset?p.setAttribute("stroke-dashoffset",_.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),_.fill?(p.setAttribute("fill",_.fillColor||_.color),p.setAttribute("fill-opacity",_.fillOpacity),p.setAttribute("fill-rule",_.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(d,p){this._setPath(d,Ae(d._parts,p))},_updateCircle:function(d){var p=d._point,_=Math.max(Math.round(d._radius),1),T=Math.max(Math.round(d._radiusY),1)||_,V="a"+_+","+T+" 0 1,0 ",ie=d._empty()?"M0 0":"M"+(p.x-_)+","+p.y+V+_*2+",0 "+V+-_*2+",0 ";this._setPath(d,ie)},_setPath:function(d,p){d._path.setAttribute("d",p)},_bringToFront:function(d){ca(d._path)},_bringToBack:function(d){Go(d._path)}});St.vml&&Yl.include(Cp);function vs(d){return St.svg||St.vml?new Yl(d):null}dr.include({getRenderer:function(d){var p=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var p=this._paneRenderers[d];return p===void 0&&(p=this._createRenderer({pane:d}),this._paneRenderers[d]=p),p},_createRenderer:function(d){return this.options.preferCanvas&&rm(d)||vs(d)}});var Is=ll.extend({initialize:function(d,p){ll.prototype.initialize.call(this,this._boundsToLatLngs(d),p)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=O(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function $h(d,p){return new Is(d,p)}Yl.create=wd,Yl.pointsToPath=Ae,fn.geometryToLayer=Hl,fn.coordsToLatLng=Nc,fn.coordsToLatLngs=Wl,fn.latLngToCoords=wo,fn.latLngsToCoords=Bi,fn.getFeature=Os,fn.asFeature=_o,dr.mergeOptions({boxZoom:!0});var Ru=ye.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$r(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),zl(),Nu(),this._startPoint=this._map.mouseEventToContainerPoint(d),xt(document,{contextmenu:Jo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),ar(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var p=new K(this._point,this._startPoint),_=p.getSize();Fr(this._box,p.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(qr(this._box),ga(this._container,"leaflet-crosshair")),go(),ku(),$r(document,{contextmenu:Jo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var p=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dr.addInitHook("addHandler","boxZoom",Ru),dr.mergeOptions({doubleClickZoom:!0});var am=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var p=this._map,_=p.getZoom(),T=p.options.zoomDelta,V=d.originalEvent.shiftKey?_-T:_+T;p.options.doubleClickZoom==="center"?p.setZoom(V):p.setZoomAround(d.containerPoint,V)}});dr.addInitHook("addHandler","doubleClickZoom",am),dr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ou=ye.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ze(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}ar(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ga(this._map._container,"leaflet-grab"),ga(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=O(this._map.options.maxBounds);this._offsetLimit=A(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var p=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(p),this._prunePositions(p)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,p){return d-(d-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;d.x<p.min.x&&(d.x=this._viscousLimit(d.x,p.min.x)),d.y<p.min.y&&(d.y=this._viscousLimit(d.y,p.min.y)),d.x>p.max.x&&(d.x=this._viscousLimit(d.x,p.max.x)),d.y>p.max.y&&(d.y=this._viscousLimit(d.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,p=Math.round(d/2),_=this._initialWorldOffset,T=this._draggable._newPos.x,V=(T-p+_)%d+p-_,ie=(T+p+_)%d-p-_,Ee=Math.abs(V+_)<Math.abs(ie+_)?V:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(d){var p=this._map,_=p.options,T=!_.inertia||d.noInertia||this._times.length<2;if(p.fire("dragend",d),T)p.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,Ee=_.easeLinearity,Be=V.multiplyBy(Ee/ie),We=Be.distanceTo([0,0]),ct=Math.min(_.inertiaMaxSpeed,We),Tt=Be.multiplyBy(ct/We),Wt=ct/(_.inertiaDeceleration*Ee),fr=Tt.multiplyBy(-Wt/2).round();!fr.x&&!fr.y?p.fire("moveend"):(fr=p._limitOffset(fr,p.options.maxBounds),I(function(){p.panBy(fr,{duration:Wt,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});dr.addInitHook("addHandler","dragging",Ou),dr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Du=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),xt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$r(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,p=document.documentElement,_=d.scrollTop||p.scrollTop,T=d.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(T,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var p=this._panKeys={},_=this.keyCodes,T,V;for(T=0,V=_.left.length;T<V;T++)p[_.left[T]]=[-1*d,0];for(T=0,V=_.right.length;T<V;T++)p[_.right[T]]=[d,0];for(T=0,V=_.down.length;T<V;T++)p[_.down[T]]=[0,d];for(T=0,V=_.up.length;T<V;T++)p[_.up[T]]=[0,-1*d]},_setZoomDelta:function(d){var p=this._zoomKeys={},_=this.keyCodes,T,V;for(T=0,V=_.zoomIn.length;T<V;T++)p[_.zoomIn[T]]=d;for(T=0,V=_.zoomOut.length;T<V;T++)p[_.zoomOut[T]]=-d},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$r(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var p=d.keyCode,_=this._map,T;if(p in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(T=this._panKeys[p],d.shiftKey&&(T=Se(T).multiplyBy(3)),_.options.maxBounds&&(T=_._limitOffset(Se(T),_.options.maxBounds)),_.options.worldCopyJump){var V=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(T)));_.panTo(V)}else _.panBy(T)}else if(p in this._zoomKeys)_.setZoom(_.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;Jo(d)}}});dr.addInitHook("addHandler","keyboard",Du),dr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hh=ye.extend({addHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$r(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var p=fd(d),_=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var T=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),T),Jo(d)},_performZoom:function(){var d=this._map,p=d.getZoom(),_=this._map.options.zoomSnap||0;d._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,ie=_?Math.ceil(V/_)*_:V,Ee=d._limitZoom(p+(this._delta>0?ie:-ie))-p;this._delta=0,this._startTime=null,Ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(p+Ee):d.setZoomAround(this._lastMousePos,p+Ee))}});dr.addInitHook("addHandler","scrollWheelZoom",Hh);var Lp=600;dr.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var Wh=ye.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$r(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var p=d.touches[0];this._startPos=this._newPos=new oe(p.clientX,p.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(xt(document,"touchend",wa),xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),Lp),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){$r(document,"touchend",wa),$r(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),$r(document,"touchend touchcancel contextmenu",this._cancel,this),$r(document,"touchmove",this._onMove,this)},_onMove:function(d){var p=d.touches[0];this._newPos=new oe(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,p){var _=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});_._simulated=!0,p.target.dispatchEvent(_)}});dr.addInitHook("addHandler","tapHold",Wh),dr.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var Gh=ye.extend({addHooks:function(){ar(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ga(this._map._container,"leaflet-touch-zoom"),$r(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var p=this._map;if(!(!d.touches||d.touches.length!==2||p._animatingZoom||this._zooming)){var _=p.mouseEventToContainerPoint(d.touches[0]),T=p.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(_.add(T)._divideBy(2))),this._startDist=_.distanceTo(T),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),wa(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var p=this._map,_=p.mouseEventToContainerPoint(d.touches[0]),T=p.mouseEventToContainerPoint(d.touches[1]),V=_.distanceTo(T)/this._startDist;if(this._zoom=p.getScaleZoom(V,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&V<1||this._zoom>p.getMaxZoom()&&V>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var ie=_._add(T)._divideBy(2)._subtract(this._centerPoint);if(V===1&&ie.x===0&&ie.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var Ee=o(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(Ee,this,!0),wa(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),$r(document,"touchmove",this._onTouchMove,this),$r(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dr.addInitHook("addHandler","touchZoom",Gh),dr.BoxZoom=Ru,dr.DoubleClickZoom=am,dr.Drag=Ou,dr.Keyboard=Du,dr.ScrollWheelZoom=Hh,dr.TapHold=Wh,dr.TouchZoom=Gh,r.Bounds=K,r.Browser=St,r.CRS=X,r.Canvas=tm,r.Circle=vo,r.CircleMarker=Fi,r.Class=ee,r.Control=Sn,r.DivIcon=Jf,r.DivOverlay=ys,r.DomEvent=Qo,r.DomUtil=Xf,r.Draggable=Ze,r.Evented=xe,r.FeatureGroup=ii,r.GeoJSON=fn,r.GridLayer=vd,r.Handler=ye,r.Icon=li,r.ImageOverlay=Ds,r.LatLng=R,r.LatLngBounds=z,r.Layer=da,r.LayerGroup=ps,r.LineUtil=bc,r.Map=dr,r.Marker=yo,r.Mixin=Ce,r.Path=qa,r.Point=oe,r.PolyUtil=tr,r.Polygon=ll,r.Polyline=xs,r.Popup=dl,r.PosAnimation=gd,r.Projection=wc,r.Rectangle=Is,r.Renderer=jo,r.SVG=Yl,r.SVGOverlay=$a,r.TileLayer=ko,r.Tooltip=Mu,r.Transformation=ke,r.Util=Y,r.VideoOverlay=Wr,r.bind=o,r.bounds=A,r.canvas=rm,r.circle=Pu,r.circleMarker=ol,r.control=el,r.divIcon=Ap,r.extend=s,r.featureGroup=oi,r.geoJSON=Gl,r.geoJson=ci,r.gridLayer=Ep,r.icon=Lu,r.imageOverlay=Dr,r.latLng=W,r.latLngBounds=O,r.layerGroup=xd,r.map=Au,r.marker=Rs,r.point=Se,r.polygon=bo,r.polyline=Ia,r.popup=qh,r.rectangle=$h,r.setOptions=x,r.stamp=c,r.svg=vs,r.svgOverlay=cl,r.tileLayer=Qf,r.tooltip=Sp,r.transformation=Le,r.version=a,r.videoOverlay=Fa;var Yh=window.L;r.noConflict=function(){return window.L=Yh,this},window.L=r})})(Iw,Iw.exports);var mp=Iw.exports;const X_=MA(mp);function J_(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Q_(e,t){return t==null?function(a,s){const i=C.useRef();return i.current||(i.current=e(a,s)),i}:function(a,s){const i=C.useRef();i.current||(i.current=e(a,s));const o=C.useRef(a),{instance:l}=i.current;return C.useEffect(function(){o.current!==a&&(t(l,a,o.current),o.current=a)},[l,a,s]),i}}function i$(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function BC(e){return function(r){const a=K_(),s=e(Z_(r,a),a);return OC(a.map,r.attribution),FC(s.current,r.eventHandlers),i$(s.current,a),s}}function o$(e,t){const r=Q_(e,t),a=BC(r);return r$(a)}function l$(e,t){const r=Q_(e),a=s$(r,t);return a$(a)}function c$(e,t){const r=Q_(e,t),a=BC(r);return n$(a)}function d$(e,t,r){const{opacity:a,zIndex:s}=t;a!=null&&a!==r.opacity&&e.setOpacity(a),s!=null&&s!==r.zIndex&&e.setZIndex(s)}function u$(){return K_().map}function Fw(){return Fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fw.apply(this,arguments)}function h$({bounds:e,boundsOptions:t,center:r,children:a,className:s,id:i,placeholder:o,style:l,whenReady:c,zoom:u,...h},f){const[m]=C.useState({className:s,id:i,style:l}),[g,y]=C.useState(null);C.useImperativeHandle(f,()=>(g==null?void 0:g.map)??null,[g]);const x=C.useCallback(b=>{if(b!==null&&g===null){const w=new mp.Map(b,h);r!=null&&u!=null?w.setView(r,u):e!=null&&w.fitBounds(e,t),c!=null&&w.whenReady(c),y(e$(w))}},[]);C.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const N=g?lc.createElement(IC,{value:g},a):o??null;return lc.createElement("div",Fw({},m,{ref:x}),N)}const f$=C.forwardRef(h$),m$=o$(function({position:t,...r},a){const s=new mp.Marker(t,r);return J_(s,t$(a,{overlayContainer:s}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),g$=l$(function(t,r){const a=new mp.Popup(t,r.overlayContainer);return J_(a,r)},function(t,r,{position:a},s){C.useEffect(function(){const{instance:o}=t;function l(u){u.popup===o&&(o.update(),s(!0))}function c(u){u.popup===o&&s(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(a!=null&&o.setLatLng(a),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var h;r.map.off({popupopen:l,popupclose:c}),(h=r.overlayContainer)==null||h.unbindPopup(),r.map.removeLayer(o)}},[t,r,s,a])}),p$=c$(function({url:t,...r},a){const s=new mp.TileLayer(t,Z_(r,a));return J_(s,a)},function(t,r,a){d$(t,r,a);const{url:s}=r;s!=null&&s!==a.url&&t.setUrl(s)}),x$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",y$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",v$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",zC=X_.icon({iconUrl:x$,shadowUrl:y$,iconRetinaUrl:v$,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});X_.Marker.prototype.options.icon=zC;const b$=(e,t)=>X_.divIcon({className:"custom-marker",html:`<div style="
      background-color: ${e};
      width: 32px;
      height: 32px;
      border-radius: 50% 50% 50% 0;
      transform: rotate(-45deg);
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    ">
      <div style="
        transform: rotate(45deg);
        color: white;
        font-size: 16px;
        font-weight: bold;
        line-height: 1;
      ">${t}</div>
    </div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Wj=[{id:"1",name:"Modern Downtown Apartment",type:"property",lat:40.7128,lng:-74.006,address:"123 Main St, New York, NY"},{id:"2",name:"Luxury Condo",type:"property",lat:34.0522,lng:-118.2437,address:"456 Oak Ave, Los Angeles, CA"},{id:"3",name:"Spacious Penthouse",type:"property",lat:41.8781,lng:-87.6298,address:"789 Lake Shore Dr, Chicago, IL"},{id:"4",name:"City View Apartment",type:"property",lat:37.7749,lng:-122.4194,address:"321 Market St, San Francisco, CA"},{id:"5",name:"Downtown Loft",type:"property",lat:29.7604,lng:-95.3698,address:"654 Main St, Houston, TX"},{id:"6",name:"Prime Real Estate",type:"estate_agent",lat:40.7589,lng:-73.9851,address:"100 Broadway, New York, NY",phone:"(555) 123-4567"},{id:"7",name:"Elite Properties",type:"estate_agent",lat:34.0522,lng:-118.2479,address:"200 Sunset Blvd, Los Angeles, CA",phone:"(555) 234-5678"},{id:"8",name:"City Homes Realty",type:"estate_agent",lat:41.8781,lng:-87.6358,address:"300 Michigan Ave, Chicago, IL",phone:"(555) 345-6789"},{id:"9",name:"24/7 Locksmith Services",type:"locksmith",lat:40.7128,lng:-74.008,address:"50 Park Ave, New York, NY",phone:"(555) 111-2222"},{id:"10",name:"Quick Lock & Key",type:"locksmith",lat:34.0522,lng:-118.249,address:"60 Vine St, Los Angeles, CA",phone:"(555) 222-3333"},{id:"11",name:"Walmart Supercenter",type:"supermarket",lat:40.7505,lng:-73.9934,address:"700 6th Ave, New York, NY",phone:"(555) 333-4444"},{id:"12",name:"Target Store",type:"supermarket",lat:34.0522,lng:-118.251,address:"8500 Sunset Blvd, Los Angeles, CA",phone:"(555) 444-5555"},{id:"13",name:"Whole Foods Market",type:"supermarket",lat:37.7749,lng:-122.421,address:"1765 California St, San Francisco, CA",phone:"(555) 555-6666"},{id:"14",name:"The Grill House",type:"restaurant",lat:40.7614,lng:-73.9776,address:"123 5th Ave, New York, NY",phone:"(555) 666-7777"},{id:"15",name:"Coastal Bistro",type:"restaurant",lat:34.0522,lng:-118.253,address:"456 Ocean Dr, Los Angeles, CA",phone:"(555) 777-8888"},{id:"16",name:"Downtown Diner",type:"restaurant",lat:41.8781,lng:-87.6378,address:"789 State St, Chicago, IL",phone:"(555) 888-9999"},{id:"17",name:"Gourmet Kitchen",type:"restaurant",lat:37.7749,lng:-122.423,address:"321 Market St, San Francisco, CA",phone:"(555) 999-0000"},{id:"18",name:"Tech Electronics",type:"electrical",lat:40.7505,lng:-73.9954,address:"150 7th Ave, New York, NY",phone:"(555) 101-2020"},{id:"19",name:"Electric Depot",type:"electrical",lat:34.0522,lng:-118.255,address:"250 Main St, Los Angeles, CA",phone:"(555) 202-3030"},{id:"20",name:"Auto Repair Center",type:"mechanic",lat:40.7589,lng:-73.9871,address:"350 Broadway, New York, NY",phone:"(555) 303-4040"},{id:"21",name:"City Auto Service",type:"mechanic",lat:34.0522,lng:-118.257,address:"450 Pico Blvd, Los Angeles, CA",phone:"(555) 404-5050"},{id:"22",name:"Quick Fix Auto",type:"mechanic",lat:41.8781,lng:-87.6398,address:"550 Wacker Dr, Chicago, IL",phone:"(555) 505-6060"},{id:"23",name:"Home Furnishings",type:"furniture",lat:40.7614,lng:-73.9796,address:"600 6th Ave, New York, NY",phone:"(555) 606-7070"},{id:"24",name:"Modern Living Store",type:"furniture",lat:34.0522,lng:-118.259,address:"700 Melrose Ave, Los Angeles, CA",phone:"(555) 707-8080"},{id:"25",name:"Comfort Furniture",type:"furniture",lat:37.7749,lng:-122.425,address:"800 Valencia St, San Francisco, CA",phone:"(555) 808-9090"},{id:"26",name:"Home Essentials",type:"household",lat:40.7505,lng:-73.9974,address:"900 8th Ave, New York, NY",phone:"(555) 909-1010"},{id:"27",name:"House & Garden",type:"household",lat:34.0522,lng:-118.261,address:"1000 Beverly Blvd, Los Angeles, CA",phone:"(555) 010-1111"},{id:"28",name:"Home Improvement Store",type:"household",lat:41.8781,lng:-87.6418,address:"1100 N State St, Chicago, IL",phone:"(555) 111-1212"}],Gj=[{id:"property",label:"Properties",icon:gr,color:"#3b82f6"},{id:"estate_agent",label:"Estate Agents",icon:dc,color:"#10b981"},{id:"locksmith",label:"Locksmiths",icon:Uq,color:"#f59e0b"},{id:"supermarket",label:"Supermarkets",icon:zj,color:"#ef4444"},{id:"restaurant",label:"Restaurants",icon:Dq,color:"#8b5cf6"},{id:"electrical",label:"Electrical Shops",icon:wf,color:"#ec4899"},{id:"mechanic",label:"Mechanic Shops",icon:V_,color:"#06b6d4"},{id:"furniture",label:"Furniture Shops",icon:pq,color:"#84cc16"},{id:"household",label:"Household Shops",icon:zj,color:"#f97316"}];function w$({center:e}){const t=u$();return C.useEffect(()=>{t.setView(e,t.getZoom())},[e,t]),null}const _$=()=>{const[e,t]=C.useState(["property","estate_agent"]),[r,a]=C.useState(!0),[s]=C.useState([40.7128,-74.006]),i=c=>{t(u=>u.includes(c)?u.filter(h=>h!==c):[...u,c])},o=Wj.filter(c=>e.includes(c.type)),l=c=>{const u=Gj.find(f=>f.id===c);if(!u)return zC;const h={property:"",estate_agent:"",locksmith:"",supermarket:"",restaurant:"",electrical:"",mechanic:"",furniture:"",household:""};return b$(u.color,h[c]||"")};return n.jsxs("div",{className:"relative w-full h-full",children:[r&&n.jsxs("div",{className:"absolute top-4 left-4 z-[1000] bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 max-w-xs max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Io,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),n.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(yr,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),n.jsx("div",{className:"space-y-2",children:Gj.map(c=>{const u=c.icon,h=e.includes(c.id),f=Wj.filter(m=>m.type===c.id).length;return n.jsxs("button",{onClick:()=>i(c.id),className:`w-full flex items-center gap-3 p-2 rounded-lg transition-all ${h?"bg-gray-100 dark:bg-gray-700 border-2 border-primary":"bg-transparent border-2 border-transparent hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:h?c.color:"#e5e7eb"},children:n.jsx(u,{className:"w-4 h-4",style:{color:h?"white":"#6b7280"}})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:c.label}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f," locations"]})]}),h&&n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.color}})]},c.id)})})]}),!r&&n.jsxs("button",{onClick:()=>a(!0),className:"absolute top-4 left-4 z-[1000] bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters"})]}),n.jsxs(f$,{center:s,zoom:5,style:{height:"100%",width:"100%",zIndex:0},zoomControl:!0,scrollWheelZoom:!0,children:[n.jsx(w$,{center:s}),n.jsx(p$,{attribution:' <a href="https://www.esri.com/">Esri</a>  <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),o.map(c=>n.jsx(m$,{position:[c.lat,c.lng],icon:l(c.type),children:n.jsx(g$,{children:n.jsxs("div",{className:"p-2",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:c.name}),c.address&&n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:c.address}),c.phone&&n.jsx("p",{className:"text-sm text-gray-600",children:c.phone})]})})},c.id))]})]})},N$=()=>{const e=[{type:"New Application",name:"Mike Wilson",property:"Modern Downtown apartment",date:"1/10/2025"},{type:"Viewing Scheduled",name:"Sarah Johnson",property:"tommorow",date:""}];return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(wf,{className:"w-5 h-5 text-blue-500 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Recently Activity"})]}),n.jsx("div",{className:"space-y-4 mb-6",children:e.map((t,r)=>n.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900/50 hover:scale-[1.02] cursor-pointer group/item",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0 transition-all duration-300 group-hover/item:scale-150 group-hover/item:shadow-lg group-hover/item:shadow-blue-500/50"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"body-text font-medium text-gray-800 dark:text-white transition-colors duration-300 group-hover/item:text-blue-600 dark:group-hover/item:text-blue-400",children:t.type}),n.jsxs("p",{className:"body-text text-gray-600 dark:text-gray-400 transition-colors duration-300 group-hover/item:text-gray-800 dark:group-hover/item:text-gray-300",children:[t.name," - ",t.property]}),t.date&&n.jsx("p",{className:"caption text-gray-500 dark:text-gray-500 mt-1",children:t.date})]})]},r))}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg h-[500px] md:h-[650px] lg:h-[800px] relative overflow-hidden border border-gray-200 dark:border-gray-800",children:n.jsx(_$,{})})]})]})},k$=()=>{const e=[{name:"Modern Downtown Apartment",price:"$450,000.00",views:"245 view",inquiries:"12 Inquiries",status:"Available"},{name:"Luxury Condo with city view",price:"$3,500.00",views:"189 view",inquiries:"8 Inquires",status:"Available"},{name:"Spacious Penthouse",price:"$6,500.00",views:"156 view",inquiries:"15 Inquires",status:"Available"}];return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(jl,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white",children:"Top Performing properties"})]}),n.jsx("div",{className:"space-y-4",children:e.map((t,r)=>n.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-4 bg-white dark:bg-black",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"body-text font-semibold text-gray-800 dark:text-white",children:t.name}),n.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 caption rounded-full whitespace-nowrap",children:t.status})]}),n.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:t.price}),n.jsxs("div",{className:"flex items-center gap-4 secondary-label text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:t.views}),n.jsx("span",{children:t.inquiries})]})]},r))})]})},Yj=({property:e})=>{const t=e.title||("name"in e?e.name:void 0)||"Untitled Property",r=e.bedrooms||("beds"in e?e.beds:void 0)||0,a=e.area||("sqft"in e?e.sqft:void 0)||0,s=e.features||("tags"in e?e.tags:void 0)||[],i=("listedDate"in e?e.listedDate:void 0)||(e.createdAt?new Date(e.createdAt).toLocaleDateString():"");return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden font-sans group relative cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 dark:group-hover:opacity-15 transition-opacity duration-300 bg-gradient-to-br from-white/50 dark:from-white/30 via-transparent to-transparent z-20"}),n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute top-4 right-4 z-10 transition-transform duration-300 group-hover:scale-110",children:n.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-full shadow-lg",children:e.status})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-transform duration-500 group-hover:scale-110",children:n.jsx(gr,{className:"w-16 h-16 text-white opacity-30"})})]}),n.jsxs("div",{className:"p-4 relative z-10",children:[n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-1 transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:t}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 transition-colors duration-300 group-hover:text-gray-800 dark:group-hover:text-gray-300",children:e.address}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[n.jsxs("span",{children:[r," Beds"]}),n.jsxs("span",{children:[e.bathrooms," Bathroom"]}),n.jsxs("span",{children:[a," Sqft"]})]}),"rating"in e&&e.rating&&"reviews"in e&&e.reviews&&n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jl,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:[e.rating," (",e.reviews,")"]})]})}),i&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:["Listed ",i]}),s.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:s.slice(0,3).map((o,l)=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 text-xs rounded",children:o},l))})]})]})},j$=({isOpen:e,onClose:t})=>{const r=br(),[a,s]=C.useState([{id:"1",text:"Hello! I'm Ask Lakshmi, your AI assistant. I can help you with questions about your properties, leads, dashboard analytics, and provide insights. I can also navigate you to different sections. How can I assist you today?",sender:"bot",timestamp:new Date}]),[i,o]=C.useState(""),[l,c]=C.useState(!1),[u,h]=C.useState(!1),f=C.useRef(null),m=C.useRef(null),{properties:g}=Th(),{leads:y}=z_(),x={dashboard:{path:"/",name:"Dashboard"},home:{path:"/",name:"Dashboard"},properties:{path:"/properties",name:"Properties"},property:{path:"/properties",name:"Properties"},leads:{path:"/leads",name:"Leads & Clients"},lead:{path:"/leads",name:"Leads & Clients"},clients:{path:"/leads",name:"Leads & Clients"},client:{path:"/leads",name:"Leads & Clients"},application:{path:"/application",name:"Application"},applications:{path:"/application",name:"Application"},appointment:{path:"/appointment",name:"Appointment"},appointments:{path:"/appointment",name:"Appointment"},messages:{path:"/messages",name:"Messages"},message:{path:"/messages",name:"Messages"},analytics:{path:"/analytics",name:"Analytics"},analytic:{path:"/analytics",name:"Analytics"},analysis:{path:"/analytics",name:"Analytics"},billing:{path:"/billing",name:"Billing"},bill:{path:"/billing",name:"Billing"},payment:{path:"/billing",name:"Billing"},payments:{path:"/billing",name:"Billing"},help:{path:"/help",name:"Help & Support"},support:{path:"/help",name:"Help & Support"}};C.useEffect(()=>{if(typeof window<"u"){const D=window.webkitSpeechRecognition||window.SpeechRecognition;D&&(m.current=new D,m.current.continuous=!1,m.current.interimResults=!1,m.current.lang="en-US",m.current.onresult=P=>{const G=P.results[0][0].transcript;o(G),c(!1),setTimeout(()=>{B(G)},100)},m.current.onerror=P=>{console.error("Speech recognition error:",P.error),c(!1),b("bot","I'm sorry, I couldn't hear you clearly. Please try again or type your message.")},m.current.onend=()=>{c(!1)})}},[]);const N=()=>{var D;(D=f.current)==null||D.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{N()},[a]);const b=(D,P)=>{const G={id:Date.now().toString(),text:P,sender:D,timestamp:new Date};s(I=>[...I,G])},w=()=>{if(m.current&&!l)try{c(!0),m.current.start()}catch(D){console.error("Error starting speech recognition:",D),c(!1),b("bot","Voice recognition is not available in your browser. Please type your message instead.")}else m.current||b("bot","Voice recognition is not available in your browser. Please type your message instead.")},k=()=>{m.current&&l&&(m.current.stop(),c(!1))},S=D=>{const P=D.toLowerCase();if(h(!0),["take me to","go to","navigate to","open","show me","bring me to","switch to","visit"].some(q=>P.includes(q))){for(const[q,Y]of Object.entries(x))if(P.includes(q))return setTimeout(()=>{r(Y.path),t()},500),`Taking you to ${Y.name}...`;return"I can help you navigate to: Dashboard, Properties, Leads & Clients, Application, Appointment, Messages, Analytics, Billing, or Help & Support. Which one would you like to visit?"}if(P.includes("property")||P.includes("properties")||P.includes("listing")){const q=g.length,Y=g.filter(le=>le.published).length,ee=g.filter(le=>le.draft).length,ue=g.filter(le=>le.status==="available").length;if(P.includes("total")||P.includes("how many"))return`You currently have ${q} ${q===1?"property":"properties"} in your portfolio. ${Y} ${Y===1?"is":"are"} published, ${ee} ${ee===1?"is":"are"} in draft, and ${ue} ${ue===1?"is":"are"} available.`;if(P.includes("recent")||P.includes("latest")||P.includes("new")){const le=[...g].sort((xe,oe)=>new Date(oe.createdAt).getTime()-new Date(xe.createdAt).getTime()).slice(0,3);return le.length>0?`Your most recent properties are: ${le.map(oe=>`"${oe.title}"`).join(", ")}. Would you like details about any specific property?`:"You don't have any properties yet. Would you like to add one?"}if(P.includes("price")||P.includes("cost")||P.includes("rent")){const le=g.filter(xe=>xe.price).map(xe=>typeof xe.price=="object"&&xe.price.amount?xe.price.amount:typeof xe.priceString=="string"?parseFloat(xe.priceString.replace(/[^0-9.]/g,"")):NaN).filter(xe=>!isNaN(xe));if(le.length>0){const xe=le.reduce((Se,K)=>Se+K,0)/le.length,oe=Math.max(...le),fe=Math.min(...le);return`Based on your properties: Average price is $${xe.toFixed(2)}, highest is $${oe.toFixed(2)}, and lowest is $${fe.toFixed(2)}.`}return"I don't have pricing information for your properties yet."}return`You have ${q} properties in your portfolio. ${Y} are published and ${ue} are currently available. Would you like to know more about any specific property?`}if(P.includes("dashboard")||P.includes("analytics")||P.includes("statistics")||P.includes("stats")){const q=g.length,Y=y.length,ee=y.filter(le=>le.status==="In Progress"||le.status==="New Lead").length,ue=y.filter(le=>le.status==="Approved").length;return`Here's your dashboard summary: You have ${q} properties, ${Y} leads (${ee} active, ${ue} approved). Your portfolio is growing! Would you like more detailed analytics?`}if(P.includes("lead")||P.includes("client")||P.includes("inquiry")){const q=y.length,Y=y.filter(le=>le.status==="New Lead").length,ee=y.filter(le=>le.status==="In Progress").length,ue=y.filter(le=>le.status==="Approved").length;if(P.includes("total")||P.includes("how many"))return`You have ${q} leads: ${Y} new, ${ee} in progress, and ${ue} approved.`;if(P.includes("recent")||P.includes("latest")){const le=[...y].sort((xe,oe)=>new Date(oe.createdAt).getTime()-new Date(xe.createdAt).getTime()).slice(0,3);return le.length>0?`Your most recent leads are: ${le.map(oe=>`${oe.name} (${oe.status})`).join(", ")}.`:"You don't have any leads yet."}return`You have ${q} leads in your system. ${Y} are new leads that need attention. Would you like to see details about any specific lead?`}if(P.includes("future")||P.includes("forecast")||P.includes("prediction")||P.includes("trend")||P.includes("analysis")){const q=g.length,Y=y.length,ee=Y>0?(y.filter(ue=>ue.status==="Approved").length/Y*100).toFixed(1):"0";return`Based on your current data: You have ${q} properties and ${Y} leads with a ${ee}% approval rate. The trend suggests steady growth. To improve, consider focusing on properties with higher lead interest and optimizing your conversion funnel. Would you like specific recommendations?`}if(P.includes("performance")||P.includes("best")||P.includes("top")){if(g.length>0){const Y=g.map(ee=>({...ee,views:Math.floor(Math.random()*500)+50})).sort((ee,ue)=>ue.views-ee.views)[0];return`Your top-performing property is "${Y.title}" with high engagement. Properties in the "${Y.propertyType}" category are showing strong performance. Consider adding similar properties to your portfolio.`}return"I need more data to provide performance insights. Keep adding properties and I'll analyze their performance for you."}return P.includes("hello")||P.includes("hi")||P.includes("hey")?"Hello! I'm Ask Lakshmi, your AI assistant. I can help you with questions about your properties, leads, dashboard analytics, and provide insights. I can also navigate you to different sections - just say 'take me to [section name]'. What would you like to know?":P.includes("help")||P.includes("what can you")||P.includes("what do you")?`I can help you with:
 Property information and statistics
 Lead and client data
 Dashboard analytics and insights
 Future predictions and trends
 Performance analysis
 Navigation to different sections (just say 'take me to [section]')

Just ask me anything about your dashboard or ask me to navigate you somewhere!`:"I understand you're asking about: "+D+". Let me help you with that. Could you be more specific? For example, you can ask about your properties, leads, dashboard statistics, or future analysis."},B=D=>{D.trim()&&(b("user",D),h(!0),setTimeout(()=>{const P=S(D);b("bot",P),h(!1)},800))},H=async D=>{const P=i.trim();P&&(o(""),B(P))},F=D=>{D.preventDefault(),H()};return e?n.jsxs("div",{className:"fixed bottom-4 right-4 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col z-50 transition-all duration-300",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary to-orange-600 text-white p-4 rounded-t-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Nl,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"AI Assistant"})]})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 space-y-4 custom-scrollbar",children:[a.map(D=>n.jsxs("div",{className:`flex gap-3 ${D.sender==="user"?"justify-end":"justify-start"}`,children:[D.sender==="bot"&&n.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Nl,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${D.sender==="user"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:D.text}),n.jsx("p",{className:"text-xs mt-1 opacity-70",children:D.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),D.sender==="user"&&n.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(kn,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]},D.id)),u&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Nl,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),n.jsx("div",{ref:f})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("form",{onSubmit:F,className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:l?k:w,className:`p-2 rounded-lg transition-colors ${l?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:l?"Stop listening":"Start voice input",children:l?n.jsx(CC,{className:"w-5 h-5"}):n.jsx(Rw,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:i,onChange:D=>o(D.target.value),placeholder:l?"Listening...":"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:l}),n.jsx("button",{type:"submit",disabled:!i.trim()||u||l,className:"p-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Ch,{className:"w-5 h-5"})})]}),l&&n.jsx("p",{className:"text-xs text-red-500 mt-2 text-center animate-pulse",children:" Listening... Speak now"})]})]}):null},t1=({data:e,size:t=200,title:r})=>{const a=e.reduce((c,u)=>c+u.value,0),s=t/2,i=t/2-10;let o=-90;const l=(c,u,h)=>{const m=c/a*100/100*360,g=o,y=o+m,x=s+i*Math.cos(g*Math.PI/180),N=s+i*Math.sin(g*Math.PI/180),b=s+i*Math.cos(y*Math.PI/180),w=s+i*Math.sin(y*Math.PI/180),k=m>180?1:0,S=[`M ${s} ${s}`,`L ${x} ${N}`,`A ${i} ${i} 0 ${k} 1 ${b} ${w}`,"Z"].join(" ");return o=y,n.jsx("path",{d:S,fill:u,stroke:"white",strokeWidth:"2",className:"hover:opacity-80 transition-opacity cursor-pointer"},h)};return n.jsxs("div",{className:"flex flex-col items-center",children:[r&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:r}),n.jsxs("div",{className:"relative",children:[n.jsx("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,children:e.map((c,u)=>l(c.value,c.color,u))}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a}),n.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})})]}),n.jsx("div",{className:"mt-4 space-y-2 w-full",children:e.map((c,u)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),n.jsx("span",{className:"text-gray-700",children:c.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:c.value}),n.jsxs("span",{className:"text-gray-500",children:["(",(c.value/a*100).toFixed(1),"%)"]})]})]},u))})]})},r1=({data:e,title:t,height:r=200,showValues:a=!0})=>{const s=Math.max(...e.map(l=>l.value)),i=Math.min(...e.map(l=>l.value)),o=s-i||1;return n.jsxs("div",{className:"w-full",children:[t&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:t}),n.jsxs("div",{className:"relative w-full",style:{height:`${r}px`},children:[n.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between pr-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["$",(s/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.75/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.5/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.25/1e3).toFixed(0),"k"]}),n.jsx("span",{children:"$0"})]}),n.jsx("div",{className:"ml-12 h-full flex items-end justify-between gap-2 md:gap-4",children:e.map((l,c)=>{const u=(l.value-i)/o*100,h=Math.max(u,5);return n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group h-full",children:[a&&n.jsxs("div",{className:"absolute bottom-full mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:["$",l.value.toLocaleString(),n.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]}),n.jsxs("div",{className:"w-full rounded-t-lg transition-all hover:opacity-90 cursor-pointer relative group/bar",style:{height:`${h}%`,backgroundColor:l.color||"#FF6B35",minHeight:"8px"},title:`${l.label}: $${l.value.toLocaleString()}`,children:[a&&h>25&&n.jsxs("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 text-white text-xs font-semibold",children:["$",(l.value/1e3).toFixed(0),"k"]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover/bar:opacity-100 transition-opacity rounded-t-lg"})]}),n.jsx("div",{className:"text-xs text-gray-600 mt-2 text-center px-1 font-medium",children:l.label})]},c)})}),n.jsx("div",{className:"absolute inset-0 ml-12 pointer-events-none",children:[0,25,50,75,100].map(l=>n.jsx("div",{className:"absolute left-0 right-0 border-t border-gray-200",style:{bottom:`${l}%`}},l))})]})]})},X0=({data:e,title:t,height:r=200,color:a="#FF6B35"})=>{const s=Math.max(...e.map(f=>f.value)),i=Math.min(...e.map(f=>f.value)),o=s-i||1,l=100,c=r-40,h=`M ${e.map((f,m)=>{const g=m/(e.length-1)*l,y=c-(f.value-i)/o*c;return`${g},${y}`}).join(" L ")}`;return n.jsxs("div",{children:[t&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:t}),n.jsxs("div",{className:"relative",style:{height:`${r}px`},children:[n.jsxs("svg",{width:"100%",height:c,viewBox:`0 0 ${l} ${c}`,className:"overflow-visible",children:[[0,25,50,75,100].map(f=>n.jsx("line",{x1:"0",y1:f,x2:l,y2:f,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"2,2"},f)),n.jsx("path",{d:h,fill:"none",stroke:a,strokeWidth:"2",className:"transition-all"}),n.jsx("path",{d:`${h} L ${l},${c} L 0,${c} Z`,fill:a,fillOpacity:"0.1"}),e.map((f,m)=>{const g=m/(e.length-1)*l,y=c-(f.value-i)/o*c;return n.jsxs("g",{children:[n.jsx("circle",{cx:g,cy:y,r:"3",fill:a,className:"hover:r-4 transition-all cursor-pointer"}),n.jsx("text",{x:g,y:y-8,textAnchor:"middle",className:"text-xs fill-gray-600",style:{fontSize:"8px"},children:f.value})]},m)})]}),n.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:e.map((f,m)=>n.jsx("span",{className:"flex-1 text-center",children:f.label},m))})]})]})},S$="modulepreload",A$=function(e){return"/"+e},Kj={},ty=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=A$(c),c in Kj)return;Kj[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":S$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}var Pl=Uint8Array,no=Uint16Array,e4=Int32Array,t4=new Pl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r4=new Pl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zj=new Pl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),UC=function(e,t){for(var r=new no(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var s=new e4(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)s[i]=i-r[a]<<5|a;return{b:r,r:s}},VC=UC(t4,2),E$=VC.b,Bw=VC.r;E$[28]=258,Bw[258]=28;var T$=UC(r4,0),Xj=T$.r,zw=new no(32768);for(var Sa=0;Sa<32768;++Sa){var Ed=(Sa&43690)>>1|(Sa&21845)<<1;Ed=(Ed&52428)>>2|(Ed&13107)<<2,Ed=(Ed&61680)>>4|(Ed&3855)<<4,zw[Sa]=((Ed&65280)>>8|(Ed&255)<<8)>>1}var tg=function(e,t,r){for(var a=e.length,s=0,i=new no(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new no(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new no(1<<t);var c=15-t;for(s=0;s<a;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],f=o[e[s]-1]++<<h,m=f|(1<<h)-1;f<=m;++f)l[zw[f]>>c]=u}else for(l=new no(a),s=0;s<a;++s)e[s]&&(l[s]=zw[o[e[s]-1]++]>>15-e[s]);return l},vh=new Pl(288);for(var Sa=0;Sa<144;++Sa)vh[Sa]=8;for(var Sa=144;Sa<256;++Sa)vh[Sa]=9;for(var Sa=256;Sa<280;++Sa)vh[Sa]=7;for(var Sa=280;Sa<288;++Sa)vh[Sa]=8;var a1=new Pl(32);for(var Sa=0;Sa<32;++Sa)a1[Sa]=5;var C$=tg(vh,9,0),L$=tg(a1,5,0),qC=function(e){return(e+7)/8|0},P$=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Pl(e.subarray(t,r))},Cc=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},vm=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},kb=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var s=r.length,i=r.slice();if(!s)return{t:HC,l:0};if(s==1){var o=new Pl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,H){return B.f-H.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var g=new no(m+1),y=Uw(r[h-1],g,0);if(y>t){var a=0,x=0,N=y-t,b=1<<N;for(i.sort(function(H,F){return g[F.s]-g[H.s]||H.f-F.f});a<s;++a){var w=i[a].s;if(g[w]>t)x+=b-(1<<y-g[w]),g[w]=t;else break}for(x>>=N;x>0;){var k=i[a].s;g[k]<t?x-=1<<t-g[k]++-1:++a}for(;a>=0&&x;--a){var S=i[a].s;g[S]==t&&(--g[S],++x)}y=t}return{t:new Pl(g),l:y}},Uw=function(e,t,r){return e.s==-1?Math.max(Uw(e.l,t,r+1),Uw(e.r,t,r+1)):t[e.s]=r},Jj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new no(++t),a=0,s=e[0],i=1,o=function(c){r[a++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,a),n:t}},bm=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},$C=function(e,t,r){var a=r.length,s=qC(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=r[i];return(s+4+a)*8},Qj=function(e,t,r,a,s,i,o,l,c,u,h){Cc(t,h++,r),++s[256];for(var f=kb(s,15),m=f.t,g=f.l,y=kb(i,15),x=y.t,N=y.l,b=Jj(m),w=b.c,k=b.n,S=Jj(x),B=S.c,H=S.n,F=new no(19),D=0;D<w.length;++D)++F[w[D]&31];for(var D=0;D<B.length;++D)++F[B[D]&31];for(var P=kb(F,7),G=P.t,I=P.l,q=19;q>4&&!G[Zj[q-1]];--q);var Y=u+5<<3,ee=bm(s,vh)+bm(i,a1)+o,ue=bm(s,m)+bm(i,x)+o+14+3*q+bm(F,G)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&Y<=ee&&Y<=ue)return $C(t,h,e.subarray(c,c+u));var le,xe,oe,fe;if(Cc(t,h,1+(ue<ee)),h+=2,ue<ee){le=tg(m,g,0),xe=m,oe=tg(x,N,0),fe=x;var Se=tg(G,I,0);Cc(t,h,k-257),Cc(t,h+5,H-1),Cc(t,h+10,q-4),h+=14;for(var D=0;D<q;++D)Cc(t,h+3*D,G[Zj[D]]);h+=3*q;for(var K=[w,B],A=0;A<2;++A)for(var z=K[A],D=0;D<z.length;++D){var O=z[D]&31;Cc(t,h,Se[O]),h+=G[O],O>15&&(Cc(t,h,z[D]>>5&127),h+=z[D]>>12)}}else le=C$,xe=vh,oe=L$,fe=a1;for(var D=0;D<l;++D){var R=a[D];if(R>255){var O=R>>18&31;vm(t,h,le[O+257]),h+=xe[O+257],O>7&&(Cc(t,h,R>>23&31),h+=t4[O]);var W=R&31;vm(t,h,oe[W]),h+=fe[W],W>3&&(vm(t,h,R>>5&8191),h+=r4[W])}else vm(t,h,le[R]),h+=xe[R]}return vm(t,h,le[256]),h+xe[256]},M$=new e4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HC=new Pl(0),R$=function(e,t,r,a,s,i){var o=i.z||e.length,l=new Pl(a+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(a,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var f=M$[t-1],m=f>>13,g=f&8191,y=(1<<r)-1,x=i.p||new no(32768),N=i.h||new no(y+1),b=Math.ceil(r/3),w=2*b,k=function(Ge){return(e[Ge]^e[Ge+1]<<b^e[Ge+2]<<w)&y},S=new e4(25e3),B=new no(288),H=new no(32),F=0,D=0,P=i.i||0,G=0,I=i.w||0,q=0;P+2<o;++P){var Y=k(P),ee=P&32767,ue=N[Y];if(x[ee]=ue,N[Y]=ee,I<=P){var le=o-P;if((F>7e3||G>24576)&&(le>423||!u)){h=Qj(e,c,0,S,B,H,D,G,q,P-q,h),G=F=D=0,q=P;for(var xe=0;xe<286;++xe)B[xe]=0;for(var xe=0;xe<30;++xe)H[xe]=0}var oe=2,fe=0,Se=g,K=ee-ue&32767;if(le>2&&Y==k(P-K))for(var A=Math.min(m,le)-1,z=Math.min(32767,P),O=Math.min(258,le);K<=z&&--Se&&ee!=ue;){if(e[P+oe]==e[P+oe-K]){for(var R=0;R<O&&e[P+R]==e[P+R-K];++R);if(R>oe){if(oe=R,fe=K,R>A)break;for(var W=Math.min(K,R-2),X=0,xe=0;xe<W;++xe){var ne=P-K+xe&32767,re=x[ne],Z=ne-re&32767;Z>X&&(X=Z,ue=ne)}}}ee=ue,ue=x[ee],K+=ee-ue&32767}if(fe){S[G++]=268435456|Bw[oe]<<18|Xj[fe];var ke=Bw[oe]&31,Le=Xj[fe]&31;D+=t4[ke]+r4[Le],++B[257+ke],++H[Le],I=P+oe,++F}else S[G++]=e[P],++B[e[P]]}}for(P=Math.max(P,I);P<o;++P)S[G++]=e[P],++B[e[P]];h=Qj(e,c,u,S,B,H,D,G,q,P-q,h),u||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=N,i.p=x,i.i=P,i.w=I)}else{for(var P=i.w||0;P<o+u;P+=65535){var Oe=P+65535;Oe>=o&&(c[h/8|0]=u,Oe=o),h=$C(c,h+1,e.subarray(P,Oe))}i.i=o}return P$(l,0,a+qC(h)+s)},WC=function(){var e=1,t=0;return{p:function(r){for(var a=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=r[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},O$=function(e,t,r,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Pl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return R$(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,s)},GC=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},D$=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=WC();s.p(t.dictionary),GC(e,2,s.d())}};function Vw(e,t){t||(t={});var r=WC();r.p(e);var a=O$(e,t,t.dictionary?6:2,4);return D$(a,t),GC(a,a.length-4,r.d()),a}var I$=typeof TextDecoder<"u"&&new TextDecoder,F$=0;try{I$.decode(HC,{stream:!0}),F$=1}catch{}function B$(e){if(Array.isArray(e))return e}function z$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function e3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function U$(e,t){if(e){if(typeof e=="string")return e3(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e3(e,t):void 0}}function V$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t3(e,t){return B$(e)||z$(e,t)||U$(e,t)||V$()}function r3(e,t="utf8"){return new TextDecoder(t).decode(e)}const q$=new TextEncoder;function $$(e){return q$.encode(e)}const H$=1024*8,W$=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),jb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class a4{constructor(t=H$,r={}){Xr(this,"buffer");Xr(this,"byteLength");Xr(this,"byteOffset");Xr(this,"length");Xr(this,"offset");Xr(this,"lastWrittenByte");Xr(this,"littleEndian");Xr(this,"_data");Xr(this,"_mark");Xr(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof a4)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=jb[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===W$&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const c=new jb[r](l.buffer);return this.offset+=a,c.reverse(),c}const o=new jb[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return r3(this.readBytes(t))}decodeText(t=1,r="utf8"){return r3(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes($$(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uf(e){let t=e.length;for(;--t>=0;)e[t]=0}const G$=3,Y$=258,YC=29,K$=256,Z$=K$+1+YC,KC=30,X$=512,J$=new Array((Z$+2)*2);Uf(J$);const Q$=new Array(KC*2);Uf(Q$);const eH=new Array(X$);Uf(eH);const tH=new Array(Y$-G$+1);Uf(tH);const rH=new Array(YC);Uf(rH);const aH=new Array(KC);Uf(aH);const nH=(e,t,r,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var qw=nH;const sH=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},iH=new Uint32Array(sH()),oH=(e,t,r,a)=>{const s=iH,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Zl=oH,$w={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ZC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var cH=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)lH(r,a)&&(e[a]=r[a])}}return e},dH=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];r.set(o,s),s+=o.length}return r},XC={assign:cH,flattenChunks:dH};let JC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{JC=!1}const Fg=new Uint8Array(256);for(let e=0;e<256;e++)Fg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Fg[254]=Fg[254]=1;var uH=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const hH=(e,t)=>{if(t<65534&&e.subarray&&JC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var fH=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(r*2);for(s=0,a=0;a<r;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=Fg[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return hH(i,s)},mH=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Fg[e[r]]>t?r:t},Hw={string2buf:uH,buf2string:fH,utf8border:mH};function gH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pH=gH;const hx=16209,xH=16191;var yH=function(t,r){let a,s,i,o,l,c,u,h,f,m,g,y,x,N,b,w,k,S,B,H,F,D,P,G;const I=t.state;a=t.next_in,P=t.input,s=a+(t.avail_in-5),i=t.next_out,G=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=I.dmax,u=I.wsize,h=I.whave,f=I.wnext,m=I.window,g=I.hold,y=I.bits,x=I.lencode,N=I.distcode,b=(1<<I.lenbits)-1,w=(1<<I.distbits)-1;e:do{y<15&&(g+=P[a++]<<y,y+=8,g+=P[a++]<<y,y+=8),k=x[g&b];t:for(;;){if(S=k>>>24,g>>>=S,y-=S,S=k>>>16&255,S===0)G[i++]=k&65535;else if(S&16){B=k&65535,S&=15,S&&(y<S&&(g+=P[a++]<<y,y+=8),B+=g&(1<<S)-1,g>>>=S,y-=S),y<15&&(g+=P[a++]<<y,y+=8,g+=P[a++]<<y,y+=8),k=N[g&w];r:for(;;){if(S=k>>>24,g>>>=S,y-=S,S=k>>>16&255,S&16){if(H=k&65535,S&=15,y<S&&(g+=P[a++]<<y,y+=8,y<S&&(g+=P[a++]<<y,y+=8)),H+=g&(1<<S)-1,H>c){t.msg="invalid distance too far back",I.mode=hx;break e}if(g>>>=S,y-=S,S=i-o,H>S){if(S=H-S,S>h&&I.sane){t.msg="invalid distance too far back",I.mode=hx;break e}if(F=0,D=m,f===0){if(F+=u-S,S<B){B-=S;do G[i++]=m[F++];while(--S);F=i-H,D=G}}else if(f<S){if(F+=u+f-S,S-=f,S<B){B-=S;do G[i++]=m[F++];while(--S);if(F=0,f<B){S=f,B-=S;do G[i++]=m[F++];while(--S);F=i-H,D=G}}}else if(F+=f-S,S<B){B-=S;do G[i++]=m[F++];while(--S);F=i-H,D=G}for(;B>2;)G[i++]=D[F++],G[i++]=D[F++],G[i++]=D[F++],B-=3;B&&(G[i++]=D[F++],B>1&&(G[i++]=D[F++]))}else{F=i-H;do G[i++]=G[F++],G[i++]=G[F++],G[i++]=G[F++],B-=3;while(B>2);B&&(G[i++]=G[F++],B>1&&(G[i++]=G[F++]))}}else if(S&64){t.msg="invalid distance code",I.mode=hx;break e}else{k=N[(k&65535)+(g&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){I.mode=xH;break e}else{t.msg="invalid literal/length code",I.mode=hx;break e}else{k=x[(k&65535)+(g&(1<<S)-1)];continue t}break}}while(a<s&&i<l);B=y>>3,a-=B,y-=B<<3,g&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<l?257+(l-i):257-(i-l),I.hold=g,I.bits=y};const s0=15,a3=852,n3=592,s3=0,Sb=1,i3=2,vH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_H=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NH=(e,t,r,a,s,i,o,l)=>{const c=l.bits;let u=0,h=0,f=0,m=0,g=0,y=0,x=0,N=0,b=0,w=0,k,S,B,H,F,D=null,P;const G=new Uint16Array(s0+1),I=new Uint16Array(s0+1);let q=null,Y,ee,ue;for(u=0;u<=s0;u++)G[u]=0;for(h=0;h<a;h++)G[t[r+h]]++;for(g=c,m=s0;m>=1&&G[m]===0;m--);if(g>m&&(g=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&G[f]===0;f++);for(g<f&&(g=f),N=1,u=1;u<=s0;u++)if(N<<=1,N-=G[u],N<0)return-1;if(N>0&&(e===s3||m!==1))return-1;for(I[1]=0,u=1;u<s0;u++)I[u+1]=I[u]+G[u];for(h=0;h<a;h++)t[r+h]!==0&&(o[I[t[r+h]]++]=h);if(e===s3?(D=q=o,P=20):e===Sb?(D=vH,q=bH,P=257):(D=wH,q=_H,P=0),w=0,h=0,u=f,F=i,y=g,x=0,B=-1,b=1<<g,H=b-1,e===Sb&&b>a3||e===i3&&b>n3)return 1;for(;;){Y=u-x,o[h]+1<P?(ee=0,ue=o[h]):o[h]>=P?(ee=q[o[h]-P],ue=D[o[h]-P]):(ee=96,ue=0),k=1<<u-x,S=1<<y,f=S;do S-=k,s[F+(w>>x)+S]=Y<<24|ee<<16|ue|0;while(S!==0);for(k=1<<u-1;w&k;)k>>=1;if(k!==0?(w&=k-1,w+=k):w=0,h++,--G[u]===0){if(u===m)break;u=t[r+o[h]]}if(u>g&&(w&H)!==B){for(x===0&&(x=g),F+=f,y=u-x,N=1<<y;y+x<m&&(N-=G[y+x],!(N<=0));)y++,N<<=1;if(b+=1<<y,e===Sb&&b>a3||e===i3&&b>n3)return 1;B=w&H,s[B]=g<<24|y<<16|F-i|0}}return w!==0&&(s[F+w]=u-x<<24|64<<16|0),l.bits=g,0};var rg=NH;const kH=0,QC=1,e7=2,{Z_FINISH:o3,Z_BLOCK:jH,Z_TREES:fx,Z_OK:bh,Z_STREAM_END:SH,Z_NEED_DICT:AH,Z_STREAM_ERROR:Ho,Z_DATA_ERROR:t7,Z_MEM_ERROR:r7,Z_BUF_ERROR:EH,Z_DEFLATED:l3}=ZC,ev=16180,c3=16181,d3=16182,u3=16183,h3=16184,f3=16185,m3=16186,g3=16187,p3=16188,x3=16189,n1=16190,Lc=16191,Ab=16192,y3=16193,Eb=16194,v3=16195,b3=16196,w3=16197,_3=16198,mx=16199,gx=16200,N3=16201,k3=16202,j3=16203,S3=16204,A3=16205,Tb=16206,E3=16207,T3=16208,Pa=16209,a7=16210,n7=16211,TH=852,CH=592,LH=15,PH=LH,C3=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function MH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ev||t.mode>n7?1:0},s7=e=>{if(Lh(e))return Ho;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ev,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(TH),t.distcode=t.distdyn=new Int32Array(CH),t.sane=1,t.back=-1,bh},i7=e=>{if(Lh(e))return Ho;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,s7(e)},o7=(e,t)=>{let r;if(Lh(e))return Ho;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ho:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,i7(e))},l7=(e,t)=>{if(!e)return Ho;const r=new MH;e.state=r,r.strm=e,r.window=null,r.mode=ev;const a=o7(e,t);return a!==bh&&(e.state=null),a},RH=e=>l7(e,PH);let L3=!0,Cb,Lb;const OH=e=>{if(L3){Cb=new Int32Array(512),Lb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(rg(QC,e.lens,0,288,Cb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;rg(e7,e.lens,0,32,Lb,0,e.work,{bits:5}),L3=!1}e.lencode=Cb,e.lenbits=9,e.distcode=Lb,e.distbits=5},c7=(e,t,r,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(r-a,r-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},DH=(e,t)=>{let r,a,s,i,o,l,c,u,h,f,m,g,y,x,N=0,b,w,k,S,B,H,F,D;const P=new Uint8Array(4);let G,I;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lh(e)||!e.output||!e.input&&e.avail_in!==0)return Ho;r=e.state,r.mode===Lc&&(r.mode=Ab),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,h=r.bits,f=l,m=c,D=bh;e:for(;;)switch(r.mode){case ev:if(r.wrap===0){r.mode=Ab;break}for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=Zl(r.check,P,2,0),u=0,h=0,r.mode=c3;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Pa;break}if((u&15)!==l3){e.msg="unknown compression method",r.mode=Pa;break}if(u>>>=4,h-=4,F=(u&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=Pa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?x3:Lc,u=0,h=0;break;case c3:for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==l3){e.msg="unknown compression method",r.mode=Pa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Pa;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Zl(r.check,P,2,0)),u=0,h=0,r.mode=d3;case d3:for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Zl(r.check,P,4,0)),u=0,h=0,r.mode=u3;case u3:for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Zl(r.check,P,2,0)),u=0,h=0,r.mode=h3;case h3:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Zl(r.check,P,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=f3;case f3:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+g),F)),r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,g,i)),l-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=m3;case m3:if(r.flags&2048){if(l===0)break e;g=0;do F=a[i+g++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,g,i)),l-=g,i+=g,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=g3;case g3:if(r.flags&4096){if(l===0)break e;g=0;do F=a[i+g++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,g,i)),l-=g,i+=g,F)break e}else r.head&&(r.head.comment=null);r.mode=p3;case p3:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Pa;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Lc;break;case x3:for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}e.adler=r.check=C3(u),u=0,h=0,r.mode=n1;case n1:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,AH;e.adler=r.check=1,r.mode=Lc;case Lc:if(t===jH||t===fx)break e;case Ab:if(r.last){u>>>=h&7,h-=h&7,r.mode=Tb;break}for(;h<3;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=y3;break;case 1:if(OH(r),r.mode=mx,t===fx){u>>>=2,h-=2;break e}break;case 2:r.mode=b3;break;case 3:e.msg="invalid block type",r.mode=Pa}u>>>=2,h-=2;break;case y3:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pa;break}if(r.length=u&65535,u=0,h=0,r.mode=Eb,t===fx)break e;case Eb:r.mode=v3;case v3:if(g=r.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;s.set(a.subarray(i,i+g),o),l-=g,i+=g,c-=g,o+=g,r.length-=g;break}r.mode=Lc;break;case b3:for(;h<14;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pa;break}r.have=0,r.mode=w3;case w3:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.lens[q[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=rg(kH,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid code lengths set",r.mode=Pa;break}r.have=0,r.mode=_3;case _3:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[u&(1<<r.lenbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(k<16)u>>>=b,h-=b,r.lens[r.have++]=k;else{if(k===16){for(I=b+2;h<I;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(u>>>=b,h-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=Pa;break}F=r.lens[r.have-1],g=3+(u&3),u>>>=2,h-=2}else if(k===17){for(I=b+3;h<I;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=b,h-=b,F=0,g=3+(u&7),u>>>=3,h-=3}else{for(I=b+7;h<I;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=b,h-=b,F=0,g=11+(u&127),u>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pa;break}for(;g--;)r.lens[r.have++]=F}}if(r.mode===Pa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Pa;break}if(r.lenbits=9,G={bits:r.lenbits},D=rg(QC,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid literal/lengths set",r.mode=Pa;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=rg(e7,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){e.msg="invalid distances set",r.mode=Pa;break}if(r.mode=mx,t===fx)break e;case mx:r.mode=gx;case gx:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,yH(e,m),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===Lc&&(r.back=-1);break}for(r.back=0;N=r.lencode[u&(1<<r.lenbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(w&&!(w&240)){for(S=b,B=w,H=k;N=r.lencode[H+((u&(1<<S+B)-1)>>S)],b=N>>>24,w=N>>>16&255,k=N&65535,!(S+b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=S,h-=S,r.back+=S}if(u>>>=b,h-=b,r.back+=b,r.length=k,w===0){r.mode=A3;break}if(w&32){r.back=-1,r.mode=Lc;break}if(w&64){e.msg="invalid literal/length code",r.mode=Pa;break}r.extra=w&15,r.mode=N3;case N3:if(r.extra){for(I=r.extra;h<I;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=k3;case k3:for(;N=r.distcode[u&(1<<r.distbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(!(w&240)){for(S=b,B=w,H=k;N=r.distcode[H+((u&(1<<S+B)-1)>>S)],b=N>>>24,w=N>>>16&255,k=N&65535,!(S+b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=S,h-=S,r.back+=S}if(u>>>=b,h-=b,r.back+=b,w&64){e.msg="invalid distance code",r.mode=Pa;break}r.offset=k,r.extra=w&15,r.mode=j3;case j3:if(r.extra){for(I=r.extra;h<I;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pa;break}r.mode=S3;case S3:if(c===0)break e;if(g=m-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pa;break}g>r.wnext?(g-=r.wnext,y=r.wsize-g):y=r.wnext-g,g>r.length&&(g=r.length),x=r.window}else x=s,y=o-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do s[o++]=x[y++];while(--g);r.length===0&&(r.mode=gx);break;case A3:if(c===0)break e;s[o++]=r.length,c--,r.mode=gx;break;case Tb:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=a[i++]<<h,h+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Zl(r.check,s,m,o-m):qw(r.check,s,m,o-m)),m=c,r.wrap&4&&(r.flags?u:C3(u))!==r.check){e.msg="incorrect data check",r.mode=Pa;break}u=0,h=0}r.mode=E3;case E3:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Pa;break}u=0,h=0}r.mode=T3;case T3:D=SH;break e;case Pa:D=t7;break e;case a7:return r7;case n7:default:return Ho}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||m!==e.avail_out&&r.mode<Pa&&(r.mode<Tb||t!==o3))&&c7(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Zl(r.check,s,m,e.next_out-m):qw(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Lc?128:0)+(r.mode===mx||r.mode===Eb?256:0),(f===0&&m===0||t===o3)&&D===bh&&(D=EH),D},IH=e=>{if(Lh(e))return Ho;let t=e.state;return t.window&&(t.window=null),e.state=null,bh},FH=(e,t)=>{if(Lh(e))return Ho;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,bh):Ho},BH=(e,t)=>{const r=t.length;let a,s,i;return Lh(e)||(a=e.state,a.wrap!==0&&a.mode!==n1)?Ho:a.mode===n1&&(s=1,s=qw(s,t,r,0),s!==a.check)?t7:(i=c7(e,t,r,r),i?(a.mode=a7,r7):(a.havedict=1,bh))};var zH=i7,UH=o7,VH=s7,qH=RH,$H=l7,HH=DH,WH=IH,GH=FH,YH=BH,KH="pako inflate (from Nodeca project)",Oc={inflateReset:zH,inflateReset2:UH,inflateResetKeep:VH,inflateInit:qH,inflateInit2:$H,inflate:HH,inflateEnd:WH,inflateGetHeader:GH,inflateSetDictionary:YH,inflateInfo:KH};function ZH(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XH=ZH;const d7=Object.prototype.toString,{Z_NO_FLUSH:JH,Z_FINISH:QH,Z_OK:Bg,Z_STREAM_END:Pb,Z_NEED_DICT:Mb,Z_STREAM_ERROR:eW,Z_DATA_ERROR:P3,Z_MEM_ERROR:tW}=ZC;function gp(e){this.options=XC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pH,this.strm.avail_out=0;let r=Oc.inflateInit2(this.strm,t.windowBits);if(r!==Bg)throw new Error($w[r]);if(this.header=new XH,Oc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Hw.string2buf(t.dictionary):d7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Oc.inflateSetDictionary(this.strm,t.dictionary),r!==Bg)))throw new Error($w[r])}gp.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?QH:JH,d7.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=Oc.inflate(r,o),i===Mb&&s&&(i=Oc.inflateSetDictionary(r,s),i===Bg?i=Oc.inflate(r,o):i===P3&&(i=Mb));r.avail_in>0&&i===Pb&&r.state.wrap>0&&e[r.next_in]!==0;)Oc.inflateReset(r),i=Oc.inflate(r,o);switch(i){case eW:case P3:case Mb:case tW:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Pb))if(this.options.to==="string"){let c=Hw.utf8border(r.output,r.next_out),u=r.next_out-c,h=Hw.buf2string(r.output,c);r.next_out=u,r.avail_out=a-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Bg&&l===0)){if(i===Pb)return i=Oc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};gp.prototype.onData=function(e){this.chunks.push(e)};gp.prototype.onEnd=function(e){e===Bg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=XC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rW(e,t){const r=new gp(t);if(r.push(e),r.err)throw r.msg||$w[r.err];return r.result}var aW=gp,nW=rW,sW={Inflate:aW,inflate:nW};const{Inflate:iW,inflate:oW}=sW;var M3=iW,lW=oW;const u7=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;u7[e]=t}const R3=4294967295;function cW(e,t,r){let a=e;for(let s=0;s<r;s++)a=u7[(a^t[s])&255]^a>>>8;return a}function dW(e,t){return(cW(R3,e,t)^R3)>>>0}function O3(e,t,r){const a=e.readUint32(),s=dW(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${s}`)}function h7(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function f7(e,t,r,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}function m7(e,t,r,a){let s=0;if(r.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+r[s]&255}function g7(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function p7(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+uW(t[i-s],r[i],r[i-s])&255}}function uW(e,t,r){const a=e+t-r,s=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return s<=i&&s<=o?e:i<=o?t:r}function hW(e,t,r,a,s,i){switch(e){case 0:h7(t,r,s);break;case 1:f7(t,r,s,i);break;case 2:m7(t,r,a,s);break;case 3:g7(t,r,a,s,i);break;case 4:p7(t,r,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const fW=new Uint16Array([255]),mW=new Uint8Array(fW.buffer),gW=mW[0]===255;function pW(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(a*r*l);let u=0;for(let h=0;h<7;h++){const f=o[h],m=Math.ceil((r-f.x)/f.xStep),g=Math.ceil((a-f.y)/f.yStep);if(m<=0||g<=0)continue;const y=m*l,x=new Uint8Array(y);for(let N=0;N<g;N++){const b=t[u++],w=t.subarray(u,u+y);u+=y;const k=new Uint8Array(y);hW(b,w,k,x,y,l),x.set(k);for(let S=0;S<m;S++){const B=f.x+S*f.xStep,H=f.y+N*f.yStep;if(!(B>=r||H>=a))for(let F=0;F<l;F++)c[(H*r+B)*l+F]=k[S*l+F]}}}if(i===16){const h=new Uint16Array(c.buffer);if(gW)for(let f=0;f<h.length;f++)h[f]=xW(h[f]);return h}else return c}function xW(e){return(e&255)<<8|e>>8&255}const yW=new Uint16Array([255]),vW=new Uint8Array(yW.buffer),bW=vW[0]===255,wW=new Uint8Array(0);function D3(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(a*l);let u=wW,h=0,f,m;for(let g=0;g<a;g++){switch(f=t.subarray(h+1,h+1+l),m=c.subarray(g*l,(g+1)*l),t[h]){case 0:h7(f,m,l);break;case 1:f7(f,m,l,o);break;case 2:m7(f,m,u,l);break;case 3:g7(f,m,u,l,o);break;case 4:p7(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=m,h+=l+1}if(i===16){const g=new Uint16Array(c.buffer);if(bW)for(let y=0;y<g.length;y++)g[y]=_W(g[y]);return g}else return c}function _W(e){return(e&255)<<8|e>>8&255}const ry=Uint8Array.of(137,80,78,71,13,10,26,10);function I3(e){if(!NW(e.readBytes(ry.length)))throw new Error("wrong PNG signature")}function NW(e){if(e.length<ry.length)return!1;for(let t=0;t<ry.length;t++)if(e[t]!==ry[t])return!1;return!0}const kW="tEXt",jW=0,x7=new TextDecoder("latin1");function SW(e){if(EW(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const AW=/^[\u0000-\u00FF]*$/;function EW(e){if(!AW.test(e))throw new Error("invalid latin1 text")}function TW(e,t,r){const a=y7(t);e[a]=CW(t,r-a.length-1)}function y7(e){for(e.mark();e.readByte()!==jW;);const t=e.offset;e.reset();const r=x7.decode(e.readBytes(t-e.offset-1));return e.skip(1),SW(r),r}function CW(e,t){return x7.decode(e.readBytes(t))}const Wi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rb={UNKNOWN:-1,DEFLATE:0},F3={UNKNOWN:-1,ADAPTIVE:0},Ob={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},px={NONE:0,BACKGROUND:1,PREVIOUS:2},Db={SOURCE:0,OVER:1};class LW extends a4{constructor(r,a={}){super(r);Xr(this,"_checkCrc");Xr(this,"_inflator");Xr(this,"_png");Xr(this,"_apng");Xr(this,"_end");Xr(this,"_hasPalette");Xr(this,"_palette");Xr(this,"_hasTransparency");Xr(this,"_transparency");Xr(this,"_compressionMethod");Xr(this,"_filterMethod");Xr(this,"_interlaceMethod");Xr(this,"_colorType");Xr(this,"_isAnimated");Xr(this,"_numberOfFrames");Xr(this,"_numberOfPlays");Xr(this,"_frames");Xr(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new M3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rb.UNKNOWN,this._filterMethod=F3.UNKNOWN,this._interlaceMethod=Ob.UNKNOWN,this._colorType=Wi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(I3(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(I3(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case kW:TW(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?O3(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?O3(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=PW(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case Wi.GREYSCALE:s=1;break;case Wi.TRUECOLOUR:s=3;break;case Wi.INDEXED_COLOUR:s=1;break;case Wi.GREYSCALE_ALPHA:s=2;break;case Wi.TRUECOLOUR_ALPHA:s=4;break;case Wi.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Wi.GREYSCALE:case Wi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Wi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Wi.UNKNOWN:case Wi.GREYSCALE_ALPHA:case Wi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=y7(this),s=this.readUint8();if(s!==Rb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:lW(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=D3({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case px.NONE:break;case px.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case px.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,u=(o*a.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(a.blendOp){case Db.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[c+h]=a.data[u+h]}break;case Db.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const f=a.data[u+this._png.channels-1]/s,m=h%(this._png.channels-1)===0?1:a.data[u+h],g=Math.floor(f*m+(1-f)*r.data[c+h]);r.data[c+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==F3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ob.NO_INTERLACE)this._png.data=D3({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ob.ADAM7)this._png.data=pW({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:px.NONE,blendOp:Db.SOURCE,data:r}),this._inflator=new M3,this._writingDataChunks=!1}}function PW(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var B3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(B3||(B3={}));function MW(e,t){return new LW(e,t).decode()}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ib(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var ha={log:Ib,warn:function(e){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):Ib.call(null,arguments))},error:function(e){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):Ib(e))}};function Fb(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Gu(a.response,t,r)},a.onerror=function(){ha.error("could not download file")},a.send()}function z3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Gu=nr.saveAs||((typeof window>"u"?"undefined":ta(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=nr.URL||nr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?z3(s.href)?Fb(e,t,r):xx(s,s.target="_blank"):xx(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){xx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(z3(e))Fb(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){xx(a)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ta(i)!=="object"&&(ha.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Fb(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(nr.HTMLElement)||nr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":ta(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(e)}else{var c=nr.URL||nr.webkitURL,u=c.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function v7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var ay=nr.atob.bind(nr),U3=nr.btoa.bind(nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bb(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=_s(r,a,s,i,t[0],7,-680876936),i=_s(i,r,a,s,t[1],12,-389564586),s=_s(s,i,r,a,t[2],17,606105819),a=_s(a,s,i,r,t[3],22,-1044525330),r=_s(r,a,s,i,t[4],7,-176418897),i=_s(i,r,a,s,t[5],12,1200080426),s=_s(s,i,r,a,t[6],17,-1473231341),a=_s(a,s,i,r,t[7],22,-45705983),r=_s(r,a,s,i,t[8],7,1770035416),i=_s(i,r,a,s,t[9],12,-1958414417),s=_s(s,i,r,a,t[10],17,-42063),a=_s(a,s,i,r,t[11],22,-1990404162),r=_s(r,a,s,i,t[12],7,1804603682),i=_s(i,r,a,s,t[13],12,-40341101),s=_s(s,i,r,a,t[14],17,-1502002290),r=Ns(r,a=_s(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ns(i,r,a,s,t[6],9,-1069501632),s=Ns(s,i,r,a,t[11],14,643717713),a=Ns(a,s,i,r,t[0],20,-373897302),r=Ns(r,a,s,i,t[5],5,-701558691),i=Ns(i,r,a,s,t[10],9,38016083),s=Ns(s,i,r,a,t[15],14,-660478335),a=Ns(a,s,i,r,t[4],20,-405537848),r=Ns(r,a,s,i,t[9],5,568446438),i=Ns(i,r,a,s,t[14],9,-1019803690),s=Ns(s,i,r,a,t[3],14,-187363961),a=Ns(a,s,i,r,t[8],20,1163531501),r=Ns(r,a,s,i,t[13],5,-1444681467),i=Ns(i,r,a,s,t[2],9,-51403784),s=Ns(s,i,r,a,t[7],14,1735328473),r=ks(r,a=Ns(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ks(i,r,a,s,t[8],11,-2022574463),s=ks(s,i,r,a,t[11],16,1839030562),a=ks(a,s,i,r,t[14],23,-35309556),r=ks(r,a,s,i,t[1],4,-1530992060),i=ks(i,r,a,s,t[4],11,1272893353),s=ks(s,i,r,a,t[7],16,-155497632),a=ks(a,s,i,r,t[10],23,-1094730640),r=ks(r,a,s,i,t[13],4,681279174),i=ks(i,r,a,s,t[0],11,-358537222),s=ks(s,i,r,a,t[3],16,-722521979),a=ks(a,s,i,r,t[6],23,76029189),r=ks(r,a,s,i,t[9],4,-640364487),i=ks(i,r,a,s,t[12],11,-421815835),s=ks(s,i,r,a,t[15],16,530742520),r=js(r,a=ks(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=js(i,r,a,s,t[7],10,1126891415),s=js(s,i,r,a,t[14],15,-1416354905),a=js(a,s,i,r,t[5],21,-57434055),r=js(r,a,s,i,t[12],6,1700485571),i=js(i,r,a,s,t[3],10,-1894986606),s=js(s,i,r,a,t[10],15,-1051523),a=js(a,s,i,r,t[1],21,-2054922799),r=js(r,a,s,i,t[8],6,1873313359),i=js(i,r,a,s,t[15],10,-30611744),s=js(s,i,r,a,t[6],15,-1560198380),a=js(a,s,i,r,t[13],21,1309151649),r=js(r,a,s,i,t[4],6,-145523070),i=js(i,r,a,s,t[11],10,-1120210379),s=js(s,i,r,a,t[2],15,718787259),a=js(a,s,i,r,t[9],21,-343485551),e[0]=Wd(r,e[0]),e[1]=Wd(a,e[1]),e[2]=Wd(s,e[2]),e[3]=Wd(i,e[3])}function tv(e,t,r,a,s,i){return t=Wd(Wd(t,e),Wd(a,i)),Wd(t<<s|t>>>32-s,r)}function _s(e,t,r,a,s,i,o){return tv(t&r|~t&a,e,t,s,i,o)}function Ns(e,t,r,a,s,i,o){return tv(t&a|r&~a,e,t,s,i,o)}function ks(e,t,r,a,s,i,o){return tv(t^r^a,e,t,s,i,o)}function js(e,t,r,a,s,i,o){return tv(r^(t|~a),e,t,s,i,o)}function b7(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Bb(a,RW(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Bb(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Bb(a,s),a}function RW(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var V3="0123456789abcdef".split("");function OW(e){for(var t="",r=0;r<4;r++)t+=V3[e>>8*r+4&15]+V3[e>>8*r&15];return t}function DW(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ww(e){return b7(e).map(DW).join("")}var IW=function(e){for(var t=0;t<e.length;t++)e[t]=OW(e[t]);return e.join("")}(b7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wd(e,t){if(IW){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gw(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}r=e,a=l}else l=a;var f=t.length,m=0,g=0,y="";for(c=0;c<f;c++)g=(g+(h=l[m=(m+1)%256]))%256,l[m]=l[g],l[g]=h,o=l[(l[m]+l[g])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q3={print:4,modify:8,copy:16,"annot-forms":32};function v0(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(q3.perm!==void 0)throw new Error("Invalid permission: "+l);s+=q3[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Ww(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Gw(this.encryptionKey,this.padding)}function b0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function $3(e){if(ta(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){nr.console&&ha.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function s1(e){if(!(this instanceof s1))return new s1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function w7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Xu(e,t,r,a,s){if(!(this instanceof Xu))return new Xu(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,w7.call(this,a,s)}function O0(e,t,r,a,s){if(!(this instanceof O0))return new O0(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,w7.call(this,a,s)}function Vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",h=null;ta(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=$3;var y="1.3",x=g.__private__.getPdfVersion=function(){return y};g.__private__.setPdfVersion=function(E){y=E};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var b=g.__private__.getPageFormat=function(E){return N[E]};s=s||"a4";var w="compat",k="advanced",S=w;function B(){this.saveGraphicsState(),de(new $t(gt,0,0,-gt,0,vc()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),u="n",S=k}function H(){this.restoreGraphicsState(),u="S",S=w}var F=g.__private__.combineFontStyleAndFontWeight=function(E,J){if(E=="bold"&&J=="normal"||E=="bold"&&J==400||E=="normal"&&J=="italic"||E=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(E=J==400||J==="normal"?E==="italic"?"italic":"normal":J!=700&&J!=="bold"||E!=="normal"?(J==700?"bold":J)+""+E:"bold"),E};g.advancedAPI=function(E){var J=S===w;return J&&B.call(this),typeof E!="function"||(E(this),J&&H.call(this)),this},g.compatAPI=function(E){var J=S===k;return J&&H.call(this),typeof E!="function"||(E(this),J&&B.call(this)),this},g.isAdvancedAPI=function(){return S===k};var D,P=function(E){if(S!==k)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=g.roundToPrecision=g.__private__.roundToPrecision=function(E,J){var ye=t||J;if(isNaN(E)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ye).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,16)};var I=g.f2=g.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return G(E,2)},q=g.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return G(E,3)},Y=g.scale=g.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return S===w?E*gt:S===k?E:void 0},ee=function(E){return Y(function(J){return S===w?vc()-J:S===k?J:void 0}(E))};g.__private__.setPrecision=g.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var ue,le="00000000000000000000000000000000",xe=g.__private__.getFileId=function(){return le},oe=g.__private__.setFileId=function(E){return le=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(La=new v0(h.userPermissions,h.userPassword,h.ownerPassword,le)),le};g.setFileId=function(E){return oe(E),this},g.getFileId=function(){return xe()};var fe=g.__private__.convertDateToPDFDate=function(E){var J=E.getTimezoneOffset(),ye=J<0?"+":"-",Ce=Math.floor(Math.abs(J/60)),Re=Math.abs(J%60),Ze=[ye,O(Ce),"'",O(Re),"'"].join("");return["D:",E.getFullYear(),O(E.getMonth()+1),O(E.getDate()),O(E.getHours()),O(E.getMinutes()),O(E.getSeconds()),Ze].join("")},Se=g.__private__.convertPDFDateToDate=function(E){var J=parseInt(E.substr(2,4),10),ye=parseInt(E.substr(6,2),10)-1,Ce=parseInt(E.substr(8,2),10),Re=parseInt(E.substr(10,2),10),Ze=parseInt(E.substr(12,2),10),ot=parseInt(E.substr(14,2),10);return new Date(J,ye,Ce,Re,Ze,ot,0)},K=g.__private__.setCreationDate=function(E){var J;if(E===void 0&&(E=new Date),E instanceof Date)J=fe(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=E}return ue=J},A=g.__private__.getCreationDate=function(E){var J=ue;return E==="jsDate"&&(J=Se(ue)),J};g.setCreationDate=function(E){return K(E),this},g.getCreationDate=function(E){return A(E)};var z,O=g.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},R=g.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},W=0,X=[],ne=[],re=0,Z=[],ke=[],Le=!1,Oe=ne;g.__private__.setCustomOutputDestination=function(E){Le=!0,Oe=E};var Ge=function(E){Le||(Oe=E)};g.__private__.resetCustomOutputDestination=function(){Le=!1,Oe=ne};var de=g.__private__.out=function(E){return E=E.toString(),re+=E.length+1,Oe.push(E),Oe},Ae=g.__private__.write=function(E){return de(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},je=g.__private__.getArrayBuffer=function(E){for(var J=E.length,ye=new ArrayBuffer(J),Ce=new Uint8Array(ye);J--;)Ce[J]=E.charCodeAt(J);return ye},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return et};var ae=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(E){return ae=S===k?E/gt:E,this};var De,Ke=g.__private__.getFontSize=g.getFontSize=function(){return S===w?ae:ae*gt},at=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(E){return at=E,this},g.__private__.getR2L=g.getR2L=function(){return at};var yt,wt=g.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))De=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');De=E}else De=parseInt(E,10)};g.__private__.getZoomMode=function(){return De};var it,jt=g.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');yt=E};g.__private__.getPageMode=function(){return yt};var Et=g.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');it=E};g.__private__.getLayoutMode=function(){return it},g.__private__.setDisplayMode=g.setDisplayMode=function(E,J,ye){return wt(E),Et(J),jt(ye),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(E){if(Object.keys(Te).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[E]},g.__private__.getDocumentProperties=function(){return Te},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(E){for(var J in Te)Te.hasOwnProperty(J)&&E[J]&&(Te[J]=E[J]);return this},g.__private__.setDocumentProperty=function(E,J){if(Object.keys(Te).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[E]=J};var st,gt,_t,wr,er,Ht={},Gt={},_r=[],Ct={},lt={},It={},qt={},Er=null,Qt=0,Ot=[],pr=new $3(g),Qs=e.hotfixes||[],un={},Li={},ei=[],$t=function E(J,ye,Ce,Re,Ze,ot){if(!(this instanceof E))return new E(J,ye,Ce,Re,Ze,ot);isNaN(J)&&(J=1),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=1),isNaN(Ze)&&(Ze=0),isNaN(ot)&&(ot=0),this._matrix=[J,ye,Ce,Re,Ze,ot]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(E)},$t.prototype.multiply=function(E){var J=E.sx*this.sx+E.shy*this.shx,ye=E.sx*this.shy+E.shy*this.sy,Ce=E.shx*this.sx+E.sy*this.shx,Re=E.shx*this.shy+E.sy*this.sy,Ze=E.tx*this.sx+E.ty*this.shx+this.tx,ot=E.tx*this.shy+E.ty*this.sy+this.ty;return new $t(J,ye,Ce,Re,Ze,ot)},$t.prototype.decompose=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,ot=Math.sqrt(E*E+J*J),Pt=(E/=ot)*ye+(J/=ot)*Ce;ye-=E*Pt,Ce-=J*Pt;var Dt=Math.sqrt(ye*ye+Ce*Ce);return Pt/=Dt,E*(Ce/=Dt)<J*(ye/=Dt)&&(E=-E,J=-J,Pt=-Pt,ot=-ot),{scale:new $t(ot,0,0,Dt,0,0),translate:new $t(1,0,0,1,Re,Ze),rotate:new $t(E,J,-J,E,0,0),skew:new $t(1,0,Pt,1,0,0)}},$t.prototype.toString=function(E){return this.join(" ")},$t.prototype.inversed=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,ot=1/(E*Ce-J*ye),Pt=Ce*ot,Dt=-J*ot,tr=-ye*ot,sr=E*ot;return new $t(Pt,Dt,tr,sr,-Pt*Re-tr*Ze,-Dt*Re-sr*Ze)},$t.prototype.applyToPoint=function(E){var J=E.x*this.sx+E.y*this.shx+this.tx,ye=E.x*this.shy+E.y*this.sy+this.ty;return new Qo(J,ye)},$t.prototype.applyToRectangle=function(E){var J=this.applyToPoint(E),ye=this.applyToPoint(new Qo(E.x+E.w,E.y+E.h));return new gd(J.x,J.y,ye.x-J.x,ye.y-J.y)},$t.prototype.clone=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty;return new $t(E,J,ye,Ce,Re,Ze)},g.Matrix=$t;var Pi=g.matrixMult=function(E,J){return J.multiply(E)},Mi=new $t(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Mi;var In=function(E,J){if(!lt[E]){var ye=(J instanceof Xu?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);J.id=ye,lt[E]=ye,Ct[ye]=J,pr.publish("addPattern",J)}};g.ShadingPattern=Xu,g.TilingPattern=O0,g.addShadingPattern=function(E,J){return P("addShadingPattern()"),In(E,J),this},g.beginTilingPattern=function(E){P("beginTilingPattern()"),Au(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},g.endTilingPattern=function(E,J){P("endTilingPattern()"),J.stream=ke[z].join(`
`),In(E,J),pr.publish("endTilingPattern",J),ei.pop().restore()};var ms,Tr=g.__private__.newObject=function(){var E=St();return te(E,!0),E},St=g.__private__.newObjectDeferred=function(){return W++,X[W]=function(){return re},W},te=function(E,J){return J=typeof J=="boolean"&&J,X[E]=re,J&&de(E+" 0 obj"),E},be=g.__private__.newAdditionalObject=function(){var E={objId:St(),content:""};return Z.push(E),E},me=St(),pe=St(),ve=g.__private__.decodeColorString=function(E){var J=E.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ye=parseFloat(J[0]);J=[ye,ye,ye,"r"]}for(var Ce="#",Re=0;Re<3;Re++)Ce+=("0"+Math.floor(255*parseFloat(J[Re])).toString(16)).slice(-2);return Ce},Ne=g.__private__.encodeColorString=function(E){var J;typeof E=="string"&&(E={ch1:E});var ye=E.ch1,Ce=E.ch2,Re=E.ch3,Ze=E.ch4,ot=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Pt=new v7(ye);if(Pt.ok)ye=Pt.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var Dt=parseInt(ye.substr(1),16);ye=Dt>>16&255,Ce=Dt>>8&255,Re=255&Dt}if(Ce===void 0||Ze===void 0&&ye===Ce&&Ce===Re)J=typeof ye=="string"?ye+" "+ot[0]:E.precision===2?I(ye/255)+" "+ot[0]:q(ye/255)+" "+ot[0];else if(Ze===void 0||ta(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",ot[1]].join(" ");J=typeof ye=="string"?[ye,Ce,Re,ot[1]].join(" "):E.precision===2?[I(ye/255),I(Ce/255),I(Re/255),ot[1]].join(" "):[q(ye/255),q(Ce/255),q(Re/255),ot[1]].join(" ")}else J=typeof ye=="string"?[ye,Ce,Re,Ze,ot[2]].join(" "):E.precision===2?[I(ye),I(Ce),I(Re),I(Ze),ot[2]].join(" "):[q(ye),q(Ce),q(Re),q(Ze),ot[2]].join(" ");return J},Ie=g.__private__.getFilters=function(){return o},Ye=g.__private__.putStream=function(E){var J=(E=E||{}).data||"",ye=E.filters||Ie(),Ce=E.alreadyAppliedFilters||[],Re=E.addLength1||!1,Ze=J.length,ot=E.objectId,Pt=function(en){return en};if(h!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Pt=La.encryptor(ot,0));var Dt={};ye===!0&&(ye=["FlateEncode"]);var tr=E.additionalKeyValues||[],sr=(Dt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(J,ye):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Dt.data.length!==0&&(tr.push({key:"Length",value:Dt.data.length}),Re===!0&&tr.push({key:"Length1",value:Ze})),sr.length!=0)if(sr.split("/").length-1==1)tr.push({key:"Filter",value:sr});else{tr.push({key:"Filter",value:"["+sr+"]"});for(var jr=0;jr<tr.length;jr+=1)if(tr[jr].key==="DecodeParms"){for(var _a=[],Va=0;Va<Dt.reverseChain.split("/").length-1;Va+=1)_a.push("null");_a.push(tr[jr].value),tr[jr].value="["+_a.join(" ")+"]"}}de("<<");for(var Hr=0;Hr<tr.length;Hr++)de("/"+tr[Hr].key+" "+tr[Hr].value);de(">>"),Dt.data.length!==0&&(de("stream"),de(Pt(Dt.data)),de("endstream"))},ze=g.__private__.putPage=function(E){var J=E.number,ye=E.data,Ce=E.objId,Re=E.contentsObjId;te(Ce,!0),de("<</Type /Page"),de("/Parent "+E.rootDictionaryObjId+" 0 R"),de("/Resources "+E.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(D(E.mediaBox.bottomLeftX))+" "+parseFloat(D(E.mediaBox.bottomLeftY))+" "+D(E.mediaBox.topRightX)+" "+D(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&de("/CropBox ["+D(E.cropBox.bottomLeftX)+" "+D(E.cropBox.bottomLeftY)+" "+D(E.cropBox.topRightX)+" "+D(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&de("/BleedBox ["+D(E.bleedBox.bottomLeftX)+" "+D(E.bleedBox.bottomLeftY)+" "+D(E.bleedBox.topRightX)+" "+D(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&de("/TrimBox ["+D(E.trimBox.bottomLeftX)+" "+D(E.trimBox.bottomLeftY)+" "+D(E.trimBox.topRightX)+" "+D(E.trimBox.topRightY)+"]"),E.artBox!==null&&de("/ArtBox ["+D(E.artBox.bottomLeftX)+" "+D(E.artBox.bottomLeftY)+" "+D(E.artBox.topRightX)+" "+D(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&de("/UserUnit "+E.userUnit),pr.publish("putPage",{objId:Ce,pageContext:Ot[J],pageNumber:J,page:ye}),de("/Contents "+Re+" 0 R"),de(">>"),de("endobj");var Ze=ye.join(`
`);return S===k&&(Ze+=`
Q`),te(Re,!0),Ye({data:Ze,filters:Ie(),objectId:Re}),de("endobj"),Ce},Ue=g.__private__.putPages=function(){var E,J,ye=[];for(E=1;E<=Qt;E++)Ot[E].objId=St(),Ot[E].contentsObjId=St();for(E=1;E<=Qt;E++)ye.push(ze({number:E,data:ke[E],objId:Ot[E].objId,contentsObjId:Ot[E].contentsObjId,mediaBox:Ot[E].mediaBox,cropBox:Ot[E].cropBox,bleedBox:Ot[E].bleedBox,trimBox:Ot[E].trimBox,artBox:Ot[E].artBox,userUnit:Ot[E].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:pe}));te(me,!0),de("<</Type /Pages");var Ce="/Kids [";for(J=0;J<Qt;J++)Ce+=ye[J]+" 0 R ";de(Ce+"]"),de("/Count "+Qt),de(">>"),de("endobj"),pr.publish("postPutPages")},$e=function(E){pr.publish("putFont",{font:E,out:de,newObject:Tr,putStream:Ye}),E.isAlreadyPutted!==!0&&(E.objectNumber=Tr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+b0(E.postScriptName)),de("/Subtype /Type1"),typeof E.encoding=="string"&&de("/Encoding /"+E.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},ht=function(E){E.objectNumber=Tr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[D(E.x),D(E.y),D(E.x+E.width),D(E.y+E.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ye=E.pages[1].join(`
`);Ye({data:ye,additionalKeyValues:J,objectId:E.objectNumber}),de("endobj")},pt=function(E,J){J||(J=21);var ye=Tr(),Ce=function(ot,Pt){var Dt,tr=[],sr=1/(Pt-1);for(Dt=0;Dt<1;Dt+=sr)tr.push(Dt);if(tr.push(1),ot[0].offset!=0){var jr={offset:0,color:ot[0].color};ot.unshift(jr)}if(ot[ot.length-1].offset!=1){var _a={offset:1,color:ot[ot.length-1].color};ot.push(_a)}for(var Va="",Hr=0,en=0;en<tr.length;en++){for(Dt=tr[en];Dt>ot[Hr+1].offset;)Hr++;var Da=ot[Hr].offset,hn=(Dt-Da)/(ot[Hr+1].offset-Da),si=ot[Hr].color,An=ot[Hr+1].color;Va+=R(Math.round((1-hn)*si[0]+hn*An[0]).toString(16))+R(Math.round((1-hn)*si[1]+hn*An[1]).toString(16))+R(Math.round((1-hn)*si[2]+hn*An[2]).toString(16))}return Va.trim()}(E.colors,J),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+J+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye({data:Ce,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),de("endobj"),E.objectNumber=Tr(),de("<< /ShadingType "+E.type),de("/ColorSpace /DeviceRGB");var Ze="/Coords ["+D(parseFloat(E.coords[0]))+" "+D(parseFloat(E.coords[1]))+" ";E.type===2?Ze+=D(parseFloat(E.coords[2]))+" "+D(parseFloat(E.coords[3])):Ze+=D(parseFloat(E.coords[2]))+" "+D(parseFloat(E.coords[3]))+" "+D(parseFloat(E.coords[4]))+" "+D(parseFloat(E.coords[5])),de(Ze+="]"),E.matrix&&de("/Matrix ["+E.matrix.toString()+"]"),de("/Function "+ye+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},At=function(E,J){var ye=St(),Ce=Tr();J.push({resourcesOid:ye,objectOid:Ce}),E.objectNumber=Ce;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+E.boundingBox.map(D).join(" ")+"]"}),Re.push({key:"XStep",value:D(E.xStep)}),Re.push({key:"YStep",value:D(E.yStep)}),Re.push({key:"Resources",value:ye+" 0 R"}),E.matrix&&Re.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Ye({data:E.stream,additionalKeyValues:Re,objectId:E.objectNumber}),de("endobj")},mt=function(E){for(var J in E.objectNumber=Tr(),de("<<"),E)switch(J){case"opacity":de("/ca "+I(E[J]));break;case"stroke-opacity":de("/CA "+I(E[J]))}de(">>"),de("endobj")},Nt=function(E){te(E.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var J in de("/Font <<"),Ht)Ht.hasOwnProperty(J)&&(f===!1||f===!0&&m.hasOwnProperty(J))&&de("/"+J+" "+Ht[J].objectNumber+" 0 R");de(">>")}(),function(){if(Object.keys(Ct).length>0){for(var J in de("/Shading <<"),Ct)Ct.hasOwnProperty(J)&&Ct[J]instanceof Xu&&Ct[J].objectNumber>=0&&de("/"+J+" "+Ct[J].objectNumber+" 0 R");pr.publish("putShadingPatternDict"),de(">>")}}(),function(J){if(Object.keys(Ct).length>0){for(var ye in de("/Pattern <<"),Ct)Ct.hasOwnProperty(ye)&&Ct[ye]instanceof g.TilingPattern&&Ct[ye].objectNumber>=0&&Ct[ye].objectNumber<J&&de("/"+ye+" "+Ct[ye].objectNumber+" 0 R");pr.publish("putTilingPatternDict"),de(">>")}}(E.objectOid),function(){if(Object.keys(It).length>0){var J;for(J in de("/ExtGState <<"),It)It.hasOwnProperty(J)&&It[J].objectNumber>=0&&de("/"+J+" "+It[J].objectNumber+" 0 R");pr.publish("putGStateDict"),de(">>")}}(),function(){for(var J in de("/XObject <<"),un)un.hasOwnProperty(J)&&un[J].objectNumber>=0&&de("/"+J+" "+un[J].objectNumber+" 0 R");pr.publish("putXobjectDict"),de(">>")}(),de(">>"),de("endobj")},Zt=function(E){Gt[E.fontName]=Gt[E.fontName]||{},Gt[E.fontName][E.fontStyle]=E.id},Vr=function(E,J,ye,Ce,Re){var Ze={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:E,fontName:J,fontStyle:ye,encoding:Ce,isStandardFont:Re||!1,metadata:{}};return pr.publish("addFont",{font:Ze,instance:this}),Ht[Ze.id]=Ze,Zt(Ze),Ze.id},vr=g.__private__.pdfEscape=g.pdfEscape=function(E,J){return function(ye,Ce){var Re,Ze,ot,Pt,Dt,tr,sr,jr,_a;if(ot=(Ce=Ce||{}).sourceEncoding||"Unicode",Dt=Ce.outputEncoding,(Ce.autoencode||Dt)&&Ht[st].metadata&&Ht[st].metadata[ot]&&Ht[st].metadata[ot].encoding&&(Pt=Ht[st].metadata[ot].encoding,!Dt&&Ht[st].encoding&&(Dt=Ht[st].encoding),!Dt&&Pt.codePages&&(Dt=Pt.codePages[0]),typeof Dt=="string"&&(Dt=Pt[Dt]),Dt)){for(sr=!1,tr=[],Re=0,Ze=ye.length;Re<Ze;Re++)(jr=Dt[ye.charCodeAt(Re)])?tr.push(String.fromCharCode(jr)):tr.push(ye[Re]),tr[Re].charCodeAt(0)>>8&&(sr=!0);ye=tr.join("")}for(Re=ye.length;sr===void 0&&Re!==0;)ye.charCodeAt(Re-1)>>8&&(sr=!0),Re--;if(!sr)return ye;for(tr=Ce.noBOM?[]:[254,255],Re=0,Ze=ye.length;Re<Ze;Re++){if((_a=(jr=ye.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(_a),tr.push(jr-(_a<<8))}return String.fromCharCode.apply(void 0,tr)}(E,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=g.__private__.beginPage=function(E){ke[++Qt]=[],Ot[Qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ri(Qt),Ge(ke[z])},ti=function(E,J){var ye,Ce,Re;switch(r=J||r,typeof E=="string"&&(ye=b(E.toLowerCase()),Array.isArray(ye)&&(Ce=ye[0],Re=ye[1])),Array.isArray(E)&&(Ce=E[0]*gt,Re=E[1]*gt),isNaN(Ce)&&(Ce=s[0],Re=s[1]),(Ce>14400||Re>14400)&&(ha.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Re=Math.min(14400,Re)),s=[Ce,Re],r.substr(0,1)){case"l":Re>Ce&&(s=[Re,Ce]);break;case"p":Ce>Re&&(s=[Re,Ce])}Ca(s),xt(yc),de(ql),Su!==0&&de(Su+" J"),fd!==0&&de(fd+" j"),pr.publish("addPage",{pageNumber:Qt})},Gn=function(E){E>0&&E<=Qt&&(ke.splice(E,1),Ot.splice(E,1),Qt--,z>Qt&&(z=Qt),this.setPage(z))},Ri=function(E){E>0&&E<=Qt&&(z=E)},Ps=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},ri=function(E,J,ye){var Ce,Re=void 0;return ye=ye||{},E=E!==void 0?E:Ht[st].fontName,J=J!==void 0?J:Ht[st].fontStyle,Ce=E.toLowerCase(),Gt[Ce]!==void 0&&Gt[Ce][J]!==void 0?Re=Gt[Ce][J]:Gt[E]!==void 0&&Gt[E][J]!==void 0?Re=Gt[E][J]:ye.disableWarning===!1&&ha.warn("Unable to look up font label for font '"+E+"', '"+J+"'. Refer to getFontList() for available fonts."),Re||ye.noFallback||(Re=Gt.times[J])==null&&(Re=Gt.times.normal),Re},Yt=g.__private__.putInfo=function(){var E=Tr(),J=function(Ce){return Ce};for(var ye in h!==null&&(J=La.encryptor(E,0)),de("<<"),de("/Producer ("+vr(J("jsPDF "+Vt.version))+")"),Te)Te.hasOwnProperty(ye)&&Te[ye]&&de("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+vr(J(Te[ye]))+")");de("/CreationDate ("+vr(J(ue))+")"),de(">>"),de("endobj")},qr=g.__private__.putCatalog=function(E){var J=(E=E||{}).rootDictionaryObjId||me;switch(Tr(),de("<<"),de("/Type /Catalog"),de("/Pages "+J+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+De;ye.substr(ye.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&de("/OpenAction [3 0 R /XYZ null null "+I(De)+"]")}switch(it||(it="continuous"),it){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}yt&&de("/PageMode /"+yt),pr.publish("putCatalog"),de(">>"),de("endobj")},cd=g.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(W+1)),de("/Root "+W+" 0 R"),de("/Info "+(W-1)+" 0 R"),h!==null&&de("/Encrypt "+La.oid+" 0 R"),de("/ID [ <"+le+"> <"+le+"> ]"),de(">>")},ca=g.__private__.putHeader=function(){de("%PDF-"+y),de("%")},Go=g.__private__.putXRef=function(){var E="0000000000";de("xref"),de("0 "+(W+1)),de("0000000000 65535 f ");for(var J=1;J<=W;J++)typeof X[J]=="function"?de((E+X[J]()).slice(-10)+" 00000 n "):X[J]!==void 0?de((E+X[J]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},ai=g.__private__.buildDocument=function(){var E;W=0,re=0,ne=[],X=[],Z=[],me=St(),pe=St(),Ge(ne),pr.publish("buildDocument"),ca(),Ue(),function(){pr.publish("putAdditionalObjects");for(var ye=0;ye<Z.length;ye++){var Ce=Z[ye];te(Ce.objId,!0),de(Ce.content),de("endobj")}pr.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ye in Ht)Ht.hasOwnProperty(ye)&&(f===!1||f===!0&&m.hasOwnProperty(ye))&&$e(Ht[ye])}(),function(){var ye;for(ye in It)It.hasOwnProperty(ye)&&mt(It[ye])}(),function(){for(var ye in un)un.hasOwnProperty(ye)&&ht(un[ye])}(),function(ye){var Ce;for(Ce in Ct)Ct.hasOwnProperty(Ce)&&(Ct[Ce]instanceof Xu?pt(Ct[Ce]):Ct[Ce]instanceof O0&&At(Ct[Ce],ye))}(E),pr.publish("putResources"),E.forEach(Nt),Nt({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),pr.publish("postPutResources"),h!==null&&(La.oid=Tr(),de("<<"),de("/Filter /Standard"),de("/V "+La.v),de("/R "+La.r),de("/U <"+La.toHexString(La.U)+">"),de("/O <"+La.toHexString(La.O)+">"),de("/P "+La.P),de(">>"),de("endobj")),Yt(),qr();var J=re;return Go(),cd(),de("startxref"),de(""+J),de("%%EOF"),Ge(ke[z]),ne.join(`
`)},ar=g.__private__.getBlob=function(E){return new Blob([je(E)],{type:"application/pdf"})},ga=g.output=g.__private__.output=(ms=function(E,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",E){case void 0:return ai();case"save":g.save(J.filename);break;case"arraybuffer":return je(ai());case"blob":return ar(ai());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(ar(ai()))||void 0;ha.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Ce=ai();try{ye=U3(Ce)}catch{ye=U3(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+J.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Re=J.pdfObjectUrl,Ze="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Pt=nr.open();return Pt!==null&&Pt.document.write(ot),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',tr=nr.open();if(tr!==null){tr.document.write(Dt);var sr=this;tr.document.documentElement.querySelector("#pdfViewer").onload=function(){tr.document.title=J.filename,tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',_a=nr.open();if(_a!==null&&(_a.document.write(jr),_a.document.title=J.filename),_a||typeof safari>"u")return _a;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",J);default:return null}},ms.foo=function(){try{return ms.apply(this,arguments)}catch(ye){var E=ye.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var J="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ye.message;if(!nr.console)throw new Error(J);nr.console.error(J,ye),nr.alert&&alert(J)}},ms.foo.bar=ms,ms.foo),gs=function(E){return Array.isArray(Qs)===!0&&Qs.indexOf(E)>-1};switch(a){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=gs("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);gt=a}var La=null;K(),oe();var Ua=g.__private__.getPageInfo=g.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[E].objId,pageNumber:E,pageContext:Ot[E]}},Fh=g.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Ot)if(Ot[J].objId===E)break;return Ua(J)},dd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ot[z].objId,pageNumber:z,pageContext:Ot[z]}};g.addPage=function(){return ti.apply(this,arguments),this},g.setPage=function(){return Ri.apply(this,arguments),Ge.call(this,ke[z]),this},g.insertPage=function(E){return this.addPage(),this.movePage(z,E),this},g.movePage=function(E,J){var ye,Ce;if(E>J){ye=ke[E],Ce=Ot[E];for(var Re=E;Re>J;Re--)ke[Re]=ke[Re-1],Ot[Re]=Ot[Re-1];ke[J]=ye,Ot[J]=Ce,this.setPage(J)}else if(E<J){ye=ke[E],Ce=Ot[E];for(var Ze=E;Ze<J;Ze++)ke[Ze]=ke[Ze+1],Ot[Ze]=Ot[Ze+1];ke[J]=ye,Ot[J]=Ce,this.setPage(J)}return this},g.deletePage=function(){return Gn.apply(this,arguments),this},g.__private__.text=g.text=function(E,J,ye,Ce,Re){var Ze,ot,Pt,Dt,tr,sr,jr,_a,Va,Hr=(Ce=Ce||{}).scope||this;if(typeof E=="number"&&typeof J=="number"&&(typeof ye=="string"||Array.isArray(ye))){var en=ye;ye=J,J=E,E=en}if(arguments[3]instanceof $t==0?(Pt=arguments[4],Dt=arguments[5],ta(jr=arguments[3])==="object"&&jr!==null||(typeof Pt=="string"&&(Dt=Pt,Pt=null),typeof jr=="string"&&(Dt=jr,jr=null),typeof jr=="number"&&(Pt=jr,jr=null),Ce={flags:jr,angle:Pt,align:Dt})):(P("The transform parameter of text() with a Matrix value"),Va=Re),isNaN(J)||isNaN(ye)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Hr;var Da,hn="",si=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Vl,An=Hr.internal.scaleFactor;function rl(Dr){return Dr=Dr.split("	").join(Array(Ce.TabLen||9).join(" ")),vr(Dr,jr)}function al(Dr){for(var Wr,Fa=Dr.concat(),$a=[],cl=Fa.length;cl--;)typeof(Wr=Fa.shift())=="string"?$a.push(Wr):Array.isArray(Dr)&&(Wr.length===1||Wr[1]===void 0&&Wr[2]===void 0)?$a.push(Wr[0]):$a.push([Wr[0],Wr[1],Wr[2]]);return $a}function En(Dr,Wr){var Fa;if(typeof Dr=="string")Fa=Wr(Dr)[0];else if(Array.isArray(Dr)){for(var $a,cl,ys=Dr.concat(),dl=[],qh=ys.length;qh--;)typeof($a=ys.shift())=="string"?dl.push(Wr($a)[0]):Array.isArray($a)&&typeof $a[0]=="string"&&(cl=Wr($a[0],$a[1],$a[2]),dl.push([cl[0],cl[1],cl[2]]));Fa=dl}return Fa}var nl=!1,$l=!0;if(typeof E=="string")nl=!0;else if(Array.isArray(E)){var bc=E.concat();ot=[];for(var xo,tn=bc.length;tn--;)(typeof(xo=bc.shift())!="string"||Array.isArray(xo)&&typeof xo[0]!="string")&&($l=!1);nl=$l}if(nl===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var wc=ae/Hr.internal.scaleFactor,_c=wc*(si-1);switch(Ce.baseline){case"bottom":ye-=_c;break;case"top":ye+=wc-_c;break;case"hanging":ye+=wc-2*_c;break;case"middle":ye+=wc/2-_c}if((sr=Ce.maxWidth||0)>0&&(typeof E=="string"?E=Hr.splitTextToSize(E,sr):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Dr,Wr){return Dr.concat(Hr.splitTextToSize(Wr,sr))},[]))),Ze={text:E,x:J,y:ye,options:Ce,mutex:{pdfEscape:vr,activeFontKey:st,fonts:Ht,activeFontSize:ae}},pr.publish("preProcessText",Ze),E=Ze.text,Pt=(Ce=Ze.options).angle,Va instanceof $t==0&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Ce.rotationDirection===0&&(Pt=-Pt),S===k&&(Pt=-Pt);var pd=Math.cos(Pt),Cu=Math.sin(Pt);Va=new $t(pd,Cu,-Cu,pd,0,0)}else Pt&&Pt instanceof $t&&(Va=Pt);S!==k||Va||(Va=Mi),(tr=Ce.charSpace||po)!==void 0&&(hn+=D(Y(tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_a=Ce.horizontalScale)!==void 0&&(hn+=D(100*_a)+` Tz
`),Ce.lang;var da=-1,ps=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,xd=Hr.internal.getCurrentPageInfo().pageContext;switch(ps){case 0:case!1:case"fill":da=0;break;case 1:case!0:case"stroke":da=1;break;case 2:case"fillThenStroke":da=2;break;case 3:case"invisible":da=3;break;case 4:case"fillAndAddForClipping":da=4;break;case 5:case"strokeAndAddPathForClipping":da=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":da=6;break;case 7:case"addToPathForClipping":da=7}var ii=xd.usedRenderingMode!==void 0?xd.usedRenderingMode:-1;da!==-1?hn+=da+` Tr
`:ii!==-1&&(hn+=`0 Tr
`),da!==-1&&(xd.usedRenderingMode=da),Dt=Ce.align||"left";var oi,li=ae*si,Lu=Hr.internal.pageSize.getWidth(),sl=Ht[st];tr=Ce.charSpace||po,sr=Ce.maxWidth||0,jr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var il=[],yo=function(Dr){return Hr.getStringUnitWidth(Dr,{font:sl,charSpace:tr,fontSize:ae,doKerning:!1})*ae/An};if(Object.prototype.toString.call(E)==="[object Array]"){var Rs;ot=al(E),Dt!=="left"&&(oi=ot.map(yo));var qa,Fi=0;if(Dt==="right"){J-=oi[0],E=[],tn=ot.length;for(var ol=0;ol<tn;ol++)ol===0?(qa=Oi(J),Rs=Di(ye)):(qa=Y(Fi-oi[ol]),Rs=-li),E.push([ot[ol],qa,Rs]),Fi=oi[ol]}else if(Dt==="center"){J-=oi[0]/2,E=[],tn=ot.length;for(var vo=0;vo<tn;vo++)vo===0?(qa=Oi(J),Rs=Di(ye)):(qa=Y((Fi-oi[vo])/2),Rs=-li),E.push([ot[vo],qa,Rs]),Fi=oi[vo]}else if(Dt==="left"){E=[],tn=ot.length;for(var Pu=0;Pu<tn;Pu++)E.push(ot[Pu])}else if(Dt==="justify"&&sl.encoding==="Identity-H"){E=[],tn=ot.length,sr=sr!==0?sr:Lu;for(var xs=0,Ia=0;Ia<tn;Ia++)if(Rs=Ia===0?Di(ye):-li,qa=Ia===0?Oi(J):xs,Ia<tn-1){var ll=Y((sr-oi[Ia])/(ot[Ia].split(" ").length-1)),bo=ot[Ia].split(" ");E.push([bo[0]+" ",qa,Rs]),xs=0;for(var fn=1;fn<bo.length;fn++){var Hl=(yo(bo[fn-1]+" "+bo[fn])-yo(bo[fn]))*An+ll;fn==bo.length-1?E.push([bo[fn],Hl,0]):E.push([bo[fn]+" ",Hl,0]),xs-=Hl}}else E.push([ot[Ia],qa,Rs]);E.push(["",xs,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],tn=ot.length,sr=sr!==0?sr:Lu,Ia=0;Ia<tn;Ia++){Rs=Ia===0?Di(ye):-li,qa=Ia===0?Oi(J):0;var yd=ot[Ia].split(" ").length-1,Nc=yd>0?(sr-oi[Ia])/yd:0;Ia<tn-1?il.push(D(Y(Nc))):il.push(0),E.push([ot[Ia],qa,Rs])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:at)===!0&&(E=En(E,function(Dr,Wr,Fa){return[Dr.split("").reverse().join(""),Wr,Fa]})),Ze={text:E,x:J,y:ye,options:Ce,mutex:{pdfEscape:vr,activeFontKey:st,fonts:Ht,activeFontSize:ae}},pr.publish("postProcessText",Ze),E=Ze.text,Da=Ze.mutex.isHex||!1;var Wl=Ht[st].encoding;Wl!=="WinAnsiEncoding"&&Wl!=="StandardEncoding"||(E=En(E,function(Dr,Wr,Fa){return[rl(Dr),Wr,Fa]})),ot=al(E),E=[];for(var wo,Bi,Os,_o=Array.isArray(ot[0])?1:0,No="",Gl=function(Dr,Wr,Fa){var $a="";return Fa instanceof $t?(Fa=typeof Ce.angle=="number"?Pi(Fa,new $t(1,0,0,1,Dr,Wr)):Pi(new $t(1,0,0,1,Dr,Wr),Fa),S===k&&(Fa=Pi(new $t(1,0,0,-1,0,0),Fa)),$a=Fa.join(" ")+` Tm
`):$a=D(Dr)+" "+D(Wr)+` Td
`,$a},ci=0;ci<ot.length;ci++){switch(No="",_o){case 1:Os=(Da?"<":"(")+ot[ci][0]+(Da?">":")"),wo=parseFloat(ot[ci][1]),Bi=parseFloat(ot[ci][2]);break;case 0:Os=(Da?"<":"(")+ot[ci]+(Da?">":")"),wo=Oi(J),Bi=Di(ye)}il!==void 0&&il[ci]!==void 0&&(No=il[ci]+` Tw
`),ci===0?E.push(No+Gl(wo,Bi,Va)+Os):_o===0?E.push(No+Os):_o===1&&E.push(No+Gl(wo,Bi,Va)+Os)}E=_o===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Ds=`BT
/`;return Ds+=st+" "+ae+` Tf
`,Ds+=D(ae*si)+` TL
`,Ds+=wa+`
`,Ds+=hn,Ds+=E,de(Ds+="ET"),m[st]=!0,Hr};var Yo=g.__private__.clip=g.clip=function(E){return de(E==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Yo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return de("n"),this};var Fr=g.__private__.isValidStyle=function(E){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(J=!0),J};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(E){return Fr(E)&&(u=E),this};var mo=g.__private__.getStyle=g.getStyle=function(E){var J=u;switch(E){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=E}return J},zl=g.close=function(){return de("h"),this};g.stroke=function(){return de("S"),this},g.fill=function(E){return go("f",E),this},g.fillEvenOdd=function(E){return go("f*",E),this},g.fillStroke=function(E){return go("B",E),this},g.fillStrokeEvenOdd=function(E){return go("B*",E),this};var go=function(E,J){ta(J)==="object"?Nu(J,E):de(E)},Ko=function(E){E===null||S===k&&E===void 0||(E=mo(E),de(E))};function xc(E,J,ye,Ce,Re){var Ze=new O0(J||this.boundingBox,ye||this.xStep,Ce||this.yStep,this.gState,Re||this.matrix);Ze.stream=this.stream;var ot=E+"$$"+this.cloneIndex+++"$$";return In(ot,Ze),Ze}var Nu=function(E,J){var ye=lt[E.key],Ce=Ct[ye];if(Ce instanceof Xu)de("q"),de(ku(J)),Ce.gState&&g.setGState(Ce.gState),de(E.matrix.toString()+" cm"),de("/"+ye+" sh"),de("Q");else if(Ce instanceof O0){var Re=new $t(1,0,0,-1,0,vc());E.matrix&&(Re=Re.multiply(E.matrix||Mi),ye=xc.call(Ce,E.key,E.boundingBox,E.xStep,E.yStep,Re).id),de("q"),de("/Pattern cs"),de("/"+ye+" scn"),Ce.gState&&g.setGState(Ce.gState),de(J),de("Q")}},ku=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ul=g.moveTo=function(E,J){return de(D(Y(E))+" "+D(ee(J))+" m"),this},ud=g.lineTo=function(E,J){return de(D(Y(E))+" "+D(ee(J))+" l"),this},Ms=g.curveTo=function(E,J,ye,Ce,Re,Ze){return de([D(Y(E)),D(ee(J)),D(Y(ye)),D(ee(Ce)),D(Y(Re)),D(ee(Ze)),"c"].join(" ")),this};g.__private__.line=g.line=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.line");return S===w?this.lines([[ye-E,Ce-J]],E,J,[1,1],Re||"S"):this.lines([[ye-E,Ce-J]],E,J,[1,1]).stroke()},g.__private__.lines=g.lines=function(E,J,ye,Ce,Re,Ze){var ot,Pt,Dt,tr,sr,jr,_a,Va,Hr,en,Da,hn;if(typeof E=="number"&&(hn=ye,ye=J,J=E,E=hn),Ce=Ce||[1,1],Ze=Ze||!1,isNaN(J)||isNaN(ye)||!Array.isArray(E)||!Array.isArray(Ce)||!Fr(Re)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ul(J,ye),ot=Ce[0],Pt=Ce[1],tr=E.length,en=J,Da=ye,Dt=0;Dt<tr;Dt++)(sr=E[Dt]).length===2?(en=sr[0]*ot+en,Da=sr[1]*Pt+Da,ud(en,Da)):(jr=sr[0]*ot+en,_a=sr[1]*Pt+Da,Va=sr[2]*ot+en,Hr=sr[3]*Pt+Da,en=sr[4]*ot+en,Da=sr[5]*Pt+Da,Ms(jr,_a,Va,Hr,en,Da));return Ze&&zl(),Ko(Re),this},g.path=function(E){for(var J=0;J<E.length;J++){var ye=E[J],Ce=ye.c;switch(ye.op){case"m":Ul(Ce[0],Ce[1]);break;case"l":ud(Ce[0],Ce[1]);break;case"c":Ms.apply(this,Ce);break;case"h":zl()}}return this},g.__private__.rect=g.rect=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w&&(Ce=-Ce),de([D(Y(E)),D(ee(J)),D(Y(ye)),D(Y(Ce)),"re"].join(" ")),Ko(Re),this},g.__private__.triangle=g.triangle=function(E,J,ye,Ce,Re,Ze,ot){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!Fr(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-E,Ce-J],[Re-ye,Ze-Ce],[E-Re,J-Ze]],E,J,[1,1],ot,!0),this},g.__private__.roundedRect=g.roundedRect=function(E,J,ye,Ce,Re,Ze,ot){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!Fr(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*ye),Ze=Math.min(Ze,.5*Ce),this.lines([[ye-2*Re,0],[Re*Pt,0,Re,Ze-Ze*Pt,Re,Ze],[0,Ce-2*Ze],[0,Ze*Pt,-Re*Pt,Ze,-Re,Ze],[2*Re-ye,0],[-Re*Pt,0,-Re,-Ze*Pt,-Re,-Ze],[0,2*Ze-Ce],[0,-Ze*Pt,Re*Pt,-Ze,Re,-Ze]],E+Re,J,[1,1],ot,!0),this},g.__private__.ellipse=g.ellipse=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*ye,ot=4/3*(Math.SQRT2-1)*Ce;return Ul(E+ye,J),Ms(E+ye,J-ot,E+Ze,J-Ce,E,J-Ce),Ms(E-Ze,J-Ce,E-ye,J-ot,E-ye,J),Ms(E-ye,J+ot,E-Ze,J+Ce,E,J+Ce),Ms(E+Ze,J+Ce,E+ye,J+ot,E+ye,J),Ko(Re),this},g.__private__.circle=g.circle=function(E,J,ye,Ce){if(isNaN(E)||isNaN(J)||isNaN(ye)||!Fr(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,J,ye,ye,Ce)},g.setFont=function(E,J,ye){return ye&&(J=F(J,ye)),st=ri(E,J,{disableWarning:!1}),this};var hd=g.__private__.getFont=g.getFont=function(){return Ht[ri.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var E,J,ye={};for(E in Gt)if(Gt.hasOwnProperty(E))for(J in ye[E]=[],Gt[E])Gt[E].hasOwnProperty(J)&&ye[E].push(J);return ye},g.addFont=function(E,J,ye,Ce,Re){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(ye=F(ye,Ce)),Vr.call(this,E,J,ye,Re=Re||"Identity-H")};var Vl,yc=e.lineWidth||.200025,Xf=g.__private__.getLineWidth=g.getLineWidth=function(){return yc},xt=g.__private__.setLineWidth=g.setLineWidth=function(E){return yc=E,de(D(Y(E))+" w"),this};g.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(E,J){if(E=E||[],J=J||0,isNaN(J)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ye){return D(Y(ye))}).join(" "),J=D(Y(J)),de("["+E+"] "+J+" d"),this};var ni=g.__private__.getLineHeight=g.getLineHeight=function(){return ae*Vl};g.__private__.getLineHeight=g.getLineHeight=function(){return ae*Vl};var $r=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Vl=E),this},Bh=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Vl};$r(e.lineHeight);var Oi=g.__private__.getHorizontalCoordinate=function(E){return Y(E)},Di=g.__private__.getVerticalCoordinate=function(E){return S===k?E:Ot[z].mediaBox.topRightY-Ot[z].mediaBox.bottomLeftY-Y(E)},ju=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(E){return D(Oi(E))},Zo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(E){return D(Di(E))},ql=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ve(ql)},g.__private__.setStrokeColor=g.setDrawColor=function(E,J,ye,Ce){return ql=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"draw",precision:2}),de(ql),this};var Xo=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ve(Xo)},g.__private__.setFillColor=g.setFillColor=function(E,J,ye,Ce){return Xo=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"fill",precision:2}),de(Xo),this};var wa=e.textColor||"0 g",Jo=g.__private__.getTextColor=g.getTextColor=function(){return ve(wa)};g.__private__.setTextColor=g.setTextColor=function(E,J,ye,Ce){return wa=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"text",precision:3}),this};var po=e.charSpace,zh=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(po||0)};g.__private__.setCharSpace=g.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return po=E,this};var Su=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(E){var J=g.CapJoinStyles[E];if(J===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Su=J,de(J+" J"),this};var fd=0;g.__private__.setLineJoin=g.setLineJoin=function(E){var J=g.CapJoinStyles[E];if(J===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fd=J,de(J+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(D(Y(E))+" M"),this},g.GState=s1,g.setGState=function(E){(E=typeof E=="string"?It[qt[E]]:md(null,E)).equals(Er)||(de("/"+E.id+" gs"),Er=E)};var md=function(E,J){if(!E||!qt[E]){var ye=!1;for(var Ce in It)if(It.hasOwnProperty(Ce)&&It[Ce].equals(J)){ye=!0;break}if(ye)J=It[Ce];else{var Re="GS"+(Object.keys(It).length+1).toString(10);It[Re]=J,J.id=Re}return E&&(qt[E]=J.id),pr.publish("addGState",J),J}};g.addGState=function(E,J){return md(E,J),this},g.saveGraphicsState=function(){return de("q"),_r.push({key:st,size:ae,color:wa}),this},g.restoreGraphicsState=function(){de("Q");var E=_r.pop();return st=E.key,ae=E.size,wa=E.color,Er=null,this},g.setCurrentTransformationMatrix=function(E){return de(E.toString()+" cm"),this},g.comment=function(E){return de("#"+E),this};var Qo=function(E,J){var ye=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(Ze){isNaN(Ze)||(ye=parseFloat(Ze))}});var Ce=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(Ze){Re=Ze.toString()}}),this},gd=function(E,J,ye,Ce){Qo.call(this,E,J),this.type="rect";var Re=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(ot){isNaN(ot)||(Re=parseFloat(ot))}});var Ze=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(ot){isNaN(ot)||(Ze=parseFloat(ot))}}),this},dr=function(){this.page=Qt,this.currentPage=z,this.pages=ke.slice(0),this.pagesContext=Ot.slice(0),this.x=_t,this.y=wr,this.matrix=er,this.width=el(z),this.height=Uh(z),this.outputDestination=Oe,this.id="",this.objectNumber=-1};dr.prototype.restore=function(){Qt=this.page,z=this.currentPage,Ot=this.pagesContext,ke=this.pages,_t=this.x,wr=this.y,er=this.matrix,Eu(z,this.width),Ii(z,this.height),Oe=this.outputDestination};var Au=function(E,J,ye,Ce,Re){ei.push(new dr),Qt=z=0,ke=[],_t=E,wr=J,er=Re,Ca([ye,Ce])};for(var Sn in g.beginFormObject=function(E,J,ye,Ce,Re){return Au(E,J,ye,Ce,Re),this},g.endFormObject=function(E){return function(J){if(Li[J])ei.pop().restore();else{var ye=new dr,Ce="Xo"+(Object.keys(un).length+1).toString(10);ye.id=Ce,Li[J]=Ce,un[Ce]=ye,pr.publish("addFormObject",ye),ei.pop().restore()}}(E),this},g.doFormObject=function(E,J){var ye=un[Li[E]];return de("q"),de(J.toString()+" cm"),de("/"+ye.id+" Do"),de("Q"),this},g.getFormObject=function(E){var J=un[Li[E]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},g.save=function(E,J){return E=E||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Gu(ar(ai()),E),typeof Gu.unload=="function"&&nr.setTimeout&&setTimeout(Gu.unload,911),this):new Promise(function(ye,Ce){try{var Re=Gu(ar(ai()),E);typeof Gu.unload=="function"&&nr.setTimeout&&setTimeout(Gu.unload,911),ye(Re)}catch(Ze){Ce(Ze.message)}})},Vt.API)Vt.API.hasOwnProperty(Sn)&&(Sn==="events"&&Vt.API.events.length?function(E,J){var ye,Ce,Re;for(Re=J.length-1;Re!==-1;Re--)ye=J[Re][0],Ce=J[Re][1],E.subscribe.apply(E,[ye].concat(typeof Ce=="function"?[Ce]:Ce))}(pr,Vt.API.events):g[Sn]=Vt.API[Sn]);function el(E){return Ot[E].mediaBox.topRightX-Ot[E].mediaBox.bottomLeftX}function Eu(E,J){Ot[E].mediaBox.topRightX=J+Ot[E].mediaBox.bottomLeftX}function Uh(E){return Ot[E].mediaBox.topRightY-Ot[E].mediaBox.bottomLeftY}function Ii(E,J){Ot[E].mediaBox.topRightY=J+Ot[E].mediaBox.bottomLeftY}var tl=g.getPageWidth=function(E){return el(E=E||z)/gt},Tu=g.setPageWidth=function(E,J){Eu(E,J*gt)},vc=g.getPageHeight=function(E){return Uh(E=E||z)/gt},Vh=g.setPageHeight=function(E,J){Ii(E,J*gt)};return g.internal={pdfEscape:vr,getStyle:mo,getFont:hd,getFontSize:Ke,getCharSpace:zh,getTextColor:Jo,getLineHeight:ni,getLineHeightFactor:Bh,getLineWidth:Xf,write:Ae,getHorizontalCoordinate:Oi,getVerticalCoordinate:Di,getCoordinateString:ju,getVerticalCoordinateString:Zo,collections:{},newObject:Tr,newAdditionalObject:be,newObjectDeferred:St,newObjectDeferredBegin:te,getFilters:Ie,putStream:Ye,events:pr,scaleFactor:gt,pageSize:{getWidth:function(){return tl(z)},setWidth:function(E){Tu(z,E)},getHeight:function(){return vc(z)},setHeight:function(E){Vh(z,E)}},encryptionOptions:h,encryption:La,getEncryptor:function(E){return h!==null?La.encryptor(E,0):function(J){return J}},output:ga,getNumberOfPages:Ps,get pages(){return ke},out:de,f2:I,f3:q,getPageInfo:Ua,getPageInfoByObjId:Fh,getCurrentPageInfo:dd,getPDFVersion:x,Point:Qo,Rectangle:gd,Matrix:$t,hasHotfix:gs},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return tl(z)},set:function(E){Tu(z,E)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return vc(z)},set:function(E){Vh(z,E)},enumerable:!0,configurable:!0}),(function(E){for(var J=0,ye=et.length;J<ye;J++){var Ce=Vr.call(this,E[J][0],E[J][1],E[J][2],et[J][3],!0);f===!1&&(m[Ce]=!0);var Re=E[J][0].split("-");Zt({id:Ce,fontName:Re[0],fontStyle:Re[1]||""})}pr.publish("addFonts",{fonts:Ht,dictionary:Gt})}).call(g,et),st="F1",ti(s,r),pr.publish("initialized"),g}v0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},v0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},v0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},v0.prototype.processOwnerPassword=function(e,t){return Gw(Ww(t).substr(0,5),e)},v0.prototype.encryptor=function(e,t){var r=Ww(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Gw(r,a)}},s1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ta(e)!==ta(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Vt.API={events:[]},Vt.version="3.0.4";var Ya=Vt.API,n4=1,Ph=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},i0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ir=function(e){return e.toFixed(2)},Td=function(e){return e.toFixed(5)};Ya.__acroform__={};var Ci=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},H3=function(e){return e*n4},Xl=function(e){var t=new N7,r=Rt.internal.getHeight(e)||0,a=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ir(a)),Number(ir(r))],t},FW=Ya.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},BW=Ya.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},zW=Ya.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},sn=Ya.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zW(e,t-1)},on=Ya.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FW(e,t-1)},ln=Ya.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BW(e,t-1)},UW=Ya.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=a(i)||0,[Number(ir(c.lowerLeft_X)),Number(ir(c.lowerLeft_Y)),Number(ir(c.upperRight_X)),Number(ir(c.upperRight_Y))]},VW=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=Yw(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+ir(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Xl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Yw=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=r,o=Rt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(I,q,Y){if(I+1<s.length){var ee=q+" "+s[I+1][0];return yx(ee,e,Y).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,f=yx("3",e,i).height,m=e.multiline?o-i:(o-f)/2,g=m+=2,y=0,x=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+yx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var S=!1;if(s[k].length!==1&&N!==s[k].length-1){if((f+2)*(w+2)+2>o)continue e;b+=s[k][N],S=!0,x=k,k--}else{b=(b+=s[k][N]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(k),H=c(B,b,i),F=k>=s.length-1;if(H&&!F){b+=" ",N=0;continue}if(H||F){if(F)x=B;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;x=B}}for(var D="",P=y;P<=x;P++){var G=s[P];if(e.multiline){if(P===x){D+=G[N]+" ",N=(N+1)%G.length;continue}if(P===y){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=yx(D,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=ir(u)+" "+ir(g)+` Td
`,t+="("+Ph(D)+`) Tj
`,t+=-ir(u)+` 0 Td
`,g=-(i+2),h=0,y=S?x:x+1,w++,b=""}break}return a.text=t,a.fontSize=i,a},yx=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},qW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$W=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},HW=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Fl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(qW)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new k7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&$W(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=UW(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rt.createDefaultAppearanceStream(l),ta(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=VW(l);c.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var g=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var y=g[o];typeof y=="function"&&(y=y.call(s,l)),f+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=g)=="function"&&(y=y.call(s,l)),f+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(x,N){for(var b in x)if(x.hasOwnProperty(b)){var w=b,k=x[b];N.internal.newObjectDeferredBegin(k.objId,!0),ta(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[w]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},_7=Ya.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),ta(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+Ph(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zb=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ph(a(e))+")"},nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nc.prototype.toString=function(){return this.objId+" 0 R"},nc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},nc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:_7(s,this.objId,this.scope)}):s instanceof nc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var N7=function(){nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ci(N7,nc);var k7=function(){nc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ph(r(e))+")"}},set:function(r){e=r}})};Ci(k7,nc);var Fl=function e(){nc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sn(t,3)},set:function(b){b?this.F=on(t,3):this.F=ln(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(b){a=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(b){a[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(b){a[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(b){a[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(b){a[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof i1)return;i="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ph(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/n4:u},set:function(b){u=b}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(b){h=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof i1||this instanceof oh))return zb(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zn==0?zb(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof zn==0?b.substr(0,1)==="("?i0(b.substr(1,b.length-2)):i0(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn==1?i0(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof zn==1?"/"+b:b}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zn==0?zb(g,this.objId,this.scope):g},set:function(b){b=b.toString(),g=this instanceof zn==0?b.substr(0,1)==="("?i0(b.substr(1,b.length-2)):i0(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn==1?i0(g.substr(1,g.length-1)):g},set:function(b){b=b.toString(),g=this instanceof zn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,1)},set:function(b){b?this.Ff=on(this.Ff,1):this.Ff=ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,2)},set:function(b){b?this.Ff=on(this.Ff,2):this.Ff=ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,3)},set:function(b){b?this.Ff=on(this.Ff,3):this.Ff=ln(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');N=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(N){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ci(Fl,nc);var J0=function(){Fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _7(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,18)},set:function(r){r?this.Ff=on(this.Ff,18):this.Ff=ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=on(this.Ff,19):this.Ff=ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,20)},set:function(r){r?(this.Ff=on(this.Ff,20),t.sort()):this.Ff=ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,22)},set:function(r){r?this.Ff=on(this.Ff,22):this.Ff=ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(r){r?this.Ff=on(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,27)},set:function(r){r?this.Ff=on(this.Ff,27):this.Ff=ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Ci(J0,Fl);var Q0=function(){J0.call(this),this.fontName="helvetica",this.combo=!1};Ci(Q0,J0);var ef=function(){Q0.call(this),this.combo=!0};Ci(ef,Q0);var ny=function(){ef.call(this),this.edit=!0};Ci(ny,ef);var zn=function(){Fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,15)},set:function(r){r?this.Ff=on(this.Ff,15):this.Ff=ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,16)},set:function(r){r?this.Ff=on(this.Ff,16):this.Ff=ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,17)},set:function(r){r?this.Ff=on(this.Ff,17):this.Ff=ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(r){r?this.Ff=on(this.Ff,26):this.Ff=ln(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+Ph(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){ta(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ci(zn,Fl);var sy=function(){zn.call(this),this.pushButton=!0};Ci(sy,zn);var tf=function(){zn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ci(tf,zn);var i1=function(){var e,t;Fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+Ph(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){ta(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ci(i1,Fl),tf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},tf.prototype.createOption=function(e){var t=new i1;return t.Parent=this,t.optionName=e,this.Kids.push(t),WW.call(this.scope,t),t};var iy=function(){zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Ci(iy,zn);var oh=function(){Fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,13)},set:function(t){t?this.Ff=on(this.Ff,13):this.Ff=ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,21)},set:function(t){t?this.Ff=on(this.Ff,21):this.Ff=ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(t){t?this.Ff=on(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,24)},set:function(t){t?this.Ff=on(this.Ff,24):this.Ff=ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,25)},set:function(t){t?this.Ff=on(this.Ff,25):this.Ff=ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(t){t?this.Ff=on(this.Ff,26):this.Ff=ln(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ci(oh,Fl);var oy=function(){oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,14)},set:function(e){e?this.Ff=on(this.Ff,14):this.Ff=ln(this.Ff,14)}}),this.password=!0};Ci(oy,oh);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Yw(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ir(Rt.internal.getWidth(e))+" "+ir(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+ir(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Rt.internal.getHeight(e),o=Rt.internal.getWidth(e),l=Yw(e,e.caption);return s.push("1 g"),s.push("0 0 "+ir(o)+" "+ir(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ir(o-1)+" "+ir(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ir(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(Rt.internal.getWidth(e))+" "+ir(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Rt.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Td(Rt.internal.getWidth(e)/2)+" "+Td(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Rt.internal.Bezier_C).toFixed(5)),o=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Rt.internal.getWidth(e)/2)+" "+Td(Rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Td(Rt.internal.getWidth(e)/2)+" "+Td(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Rt.internal.getWidth(e)/2)+" "+Td(Rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=[],a=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ir(Rt.internal.getWidth(e)-2)+" "+ir(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ir(a.x1.x)+" "+ir(a.x1.y)+" m"),r.push(ir(a.x2.x)+" "+ir(a.x2.y)+" l"),r.push(ir(a.x4.x)+" "+ir(a.x4.y)+" m"),r.push(ir(a.x3.x)+" "+ir(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+ir(Rt.internal.getWidth(e))+" "+ir(Rt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+ir(Rt.internal.getWidth(e)-2)+" "+ir(Rt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(ir(r.x1.x)+" "+ir(r.x1.y)+" m"),a.push(ir(r.x2.x)+" "+ir(r.x2.y)+" l"),a.push(ir(r.x4.x)+" "+ir(r.x4.y)+" m"),a.push(ir(r.x3.x)+" "+ir(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(Rt.internal.getWidth(e))+" "+ir(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Rt.internal.getWidth=function(e){var t=0;return ta(e)==="object"&&(t=H3(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return ta(e)==="object"&&(t=H3(e.Rect[3])),t};var WW=Ya.addField=function(e){if(HW(this,e),!(e instanceof Fl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ya.AcroFormChoiceField=J0,Ya.AcroFormListBox=Q0,Ya.AcroFormComboBox=ef,Ya.AcroFormEditBox=ny,Ya.AcroFormButton=zn,Ya.AcroFormPushButton=sy,Ya.AcroFormRadioButton=tf,Ya.AcroFormCheckBox=iy,Ya.AcroFormTextField=oh,Ya.AcroFormPasswordField=oy,Ya.AcroFormAppearance=Rt,Ya.AcroForm={ChoiceField:J0,ListBox:Q0,ComboBox:ef,EditBox:ny,Button:zn,PushButton:sy,RadioButton:tf,CheckBox:iy,TextField:oh,PasswordField:oy,Appearance:Rt},Vt.AcroForm={ChoiceField:J0,ListBox:Q0,ComboBox:ef,EditBox:ny,Button:zn,PushButton:sy,RadioButton:tf,CheckBox:iy,TextField:oh,PasswordField:oy,Appearance:Rt};Vt.AcroForm;function j7(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(I,q){var Y,ee,ue,le,xe,oe=r;if((q=q||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(H(I))for(xe in a)for(ue=a[xe],Y=0;Y<ue.length;Y+=1){for(le=!0,ee=0;ee<ue[Y].length;ee+=1)if(ue[Y][ee]!==void 0&&ue[Y][ee]!==I[ee]){le=!1;break}if(le===!0){oe=xe;break}}else for(xe in a)for(ue=a[xe],Y=0;Y<ue.length;Y+=1){for(le=!0,ee=0;ee<ue[Y].length;ee+=1)if(ue[Y][ee]!==void 0&&ue[Y][ee]!==I.charCodeAt(ee)){le=!1;break}if(le===!0){oe=xe;break}}return oe===r&&q!==r&&(oe=q),oe},i=function I(q){for(var Y=this.internal.write,ee=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:q.width}),le.push({key:"Height",value:q.height}),q.colorSpace===b.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===b.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var xe="",oe=0,fe=q.transparency.length;oe<fe;oe++)xe+=q.transparency[oe]+" "+q.transparency[oe]+" ";le.push({key:"Mask",value:"["+xe+"]"})}q.sMask!==void 0&&le.push({key:"SMask",value:q.objectId+1+" 0 R"});var Se=q.filter!==void 0?["/"+q.filter]:void 0;if(ee({data:q.data,additionalKeyValues:le,alreadyAppliedFilters:Se,objectId:q.objectId}),Y("endobj"),"sMask"in q&&q.sMask!==void 0){var K,A=(K=q.sMaskBitsPerComponent)!==null&&K!==void 0?K:q.bitsPerComponent,z={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:q.sMask};"filter"in q&&(z.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(q.width),z.filter=q.filter),I.call(this,z)}if(q.colorSpace===b.INDEXED){var O=this.internal.newObject();ee({data:D(new Uint8Array(q.palette)),objectId:O}),Y("endobj")}},o=function(){var I=this.internal.collections[t+"images"];for(var q in I)i.call(this,I[q])},l=function(){var I,q=this.internal.collections[t+"images"],Y=this.internal.write;for(var ee in q)Y("/I"+(I=q[ee]).index,I.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[t+"images"];return c.call(this),I},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(I){return typeof e["process"+I.toUpperCase()]=="function"},m=function(I){return ta(I)==="object"&&I.nodeType===1},g=function(I,q){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var Y=""+I.getAttribute("src");if(Y.indexOf("data:image/")===0)return ay(unescape(Y).split("base64,").pop());var ee=e.loadFile(Y,!0);if(ee!==void 0)return ee}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ue;switch(q){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return ay(I.toDataURL(ue,1).split("base64,").pop())}},y=function(I){var q=this.internal.collections[t+"images"];if(q){for(var Y in q)if(I===q[Y].alias)return q[Y]}},x=function(I,q,Y){return I||q||(I=-96,q=-96),I<0&&(I=-1*Y.width*72/I/this.internal.scaleFactor),q<0&&(q=-1*Y.height*72/q/this.internal.scaleFactor),I===0&&(I=q*Y.width/Y.height),q===0&&(q=I*Y.height/Y.width),[I,q]},N=function(I,q,Y,ee,ue,le){var xe=x.call(this,Y,ee,ue),oe=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,Se=u.call(this);if(Y=xe[0],ee=xe[1],Se[ue.index]=ue,le){le*=Math.PI/180;var K=Math.cos(le),A=Math.sin(le),z=function(R){return R.toFixed(4)},O=[z(K),z(A),z(-1*A),z(K),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,oe(I),fe(q+ee),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([oe(Y),"0","0",oe(ee),"0","0","cm"].join(" "))):this.internal.write([oe(Y),"0","0",oe(ee),oe(I),fe(q+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(I){var q,Y,ee=0;if(typeof I=="string")for(Y=I.length,q=0;q<Y;q++)ee=(ee<<5)-ee+I.charCodeAt(q),ee|=0;else if(H(I))for(Y=I.byteLength/2,q=0;q<Y;q++)ee=(ee<<5)-ee+I[q],ee|=0;return ee},S=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var q=!0;return I.length===0&&(q=!1),I.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(q=!1),q},B=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var q=I.indexOf(",");return q<0?null:I.substring(0,q).trim().endsWith("base64")?I.substring(q+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(I){for(var q=I.length,Y=new Uint8Array(q),ee=0;ee<q;ee++)Y[ee]=I.charCodeAt(ee);return Y},D=e.__addimage__.arrayBufferToBinaryString=function(I){for(var q="",Y=H(I)?I:new Uint8Array(I),ee=0;ee<Y.length;ee+=8192)q+=String.fromCharCode.apply(null,Y.subarray(ee,ee+8192));return q};e.addImage=function(){var I,q,Y,ee,ue,le,xe,oe,fe;if(typeof arguments[1]=="number"?(q=r,Y=arguments[1],ee=arguments[2],ue=arguments[3],le=arguments[4],xe=arguments[5],oe=arguments[6],fe=arguments[7]):(q=arguments[1],Y=arguments[2],ee=arguments[3],ue=arguments[4],le=arguments[5],xe=arguments[6],oe=arguments[7],fe=arguments[8]),ta(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var Se=I;I=Se.imageData,q=Se.format||q||r,Y=Se.x||Y||0,ee=Se.y||ee||0,ue=Se.w||Se.width||ue,le=Se.h||Se.height||le,xe=Se.alias||xe,oe=Se.compression||oe,fe=Se.rotation||Se.angle||fe}var K=this.internal.getFilters();if(oe===void 0&&K.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(Y)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var A=P.call(this,I,q,xe,oe);return N.call(this,Y,ee,ue,le,A,fe),this};var P=function(I,q,Y,ee){var ue,le,xe;if(typeof I=="string"&&s(I)===r){I=unescape(I);var oe=G(I,!1);(oe!==""||(oe=e.loadFile(I,!0))!==void 0)&&(I=oe)}if(m(I)&&(I=g(I,q)),q=s(I,q),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((xe=Y)==null||xe.length===0)&&(Y=function(fe){return typeof fe=="string"||H(fe)?k(fe):H(fe.data)?k(fe.data):null}(I)),(ue=y.call(this,Y))||(I instanceof Uint8Array||q==="RGBA"||(le=I,I=F(I)),ue=this["process"+q.toUpperCase()](I,h.call(this),Y,function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in e.image_compression?fe:w.NONE}(ee),le)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},G=e.__addimage__.convertBase64ToBinaryString=function(I,q){q=typeof q!="boolean"||q;var Y,ee="";if(typeof I=="string"){var ue;Y=(ue=B(I))!==null&&ue!==void 0?ue:I;try{ee=ay(Y)}catch(le){if(q)throw S(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(I){var q,Y,ee="";if(m(I)&&(I=g(I)),typeof I=="string"&&s(I)===r&&((ee=G(I,!1))===""&&(ee=e.loadFile(I)||""),I=ee),Y=s(I),!f(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(I instanceof Uint8Array||(I=F(I)),!(q=this["process"+Y.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=Y,q}})(Vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((a=u[f]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){a=u[m];var g=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),w=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+g(b(a.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(b(w))+") >>",x.content=i;var k=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+k,a.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var S=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var B=this.annotations._nameMap[a.options.name];a.options.pageNumber=B.page,a.options.top=B.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var H=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+H+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(a),w:c(r+s),h:u(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(r,a,s,i),s+=.2*u,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-u,l,o,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var N=0,b=r,w="",k=0;for(N=0;N<x.length;N+=1)b[x.charCodeAt(N)]!==void 0?(k++,typeof(b=b[x.charCodeAt(N)])=="number"&&(w+=String.fromCharCode(b),b=r,k=0),N===x.length-1&&(b=r,w+=x.charAt(N-(k-1)),N-=k-1,k=0)):(b=r,w+=x.charAt(N-k),N-=k,k=0);return w};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&a[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,N,b){return o(x)?i(x)===!1?-1:!u(x)||!o(N)&&!o(b)||!o(b)&&l(N)||l(x)&&!o(N)||l(x)&&c(N)||l(x)&&l(N)?0:h(x)&&o(N)&&!l(N)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},g=function(x){var N=0,b=0,w=0,k="",S="",B="",H=(x=x||"").split("\\s+"),F=[];for(N=0;N<H.length;N+=1){for(F.push(""),b=0;b<H[N].length;b+=1)k=H[N][b],S=H[N][b-1],B=H[N][b+1],o(k)?(w=m(k,S,B),F[N]+=w!==-1?String.fromCharCode(t[k.charCodeAt(0)][w]):k):F[N]+=k;F[N]=f(F[N])}return F.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(N)){var w=0;for(b=[],w=0;w<N.length;w+=1)Array.isArray(N[w])?b.push([g(N[w][0]),N[w][1],N[w][2]]):b.push([g(N[w])]);x=b}else x=g(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])}(Vt.API),Vt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){a.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,g=0,y=0,x=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,S){return k.concat(N.splitTextToSize(S,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)g<(x=this.getStringUnitWidth(c[w],{font:f})*h)&&(g=x);return g!==0&&(y=c.length),{w:g/=m,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,g&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,f,m){if(a.call(this),!h)throw new Error("No data for PDF table.");var g,y,x,N,b=[],w=[],k=[],S={},B={},H=[],F=[],D=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,I=m.margins||Object.assign({width:this.getPageWidth()},t),q=typeof m.padding=="number"?m.padding:3,Y=m.headerBackgroundColor||"#c8c8c8",ee=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=ee,this.setFontSize(G),f==null)w=b=Object.keys(h[0]),k=b.map(function(){return"left"});else if(Array.isArray(f)&&ta(f[0])==="object")for(b=f.map(function(Se){return Se.name}),w=f.map(function(Se){return Se.prompt||Se.name||""}),k=f.map(function(Se){return Se.align||"left"}),g=0;g<f.length;g+=1)B[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=b=f,k=b.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<b.length;g+=1){for(S[N=b[g]]=h.map(function(Se){return Se[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=S[N],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)H.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[N]=Math.max.apply(null,H)+q+q,H=[]}if(P){var ue={};for(g=0;g<b.length;g+=1)ue[b[g]]={},ue[b[g]].text=w[g],ue[b[g]].align=k[g];var le=l.call(this,ue,B);F=b.map(function(Se){return new i(c,u,B[Se],le,ue[Se].text,void 0,ue[Se].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var xe=f.reduce(function(Se,K){return Se[K.name]=K.align,Se},{});for(g=0;g<h.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:h[g]},this);var oe=l.call(this,h[g],B);for(x=0;x<b.length;x+=1){var fe=h[g][b[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:x,data:fe},this),o.call(this,new i(c,u,B[b[x]],oe,fe,g+2,xe[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(g){var y=c[g];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/m+h+h},this).reduce(function(g,y){return Math.max(g,y)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var S7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},A7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kw=j7(A7),E7=[100,200,300,400,500,600,700,800,900],GW=j7(E7);function Ub(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return S7[i=i||"normal"]?i:"normal"}(e.style),a=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof Kw[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function W3(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var YW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},G3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Y3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function K3(e){return e.trimLeft()}function KW(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ZW(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var vx,Z3,X3,o0,bx,J3,Q3,eS,Vb=["times"];function tS(e,t,r,a,s){var i=4,o=aS;switch(s){case Vt.API.image_compression.FAST:i=1,o=rS;break;case Vt.API.image_compression.MEDIUM:i=6,o=nS;break;case Vt.API.image_compression.SLOW:i=9,o=sS}e=function(c,u,h,f){for(var m,g=c.length/u,y=new Uint8Array(c.length+g),x=[XW,rS,aS,nS,sS],N=0;N<g;N+=1){var b=N*u,w=c.subarray(b,b+u);if(f)y.set(f(w,h,m),b+N);else{for(var k=x.length,S=[],B=0;B<k;B+=1)S[B]=x[B](w,h,m);var H=QW(S.concat());y.set(S[H],b+N)}m=w}return y}(e,t,Math.ceil(r*a/8),o);var l=Vw(e,{level:i});return Vt.API.__addimage__.arrayBufferToBinaryString(l)}function XW(e){var t=Array.apply([],e);return t.unshift(0),t}function rS(e,t){var r=e.length,a=[];a[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function aS(e,t,r){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function nS(e,t,r){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function sS(e,t,r){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=JW(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function JW(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=s&&a<=i?e:s<=i?t:r}function QW(e){var t=e.map(function(r){return r.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function qb(e,t,r){var a=t*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1;return T7(e,s)>>i&o}function iS(e,t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,c=(t&l)<<o;(function(u,h,f){if(h+1<u.byteLength)u.setUint16(h,f,!1);else{var m=f>>8&255;u.setUint8(h,m)}})(e,i,T7(e,i)&~(l<<o)&65535|c)}function T7(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function eG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,h=[],f=0,m=null,g=0,y=null;for(this.width=r,this.height=a;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&x||(m=null),g=x>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,S=e[t++],B=S>>6&1,H=1<<1+(7&S),F=l,D=c,P=!1;S>>7&&(P=!0,F=t,D=H,t+=3*H);var G=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}h.push({x:N,y:b,width:w,height:k,has_local_palette:P,palette_offset:F,palette_size:D,data_offset:G,data_length:t-G,transparent_index:m,interlaced:!!B,delay:f,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(q){if(q<0||q>=h.length)throw new Error("Frame index out of range.");return h[q]},this.decodeAndBlitFrameBGRA=function(q,Y){var ee=this.frameInfo(q),ue=ee.width*ee.height,le=new Uint8Array(ue);oS(e,ee.data_offset,le,ue);var xe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var fe=ee.width,Se=r-fe,K=fe,A=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),O=A,R=4*Se;ee.interlaced===!0&&(R+=4*r*7);for(var W=8,X=0,ne=le.length;X<ne;++X){var re=le[X];if(K===0&&(K=fe,(O+=R)>=z&&(R=4*Se+4*r*(W-1),O=A+(fe+Se)*(W<<1),W>>=1)),re===oe)O+=4;else{var Z=e[xe+3*re],ke=e[xe+3*re+1],Le=e[xe+3*re+2];Y[O++]=Le,Y[O++]=ke,Y[O++]=Z,Y[O++]=255}--K}},this.decodeAndBlitFrameRGBA=function(q,Y){var ee=this.frameInfo(q),ue=ee.width*ee.height,le=new Uint8Array(ue);oS(e,ee.data_offset,le,ue);var xe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var fe=ee.width,Se=r-fe,K=fe,A=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),O=A,R=4*Se;ee.interlaced===!0&&(R+=4*r*7);for(var W=8,X=0,ne=le.length;X<ne;++X){var re=le[X];if(K===0&&(K=fe,(O+=R)>=z&&(R=4*Se+4*r*(W-1),O=A+(fe+Se)*(W<<1),W>>=1)),re===oe)O+=4;else{var Z=e[xe+3*re],ke=e[xe+3*re+1],Le=e[xe+3*re+2];Y[O++]=Z,Y[O++]=ke,Y[O++]=Le,Y[O++]=255}--K}}}function oS(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,h=0,f=0,m=0,g=e[t++],y=new Int32Array(4096),x=null;;){for(;h<16&&g!==0;)f|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<c)break;var N=f&u;if(f>>=c,h-=c,N!==i){if(N===o)break;for(var b=N<l?N:x,w=0,k=b;k>i;)k=y[k]>>8,++w;var S=k;if(m+w+(b!==N?1:0)>a)return void ha.log("Warning, gif stream longer than expected.");r[m++]=S;var B=m+=w;for(b!==N&&(r[m++]=S),k=b;w--;)k=y[k],r[--B]=255&k,k>>=8;x!==null&&l<4096&&(y[l++]=x<<8|S,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=N}else l=o+1,u=(1<<(c=s+1))-1,x=null}return m!==a&&ha.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $b(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),m=new Array(65535),g=new Array(64),y=new Array(64),x=[],N=0,b=7,w=new Array(64),k=new Array(64),S=new Array(64),B=new Array(256),H=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(A,z){for(var O=0,R=0,W=new Array,X=1;X<=16;X++){for(var ne=1;ne<=A[X];ne++)W[z[R]]=[],W[z[R]][0]=O,W[z[R]][1]=X,R++,O++;O*=2}return W}function xe(A){for(var z=A[0],O=A[1]-1;O>=0;)z&1<<O&&(N|=1<<b),O--,--b<0&&(N==255?(oe(255),oe(0)):oe(N),b=7,N=0)}function oe(A){x.push(A)}function fe(A){oe(A>>8&255),oe(255&A)}function Se(A,z,O,R,W){for(var X,ne=W[0],re=W[240],Z=function(ae,De){var Ke,at,yt,wt,it,jt,Et,Te,st,gt,_t=0;for(st=0;st<8;++st){Ke=ae[_t],at=ae[_t+1],yt=ae[_t+2],wt=ae[_t+3],it=ae[_t+4],jt=ae[_t+5],Et=ae[_t+6];var wr=Ke+(Te=ae[_t+7]),er=Ke-Te,Ht=at+Et,Gt=at-Et,_r=yt+jt,Ct=yt-jt,lt=wt+it,It=wt-it,qt=wr+lt,Er=wr-lt,Qt=Ht+_r,Ot=Ht-_r;ae[_t]=qt+Qt,ae[_t+4]=qt-Qt;var pr=.707106781*(Ot+Er);ae[_t+2]=Er+pr,ae[_t+6]=Er-pr;var Qs=.382683433*((qt=It+Ct)-(Ot=Gt+er)),un=.5411961*qt+Qs,Li=1.306562965*Ot+Qs,ei=.707106781*(Qt=Ct+Gt),$t=er+ei,Pi=er-ei;ae[_t+5]=Pi+un,ae[_t+3]=Pi-un,ae[_t+1]=$t+Li,ae[_t+7]=$t-Li,_t+=8}for(_t=0,st=0;st<8;++st){Ke=ae[_t],at=ae[_t+8],yt=ae[_t+16],wt=ae[_t+24],it=ae[_t+32],jt=ae[_t+40],Et=ae[_t+48];var Mi=Ke+(Te=ae[_t+56]),In=Ke-Te,ms=at+Et,Tr=at-Et,St=yt+jt,te=yt-jt,be=wt+it,me=wt-it,pe=Mi+be,ve=Mi-be,Ne=ms+St,Ie=ms-St;ae[_t]=pe+Ne,ae[_t+32]=pe-Ne;var Ye=.707106781*(Ie+ve);ae[_t+16]=ve+Ye,ae[_t+48]=ve-Ye;var ze=.382683433*((pe=me+te)-(Ie=Tr+In)),Ue=.5411961*pe+ze,$e=1.306562965*Ie+ze,ht=.707106781*(Ne=te+Tr),pt=In+ht,At=In-ht;ae[_t+40]=At+Ue,ae[_t+24]=At-Ue,ae[_t+8]=pt+$e,ae[_t+56]=pt-$e,_t++}for(st=0;st<64;++st)gt=ae[st]*De[st],g[st]=gt>0?gt+.5|0:gt-.5|0;return g}(A,z),ke=0;ke<64;++ke)y[F[ke]]=Z[ke];var Le=y[0]-O;O=y[0],Le==0?xe(R[0]):(xe(R[m[X=32767+Le]]),xe(f[X]));for(var Oe=63;Oe>0&&y[Oe]==0;)Oe--;if(Oe==0)return xe(ne),O;for(var Ge,de=1;de<=Oe;){for(var Ae=de;y[de]==0&&de<=Oe;)++de;var je=de-Ae;if(je>=16){Ge=je>>4;for(var et=1;et<=Ge;++et)xe(re);je&=15}X=32767+y[de],xe(W[(je<<4)+m[X]]),xe(f[X]),de++}return Oe!=63&&xe(ne),O}function K(A){A=Math.min(Math.max(A,1),100),i!=A&&(function(z){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],R=0;R<64;R++){var W=o((O[R]*z+50)/100);W=Math.min(Math.max(W,1),255),l[F[R]]=W}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var re=o((X[ne]*z+50)/100);re=Math.min(Math.max(re,1),255),c[F[ne]]=re}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Le=0;Le<8;Le++)for(var Oe=0;Oe<8;Oe++)u[ke]=1/(l[F[ke]]*Z[Le]*Z[Oe]*8),h[ke]=1/(c[F[ke]]*Z[Le]*Z[Oe]*8),ke++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),i=A)}this.encode=function(A,z){z&&K(z),x=new Array,N=0,b=7,fe(65496),fe(65504),fe(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),fe(1),fe(1),oe(0),oe(0),function(){fe(65499),fe(132),oe(0);for(var at=0;at<64;at++)oe(l[at]);oe(1);for(var yt=0;yt<64;yt++)oe(c[yt])}(),function(at,yt){fe(65472),fe(17),oe(8),fe(yt),fe(at),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(A.width,A.height),function(){fe(65476),fe(418),oe(0);for(var at=0;at<16;at++)oe(D[at+1]);for(var yt=0;yt<=11;yt++)oe(P[yt]);oe(16);for(var wt=0;wt<16;wt++)oe(G[wt+1]);for(var it=0;it<=161;it++)oe(I[it]);oe(1);for(var jt=0;jt<16;jt++)oe(q[jt+1]);for(var Et=0;Et<=11;Et++)oe(Y[Et]);oe(17);for(var Te=0;Te<16;Te++)oe(ee[Te+1]);for(var st=0;st<=161;st++)oe(ue[st])}(),fe(65498),fe(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var O=0,R=0,W=0;N=0,b=7,this.encode.displayName="_encode_";for(var X,ne,re,Z,ke,Le,Oe,Ge,de,Ae=A.data,je=A.width,et=A.height,ae=4*je,De=0;De<et;){for(X=0;X<ae;){for(ke=ae*De+X,Oe=-1,Ge=0,de=0;de<64;de++)Le=ke+(Ge=de>>3)*ae+(Oe=4*(7&de)),De+Ge>=et&&(Le-=ae*(De+1+Ge-et)),X+Oe>=ae&&(Le-=X+Oe-ae+4),ne=Ae[Le++],re=Ae[Le++],Z=Ae[Le++],w[de]=(H[ne]+H[re+256|0]+H[Z+512|0]>>16)-128,k[de]=(H[ne+768|0]+H[re+1024|0]+H[Z+1280|0]>>16)-128,S[de]=(H[ne+1280|0]+H[re+1536|0]+H[Z+1792|0]>>16)-128;O=Se(w,u,O,t,a),R=Se(k,h,R,r,s),W=Se(S,h,W,r,s),X+=32}De+=8}if(b>=0){var Ke=[];Ke[1]=b+1,Ke[0]=(1<<b+1)-1,xe(Ke)}return fe(65497),new Uint8Array(x)},e=e||50,function(){for(var A=String.fromCharCode,z=0;z<256;z++)B[z]=A(z)}(),t=le(D,P),r=le(q,Y),a=le(G,I),s=le(ee,ue),function(){for(var A=1,z=2,O=1;O<=15;O++){for(var R=A;R<z;R++)m[32767+R]=O,f[32767+R]=[],f[32767+R][1]=O,f[32767+R][0]=R;for(var W=-(z-1);W<=-A;W++)m[32767+W]=O,f[32767+W]=[],f[32767+W][1]=O,f[32767+W][0]=z-1+W;A<<=1,z<<=1}}(),function(){for(var A=0;A<256;A++)H[A]=19595*A,H[A+256|0]=38470*A,H[A+512|0]=7471*A+32768,H[A+768|0]=-11059*A,H[A+1024|0]=-21709*A,H[A+1280|0]=32768*A+8421375,H[A+1536|0]=-27439*A,H[A+1792|0]=-5329*A}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ml(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lS(e){function t(P){if(!P)throw Error("assert :P")}function r(P,G,I){for(var q=0;4>q;q++)if(P[G+q]!=I.charCodeAt(q))return!0;return!1}function a(P,G,I,q,Y){for(var ee=0;ee<Y;ee++)P[G+ee]=I[q+ee]}function s(P,G,I,q){for(var Y=0;Y<q;Y++)P[G+Y]=I}function i(P){return new Int32Array(P)}function o(P,G){for(var I=[],q=0;q<P;q++)I.push(new G);return I}function l(P,G){var I=[];return function q(Y,ee,ue){for(var le=ue[ee],xe=0;xe<le&&(Y.push(ue.length>ee+1?[]:new G),!(ue.length<ee+1));xe++)q(Y[xe],ee+1,ue)}(I,0,P),I}var c=function(){var P=this;function G(v,j){for(var M=1<<j-1>>>0;v&M;)M>>>=1;return M?(v&M-1)+M:v}function I(v,j,M,U,Q){t(!(U%M));do v[j+(U-=M)]=Q;while(0<U)}function q(v,j,M,U,Q){if(t(2328>=Q),512>=Q)var se=i(512);else if((se=i(Q))==null)return 0;return function(ce,he,ge,we,Pe,qe){var _e,Me,Fe=he,Qe=1<<ge,Ve=i(16),tt=i(16);for(t(Pe!=0),t(we!=null),t(ce!=null),t(0<ge),Me=0;Me<Pe;++Me){if(15<we[Me])return 0;++Ve[we[Me]]}if(Ve[0]==Pe)return 0;for(tt[1]=0,_e=1;15>_e;++_e){if(Ve[_e]>1<<_e)return 0;tt[_e+1]=tt[_e]+Ve[_e]}for(Me=0;Me<Pe;++Me)_e=we[Me],0<we[Me]&&(qe[tt[_e]++]=Me);if(tt[15]==1)return(we=new Y).g=0,we.value=qe[0],I(ce,Fe,1,Qe,we),Qe;var rt,ft=-1,ut=Qe-1,zt=0,Mt=1,ur=1,Ft=1<<ge;for(Me=0,_e=1,Pe=2;_e<=ge;++_e,Pe<<=1){if(Mt+=ur<<=1,0>(ur-=Ve[_e]))return 0;for(;0<Ve[_e];--Ve[_e])(we=new Y).g=_e,we.value=qe[Me++],I(ce,Fe+zt,Pe,Ft,we),zt=G(zt,_e)}for(_e=ge+1,Pe=2;15>=_e;++_e,Pe<<=1){if(Mt+=ur<<=1,0>(ur-=Ve[_e]))return 0;for(;0<Ve[_e];--Ve[_e]){if(we=new Y,(zt&ut)!=ft){for(Fe+=Ft,rt=1<<(ft=_e)-ge;15>ft&&!(0>=(rt-=Ve[ft]));)++ft,rt<<=1;Qe+=Ft=1<<(rt=ft-ge),ce[he+(ft=zt&ut)].g=rt+ge,ce[he+ft].value=Fe-he-ft}we.g=_e-ge,we.value=qe[Me++],I(ce,Fe+(zt>>ge),Pe,Ft,we),zt=G(zt,_e)}}return Mt!=2*tt[15]-1?0:Qe}(v,j,M,U,Q,se)}function Y(){this.value=this.g=0}function ee(){this.value=this.g=0}function ue(){this.G=o(5,Y),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(yo,ee)}function le(v,j,M,U){t(v!=null),t(j!=null),t(2147483648>U),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=j,v.pa=M,v.Jd=j,v.Yc=M+U,v.Zc=4<=U?M+U-4+1:M,ne(v)}function xe(v,j){for(var M=0;0<j--;)M|=Z(v,128)<<j;return M}function oe(v,j){var M=xe(v,j);return re(v)?-M:M}function fe(v,j,M,U){var Q,se=0;for(t(v!=null),t(j!=null),t(4294967288>U),v.Sb=U,v.Ra=0,v.u=0,v.h=0,4<U&&(U=4),Q=0;Q<U;++Q)se+=j[M+Q]<<8*Q;v.Ra=se,v.bb=U,v.oa=j,v.pa=M}function Se(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Fi-8>>>0,++v.bb,v.u-=8;R(v)&&(v.h=1,v.u=0)}function K(v,j){if(t(0<=j),!v.h&&j<=qa){var M=O(v)&Rs[j];return v.u+=j,Se(v),M}return v.h=1,v.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(v){return v.Ra>>>(v.u&Fi-1)>>>0}function R(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Fi}function W(v,j){v.u=j,v.h=R(v)}function X(v){v.u>=ol&&(t(v.u>=ol),Se(v))}function ne(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function re(v){return xe(v,1)}function Z(v,j){var M=v.Ca;0>v.b&&ne(v);var U=v.b,Q=M*j>>>8,se=(v.I>>>U>Q)+0;for(se?(M-=Q,v.I-=Q+1<<U>>>0):M=Q+1,U=M,Q=0;256<=U;)Q+=8,U>>=8;return U=7^Q+vo[U],v.b-=U,v.Ca=(M<<U)-1,se}function ke(v,j,M){v[j+0]=M>>24&255,v[j+1]=M>>16&255,v[j+2]=M>>8&255,v[j+3]=255&M}function Le(v,j){return v[j+0]|v[j+1]<<8}function Oe(v,j){return Le(v,j)|v[j+2]<<16}function Ge(v,j){return Le(v,j)|Le(v,j+2)<<16}function de(v,j){var M=1<<j;return t(v!=null),t(0<j),v.X=i(M),v.X==null?0:(v.Mb=32-j,v.Xa=j,1)}function Ae(v,j){t(v!=null),t(j!=null),t(v.Xa==j.Xa),a(j.X,0,v.X,0,1<<j.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function et(v,j,M,U){t(M!=null),t(U!=null);var Q=M[0],se=U[0];return Q==0&&(Q=(v*se+j/2)/j),se==0&&(se=(j*Q+v/2)/v),0>=Q||0>=se?0:(M[0]=Q,U[0]=se,1)}function ae(v,j){return v+(1<<j)-1>>>j}function De(v,j){return((4278255360&v)+(4278255360&j)>>>0&4278255360)+((16711935&v)+(16711935&j)>>>0&16711935)>>>0}function Ke(v,j){P[j]=function(M,U,Q,se,ce,he,ge){var we;for(we=0;we<ce;++we){var Pe=P[v](he[ge+we-1],Q,se+we);he[ge+we]=De(M[U+we],Pe)}}}function at(){this.ud=this.hd=this.jd=0}function yt(v,j){return((4278124286&(v^j))>>>1)+(v&j)>>>0}function wt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function it(v,j){return wt(v+(v-j+.5>>1))}function jt(v,j,M){return Math.abs(j-M)-Math.abs(v-M)}function Et(v,j,M,U,Q,se,ce){for(U=se[ce-1],M=0;M<Q;++M)se[ce+M]=U=De(v[j+M],U)}function Te(v,j,M,U,Q){var se;for(se=0;se<M;++se){var ce=v[j+se],he=ce>>8&255,ge=16711935&(ge=(ge=16711935&ce)+((he<<16)+he));U[Q+se]=(4278255360&ce)+ge>>>0}}function st(v,j){j.jd=255&v,j.hd=v>>8&255,j.ud=v>>16&255}function gt(v,j,M,U,Q,se){var ce;for(ce=0;ce<U;++ce){var he=j[M+ce],ge=he>>>8,we=he,Pe=255&(Pe=(Pe=he>>>16)+((v.jd<<24>>24)*(ge<<24>>24)>>>5));we=255&(we=(we+=(v.hd<<24>>24)*(ge<<24>>24)>>>5)+((v.ud<<24>>24)*(Pe<<24>>24)>>>5)),Q[se+ce]=(4278255360&he)+(Pe<<16)+we}}function _t(v,j,M,U,Q){P[j]=function(se,ce,he,ge,we,Pe,qe,_e,Me){for(ge=qe;ge<_e;++ge)for(qe=0;qe<Me;++qe)we[Pe++]=Q(he[U(se[ce++])])},P[v]=function(se,ce,he,ge,we,Pe,qe){var _e=8>>se.b,Me=se.Ea,Fe=se.K[0],Qe=se.w;if(8>_e)for(se=(1<<se.b)-1,Qe=(1<<_e)-1;ce<he;++ce){var Ve,tt=0;for(Ve=0;Ve<Me;++Ve)Ve&se||(tt=U(ge[we++])),Pe[qe++]=Q(Fe[tt&Qe]),tt>>=_e}else P["VP8LMapColor"+M](ge,we,Fe,Qe,Pe,qe,ce,he,Me)}}function wr(v,j,M,U,Q){for(M=j+M;j<M;){var se=v[j++];U[Q++]=se>>16&255,U[Q++]=se>>8&255,U[Q++]=255&se}}function er(v,j,M,U,Q){for(M=j+M;j<M;){var se=v[j++];U[Q++]=se>>16&255,U[Q++]=se>>8&255,U[Q++]=255&se,U[Q++]=se>>24&255}}function Ht(v,j,M,U,Q){for(M=j+M;j<M;){var se=(ce=v[j++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;U[Q++]=se,U[Q++]=ce}}function Gt(v,j,M,U,Q){for(M=j+M;j<M;){var se=(ce=v[j++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;U[Q++]=se,U[Q++]=ce}}function _r(v,j,M,U,Q){for(M=j+M;j<M;){var se=v[j++];U[Q++]=255&se,U[Q++]=se>>8&255,U[Q++]=se>>16&255}}function Ct(v,j,M,U,Q,se){if(se==0)for(M=j+M;j<M;)ke(U,((se=v[j++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),Q+=32;else a(U,Q,v,j,M)}function lt(v,j){P[j][0]=P[v+"0"],P[j][1]=P[v+"1"],P[j][2]=P[v+"2"],P[j][3]=P[v+"3"],P[j][4]=P[v+"4"],P[j][5]=P[v+"5"],P[j][6]=P[v+"6"],P[j][7]=P[v+"7"],P[j][8]=P[v+"8"],P[j][9]=P[v+"9"],P[j][10]=P[v+"10"],P[j][11]=P[v+"11"],P[j][12]=P[v+"12"],P[j][13]=P[v+"13"],P[j][14]=P[v+"0"],P[j][15]=P[v+"0"]}function It(v){return v==Wh||v==Gh||v==Yh||v==d}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Er,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qs(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function un(v,j){var M=v.T,U=j.ba.f.RGBA,Q=U.eb,se=U.fb+v.ka*U.A,ce=Kn[j.ba.S],he=v.y,ge=v.O,we=v.f,Pe=v.N,qe=v.ea,_e=v.W,Me=j.cc,Fe=j.dc,Qe=j.Mc,Ve=j.Nc,tt=v.ka,rt=v.ka+v.T,ft=v.U,ut=ft+1>>1;for(tt==0?ce(he,ge,null,null,we,Pe,qe,_e,we,Pe,qe,_e,Q,se,null,null,ft):(ce(j.ec,j.fc,he,ge,Me,Fe,Qe,Ve,we,Pe,qe,_e,Q,se-U.A,Q,se,ft),++M);tt+2<rt;tt+=2)Me=we,Fe=Pe,Qe=qe,Ve=_e,Pe+=v.Rc,_e+=v.Rc,se+=2*U.A,ce(he,(ge+=2*v.fa)-v.fa,he,ge,Me,Fe,Qe,Ve,we,Pe,qe,_e,Q,se-U.A,Q,se,ft);return ge+=v.fa,v.j+rt<v.o?(a(j.ec,j.fc,he,ge,ft),a(j.cc,j.dc,we,Pe,ut),a(j.Mc,j.Nc,qe,_e,ut),M--):1&rt||ce(he,ge,null,null,we,Pe,qe,_e,we,Pe,qe,_e,Q,se+U.A,null,null,ft),M}function Li(v,j,M){var U=v.F,Q=[v.J];if(U!=null){var se=v.U,ce=j.ba.S,he=ce==Du||ce==Yh;j=j.ba.f.RGBA;var ge=[0],we=v.ka;ge[0]=v.T,v.Kb&&(we==0?--ge[0]:(--we,Q[0]-=v.width),v.j+v.ka+v.T==v.o&&(ge[0]=v.o-v.j-we));var Pe=j.eb;we=j.fb+we*j.A,v=em(U,Q[0],v.width,se,ge,Pe,we+(he?0:3),j.A),t(M==ge),v&&It(ce)&&ko(Pe,we,he,se,ge,j.A)}return 0}function ei(v){var j=v.ma,M=j.ba.S,U=11>M,Q=M==Ru||M==Ou||M==Du||M==Hh||M==12||It(M);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Lu(j.Oa,v,Q?11:12))return 0;if(Q&&It(M)&&al(),v.da)alert("todo:use_scaling");else{if(U){if(j.Ib=Qs,v.Kb){if(M=v.U+1>>1,j.memory=i(v.U+2*M),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+v.U,j.Mc=j.cc,j.Nc=j.dc+M,j.Ib=un,al()}}else alert("todo:EmitYUV");Q&&(j.Jb=Li,U&&An())}if(U&&!fN){for(v=0;256>v;++v)uM[v]=89858*(v-128)+Op>>Rp,mM[v]=-22014*(v-128)+Op,fM[v]=-45773*(v-128),hM[v]=113618*(v-128)+Op>>Rp;for(v=im;v<bv;++v)j=76283*(v-16)+Op>>Rp,gM[v-im]=Yt(j,255),pM[v-im]=Yt(j+8>>4,15);fN=1}return 1}function $t(v){var j=v.ma,M=v.U,U=v.T;return t(!(1&v.ka)),0>=M||0>=U?0:(M=j.Ib(v,j),j.Jb!=null&&j.Jb(v,j,M),j.Dc+=M,1)}function Pi(v){v.ma.memory=null}function Mi(v,j,M,U){return K(v,8)!=47?0:(j[0]=K(v,14)+1,M[0]=K(v,14)+1,U[0]=K(v,1),K(v,3)!=0?0:!v.h)}function In(v,j){if(4>v)return v+1;var M=v-2>>1;return(2+(1&v)<<M)+K(j,M)+1}function ms(v,j){return 120<j?j-120:1<=(M=((M=Ee[j-1])>>4)*v+(8-(15&M)))?M:1;var M}function Tr(v,j,M){var U=O(M),Q=v[j+=255&U].g-8;return 0<Q&&(W(M,M.u+8),U=O(M),j+=v[j].value,j+=U&(1<<Q)-1),W(M,M.u+v[j].g),v[j].value}function St(v,j,M){return M.g+=v.g,M.value+=v.value<<j>>>0,t(8>=M.g),v.g}function te(v,j,M){var U=v.xc;return t((j=U==0?0:v.vc[v.md*(M>>U)+(j>>U)])<v.Wb),v.Ya[j]}function be(v,j,M,U){var Q=v.ab,se=v.c*j,ce=v.C;j=ce+j;var he=M,ge=U;for(U=v.Ta,M=v.Ua;0<Q--;){var we=v.gc[Q],Pe=ce,qe=j,_e=he,Me=ge,Fe=(ge=U,he=M,we.Ea);switch(t(Pe<qe),t(qe<=we.nc),we.hc){case 2:Ia(_e,Me,(qe-Pe)*Fe,ge,he);break;case 0:var Qe=Pe,Ve=qe,tt=ge,rt=he,ft=(Ft=we).Ea;Qe==0&&(Pu(_e,Me,null,null,1,tt,rt),Et(_e,Me+1,0,0,ft-1,tt,rt+1),Me+=ft,rt+=ft,++Qe);for(var ut=1<<Ft.b,zt=ut-1,Mt=ae(ft,Ft.b),ur=Ft.K,Ft=Ft.w+(Qe>>Ft.b)*Mt;Qe<Ve;){var Cr=ur,Tn=Ft,hr=1;for(xs(_e,Me,tt,rt-ft,1,tt,rt);hr<ft;){var Bt=(hr&~zt)+ut;Bt>ft&&(Bt=ft),(0,yd[Cr[Tn++]>>8&15])(_e,Me+ +hr,tt,rt+hr-ft,Bt-hr,tt,rt+hr),hr=Bt}Me+=ft,rt+=ft,++Qe&zt||(Ft+=Mt)}qe!=we.nc&&a(ge,he-Fe,ge,he+(qe-Pe-1)*Fe,Fe);break;case 1:for(Fe=_e,Ve=Me,ft=(_e=we.Ea)-(rt=_e&~(tt=(Me=1<<we.b)-1)),Qe=ae(_e,we.b),ut=we.K,we=we.w+(Pe>>we.b)*Qe;Pe<qe;){for(zt=ut,Mt=we,ur=new at,Ft=Ve+rt,Cr=Ve+_e;Ve<Ft;)st(zt[Mt++],ur),Nc(ur,Fe,Ve,Me,ge,he),Ve+=Me,he+=Me;Ve<Cr&&(st(zt[Mt++],ur),Nc(ur,Fe,Ve,ft,ge,he),Ve+=ft,he+=ft),++Pe&tt||(we+=Qe)}break;case 3:if(_e==ge&&Me==he&&0<we.b){for(Ve=ge,_e=Fe=he+(qe-Pe)*Fe-(rt=(qe-Pe)*ae(we.Ea,we.b)),Me=ge,tt=he,Qe=[],rt=(ft=rt)-1;0<=rt;--rt)Qe[rt]=Me[tt+rt];for(rt=ft-1;0<=rt;--rt)Ve[_e+rt]=Qe[rt];ll(we,Pe,qe,ge,Fe,ge,he)}else ll(we,Pe,qe,_e,Me,ge,he)}he=U,ge=M}ge!=M&&a(U,M,he,ge,se)}function me(v,j){var M=v.V,U=v.Ba+v.c*v.C,Q=j-v.C;if(t(j<=v.l.o),t(16>=Q),0<Q){var se=v.l,ce=v.Ta,he=v.Ua,ge=se.width;if(be(v,Q,M,U),Q=he=[he],t((M=v.C)<(U=j)),t(se.v<se.va),U>se.o&&(U=se.o),M<se.j){var we=se.j-M;M=se.j,Q[0]+=we*ge}if(M>=U?M=0:(Q[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=U-M,M=1),M){if(he=he[0],11>(M=v.ca).S){var Pe=M.f.RGBA,qe=(U=M.S,Q=se.U,se=se.T,we=Pe.eb,Pe.A),_e=se;for(Pe=Pe.fb+v.Ma*Pe.A;0<_e--;){var Me=ce,Fe=he,Qe=Q,Ve=we,tt=Pe;switch(U){case $h:Wl(Me,Fe,Qe,Ve,tt);break;case Ru:wo(Me,Fe,Qe,Ve,tt);break;case Wh:wo(Me,Fe,Qe,Ve,tt),ko(Ve,tt,0,Qe,1,0);break;case am:_o(Me,Fe,Qe,Ve,tt);break;case Ou:Ct(Me,Fe,Qe,Ve,tt,1);break;case Gh:Ct(Me,Fe,Qe,Ve,tt,1),ko(Ve,tt,0,Qe,1,0);break;case Du:Ct(Me,Fe,Qe,Ve,tt,0);break;case Yh:Ct(Me,Fe,Qe,Ve,tt,0),ko(Ve,tt,1,Qe,1,0);break;case Hh:Bi(Me,Fe,Qe,Ve,tt);break;case d:Bi(Me,Fe,Qe,Ve,tt),Qf(Ve,tt,Qe,1,0);break;case Lp:Os(Me,Fe,Qe,Ve,tt);break;default:t(0)}he+=ge,Pe+=qe}v.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=M.height)}}v.C=j,t(v.C<=v.i)}function pe(v){var j;if(0<v.ua)return 0;for(j=0;j<v.Wb;++j){var M=v.Ya[j].G,U=v.Ya[j].H;if(0<M[1][U[1]+0].g||0<M[2][U[2]+0].g||0<M[3][U[3]+0].g)return 0}return 1}function ve(v,j,M,U,Q,se){if(v.Z!=0){var ce=v.qd,he=v.rd;for(t(Yr[v.Z]!=null);j<M;++j)Yr[v.Z](ce,he,U,Q,U,Q,se),ce=U,he=Q,Q+=se;v.qd=ce,v.rd=he}}function Ne(v,j){var M=v.l.ma,U=M.Z==0||M.Z==1?v.l.j:v.C;if(U=v.C<U?U:v.C,t(j<=v.l.o),j>U){var Q=v.l.width,se=M.ca,ce=M.tb+Q*U,he=v.V,ge=v.Ba+v.c*U,we=v.gc;t(v.ab==1),t(we[0].hc==3),fn(we[0],U,j,he,ge,se,ce),ve(M,U,j,se,ce,Q)}v.C=v.Ma=j}function Ie(v,j,M,U,Q,se,ce){var he=v.$/U,ge=v.$%U,we=v.m,Pe=v.s,qe=M+v.$,_e=qe;Q=M+U*Q;var Me=M+U*se,Fe=280+Pe.ua,Qe=v.Pb?he:16777216,Ve=0<Pe.ua?Pe.Wa:null,tt=Pe.wc,rt=qe<Me?te(Pe,ge,he):null;t(v.C<se),t(Me<=Q);var ft=!1;e:for(;;){for(;ft||qe<Me;){var ut=0;if(he>=Qe){var zt=qe-M;t((Qe=v).Pb),Qe.wd=Qe.m,Qe.xd=zt,0<Qe.s.ua&&Ae(Qe.s.Wa,Qe.s.vb),Qe=he+We}if(ge&tt||(rt=te(Pe,ge,he)),t(rt!=null),rt.Qb&&(j[qe]=rt.qb,ft=!0),!ft)if(X(we),rt.jc){ut=we,zt=j;var Mt=qe,ur=rt.pd[O(ut)&yo-1];t(rt.jc),256>ur.g?(W(ut,ut.u+ur.g),zt[Mt]=ur.value,ut=0):(W(ut,ut.u+ur.g-256),t(256<=ur.value),ut=ur.value),ut==0&&(ft=!0)}else ut=Tr(rt.G[0],rt.H[0],we);if(we.h)break;if(ft||256>ut){if(!ft)if(rt.nd)j[qe]=(rt.qb|ut<<8)>>>0;else{if(X(we),ft=Tr(rt.G[1],rt.H[1],we),X(we),zt=Tr(rt.G[2],rt.H[2],we),Mt=Tr(rt.G[3],rt.H[3],we),we.h)break;j[qe]=(Mt<<24|ft<<16|ut<<8|zt)>>>0}if(ft=!1,++qe,++ge>=U&&(ge=0,++he,ce!=null&&he<=se&&!(he%16)&&ce(v,he),Ve!=null))for(;_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut}else if(280>ut){if(ut=In(ut-256,we),zt=Tr(rt.G[4],rt.H[4],we),X(we),zt=ms(U,zt=In(zt,we)),we.h)break;if(qe-M<zt||Q-qe<ut)break e;for(Mt=0;Mt<ut;++Mt)j[qe+Mt]=j[qe+Mt-zt];for(qe+=ut,ge+=ut;ge>=U;)ge-=U,++he,ce!=null&&he<=se&&!(he%16)&&ce(v,he);if(t(qe<=Q),ge&tt&&(rt=te(Pe,ge,he)),Ve!=null)for(;_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut}else{if(!(ut<Fe))break e;for(ft=ut-280,t(Ve!=null);_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut;ut=qe,t(!(ft>>>(zt=Ve).Xa)),j[ut]=zt.X[ft],ft=!0}ft||t(we.h==R(we))}if(v.Pb&&we.h&&qe<Q)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ae(v.s.vb,v.s.Wa);else{if(we.h)break e;ce!=null&&ce(v,he>se?se:he),v.a=0,v.$=qe-M}return 1}return v.a=3,0}function Ye(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var j=v.Wa;j!=null&&(j.X=null),v.vb=null,t(v!=null)}function ze(){var v=new tr;return v==null?null:(v.a=0,v.xb=nm,lt("Predictor","VP8LPredictors"),lt("Predictor","VP8LPredictors_C"),lt("PredictorAdd","VP8LPredictorsAdd"),lt("PredictorAdd","VP8LPredictorsAdd_C"),Ia=Te,Nc=gt,Wl=wr,wo=er,Bi=Ht,Os=Gt,_o=_r,P.VP8LMapColor32b=bo,P.VP8LMapColor8b=Hl,v)}function Ue(v,j,M,U,Q){var se=1,ce=[v],he=[j],ge=U.m,we=U.s,Pe=null,qe=0;e:for(;;){if(M)for(;se&&K(ge,1);){var _e=ce,Me=he,Fe=U,Qe=1,Ve=Fe.m,tt=Fe.gc[Fe.ab],rt=K(Ve,2);if(Fe.Oc&1<<rt)se=0;else{switch(Fe.Oc|=1<<rt,tt.hc=rt,tt.Ea=_e[0],tt.nc=Me[0],tt.K=[null],++Fe.ab,t(4>=Fe.ab),rt){case 0:case 1:tt.b=K(Ve,3)+2,Qe=Ue(ae(tt.Ea,tt.b),ae(tt.nc,tt.b),0,Fe,tt.K),tt.K=tt.K[0];break;case 3:var ft,ut=K(Ve,8)+1,zt=16<ut?0:4<ut?1:2<ut?2:3;if(_e[0]=ae(tt.Ea,zt),tt.b=zt,ft=Qe=Ue(ut,1,0,Fe,tt.K)){var Mt,ur=ut,Ft=tt,Cr=1<<(8>>Ft.b),Tn=i(Cr);if(Tn==null)ft=0;else{var hr=Ft.K[0],Bt=Ft.w;for(Tn[0]=Ft.K[0][0],Mt=1;Mt<1*ur;++Mt)Tn[Mt]=De(hr[Bt+Mt],Tn[Mt-1]);for(;Mt<4*Cr;++Mt)Tn[Mt]=0;Ft.K[0]=null,Ft.K[0]=Tn,ft=1}}Qe=ft;break;case 2:break;default:t(0)}se=Qe}}if(ce=ce[0],he=he[0],se&&K(ge,1)&&!(se=1<=(qe=K(ge,4))&&11>=qe)){U.a=3;break e}var kt;if(kt=se)t:{var an,or,Mr,Na=U,Zn=ce,Fs=he,Ha=qe,ws=M,Bs=Na.m,Cn=Na.s,Rr=[null],Kr=1,Wa=0,Zr=Be[Ha];r:for(;;){if(ws&&K(Bs,1)){var Xn=K(Bs,3)+2,ul=ae(Zn,Xn),nn=ae(Fs,Xn),ui=ul*nn;if(!Ue(ul,nn,0,Na,Rr))break r;for(Rr=Rr[0],Cn.xc=Xn,an=0;an<ui;++an){var ua=Rr[an]>>8&65535;Rr[an]=ua,ua>=Kr&&(Kr=ua+1)}}if(Bs.h)break r;for(or=0;5>or;++or){var Ln=T[or];!or&&0<Ha&&(Ln+=1<<Ha),Wa<Ln&&(Wa=Ln)}var Ui=o(Kr*Zr,Y),zs=Kr,Vi=o(zs,ue);if(Vi==null)var qi=null;else t(65536>=zs),qi=Vi;var hi=i(Wa);if(qi==null||hi==null||Ui==null){Na.a=1;break r}var $i=Ui;for(an=Mr=0;an<Kr;++an){var pa=qi[an],Hi=pa.G,hl=pa.H,Iu=0,kc=1,Jn=0;for(or=0;5>or;++or){Ln=T[or],Hi[or]=$i,hl[or]=Mr,!or&&0<Ha&&(Ln+=1<<Ha);n:{var Ip,wv=Ln,Fp=Na,om=hi,vM=$i,bM=Mr,_v=0,Nd=Fp.m,wM=K(Nd,1);if(s(om,0,0,wv),wM){var _M=K(Nd,1)+1,NM=K(Nd,1),pN=K(Nd,NM==0?1:8);om[pN]=1,_M==2&&(om[pN=K(Nd,8)]=1);var Bp=1}else{var xN=i(19),yN=K(Nd,4)+4;if(19<yN){Fp.a=3;var zp=0;break n}for(Ip=0;Ip<yN;++Ip)xN[ie[Ip]]=K(Nd,3);var Nv=void 0,lm=void 0,vN=Fp,kM=xN,Up=wv,bN=om,kv=0,kd=vN.m,wN=8,_N=o(128,Y);a:for(;q(_N,0,7,kM,19);){if(K(kd,1)){var jM=2+2*K(kd,3);if((Nv=2+K(kd,jM))>Up)break a}else Nv=Up;for(lm=0;lm<Up&&Nv--;){X(kd);var NN=_N[0+(127&O(kd))];W(kd,kd.u+NN.g);var Zh=NN.value;if(16>Zh)bN[lm++]=Zh,Zh!=0&&(wN=Zh);else{var SM=Zh==16,kN=Zh-16,AM=_[kN],jN=K(kd,p[kN])+AM;if(lm+jN>Up)break a;for(var EM=SM?wN:0;0<jN--;)bN[lm++]=EM}}kv=1;break a}kv||(vN.a=3),Bp=kv}(Bp=Bp&&!Nd.h)&&(_v=q(vM,bM,8,om,wv)),Bp&&_v!=0?zp=_v:(Fp.a=3,zp=0)}if(zp==0)break r;if(kc&&V[or]==1&&(kc=$i[Mr].g==0),Iu+=$i[Mr].g,Mr+=zp,3>=or){var cm,jv=hi[0];for(cm=1;cm<Ln;++cm)hi[cm]>jv&&(jv=hi[cm]);Jn+=jv}}if(pa.nd=kc,pa.Qb=0,kc&&(pa.qb=(Hi[3][hl[3]+0].value<<24|Hi[1][hl[1]+0].value<<16|Hi[2][hl[2]+0].value)>>>0,Iu==0&&256>Hi[0][hl[0]+0].value&&(pa.Qb=1,pa.qb+=Hi[0][hl[0]+0].value<<8)),pa.jc=!pa.Qb&&6>Jn,pa.jc){var Vp,jc=pa;for(Vp=0;Vp<yo;++Vp){var jd=Vp,Sd=jc.pd[jd],qp=jc.G[0][jc.H[0]+jd];256<=qp.value?(Sd.g=qp.g+256,Sd.value=qp.value):(Sd.g=0,Sd.value=0,jd>>=St(qp,8,Sd),jd>>=St(jc.G[1][jc.H[1]+jd],16,Sd),jd>>=St(jc.G[2][jc.H[2]+jd],0,Sd),St(jc.G[3][jc.H[3]+jd],24,Sd))}}}Cn.vc=Rr,Cn.Wb=Kr,Cn.Ya=qi,Cn.yc=Ui,kt=1;break t}kt=0}if(!(se=kt)){U.a=3;break e}if(0<qe){if(we.ua=1<<qe,!de(we.Wa,qe)){U.a=1,se=0;break e}}else we.ua=0;var Sv=U,SN=ce,TM=he,Av=Sv.s,Ev=Av.xc;if(Sv.c=SN,Sv.i=TM,Av.md=ae(SN,Ev),Av.wc=Ev==0?-1:(1<<Ev)-1,M){U.xb=xv;break e}if((Pe=i(ce*he))==null){U.a=1,se=0;break e}se=(se=Ie(U,Pe,0,ce,he,he,null))&&!ge.h;break e}return se?(Q!=null?Q[0]=Pe:(t(Pe==null),t(M)),U.$=0,M||Ye(we)):Ye(we),se}function $e(v,j){var M=v.c*v.i,U=M+j+16*j;return t(v.c<=j),v.V=i(U),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+M+j,1)}function ht(v,j){var M=v.C,U=j-M,Q=v.V,se=v.Ba+v.c*M;for(t(j<=v.l.o);0<U;){var ce=16<U?16:U,he=v.l.ma,ge=v.l.width,we=ge*ce,Pe=he.ca,qe=he.tb+ge*M,_e=v.Ta,Me=v.Ua;be(v,ce,Q,se),Tp(_e,Me,Pe,qe,we),ve(he,M,M+ce,Pe,qe,ge),U-=ce,Q+=ce*v.c,M+=ce}t(M==j),v.C=v.Ma=j}function pt(){this.ub=this.yd=this.td=this.Rb=0}function At(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Nt(){this.Yb=function(){var v=[];return function j(M,U,Q){for(var se=Q[U],ce=0;ce<se&&(M.push(Q.length>U+1?[]:0),!(Q.length<U+1));ce++)j(M[ce],U+1,Q)}(v,0,[3,11]),v}()}function Zt(){this.jb=i(3),this.Wc=l([4,8],Nt),this.Xc=l([4,17],Nt)}function Vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function ti(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ri(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new Gn),this.aa=0,this.l=new qr}function Ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ri(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new pt,this.Kc=new At,this.ed=new Vr,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Ri,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,A),this.ia=0,this.pb=o(4,ti),this.Pa=new Zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gn),this.L=this.aa=0,this.gd=l([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yt(v,j){return 0>v?0:v>j?j:v}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cd(){var v=new ri;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Wt||(Wt=ar)),v}function ca(v,j,M){return v.a==0&&(v.a=j,v.sc=M,v.cb=0),0}function Go(v,j,M){return 3<=M&&v[j+0]==157&&v[j+1]==1&&v[j+2]==42}function ai(v,j){if(v==null)return 0;if(v.a=0,v.sc="OK",j==null)return ca(v,2,"null VP8Io passed to VP8GetHeaders()");var M=j.data,U=j.w,Q=j.ha;if(4>Q)return ca(v,7,"Truncated header.");var se=M[U+0]|M[U+1]<<8|M[U+2]<<16,ce=v.Od;if(ce.Rb=!(1&se),ce.td=se>>1&7,ce.yd=se>>4&1,ce.ub=se>>5,3<ce.td)return ca(v,3,"Incorrect keyframe parameters.");if(!ce.yd)return ca(v,4,"Frame not displayable.");U+=3,Q-=3;var he=v.Kc;if(ce.Rb){if(7>Q)return ca(v,7,"cannot parse picture header");if(!Go(M,U,Q))return ca(v,3,"Bad code word");he.c=16383&(M[U+4]<<8|M[U+3]),he.Td=M[U+4]>>6,he.i=16383&(M[U+6]<<8|M[U+5]),he.Ud=M[U+6]>>6,U+=7,Q-=7,v.za=he.c+15>>4,v.Ub=he.i+15>>4,j.width=he.c,j.height=he.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((se=v.Pa).jb,0,255,se.jb.length),t((se=v.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,s(se.Zb,0,0,se.Zb.length),s(se.Lb,0,0,se.Lb)}if(ce.ub>Q)return ca(v,7,"bad partition length");le(se=v.m,M,U,ce.ub),U+=ce.ub,Q-=ce.ub,ce.Rb&&(he.Ld=re(se),he.Kd=re(se)),he=v.Qa;var ge,we=v.Pa;if(t(se!=null),t(he!=null),he.Cb=re(se),he.Cb){if(he.Bb=re(se),re(se)){for(he.Fb=re(se),ge=0;4>ge;++ge)he.Zb[ge]=re(se)?oe(se,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=re(se)?oe(se,6):0}if(he.Bb)for(ge=0;3>ge;++ge)we.jb[ge]=re(se)?xe(se,8):255}else he.Bb=0;if(se.Ka)return ca(v,3,"cannot parse segment header");if((he=v.ed).zd=re(se),he.Tb=xe(se,6),he.wb=xe(se,3),he.Pc=re(se),he.Pc&&re(se)){for(we=0;4>we;++we)re(se)&&(he.vd[we]=oe(se,6));for(we=0;4>we;++we)re(se)&&(he.od[we]=oe(se,6))}if(v.L=he.Tb==0?0:he.zd?1:2,se.Ka)return ca(v,3,"cannot parse filter header");var Pe=Q;if(Q=ge=U,U=ge+Pe,he=Pe,v.Xb=(1<<xe(v.m,2))-1,Pe<3*(we=v.Xb))M=7;else{for(ge+=3*we,he-=3*we,Pe=0;Pe<we;++Pe){var qe=M[Q+0]|M[Q+1]<<8|M[Q+2]<<16;qe>he&&(qe=he),le(v.Jc[+Pe],M,ge,qe),ge+=qe,he-=qe,Q+=3}le(v.Jc[+we],M,ge,he),M=ge<U?0:5}if(M!=0)return ca(v,M,"cannot parse partitions");for(M=xe(ge=v.m,7),Q=re(ge)?oe(ge,4):0,U=re(ge)?oe(ge,4):0,he=re(ge)?oe(ge,4):0,we=re(ge)?oe(ge,4):0,ge=re(ge)?oe(ge,4):0,Pe=v.Qa,qe=0;4>qe;++qe){if(Pe.Cb){var _e=Pe.Zb[qe];Pe.Fb||(_e+=M)}else{if(0<qe){v.pb[qe]=v.pb[0];continue}_e=M}var Me=v.pb[qe];Me.Sc[0]=ct[Yt(_e+Q,127)],Me.Sc[1]=Tt[Yt(_e+0,127)],Me.Eb[0]=2*ct[Yt(_e+U,127)],Me.Eb[1]=101581*Tt[Yt(_e+he,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=ct[Yt(_e+we,117)],Me.Qc[1]=Tt[Yt(_e+ge,127)],Me.lc=_e+ge}if(!ce.Rb)return ca(v,4,"Not a key frame.");for(re(se),ce=v.Pa,M=0;4>M;++M){for(Q=0;8>Q;++Q)for(U=0;3>U;++U)for(he=0;11>he;++he)we=Z(se,_d[M][Q][U][he])?xe(se,8):di[M][Q][U][he],ce.Wc[M][Q].Yb[U][he]=we;for(Q=0;17>Q;++Q)ce.Xc[M][Q]=ce.Wc[M][pv[Q]]}return v.kc=re(se),v.kc&&(v.Bd=xe(se,8)),v.cb=1}function ar(v,j,M,U,Q,se,ce){var he=j[Q].Yb[M];for(M=0;16>Q;++Q){if(!Z(v,he[M+0]))return Q;for(;!Z(v,he[M+1]);)if(he=j[++Q].Yb[0],M=0,Q==16)return 16;var ge=j[Q+1].Yb;if(Z(v,he[M+2])){var we=v,Pe=0;if(Z(we,(_e=he)[(qe=M)+3]))if(Z(we,_e[qe+6])){for(he=0,qe=2*(Pe=Z(we,_e[qe+8]))+(_e=Z(we,_e[qe+9+Pe])),Pe=0,_e=fr[qe];_e[he];++he)Pe+=Pe+Z(we,_e[he]);Pe+=3+(8<<qe)}else Z(we,_e[qe+7])?(Pe=7+2*Z(we,165),Pe+=Z(we,145)):Pe=5+Z(we,159);else Pe=Z(we,_e[qe+4])?3+Z(we,_e[qe+5]):2;he=ge[2]}else Pe=1,he=ge[1];ge=ce+Yn[Q],0>(we=v).b&&ne(we);var qe,_e=we.b,Me=(qe=we.Ca>>1)-(we.I>>_e)>>31;--we.b,we.Ca+=Me,we.Ca|=1,we.I-=(qe+1&Me)<<_e,se[ge]=((Pe^Me)-Me)*U[(0<Q)+0]}return 16}function ga(v){var j=v.rb[v.sb-1];j.la=0,j.Na=0,s(v.zc,0,0,v.zc.length),v.ja=0}function gs(v,j,M,U,Q){Q=v[j+M+32*U]+(Q>>3),v[j+M+32*U]=-256&Q?0>Q?0:255:Q}function La(v,j,M,U,Q,se){gs(v,j,0,M,U+Q),gs(v,j,1,M,U+se),gs(v,j,2,M,U-se),gs(v,j,3,M,U-Q)}function Ua(v){return(20091*v>>16)+v}function Fh(v,j,M,U){var Q,se=0,ce=i(16);for(Q=0;4>Q;++Q){var he=v[j+0]+v[j+8],ge=v[j+0]-v[j+8],we=(35468*v[j+4]>>16)-Ua(v[j+12]),Pe=Ua(v[j+4])+(35468*v[j+12]>>16);ce[se+0]=he+Pe,ce[se+1]=ge+we,ce[se+2]=ge-we,ce[se+3]=he-Pe,se+=4,j++}for(Q=se=0;4>Q;++Q)he=(v=ce[se+0]+4)+ce[se+8],ge=v-ce[se+8],we=(35468*ce[se+4]>>16)-Ua(ce[se+12]),gs(M,U,0,0,he+(Pe=Ua(ce[se+4])+(35468*ce[se+12]>>16))),gs(M,U,1,0,ge+we),gs(M,U,2,0,ge-we),gs(M,U,3,0,he-Pe),se++,U+=32}function dd(v,j,M,U){var Q=v[j+0]+4,se=35468*v[j+4]>>16,ce=Ua(v[j+4]),he=35468*v[j+1]>>16;La(M,U,0,Q+ce,v=Ua(v[j+1]),he),La(M,U,1,Q+se,v,he),La(M,U,2,Q-se,v,he),La(M,U,3,Q-ce,v,he)}function Yo(v,j,M,U,Q){Fh(v,j,M,U),Q&&Fh(v,j+16,M,U+4)}function Fr(v,j,M,U){Gl(v,j+0,M,U,1),Gl(v,j+32,M,U+128,1)}function mo(v,j,M,U){var Q;for(v=v[j+0]+4,Q=0;4>Q;++Q)for(j=0;4>j;++j)gs(M,U,j,Q,v)}function zl(v,j,M,U){v[j+0]&&Dr(v,j+0,M,U),v[j+16]&&Dr(v,j+16,M,U+4),v[j+32]&&Dr(v,j+32,M,U+128),v[j+48]&&Dr(v,j+48,M,U+128+4)}function go(v,j,M,U){var Q,se=i(16);for(Q=0;4>Q;++Q){var ce=v[j+0+Q]+v[j+12+Q],he=v[j+4+Q]+v[j+8+Q],ge=v[j+4+Q]-v[j+8+Q],we=v[j+0+Q]-v[j+12+Q];se[0+Q]=ce+he,se[8+Q]=ce-he,se[4+Q]=we+ge,se[12+Q]=we-ge}for(Q=0;4>Q;++Q)ce=(v=se[0+4*Q]+3)+se[3+4*Q],he=se[1+4*Q]+se[2+4*Q],ge=se[1+4*Q]-se[2+4*Q],we=v-se[3+4*Q],M[U+0]=ce+he>>3,M[U+16]=we+ge>>3,M[U+32]=ce-he>>3,M[U+48]=we-ge>>3,U+=64}function Ko(v,j,M){var U,Q=j-32,se=vs,ce=255-v[Q-1];for(U=0;U<M;++U){var he,ge=se,we=ce+v[j-1];for(he=0;he<M;++he)v[j+he]=ge[we+v[Q+he]];j+=32}}function xc(v,j){Ko(v,j,4)}function Nu(v,j){Ko(v,j,8)}function ku(v,j){Ko(v,j,16)}function Ul(v,j){var M;for(M=0;16>M;++M)a(v,j+32*M,v,j-32,16)}function ud(v,j){var M;for(M=16;0<M;--M)s(v,j,v[j-1],16),j+=32}function Ms(v,j,M){var U;for(U=0;16>U;++U)s(j,M+32*U,v,16)}function hd(v,j){var M,U=16;for(M=0;16>M;++M)U+=v[j-1+32*M]+v[j+M-32];Ms(U>>5,v,j)}function Vl(v,j){var M,U=8;for(M=0;16>M;++M)U+=v[j-1+32*M];Ms(U>>4,v,j)}function yc(v,j){var M,U=8;for(M=0;16>M;++M)U+=v[j+M-32];Ms(U>>4,v,j)}function Xf(v,j){Ms(128,v,j)}function xt(v,j,M){return v+2*j+M+2>>2}function ni(v,j){var M,U=j-32;for(U=new Uint8Array([xt(v[U-1],v[U+0],v[U+1]),xt(v[U+0],v[U+1],v[U+2]),xt(v[U+1],v[U+2],v[U+3]),xt(v[U+2],v[U+3],v[U+4])]),M=0;4>M;++M)a(v,j+32*M,U,0,U.length)}function $r(v,j){var M=v[j-1],U=v[j-1+32],Q=v[j-1+64],se=v[j-1+96];ke(v,j+0,16843009*xt(v[j-1-32],M,U)),ke(v,j+32,16843009*xt(M,U,Q)),ke(v,j+64,16843009*xt(U,Q,se)),ke(v,j+96,16843009*xt(Q,se,se))}function Bh(v,j){var M,U=4;for(M=0;4>M;++M)U+=v[j+M-32]+v[j-1+32*M];for(U>>=3,M=0;4>M;++M)s(v,j+32*M,U,4)}function Oi(v,j){var M=v[j-1+0],U=v[j-1+32],Q=v[j-1+64],se=v[j-1-32],ce=v[j+0-32],he=v[j+1-32],ge=v[j+2-32],we=v[j+3-32];v[j+0+96]=xt(U,Q,v[j-1+96]),v[j+1+96]=v[j+0+64]=xt(M,U,Q),v[j+2+96]=v[j+1+64]=v[j+0+32]=xt(se,M,U),v[j+3+96]=v[j+2+64]=v[j+1+32]=v[j+0+0]=xt(ce,se,M),v[j+3+64]=v[j+2+32]=v[j+1+0]=xt(he,ce,se),v[j+3+32]=v[j+2+0]=xt(ge,he,ce),v[j+3+0]=xt(we,ge,he)}function Di(v,j){var M=v[j+1-32],U=v[j+2-32],Q=v[j+3-32],se=v[j+4-32],ce=v[j+5-32],he=v[j+6-32],ge=v[j+7-32];v[j+0+0]=xt(v[j+0-32],M,U),v[j+1+0]=v[j+0+32]=xt(M,U,Q),v[j+2+0]=v[j+1+32]=v[j+0+64]=xt(U,Q,se),v[j+3+0]=v[j+2+32]=v[j+1+64]=v[j+0+96]=xt(Q,se,ce),v[j+3+32]=v[j+2+64]=v[j+1+96]=xt(se,ce,he),v[j+3+64]=v[j+2+96]=xt(ce,he,ge),v[j+3+96]=xt(he,ge,ge)}function ju(v,j){var M=v[j-1+0],U=v[j-1+32],Q=v[j-1+64],se=v[j-1-32],ce=v[j+0-32],he=v[j+1-32],ge=v[j+2-32],we=v[j+3-32];v[j+0+0]=v[j+1+64]=se+ce+1>>1,v[j+1+0]=v[j+2+64]=ce+he+1>>1,v[j+2+0]=v[j+3+64]=he+ge+1>>1,v[j+3+0]=ge+we+1>>1,v[j+0+96]=xt(Q,U,M),v[j+0+64]=xt(U,M,se),v[j+0+32]=v[j+1+96]=xt(M,se,ce),v[j+1+32]=v[j+2+96]=xt(se,ce,he),v[j+2+32]=v[j+3+96]=xt(ce,he,ge),v[j+3+32]=xt(he,ge,we)}function Zo(v,j){var M=v[j+0-32],U=v[j+1-32],Q=v[j+2-32],se=v[j+3-32],ce=v[j+4-32],he=v[j+5-32],ge=v[j+6-32],we=v[j+7-32];v[j+0+0]=M+U+1>>1,v[j+1+0]=v[j+0+64]=U+Q+1>>1,v[j+2+0]=v[j+1+64]=Q+se+1>>1,v[j+3+0]=v[j+2+64]=se+ce+1>>1,v[j+0+32]=xt(M,U,Q),v[j+1+32]=v[j+0+96]=xt(U,Q,se),v[j+2+32]=v[j+1+96]=xt(Q,se,ce),v[j+3+32]=v[j+2+96]=xt(se,ce,he),v[j+3+64]=xt(ce,he,ge),v[j+3+96]=xt(he,ge,we)}function ql(v,j){var M=v[j-1+0],U=v[j-1+32],Q=v[j-1+64],se=v[j-1+96];v[j+0+0]=M+U+1>>1,v[j+2+0]=v[j+0+32]=U+Q+1>>1,v[j+2+32]=v[j+0+64]=Q+se+1>>1,v[j+1+0]=xt(M,U,Q),v[j+3+0]=v[j+1+32]=xt(U,Q,se),v[j+3+32]=v[j+1+64]=xt(Q,se,se),v[j+3+64]=v[j+2+64]=v[j+0+96]=v[j+1+96]=v[j+2+96]=v[j+3+96]=se}function Xo(v,j){var M=v[j-1+0],U=v[j-1+32],Q=v[j-1+64],se=v[j-1+96],ce=v[j-1-32],he=v[j+0-32],ge=v[j+1-32],we=v[j+2-32];v[j+0+0]=v[j+2+32]=M+ce+1>>1,v[j+0+32]=v[j+2+64]=U+M+1>>1,v[j+0+64]=v[j+2+96]=Q+U+1>>1,v[j+0+96]=se+Q+1>>1,v[j+3+0]=xt(he,ge,we),v[j+2+0]=xt(ce,he,ge),v[j+1+0]=v[j+3+32]=xt(M,ce,he),v[j+1+32]=v[j+3+64]=xt(U,M,ce),v[j+1+64]=v[j+3+96]=xt(Q,U,M),v[j+1+96]=xt(se,Q,U)}function wa(v,j){var M;for(M=0;8>M;++M)a(v,j+32*M,v,j-32,8)}function Jo(v,j){var M;for(M=0;8>M;++M)s(v,j,v[j-1],8),j+=32}function po(v,j,M){var U;for(U=0;8>U;++U)s(j,M+32*U,v,8)}function zh(v,j){var M,U=8;for(M=0;8>M;++M)U+=v[j+M-32]+v[j-1+32*M];po(U>>4,v,j)}function Su(v,j){var M,U=4;for(M=0;8>M;++M)U+=v[j+M-32];po(U>>3,v,j)}function fd(v,j){var M,U=4;for(M=0;8>M;++M)U+=v[j-1+32*M];po(U>>3,v,j)}function md(v,j){po(128,v,j)}function Qo(v,j,M){var U=v[j-M],Q=v[j+0],se=3*(Q-U)+wd[1020+v[j-2*M]-v[j+M]],ce=Yl[112+(se+4>>3)];v[j-M]=vs[255+U+Yl[112+(se+3>>3)]],v[j+0]=vs[255+Q-ce]}function gd(v,j,M,U){var Q=v[j+0],se=v[j+M];return Is[255+v[j-2*M]-v[j-M]]>U||Is[255+se-Q]>U}function dr(v,j,M,U){return 4*Is[255+v[j-M]-v[j+0]]+Is[255+v[j-2*M]-v[j+M]]<=U}function Au(v,j,M,U,Q){var se=v[j-3*M],ce=v[j-2*M],he=v[j-M],ge=v[j+0],we=v[j+M],Pe=v[j+2*M],qe=v[j+3*M];return 4*Is[255+he-ge]+Is[255+ce-we]>U?0:Is[255+v[j-4*M]-se]<=Q&&Is[255+se-ce]<=Q&&Is[255+ce-he]<=Q&&Is[255+qe-Pe]<=Q&&Is[255+Pe-we]<=Q&&Is[255+we-ge]<=Q}function Sn(v,j,M,U){var Q=2*U+1;for(U=0;16>U;++U)dr(v,j+U,M,Q)&&Qo(v,j+U,M)}function el(v,j,M,U){var Q=2*U+1;for(U=0;16>U;++U)dr(v,j+U*M,1,Q)&&Qo(v,j+U*M,1)}function Eu(v,j,M,U){var Q;for(Q=3;0<Q;--Q)Sn(v,j+=4*M,M,U)}function Uh(v,j,M,U){var Q;for(Q=3;0<Q;--Q)el(v,j+=4,M,U)}function Ii(v,j,M,U,Q,se,ce,he){for(se=2*se+1;0<Q--;){if(Au(v,j,M,se,ce))if(gd(v,j,M,he))Qo(v,j,M);else{var ge=v,we=j,Pe=M,qe=ge[we-2*Pe],_e=ge[we-Pe],Me=ge[we+0],Fe=ge[we+Pe],Qe=ge[we+2*Pe],Ve=27*(rt=wd[1020+3*(Me-_e)+wd[1020+qe-Fe]])+63>>7,tt=18*rt+63>>7,rt=9*rt+63>>7;ge[we-3*Pe]=vs[255+ge[we-3*Pe]+rt],ge[we-2*Pe]=vs[255+qe+tt],ge[we-Pe]=vs[255+_e+Ve],ge[we+0]=vs[255+Me-Ve],ge[we+Pe]=vs[255+Fe-tt],ge[we+2*Pe]=vs[255+Qe-rt]}j+=U}}function tl(v,j,M,U,Q,se,ce,he){for(se=2*se+1;0<Q--;){if(Au(v,j,M,se,ce))if(gd(v,j,M,he))Qo(v,j,M);else{var ge=v,we=j,Pe=M,qe=ge[we-Pe],_e=ge[we+0],Me=ge[we+Pe],Fe=Yl[112+(4+(Qe=3*(_e-qe))>>3)],Qe=Yl[112+(Qe+3>>3)],Ve=Fe+1>>1;ge[we-2*Pe]=vs[255+ge[we-2*Pe]+Ve],ge[we-Pe]=vs[255+qe+Qe],ge[we+0]=vs[255+_e-Fe],ge[we+Pe]=vs[255+Me-Ve]}j+=U}}function Tu(v,j,M,U,Q,se){Ii(v,j,M,1,16,U,Q,se)}function vc(v,j,M,U,Q,se){Ii(v,j,1,M,16,U,Q,se)}function Vh(v,j,M,U,Q,se){var ce;for(ce=3;0<ce;--ce)tl(v,j+=4*M,M,1,16,U,Q,se)}function E(v,j,M,U,Q,se){var ce;for(ce=3;0<ce;--ce)tl(v,j+=4,1,M,16,U,Q,se)}function J(v,j,M,U,Q,se,ce,he){Ii(v,j,Q,1,8,se,ce,he),Ii(M,U,Q,1,8,se,ce,he)}function ye(v,j,M,U,Q,se,ce,he){Ii(v,j,1,Q,8,se,ce,he),Ii(M,U,1,Q,8,se,ce,he)}function Ce(v,j,M,U,Q,se,ce,he){tl(v,j+4*Q,Q,1,8,se,ce,he),tl(M,U+4*Q,Q,1,8,se,ce,he)}function Re(v,j,M,U,Q,se,ce,he){tl(v,j+4,1,Q,8,se,ce,he),tl(M,U+4,1,Q,8,se,ce,he)}function Ze(){this.ba=new Qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new Y}function tr(){this.xb=this.a=0,this.l=new qr,this.ca=new Qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=o(4,Pt),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jr(v,j,M,U,Q,se,ce){for(v=v==null?0:v[j+0],j=0;j<ce;++j)Q[se+j]=v+M[U+j]&255,v=Q[se+j]}function _a(v,j,M,U,Q,se,ce){var he;if(v==null)jr(null,null,M,U,Q,se,ce);else for(he=0;he<ce;++he)Q[se+he]=v[j+he]+M[U+he]&255}function Va(v,j,M,U,Q,se,ce){if(v==null)jr(null,null,M,U,Q,se,ce);else{var he,ge=v[j+0],we=ge,Pe=ge;for(he=0;he<ce;++he)we=Pe+(ge=v[j+he])-we,Pe=M[U+he]+(-256&we?0>we?0:255:we)&255,we=ge,Q[se+he]=Pe}}function Hr(v,j,M,U){var Q=j.width,se=j.o;if(t(v!=null&&j!=null),0>M||0>=U||M+U>se)return null;if(!v.Cc){if(v.ga==null){var ce;if(v.ga=new sr,(ce=v.ga==null)||(ce=j.width*j.o,t(v.Gb.length==0),v.Gb=i(ce),v.Uc=0,v.Gb==null?ce=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ce=1),ce=!ce),!ce){ce=v.ga;var he=v.Fa,ge=v.P,we=v.qc,Pe=v.mb,qe=v.nb,_e=ge+1,Me=we-1,Fe=ce.l;if(t(he!=null&&Pe!=null&&j!=null),Yr[0]=null,Yr[1]=jr,Yr[2]=_a,Yr[3]=Va,ce.ca=Pe,ce.tb=qe,ce.c=j.width,ce.i=j.height,t(0<ce.c&&0<ce.i),1>=we)j=0;else if(ce.$a=3&he[ge+0],ce.Z=he[ge+0]>>2&3,ce.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ge)j=0;else if(Fe.put=$t,Fe.ac=ei,Fe.bc=Pi,Fe.ma=ce,Fe.width=j.width,Fe.height=j.height,Fe.Da=j.Da,Fe.v=j.v,Fe.va=j.va,Fe.j=j.j,Fe.o=j.o,ce.$a)e:{t(ce.$a==1),j=ze();t:for(;;){if(j==null){j=0;break e}if(t(ce!=null),ce.mc=j,j.c=ce.c,j.i=ce.i,j.l=ce.l,j.l.ma=ce,j.l.width=ce.c,j.l.height=ce.i,j.a=0,fe(j.m,he,_e,Me),!Ue(ce.c,ce.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&pe(j.s)?(ce.ic=1,he=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(he),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ce.ic=0,j=$e(j,ce.c)),!j))break t;j=1;break e}ce.mc=null,j=0}else j=Me>=ce.c*ce.i;ce=!j}if(ce)return null;v.ga.Lc!=1?v.Ga=0:U=se-M}t(v.ga!=null),t(M+U<=se);e:{if(j=(he=v.ga).c,se=he.l.o,he.$a==0){if(_e=v.rc,Me=v.Vc,Fe=v.Fa,ge=v.P+1+M*j,we=v.mb,Pe=v.nb+M*j,t(ge<=v.P+v.qc),he.Z!=0)for(t(Yr[he.Z]!=null),ce=0;ce<U;++ce)Yr[he.Z](_e,Me,Fe,ge,we,Pe,j),_e=we,Me=Pe,Pe+=j,ge+=j;else for(ce=0;ce<U;++ce)a(we,Pe,Fe,ge,j),_e=we,Me=Pe,Pe+=j,ge+=j;v.rc=_e,v.Vc=Me}else{if(t(he.mc!=null),j=M+U,t((ce=he.mc)!=null),t(j<=ce.i),ce.C>=j)j=1;else if(he.ic||An(),he.ic){he=ce.V,_e=ce.Ba,Me=ce.c;var Qe=ce.i,Ve=(Fe=1,ge=ce.$/Me,we=ce.$%Me,Pe=ce.m,qe=ce.s,ce.$),tt=Me*Qe,rt=Me*j,ft=qe.wc,ut=Ve<rt?te(qe,we,ge):null;t(Ve<=tt),t(j<=Qe),t(pe(qe));t:for(;;){for(;!Pe.h&&Ve<rt;){if(we&ft||(ut=te(qe,we,ge)),t(ut!=null),X(Pe),256>(Qe=Tr(ut.G[0],ut.H[0],Pe)))he[_e+Ve]=Qe,++Ve,++we>=Me&&(we=0,++ge<=j&&!(ge%16)&&Ne(ce,ge));else{if(!(280>Qe)){Fe=0;break t}Qe=In(Qe-256,Pe);var zt,Mt=Tr(ut.G[4],ut.H[4],Pe);if(X(Pe),!(Ve>=(Mt=ms(Me,Mt=In(Mt,Pe)))&&tt-Ve>=Qe)){Fe=0;break t}for(zt=0;zt<Qe;++zt)he[_e+Ve+zt]=he[_e+Ve+zt-Mt];for(Ve+=Qe,we+=Qe;we>=Me;)we-=Me,++ge<=j&&!(ge%16)&&Ne(ce,ge);Ve<rt&&we&ft&&(ut=te(qe,we,ge))}t(Pe.h==R(Pe))}Ne(ce,ge>j?j:ge);break t}!Fe||Pe.h&&Ve<tt?(Fe=0,ce.a=Pe.h?5:3):ce.$=Ve,j=Fe}else j=Ie(ce,ce.V,ce.Ba,ce.c,ce.i,j,ht);if(!j){U=0;break e}}M+U>=se&&(v.Cc=1),U=1}if(!U)return null;if(v.Cc&&((U=v.ga)!=null&&(U.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+M*Q}function en(v,j,M,U,Q,se){for(;0<Q--;){var ce,he=v,ge=j+(M?1:0),we=v,Pe=j+(M?0:3);for(ce=0;ce<U;++ce){var qe=we[Pe+4*ce];qe!=255&&(qe*=32897,he[ge+4*ce+0]=he[ge+4*ce+0]*qe>>23,he[ge+4*ce+1]=he[ge+4*ce+1]*qe>>23,he[ge+4*ce+2]=he[ge+4*ce+2]*qe>>23)}j+=se}}function Da(v,j,M,U,Q){for(;0<U--;){var se;for(se=0;se<M;++se){var ce=v[j+2*se+0],he=15&(we=v[j+2*se+1]),ge=4369*he,we=(240&we|we>>4)*ge>>16;v[j+2*se+0]=(240&ce|ce>>4)*ge>>16&240|(15&ce|ce<<4)*ge>>16>>4&15,v[j+2*se+1]=240&we|he}j+=Q}}function hn(v,j,M,U,Q,se,ce,he){var ge,we,Pe=255;for(we=0;we<Q;++we){for(ge=0;ge<U;++ge){var qe=v[j+ge];se[ce+4*ge]=qe,Pe&=qe}j+=M,ce+=he}return Pe!=255}function si(v,j,M,U,Q){var se;for(se=0;se<Q;++se)M[U+se]=v[j+se]>>8}function An(){ko=en,Qf=Da,em=hn,Tp=si}function rl(v,j,M){P[v]=function(U,Q,se,ce,he,ge,we,Pe,qe,_e,Me,Fe,Qe,Ve,tt,rt,ft){var ut,zt=ft-1>>1,Mt=he[ge+0]|we[Pe+0]<<16,ur=qe[_e+0]|Me[Fe+0]<<16;t(U!=null);var Ft=3*Mt+ur+131074>>2;for(j(U[Q+0],255&Ft,Ft>>16,Qe,Ve),se!=null&&(Ft=3*ur+Mt+131074>>2,j(se[ce+0],255&Ft,Ft>>16,tt,rt)),ut=1;ut<=zt;++ut){var Cr=he[ge+ut]|we[Pe+ut]<<16,Tn=qe[_e+ut]|Me[Fe+ut]<<16,hr=Mt+Cr+ur+Tn+524296,Bt=hr+2*(Cr+ur)>>3;Ft=Bt+Mt>>1,Mt=(hr=hr+2*(Mt+Tn)>>3)+Cr>>1,j(U[Q+2*ut-1],255&Ft,Ft>>16,Qe,Ve+(2*ut-1)*M),j(U[Q+2*ut-0],255&Mt,Mt>>16,Qe,Ve+(2*ut-0)*M),se!=null&&(Ft=hr+ur>>1,Mt=Bt+Tn>>1,j(se[ce+2*ut-1],255&Ft,Ft>>16,tt,rt+(2*ut-1)*M),j(se[ce+2*ut+0],255&Mt,Mt>>16,tt,rt+(2*ut+0)*M)),Mt=Cr,ur=Tn}1&ft||(Ft=3*Mt+ur+131074>>2,j(U[Q+ft-1],255&Ft,Ft>>16,Qe,Ve+(ft-1)*M),se!=null&&(Ft=3*ur+Mt+131074>>2,j(se[ce+ft-1],255&Ft,Ft>>16,tt,rt+(ft-1)*M)))}}function al(){Kn[$h]=yv,Kn[Ru]=Pp,Kn[am]=vv,Kn[Ou]=Kh,Kn[Du]=sm,Kn[Hh]=Mp,Kn[Lp]=cM,Kn[Wh]=Pp,Kn[Gh]=Kh,Kn[Yh]=sm,Kn[d]=Mp}function En(v){return v&-16384?0>v?0:255:v>>dM}function nl(v,j){return En((19077*v>>8)+(26149*j>>8)-14234)}function $l(v,j,M){return En((19077*v>>8)-(6419*j>>8)-(13320*M>>8)+8708)}function bc(v,j){return En((19077*v>>8)+(33050*j>>8)-17685)}function xo(v,j,M,U,Q){U[Q+0]=nl(v,M),U[Q+1]=$l(v,j,M),U[Q+2]=bc(v,j)}function tn(v,j,M,U,Q){U[Q+0]=bc(v,j),U[Q+1]=$l(v,j,M),U[Q+2]=nl(v,M)}function wc(v,j,M,U,Q){var se=$l(v,j,M);j=se<<3&224|bc(v,j)>>3,U[Q+0]=248&nl(v,M)|se>>5,U[Q+1]=j}function _c(v,j,M,U,Q){var se=240&bc(v,j)|15;U[Q+0]=240&nl(v,M)|$l(v,j,M)>>4,U[Q+1]=se}function pd(v,j,M,U,Q){U[Q+0]=255,xo(v,j,M,U,Q+1)}function Cu(v,j,M,U,Q){tn(v,j,M,U,Q),U[Q+3]=255}function da(v,j,M,U,Q){xo(v,j,M,U,Q),U[Q+3]=255}function ps(v,j,M){P[v]=function(U,Q,se,ce,he,ge,we,Pe,qe){for(var _e=Pe+(-2&qe)*M;Pe!=_e;)j(U[Q+0],se[ce+0],he[ge+0],we,Pe),j(U[Q+1],se[ce+0],he[ge+0],we,Pe+M),Q+=2,++ce,++ge,Pe+=2*M;1&qe&&j(U[Q+0],se[ce+0],he[ge+0],we,Pe)}}function xd(v,j,M){return M==0?v==0?j==0?6:5:j==0?4:0:M}function ii(v,j,M,U,Q){switch(v>>>30){case 3:Gl(j,M,U,Q,0);break;case 2:ci(j,M,U,Q);break;case 1:Dr(j,M,U,Q)}}function oi(v,j){var M,U,Q=j.M,se=j.Nb,ce=v.oc,he=v.pc+40,ge=v.oc,we=v.pc+584,Pe=v.oc,qe=v.pc+600;for(M=0;16>M;++M)ce[he+32*M-1]=129;for(M=0;8>M;++M)ge[we+32*M-1]=129,Pe[qe+32*M-1]=129;for(0<Q?ce[he-1-32]=ge[we-1-32]=Pe[qe-1-32]=129:(s(ce,he-32-1,127,21),s(ge,we-32-1,127,9),s(Pe,qe-32-1,127,9)),U=0;U<v.za;++U){var _e=j.ya[j.aa+U];if(0<U){for(M=-1;16>M;++M)a(ce,he+32*M-4,ce,he+32*M+12,4);for(M=-1;8>M;++M)a(ge,we+32*M-4,ge,we+32*M+4,4),a(Pe,qe+32*M-4,Pe,qe+32*M+4,4)}var Me=v.Gd,Fe=v.Hd+U,Qe=_e.ad,Ve=_e.Hc;if(0<Q&&(a(ce,he-32,Me[Fe].y,0,16),a(ge,we-32,Me[Fe].f,0,8),a(Pe,qe-32,Me[Fe].ea,0,8)),_e.Za){var tt=ce,rt=he-32+16;for(0<Q&&(U>=v.za-1?s(tt,rt,Me[Fe].y[15],4):a(tt,rt,Me[Fe+1].y,0,4)),M=0;4>M;M++)tt[rt+128+M]=tt[rt+256+M]=tt[rt+384+M]=tt[rt+0+M];for(M=0;16>M;++M,Ve<<=2)tt=ce,rt=he+mN[M],zi[_e.Ob[M]](tt,rt),ii(Ve,Qe,16*+M,tt,rt)}else if(tt=xd(U,Q,_e.Ob[0]),Kl[tt](ce,he),Ve!=0)for(M=0;16>M;++M,Ve<<=2)ii(Ve,Qe,16*+M,ce,he+mN[M]);for(M=_e.Gc,tt=xd(U,Q,_e.Dd),So[tt](ge,we),So[tt](Pe,qe),Ve=Qe,tt=ge,rt=we,255&(_e=0|M)&&(170&_e?Ds(Ve,256,tt,rt):Wr(Ve,256,tt,rt)),_e=Pe,Ve=qe,255&(M>>=8)&&(170&M?Ds(Qe,320,_e,Ve):Wr(Qe,320,_e,Ve)),Q<v.Ub-1&&(a(Me[Fe].y,0,ce,he+480,16),a(Me[Fe].f,0,ge,we+224,8),a(Me[Fe].ea,0,Pe,qe+224,8)),M=8*se*v.B,Me=v.sa,Fe=v.ta+16*U+16*se*v.R,Qe=v.qa,_e=v.ra+8*U+M,Ve=v.Ha,tt=v.Ia+8*U+M,M=0;16>M;++M)a(Me,Fe+M*v.R,ce,he+32*M,16);for(M=0;8>M;++M)a(Qe,_e+M*v.B,ge,we+32*M,8),a(Ve,tt+M*v.B,Pe,qe+32*M,8)}}function li(v,j,M,U,Q,se,ce,he,ge){var we=[0],Pe=[0],qe=0,_e=ge!=null?ge.kd:0,Me=ge??new ot;if(v==null||12>M)return 7;Me.data=v,Me.w=j,Me.ha=M,j=[j],M=[M],Me.gb=[Me.gb];e:{var Fe=j,Qe=M,Ve=Me.gb;if(t(v!=null),t(Qe!=null),t(Ve!=null),Ve[0]=0,12<=Qe[0]&&!r(v,Fe[0],"RIFF")){if(r(v,Fe[0]+8,"WEBP")){Ve=3;break e}var tt=Ge(v,Fe[0]+4);if(12>tt||4294967286<tt){Ve=3;break e}if(_e&&tt>Qe[0]-8){Ve=7;break e}Ve[0]=tt,Fe[0]+=12,Qe[0]-=12}Ve=0}if(Ve!=0)return Ve;for(tt=0<Me.gb[0],M=M[0];;){e:{var rt=v;Qe=j,Ve=M;var ft=we,ut=Pe,zt=Fe=[0];if((Ft=qe=[qe])[0]=0,8>Ve[0])Ve=7;else{if(!r(rt,Qe[0],"VP8X")){if(Ge(rt,Qe[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Mt=Ge(rt,Qe[0]+8),ur=1+Oe(rt,Qe[0]+12);if(2147483648<=ur*(rt=1+Oe(rt,Qe[0]+15))){Ve=3;break e}zt!=null&&(zt[0]=Mt),ft!=null&&(ft[0]=ur),ut!=null&&(ut[0]=rt),Qe[0]+=18,Ve[0]-=18,Ft[0]=1}Ve=0}}if(qe=qe[0],Fe=Fe[0],Ve!=0)return Ve;if(Qe=!!(2&Fe),!tt&&qe)return 3;if(se!=null&&(se[0]=!!(16&Fe)),ce!=null&&(ce[0]=Qe),he!=null&&(he[0]=0),ce=we[0],Fe=Pe[0],qe&&Qe&&ge==null){Ve=0;break}if(4>M){Ve=7;break}if(tt&&qe||!tt&&!qe&&!r(v,j[0],"ALPH")){M=[M],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{Mt=v,Ve=j,tt=M;var Ft=Me.gb;ft=Me.na,ut=Me.P,zt=Me.Sa,ur=22,t(Mt!=null),t(tt!=null),rt=Ve[0];var Cr=tt[0];for(t(ft!=null),t(zt!=null),ft[0]=null,ut[0]=null,zt[0]=0;;){if(Ve[0]=rt,tt[0]=Cr,8>Cr){Ve=7;break e}var Tn=Ge(Mt,rt+4);if(4294967286<Tn){Ve=3;break e}var hr=8+Tn+1&-2;if(ur+=hr,0<Ft&&ur>Ft){Ve=3;break e}if(!r(Mt,rt,"VP8 ")||!r(Mt,rt,"VP8L")){Ve=0;break e}if(Cr[0]<hr){Ve=7;break e}r(Mt,rt,"ALPH")||(ft[0]=Mt,ut[0]=rt+8,zt[0]=Tn),rt+=hr,Cr-=hr}}if(M=M[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ve!=0)break}M=[M],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Ft=v,Ve=j,tt=M,ft=Me.gb[0],ut=Me.Ja,zt=Me.xa,Mt=Ve[0],rt=!r(Ft,Mt,"VP8 "),ur=!r(Ft,Mt,"VP8L"),t(Ft!=null),t(tt!=null),t(ut!=null),t(zt!=null),8>tt[0])Ve=7;else{if(rt||ur){if(Ft=Ge(Ft,Mt+4),12<=ft&&Ft>ft-12){Ve=3;break e}if(_e&&Ft>tt[0]-8){Ve=7;break e}ut[0]=Ft,Ve[0]+=8,tt[0]-=8,zt[0]=ur}else zt[0]=5<=tt[0]&&Ft[Mt+0]==47&&!(Ft[Mt+4]>>5),ut[0]=tt[0];Ve=0}if(M=M[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],j=j[0],Ve!=0)break;if(4294967286<Me.Ja)return 3;if(he==null||Qe||(he[0]=Me.xa?2:1),ce=[ce],Fe=[Fe],Me.xa){if(5>M){Ve=7;break}he=ce,_e=Fe,Qe=se,v==null||5>M?v=0:5<=M&&v[j+0]==47&&!(v[j+4]>>5)?(tt=[0],Ft=[0],ft=[0],fe(ut=new z,v,j,M),Mi(ut,tt,Ft,ft)?(he!=null&&(he[0]=tt[0]),_e!=null&&(_e[0]=Ft[0]),Qe!=null&&(Qe[0]=ft[0]),v=1):v=0):v=0}else{if(10>M){Ve=7;break}he=Fe,v==null||10>M||!Go(v,j+3,M-3)?v=0:(_e=v[j+0]|v[j+1]<<8|v[j+2]<<16,Qe=16383&(v[j+7]<<8|v[j+6]),v=16383&(v[j+9]<<8|v[j+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Me.Ja||!Qe||!v?v=0:(ce&&(ce[0]=Qe),he&&(he[0]=v),v=1))}if(!v||(ce=ce[0],Fe=Fe[0],qe&&(we[0]!=ce||Pe[0]!=Fe)))return 3;ge!=null&&(ge[0]=Me,ge.offset=j-ge.w,t(4294967286>j-ge.w),t(ge.offset==ge.ha-M));break}return Ve==0||Ve==7&&qe&&ge==null?(se!=null&&(se[0]|=Me.na!=null&&0<Me.na.length),U!=null&&(U[0]=ce),Q!=null&&(Q[0]=Fe),0):Ve}function Lu(v,j,M){var U=j.width,Q=j.height,se=0,ce=0,he=U,ge=Q;if(j.Da=v!=null&&0<v.Da,j.Da&&(he=v.cd,ge=v.bd,se=v.v,ce=v.j,11>M||(se&=-2,ce&=-2),0>se||0>ce||0>=he||0>=ge||se+he>U||ce+ge>Q))return 0;if(j.v=se,j.j=ce,j.va=se+he,j.o=ce+ge,j.U=he,j.T=ge,j.da=v!=null&&0<v.da,j.da){if(!et(he,ge,M=[v.ib],se=[v.hb]))return 0;j.ib=M[0],j.hb=se[0]}return j.ob=v!=null&&v.ob,j.Kb=v==null||!v.Sd,j.da&&(j.ob=j.ib<3*U/4&&j.hb<3*Q/4,j.Kb=0),1}function sl(v){if(v==null)return 2;if(11>v.S){var j=v.f.RGBA;j.fb+=(v.height-1)*j.A,j.A=-j.A}else j=v.f.kb,v=v.height,j.O+=(v-1)*j.fa,j.fa=-j.fa,j.N+=(v-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(v-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(v-1)*j.lb,j.lb=-j.lb);return 0}function il(v,j,M,U){if(U==null||0>=v||0>=j)return 2;if(M!=null){if(M.Da){var Q=M.cd,se=M.bd,ce=-2&M.v,he=-2&M.j;if(0>ce||0>he||0>=Q||0>=se||ce+Q>v||he+se>j)return 2;v=Q,j=se}if(M.da){if(!et(v,j,Q=[M.ib],se=[M.hb]))return 2;v=Q[0],j=se[0]}}U.width=v,U.height=j;e:{var ge=U.width,we=U.height;if(v=U.S,0>=ge||0>=we||!(v>=$h&&13>v))v=2;else{if(0>=U.Rd&&U.sd==null){ce=se=Q=j=0;var Pe=(he=ge*gN[v])*we;if(11>v||(se=(we+1)/2*(j=(ge+1)/2),v==12&&(ce=(Q=ge)*we)),(we=i(Pe+2*se+ce))==null){v=1;break e}U.sd=we,11>v?((ge=U.f.RGBA).eb=we,ge.fb=0,ge.A=he,ge.size=Pe):((ge=U.f.kb).y=we,ge.O=0,ge.fa=he,ge.Fd=Pe,ge.f=we,ge.N=0+Pe,ge.Ab=j,ge.Cd=se,ge.ea=we,ge.W=0+Pe+se,ge.Db=j,ge.Ed=se,v==12&&(ge.F=we,ge.J=0+Pe+2*se),ge.Tc=ce,ge.lb=Q)}if(j=1,Q=U.S,se=U.width,ce=U.height,Q>=$h&&13>Q)if(11>Q)v=U.f.RGBA,j&=(he=Math.abs(v.A))*(ce-1)+se<=v.size,j&=he>=se*gN[Q],j&=v.eb!=null;else{v=U.f.kb,he=(se+1)/2,Pe=(ce+1)/2,ge=Math.abs(v.fa),we=Math.abs(v.Ab);var qe=Math.abs(v.Db),_e=Math.abs(v.lb),Me=_e*(ce-1)+se;j&=ge*(ce-1)+se<=v.Fd,j&=we*(Pe-1)+he<=v.Cd,j=(j&=qe*(Pe-1)+he<=v.Ed)&ge>=se&we>=he&qe>=he,j&=v.y!=null,j&=v.f!=null,j&=v.ea!=null,Q==12&&(j&=_e>=se,j&=Me<=v.Tc,j&=v.F!=null)}else j=0;v=j?0:2}}return v!=0||M!=null&&M.fd&&(v=sl(U)),v}var yo=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qa=24,Fi=32,ol=8,vo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(v){return v},P.Predictor2=function(v,j,M){return j[M+0]},P.Predictor3=function(v,j,M){return j[M+1]},P.Predictor4=function(v,j,M){return j[M-1]},P.Predictor5=function(v,j,M){return yt(yt(v,j[M+1]),j[M+0])},P.Predictor6=function(v,j,M){return yt(v,j[M-1])},P.Predictor7=function(v,j,M){return yt(v,j[M+0])},P.Predictor8=function(v,j,M){return yt(j[M-1],j[M+0])},P.Predictor9=function(v,j,M){return yt(j[M+0],j[M+1])},P.Predictor10=function(v,j,M){return yt(yt(v,j[M-1]),yt(j[M+0],j[M+1]))},P.Predictor11=function(v,j,M){var U=j[M+0];return 0>=jt(U>>24&255,v>>24&255,(j=j[M-1])>>24&255)+jt(U>>16&255,v>>16&255,j>>16&255)+jt(U>>8&255,v>>8&255,j>>8&255)+jt(255&U,255&v,255&j)?U:v},P.Predictor12=function(v,j,M){var U=j[M+0];return(wt((v>>24&255)+(U>>24&255)-((j=j[M-1])>>24&255))<<24|wt((v>>16&255)+(U>>16&255)-(j>>16&255))<<16|wt((v>>8&255)+(U>>8&255)-(j>>8&255))<<8|wt((255&v)+(255&U)-(255&j)))>>>0},P.Predictor13=function(v,j,M){var U=j[M-1];return(it((v=yt(v,j[M+0]))>>24&255,U>>24&255)<<24|it(v>>16&255,U>>16&255)<<16|it(v>>8&255,U>>8&255)<<8|it(255&v,255&U))>>>0};var Pu=P.PredictorAdd0;P.PredictorAdd1=Et,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var xs=P.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Ia,ll=P.ColorIndexInverseTransform,bo=P.MapARGB,fn=P.VP8LColorIndexInverseTransformAlpha,Hl=P.MapAlpha,yd=P.VP8LPredictorsAdd=[];yd.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Nc,Wl,wo,Bi,Os,_o,No,Gl,ci,Ds,Dr,Wr,Fa,$a,cl,ys,dl,qh,Mu,Sp,Jf,Ap,vd,Ep,ko,Qf,em,Tp,jo=i(511),tm=i(2041),rm=i(225),bd=i(767),Cp=0,wd=tm,Yl=rm,vs=bd,Is=jo,$h=0,Ru=1,am=2,Ou=3,Du=4,Hh=5,Lp=6,Wh=7,Gh=8,Yh=9,d=10,p=[2,3,7],_=[3,3,11],T=[280,256,256,256,40],V=[0,1,1,1,0],ie=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ee=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Be=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],We=8,ct=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wt=null,fr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],di=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_d=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Kl=[],zi=[],So=[],xv=1,nm=2,Yr=[],Kn=[];rl("UpsampleRgbLinePair",xo,3),rl("UpsampleBgrLinePair",tn,3),rl("UpsampleRgbaLinePair",da,4),rl("UpsampleBgraLinePair",Cu,4),rl("UpsampleArgbLinePair",pd,4),rl("UpsampleRgba4444LinePair",_c,2),rl("UpsampleRgb565LinePair",wc,2);var yv=P.UpsampleRgbLinePair,vv=P.UpsampleBgrLinePair,Pp=P.UpsampleRgbaLinePair,Kh=P.UpsampleBgraLinePair,sm=P.UpsampleArgbLinePair,Mp=P.UpsampleRgba4444LinePair,cM=P.UpsampleRgb565LinePair,Rp=16,Op=1<<Rp-1,im=-227,bv=482,dM=6,fN=0,uM=i(256),hM=i(256),fM=i(256),mM=i(256),gM=i(bv-im),pM=i(bv-im);ps("YuvToRgbRow",xo,3),ps("YuvToBgrRow",tn,3),ps("YuvToRgbaRow",da,4),ps("YuvToBgraRow",Cu,4),ps("YuvToArgbRow",pd,4),ps("YuvToRgba4444Row",_c,2),ps("YuvToRgb565Row",wc,2);var mN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dp=[0,2,8],xM=[8,7,6,4,4,2,2,2,1,1,1,1],yM=1;this.WebPDecodeRGBA=function(v,j,M,U,Q){var se=Ru,ce=new Ze,he=new Qt;ce.ba=he,he.S=se,he.width=[he.width],he.height=[he.height];var ge=he.width,we=he.height,Pe=new Ot;if(Pe==null||v==null)var qe=2;else t(Pe!=null),qe=li(v,j,M,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(qe!=0?ge=0:(ge!=null&&(ge[0]=Pe.width[0]),we!=null&&(we[0]=Pe.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],U!=null&&(U[0]=he.width),Q!=null&&(Q[0]=he.height);e:{if(U=new qr,(Q=new ot).data=v,Q.w=j,Q.ha=M,Q.kd=1,j=[0],t(Q!=null),((v=li(Q.data,Q.w,Q.ha,null,null,null,j,null,Q))==0||v==7)&&j[0]&&(v=4),(j=v)==0){if(t(ce!=null),U.data=Q.data,U.w=Q.w+Q.offset,U.ha=Q.ha-Q.offset,U.put=$t,U.ac=ei,U.bc=Pi,U.ma=ce,Q.xa){if((v=ze())==null){ce=1;break e}if(function(_e,Me){var Fe=[0],Qe=[0],Ve=[0];t:for(;;){if(_e==null)return 0;if(Me==null)return _e.a=2,0;if(_e.l=Me,_e.a=0,fe(_e.m,Me.data,Me.w,Me.ha),!Mi(_e.m,Fe,Qe,Ve)){_e.a=3;break t}if(_e.xb=nm,Me.width=Fe[0],Me.height=Qe[0],!Ue(Fe[0],Qe[0],1,_e,null))break t;return 1}return t(_e.a!=0),0}(v,U)){if(U=(j=il(U.width,U.height,ce.Oa,ce.ba))==0){t:{U=v;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((M=U.l)!=null),t((Q=M.ma)!=null),U.xb!=0){if(U.ca=Q.ba,U.tb=Q.tb,t(U.ca!=null),!Lu(Q.Oa,M,Ou)){U.a=2;break r}if(!$e(U,M.width)||M.da)break r;if((M.da||It(U.ca.S))&&An(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&An()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!de(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Ie(U,U.V,U.Ba,U.c,U.i,M.o,me))break r;Q.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(j=v.a)}else j=v.a}else{if((v=new cd)==null){ce=1;break e}if(v.Fa=Q.na,v.P=Q.P,v.qc=Q.Sa,ai(v,U)){if((j=il(U.width,U.height,ce.Oa,ce.ba))==0){if(v.Aa=0,M=ce.Oa,t((Q=v)!=null),M!=null){if(0<(ge=0>(ge=M.Md)?0:100<ge?255:255*ge/100)){for(we=Pe=0;4>we;++we)12>(qe=Q.pb[we]).lc&&(qe.ia=ge*xM[0>qe.lc?0:qe.lc]>>3),Pe|=qe.ia;Pe&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=M.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(_e,Me){if(_e==null)return 0;if(Me==null)return ca(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!ai(_e,Me))return 0;if(t(_e.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(_e.L=0);var Fe=Dp[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Me.v-Fe>>4,_e.zb=Me.j-Fe>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Me.o+15+Fe>>4,_e.Hb=Me.va+15+Fe>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var Qe=_e.ed;for(Fe=0;4>Fe;++Fe){var Ve;if(_e.Qa.Cb){var tt=_e.Qa.Lb[Fe];_e.Qa.Fb||(tt+=Qe.Tb)}else tt=Qe.Tb;for(Ve=0;1>=Ve;++Ve){var rt=_e.gd[Fe][Ve],ft=tt;if(Qe.Pc&&(ft+=Qe.vd[0],Ve&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var ut=ft;0<Qe.wb&&(ut=4<Qe.wb?ut>>2:ut>>1)>9-Qe.wb&&(ut=9-Qe.wb),1>ut&&(ut=1),rt.dd=ut,rt.tc=2*ft+ut,rt.ld=40<=ft?2:15<=ft?1:0}else rt.tc=0;rt.La=Ve}}}Fe=0}else ca(_e,6,"Frame setup failed"),Fe=_e.a;if(Fe=Fe==0){if(Fe){_e.$c=0,0<_e.Aa||(_e.Ic=yM);t:{Fe=_e.Ic,Qe=4*(ut=_e.za);var zt=32*ut,Mt=ut+1,ur=0<_e.L?ut*(0<_e.Aa?2:1):0,Ft=(_e.Aa==2?2:1)*ut;if((rt=Qe+832+(Ve=3*(16*Fe+Dp[_e.L])/2*zt)+(tt=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=rt)Fe=0;else{if(rt>_e.Vb){if(_e.Vb=0,_e.Ec=i(rt),_e.Fc=0,_e.Ec==null){Fe=ca(_e,1,"no memory during frame initialization.");break t}_e.Vb=rt}rt=_e.Ec,ft=_e.Fc,_e.Ac=rt,_e.Bc=ft,ft+=Qe,_e.Gd=o(zt,Ps),_e.Hd=0,_e.rb=o(Mt+1,Ca),_e.sb=1,_e.wa=ur?o(ur,vr):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=ut),t(!0),_e.oc=rt,_e.pc=ft,ft+=832,_e.ya=o(Ft,Gn),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=ut),_e.R=16*ut,_e.B=8*ut,ut=(zt=Dp[_e.L])*_e.R,zt=zt/2*_e.B,_e.sa=rt,_e.ta=ft+ut,_e.qa=_e.sa,_e.ra=_e.ta+16*Fe*_e.R+zt,_e.Ha=_e.qa,_e.Ia=_e.ra+8*Fe*_e.B+zt,_e.$c=0,ft+=Ve,_e.mb=tt?rt:null,_e.nb=tt?ft:null,t(ft+tt<=_e.Fc+_e.Vb),ga(_e),s(_e.Ac,_e.Bc,0,Qe),Fe=1}}if(Fe){if(Me.ka=0,Me.y=_e.sa,Me.O=_e.ta,Me.f=_e.qa,Me.N=_e.ra,Me.ea=_e.Ha,Me.Vd=_e.Ia,Me.fa=_e.R,Me.Rc=_e.B,Me.F=null,Me.J=0,!Cp){for(Fe=-255;255>=Fe;++Fe)jo[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)tm[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)rm[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)bd[255+Fe]=0>Fe?0:255<Fe?255:Fe;Cp=1}No=go,Gl=Yo,Ds=Fr,Dr=mo,Wr=zl,ci=dd,Fa=Tu,$a=vc,cl=J,ys=ye,dl=Vh,qh=E,Mu=Ce,Sp=Re,Jf=Sn,Ap=el,vd=Eu,Ep=Uh,zi[0]=Bh,zi[1]=xc,zi[2]=ni,zi[3]=$r,zi[4]=Oi,zi[5]=ju,zi[6]=Di,zi[7]=Zo,zi[8]=Xo,zi[9]=ql,Kl[0]=hd,Kl[1]=ku,Kl[2]=Ul,Kl[3]=ud,Kl[4]=Vl,Kl[5]=yc,Kl[6]=Xf,So[0]=zh,So[1]=Nu,So[2]=wa,So[3]=Jo,So[4]=fd,So[5]=Su,So[6]=md,Fe=1}else Fe=0}Fe&&(Fe=function(Cr,Tn){for(Cr.M=0;Cr.M<Cr.Va;++Cr.M){var hr,Bt=Cr.Jc[Cr.M&Cr.Xb],kt=Cr.m,an=Cr;for(hr=0;hr<an.za;++hr){var or=kt,Mr=an,Na=Mr.Ac,Zn=Mr.Bc+4*hr,Fs=Mr.zc,Ha=Mr.ya[Mr.aa+hr];if(Mr.Qa.Bb?Ha.$b=Z(or,Mr.Pa.jb[0])?2+Z(or,Mr.Pa.jb[2]):Z(or,Mr.Pa.jb[1]):Ha.$b=0,Mr.kc&&(Ha.Ad=Z(or,Mr.Bd)),Ha.Za=!Z(or,145)+0,Ha.Za){var ws=Ha.Ob,Bs=0;for(Mr=0;4>Mr;++Mr){var Cn,Rr=Fs[0+Mr];for(Cn=0;4>Cn;++Cn){Rr=bs[Na[Zn+Cn]][Rr];for(var Kr=rn[Z(or,Rr[0])];0<Kr;)Kr=rn[2*Kr+Z(or,Rr[Kr])];Rr=-Kr,Na[Zn+Cn]=Rr}a(ws,Bs,Na,Zn,4),Bs+=4,Fs[0+Mr]=Rr}}else Rr=Z(or,156)?Z(or,128)?1:3:Z(or,163)?2:0,Ha.Ob[0]=Rr,s(Na,Zn,Rr,4),s(Fs,0,Rr,4);Ha.Dd=Z(or,142)?Z(or,114)?Z(or,183)?1:3:2:0}if(an.m.Ka)return ca(Cr,7,"Premature end-of-partition0 encountered.");for(;Cr.ja<Cr.za;++Cr.ja){if(an=Bt,or=(kt=Cr).rb[kt.sb-1],Na=kt.rb[kt.sb+kt.ja],hr=kt.ya[kt.aa+kt.ja],Zn=kt.kc?hr.Ad:0)or.la=Na.la=0,hr.Za||(or.Na=Na.Na=0),hr.Hc=0,hr.Gc=0,hr.ia=0;else{var Wa,Zr;if(or=Na,Na=an,Zn=kt.Pa.Xc,Fs=kt.ya[kt.aa+kt.ja],Ha=kt.pb[Fs.$b],Mr=Fs.ad,ws=0,Bs=kt.rb[kt.sb-1],Rr=Cn=0,s(Mr,ws,0,384),Fs.Za)var Xn=0,ul=Zn[3];else{Kr=i(16);var nn=or.Na+Bs.Na;if(nn=Wt(Na,Zn[1],nn,Ha.Eb,0,Kr,0),or.Na=Bs.Na=(0<nn)+0,1<nn)No(Kr,0,Mr,ws);else{var ui=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)Mr[ws+Kr]=ui}Xn=1,ul=Zn[0]}var ua=15&or.la,Ln=15&Bs.la;for(Kr=0;4>Kr;++Kr){var Ui=1&Ln;for(ui=Zr=0;4>ui;++ui)ua=ua>>1|(Ui=(nn=Wt(Na,ul,nn=Ui+(1&ua),Ha.Sc,Xn,Mr,ws))>Xn)<<7,Zr=Zr<<2|(3<nn?3:1<nn?2:Mr[ws+0]!=0),ws+=16;ua>>=4,Ln=Ln>>1|Ui<<7,Cn=(Cn<<8|Zr)>>>0}for(ul=ua,Xn=Ln>>4,Wa=0;4>Wa;Wa+=2){for(Zr=0,ua=or.la>>4+Wa,Ln=Bs.la>>4+Wa,Kr=0;2>Kr;++Kr){for(Ui=1&Ln,ui=0;2>ui;++ui)nn=Ui+(1&ua),ua=ua>>1|(Ui=0<(nn=Wt(Na,Zn[2],nn,Ha.Qc,0,Mr,ws)))<<3,Zr=Zr<<2|(3<nn?3:1<nn?2:Mr[ws+0]!=0),ws+=16;ua>>=2,Ln=Ln>>1|Ui<<5}Rr|=Zr<<4*Wa,ul|=ua<<4<<Wa,Xn|=(240&Ln)<<Wa}or.la=ul,Bs.la=Xn,Fs.Hc=Cn,Fs.Gc=Rr,Fs.ia=43690&Rr?0:Ha.ia,Zn=!(Cn|Rr)}if(0<kt.L&&(kt.wa[kt.Y+kt.ja]=kt.gd[hr.$b][hr.Za],kt.wa[kt.Y+kt.ja].La|=!Zn),an.Ka)return ca(Cr,7,"Premature end-of-file encountered.")}if(ga(Cr),kt=Tn,an=1,hr=(Bt=Cr).D,or=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)t:{if(hr.M=Bt.M,hr.uc=or,oi(Bt,hr),an=1,hr=(Zr=Bt.D).Nb,or=(Rr=Dp[Bt.L])*Bt.R,Na=Rr/2*Bt.B,Kr=16*hr*Bt.R,ui=8*hr*Bt.B,Zn=Bt.sa,Fs=Bt.ta-or+Kr,Ha=Bt.qa,Mr=Bt.ra-Na+ui,ws=Bt.Ha,Bs=Bt.Ia-Na+ui,Ln=(ua=Zr.M)==0,Cn=ua>=Bt.Va-1,Bt.Aa==2&&oi(Bt,Zr),Zr.uc)for(Ui=(nn=Bt).D.M,t(nn.D.uc),Zr=nn.yb;Zr<nn.Hb;++Zr){Xn=Zr,ul=Ui;var zs=(Vi=(Jn=nn).D).Nb;Wa=Jn.R;var Vi=Vi.wa[Vi.Y+Xn],qi=Jn.sa,hi=Jn.ta+16*zs*Wa+16*Xn,$i=Vi.dd,pa=Vi.tc;if(pa!=0)if(t(3<=pa),Jn.L==1)0<Xn&&Ap(qi,hi,Wa,pa+4),Vi.La&&Ep(qi,hi,Wa,pa),0<ul&&Jf(qi,hi,Wa,pa+4),Vi.La&&vd(qi,hi,Wa,pa);else{var Hi=Jn.B,hl=Jn.qa,Iu=Jn.ra+8*zs*Hi+8*Xn,kc=Jn.Ha,Jn=Jn.Ia+8*zs*Hi+8*Xn;zs=Vi.ld,0<Xn&&($a(qi,hi,Wa,pa+4,$i,zs),ys(hl,Iu,kc,Jn,Hi,pa+4,$i,zs)),Vi.La&&(qh(qi,hi,Wa,pa,$i,zs),Sp(hl,Iu,kc,Jn,Hi,pa,$i,zs)),0<ul&&(Fa(qi,hi,Wa,pa+4,$i,zs),cl(hl,Iu,kc,Jn,Hi,pa+4,$i,zs)),Vi.La&&(dl(qi,hi,Wa,pa,$i,zs),Mu(hl,Iu,kc,Jn,Hi,pa,$i,zs))}}if(Bt.ia&&alert("todo:DitherRow"),kt.put!=null){if(Zr=16*ua,ua=16*(ua+1),Ln?(kt.y=Bt.sa,kt.O=Bt.ta+Kr,kt.f=Bt.qa,kt.N=Bt.ra+ui,kt.ea=Bt.Ha,kt.W=Bt.Ia+ui):(Zr-=Rr,kt.y=Zn,kt.O=Fs,kt.f=Ha,kt.N=Mr,kt.ea=ws,kt.W=Bs),Cn||(ua-=Rr),ua>kt.o&&(ua=kt.o),kt.F=null,kt.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&Zr<ua&&(kt.J=Hr(Bt,kt,Zr,ua-Zr),kt.F=Bt.mb,kt.F==null&&kt.F.length==0)){an=ca(Bt,3,"Could not decode alpha data.");break t}Zr<kt.j&&(Rr=kt.j-Zr,Zr=kt.j,t(!(1&Rr)),kt.O+=Bt.R*Rr,kt.N+=Bt.B*(Rr>>1),kt.W+=Bt.B*(Rr>>1),kt.F!=null&&(kt.J+=kt.width*Rr)),Zr<ua&&(kt.O+=kt.v,kt.N+=kt.v>>1,kt.W+=kt.v>>1,kt.F!=null&&(kt.J+=kt.v),kt.ka=Zr-kt.j,kt.U=kt.va-kt.v,kt.T=ua-Zr,an=kt.put(kt))}hr+1!=Bt.Ic||Cn||(a(Bt.sa,Bt.ta-or,Zn,Fs+16*Bt.R,or),a(Bt.qa,Bt.ra-Na,Ha,Mr+8*Bt.B,Na),a(Bt.Ha,Bt.Ia-Na,ws,Bs+8*Bt.B,Na))}if(!an)return ca(Cr,6,"Output aborted.")}return 1}(_e,Me)),Me.bc!=null&&Me.bc(Me),Fe&=1}return Fe?(_e.cb=0,Fe):0})(v,U)||(j=v.a)}}else j=v.a}j==0&&ce.Oa!=null&&ce.Oa.fd&&(j=sl(ce.ba))}ce=j}se=ce!=0?null:11>se?he.f.RGBA.eb:he.f.kb.y}else se=null;return se};var gN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,G){for(var I="",q=0;q<4;q++)I+=String.fromCharCode(P[G++]);return I}function h(P,G){return P[G+0]|P[G+1]<<8}function f(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16)>>>0}function m(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16|P[G+3]<<24)>>>0}new c;var g=[0],y=[0],x=[],N=new c,b=e,w=function(P,G){var I={},q=0,Y=!1,ee=0,ue=0;if(I.frames=[],!function(A,z){for(var O=0;O<4;O++)if(A[z+O]!="RIFF".charCodeAt(O))return!0;return!1}(P,G)){for(m(P,G+=4),G+=8;G<P.length;){var le=u(P,G),xe=m(P,G+=4);G+=4;var oe=xe+(1&xe);switch(le){case"VP8 ":case"VP8L":I.frames[q]===void 0&&(I.frames[q]={}),(K=I.frames[q]).src_off=Y?ue:G-8,K.src_size=ee+xe+8,q++,Y&&(Y=!1,ee=0,ue=0);break;case"VP8X":(K=I.header={}).feature_flags=P[G];var fe=G+4;K.canvas_width=1+f(P,fe),fe+=3,K.canvas_height=1+f(P,fe),fe+=3;break;case"ALPH":Y=!0,ee=oe+8,ue=G-8;break;case"ANIM":(K=I.header).bgcolor=m(P,G),fe=G+4,K.loop_count=h(P,fe),fe+=2;break;case"ANMF":var Se,K;(K=I.frames[q]={}).offset_x=2*f(P,G),G+=3,K.offset_y=2*f(P,G),G+=3,K.width=1+f(P,G),G+=3,K.height=1+f(P,G),G+=3,K.duration=f(P,G),G+=3,Se=P[G++],K.dispose=1&Se,K.blend=Se>>1&1}le!="ANMF"&&(G+=oe)}return I}}(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var k=w.header?w.header:null,S=w.frames?w.frames:null;if(k){k.loop_counter=k.loop_count,g=[k.canvas_height],y=[k.canvas_width];for(var B=0;B<S.length&&S[B].blend!=0;B++);}var H=S[0],F=N.WebPDecodeRGBA(b,H.src_off,H.src_size,y,g);H.rgba=F,H.imgwidth=y[0],H.imgheight=g[0];for(var D=0;D<y[0]*g[0]*4;D++)x[D]=F[D];return this.width=y,this.height=g,this.data=x,this}(function(e){var t,r,a,s,i,o,l,c,u,h=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var f=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=A;Object.defineProperty(this,"pdf",{get:function(){return z}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(de){O=!!de}});var R=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return R},set:function(de){R=!!de}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(de){isNaN(de)||(W=de)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(de){isNaN(de)||(X=de)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(de){var Ae;typeof de=="number"?Ae=[de,de,de,de]:((Ae=new Array(4))[0]=de[0],Ae[1]=de.length>=2?de[1]:Ae[0],Ae[2]=de.length>=3?de[2]:Ae[0],Ae[3]=de.length>=4?de[3]:Ae[1]),u.margin=Ae}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(de){ne=de}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(de){re=de}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(de){Z=de}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(de){de instanceof h&&(u=de)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(de){u.path=de}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(de){ke=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var Ae;Ae=m(de),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var Ae=m(de);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var Le=null,Oe=null,Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(de){Le=null,Oe=null,Ge=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var Ae;if(this.ctx.font=de,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(de))!==null){var je=Ae[1];Ae[2];var et=Ae[3],ae=Ae[4];Ae[5];var De=Ae[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(Ke==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var at=function(_t){var wr,er,Ht=[],Gt=_t.trim();if(Gt==="")return Vb;if(Gt in G3)return[G3[Gt]];for(;Gt!=="";){switch(er=null,wr=(Gt=K3(Gt)).charAt(0)){case'"':case"'":er=KW(Gt.substring(1),wr);break;default:er=ZW(Gt)}if(er===null||(Ht.push(er[0]),(Gt=K3(er[1]))!==""&&Gt.charAt(0)!==","))return Vb;Gt=Gt.replace(/^,/,"")}return Ht}(De);if(this.fontFaces){var yt=function(_t,wr){var er=_t.getFontList(),Ht=JSON.stringify(er);if(Le===null||Oe!==Ht){var Gt=function(_r){var Ct=[];return Object.keys(_r).forEach(function(lt){_r[lt].forEach(function(It){var qt=null;switch(It){case"bold":qt={family:lt,weight:"bold"};break;case"italic":qt={family:lt,style:"italic"};break;case"bolditalic":qt={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:lt}}qt!==null&&(qt.ref={name:lt,style:It},Ct.push(qt))})}),Ct}(er);Le=function(_r){for(var Ct={},lt=0;lt<_r.length;++lt){var It=Ub(_r[lt]),qt=It.family,Er=It.stretch,Qt=It.style,Ot=It.weight;Ct[qt]=Ct[qt]||{},Ct[qt][Er]=Ct[qt][Er]||{},Ct[qt][Er][Qt]=Ct[qt][Er][Qt]||{},Ct[qt][Er][Qt][Ot]=It}return Ct}(Gt.concat(wr)),Oe=Ht}return Le}(this.pdf,this.fontFaces),wt=at.map(function(_t){return{family:_t,stretch:"normal",weight:et,style:je}}),it=function(_t,wr,er){for(var Ht=(er=er||{}).defaultFontFamily||"times",Gt=Object.assign({},YW,er.genericFontFamilies||{}),_r=null,Ct=null,lt=0;lt<wr.length;++lt)if(Gt[(_r=Ub(wr[lt])).family]&&(_r.family=Gt[_r.family]),_t.hasOwnProperty(_r.family)){Ct=_t[_r.family];break}if(!(Ct=Ct||_t[Ht]))throw new Error("Could not find a font-family for the rule '"+Y3(_r)+"' and default family '"+Ht+"'.");if(Ct=function(It,qt){if(qt[It])return qt[It];var Er=Kw[It],Qt=Er<=Kw.normal?-1:1,Ot=W3(qt,A7,Er,Qt);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+It);return Ot}(_r.stretch,Ct),Ct=function(It,qt){if(qt[It])return qt[It];for(var Er=S7[It],Qt=0;Qt<Er.length;++Qt)if(qt[Er[Qt]])return qt[Er[Qt]];throw new Error("Could not find a matching font-style for "+It)}(_r.style,Ct),!(Ct=function(It,qt){if(qt[It])return qt[It];if(It===400&&qt[500])return qt[500];if(It===500&&qt[400])return qt[400];var Er=GW[It],Qt=W3(qt,E7,Er,It<400?-1:1);if(!Qt)throw new Error("Could not find a matching font-weight for value "+It);return Qt}(_r.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+Y3(_r)+"'.");return Ct}(yt,wt);this.pdf.setFont(it.ref.name,it.ref.style)}else{var jt="";(et==="bold"||parseInt(et,10)>=700||je==="bold")&&(jt="bold"),je==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var Et="",Te={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<at.length;st++){if(this.pdf.internal.getFont(at[st],jt,{noFallback:!0,disableWarning:!0})!==void 0){Et=at[st];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(at[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=at[st],jt="bold";else if(this.pdf.internal.getFont(at[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=at[st],jt="normal";break}}if(Et===""){for(var gt=0;gt<at.length;gt++)if(Te[at[gt]]){Et=Te[at[gt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};f.prototype.setLineDash=function(A){this.lineDash=A},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(A,z){if(isNaN(A)||isNaN(z))throw ha.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new o(A,z));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new o(A,z)},f.prototype.closePath=function(){var A=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ta(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){A=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},f.prototype.lineTo=function(A,z){if(isNaN(A)||isNaN(z))throw ha.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new o(A,z));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new o(O.x,O.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(A,z,O,R){if(isNaN(O)||isNaN(R)||isNaN(A)||isNaN(z))throw ha.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new o(O,R)),X=this.ctx.transform.applyToPoint(new o(A,z));this.path.push({type:"qct",x1:X.x,y1:X.y,x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},f.prototype.bezierCurveTo=function(A,z,O,R,W,X){if(isNaN(W)||isNaN(X)||isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R))throw ha.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(W,X)),re=this.ctx.transform.applyToPoint(new o(A,z)),Z=this.ctx.transform.applyToPoint(new o(O,R));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:Z.x,y2:Z.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},f.prototype.arc=function(A,z,O,R,W,X){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R)||isNaN(W))throw ha.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o(A,z));A=ne.x,z=ne.y;var re=this.ctx.transform.applyToPoint(new o(0,O)),Z=this.ctx.transform.applyToPoint(new o(0,0));O=Math.sqrt(Math.pow(re.x-Z.x,2)+Math.pow(re.y-Z.y,2))}Math.abs(W-R)>=2*Math.PI&&(R=0,W=2*Math.PI),this.path.push({type:"arc",x:A,y:z,radius:O,startAngle:R,endAngle:W,counterclockwise:X})},f.prototype.arcTo=function(A,z,O,R,W){throw new Error("arcTo not implemented.")},f.prototype.rect=function(A,z,O,R){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R))throw ha.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,z),this.lineTo(A+O,z),this.lineTo(A+O,z+R),this.lineTo(A,z+R),this.lineTo(A,z),this.lineTo(A+O,z),this.lineTo(A,z)},f.prototype.fillRect=function(A,z,O,R){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R))throw ha.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,z,O,R),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},f.prototype.strokeRect=function(A,z,O,R){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R))throw ha.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(A,z,O,R),this.stroke())},f.prototype.clearRect=function(A,z,O,R){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R))throw ha.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,z,O,R))},f.prototype.save=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var R=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=R}},f.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(z),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(A){var z,O,R,W;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))z=0,O=0,R=0,W=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(X!==null)z=parseInt(X[1]),O=parseInt(X[2]),R=parseInt(X[3]),W=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)z=parseInt(X[1]),O=parseInt(X[2]),R=parseInt(X[3]),W=parseFloat(X[4]);else{if(W=1,typeof A=="string"&&A.charAt(0)!=="#"){var ne=new v7(A);A=ne.ok?ne.toHex():"#000000"}A.length===4?(z=A.substring(1,2),z+=z,O=A.substring(2,3),O+=O,R=A.substring(3,4),R+=R):(z=A.substring(1,3),O=A.substring(3,5),R=A.substring(5,7)),z=parseInt(z,16),O=parseInt(O,16),R=parseInt(R,16)}}return{r:z,g:O,b:R,a:W,style:A}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(A,z,O,R){if(isNaN(z)||isNaN(O)||typeof A!="string")throw ha.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(R=isNaN(R)?void 0:R,!g.call(this)){var W=oe(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;q.call(this,{text:A,x:z,y:O,scale:X,angle:W,align:this.textAlign,maxWidth:R})}},f.prototype.strokeText=function(A,z,O,R){if(isNaN(z)||isNaN(O)||typeof A!="string")throw ha.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){R=isNaN(R)?void 0:R;var W=oe(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;q.call(this,{text:A,x:z,y:O,scale:X,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:R})}},f.prototype.measureText=function(A){if(typeof A!="string")throw ha.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,O=this.pdf.internal.scaleFactor,R=z.internal.getFontSize(),W=z.getStringUnitWidth(A)*R/z.internal.scaleFactor;return new function(X){var ne=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:W*=Math.round(96*O/72*1e4)/1e4})},f.prototype.scale=function(A,z){if(isNaN(A)||isNaN(z))throw ha.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new c(A,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.rotate=function(A){if(isNaN(A))throw ha.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(A,z){if(isNaN(A)||isNaN(z))throw ha.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new c(1,0,0,1,A,z);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.transform=function(A,z,O,R,W,X){if(isNaN(A)||isNaN(z)||isNaN(O)||isNaN(R)||isNaN(W)||isNaN(X))throw ha.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new c(A,z,O,R,W,X);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.setTransform=function(A,z,O,R,W,X){A=isNaN(A)?1:A,z=isNaN(z)?0:z,O=isNaN(O)?0:O,R=isNaN(R)?1:R,W=isNaN(W)?0:W,X=isNaN(X)?0:X,this.ctx.transform=new c(A,z,O,R,W,X)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(A,z,O,R,W,X,ne,re,Z){var ke=this.pdf.getImageProperties(A),Le=1,Oe=1,Ge=1,de=1;R!==void 0&&re!==void 0&&(Ge=re/R,de=Z/W,Le=ke.width/R*re/R,Oe=ke.height/W*Z/W),X===void 0&&(X=z,ne=O,z=0,O=0),R!==void 0&&re===void 0&&(re=R,Z=W),R===void 0&&re===void 0&&(re=ke.width,Z=ke.height);var Ae=this.ctx.transform.decompose(),je=oe(Ae.rotate.shx),et=new c,ae=(et=(et=(et=et.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new l(X-z*Ge,ne-O*de,R*Le,W*Oe));if(this.autoPaging){for(var De,Ke=N.call(this,ae),at=[],yt=0;yt<Ke.length;yt+=1)at.indexOf(Ke[yt])===-1&&at.push(Ke[yt]);k(at);for(var wt=at[0],it=at[at.length-1],jt=wt;jt<it+1;jt++){this.pdf.setPage(jt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=jt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=jt===1?0:st+(jt-2)*gt;if(this.ctx.clip_path.length!==0){var wr=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(De,this.posX+this.margin[3],-_t+Te+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=wr}var er=JSON.parse(JSON.stringify(ae));er=w([er],this.posX+this.margin[3],-_t+Te+this.ctx.prevPageLastElemOffset)[0];var Ht=(jt>wt||jt<it)&&x.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,gt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",er.x,er.y,er.w,er.h,null,null,je),Ht&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,je)};var N=function(A,z,O){var R=[];z=z||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":R.push(Math.floor((A.y+W)/O)+1);break;case"arc":R.push(Math.floor((A.y+W-A.radius)/O)+1),R.push(Math.floor((A.y+W+A.radius)/O)+1);break;case"qct":var X=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);R.push(Math.floor((X.y+W)/O)+1),R.push(Math.floor((X.y+X.h+W)/O)+1);break;case"bct":var ne=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);R.push(Math.floor((ne.y+W)/O)+1),R.push(Math.floor((ne.y+ne.h+W)/O)+1);break;case"rect":R.push(Math.floor((A.y+W)/O)+1),R.push(Math.floor((A.y+A.h+W)/O)+1)}for(var re=0;re<R.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<R[re];)b.call(this);return R},b=function(){var A=this.fillStyle,z=this.strokeStyle,O=this.font,R=this.lineCap,W=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=z,this.font=O,this.lineCap=R,this.lineWidth=W,this.lineJoin=X},w=function(A,z,O){for(var R=0;R<A.length;R++)switch(A[R].type){case"bct":A[R].x2+=z,A[R].y2+=O;case"qct":A[R].x1+=z,A[R].y1+=O;default:A[R].x+=z,A[R].y+=O}return A},k=function(A){return A.sort(function(z,O){return z-O})},S=function(A,z){var O=this.fillStyle,R=this.strokeStyle,W=this.lineCap,X=this.lineWidth,ne=Math.abs(X*this.ctx.transform.scaleX),re=this.lineJoin;if(this.autoPaging){for(var Z,ke,Le=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Ge=[],de=0;de<Oe.length;de++)if(Oe[de].x!==void 0)for(var Ae=N.call(this,Oe[de]),je=0;je<Ae.length;je+=1)Ge.indexOf(Ae[je])===-1&&Ge.push(Ae[je]);for(var et=0;et<Ge.length;et++)for(;this.pdf.internal.getNumberOfPages()<Ge[et];)b.call(this);k(Ge);for(var ae=Ge[0],De=Ge[Ge.length-1],Ke=ae;Ke<De+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=O,this.strokeStyle=R,this.lineCap=W,this.lineWidth=ne,this.lineJoin=re;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=Ke===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=Ke===1?0:wt+(Ke-2)*it;if(this.ctx.clip_path.length!==0){var Et=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-jt+yt+this.ctx.prevPageLastElemOffset),B.call(this,A,!0),this.path=Et}if(ke=JSON.parse(JSON.stringify(Le)),this.path=w(ke,this.posX+this.margin[3],-jt+yt+this.ctx.prevPageLastElemOffset),z===!1||Ke===0){var Te=(Ke>ae||Ke<De)&&x.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,it,null).clip().discardPath()),B.call(this,A,z),Te&&this.pdf.restoreGraphicsState()}this.lineWidth=X}this.path=Le}else this.lineWidth=ne,B.call(this,A,z),this.lineWidth=X},B=function(A,z){if((A!=="stroke"||z||!y.call(this))&&(A==="stroke"||z||!g.call(this))){for(var O,R,W=[],X=this.path,ne=0;ne<X.length;ne++){var re=X[ne];switch(re.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:re,deltas:[],abs:[]});break;case"lt":var Z=W.length;if(X[ne-1]&&!isNaN(X[ne-1].x)&&(O=[re.x-X[ne-1].x,re.y-X[ne-1].y],Z>0)){for(;Z>=0;Z--)if(W[Z-1].close!==!0&&W[Z-1].begin!==!0){W[Z-1].deltas.push(O),W[Z-1].abs.push(re);break}}break;case"bct":O=[re.x1-X[ne-1].x,re.y1-X[ne-1].y,re.x2-X[ne-1].x,re.y2-X[ne-1].y,re.x-X[ne-1].x,re.y-X[ne-1].y],W[W.length-1].deltas.push(O);break;case"qct":var ke=X[ne-1].x+2/3*(re.x1-X[ne-1].x),Le=X[ne-1].y+2/3*(re.y1-X[ne-1].y),Oe=re.x+2/3*(re.x1-re.x),Ge=re.y+2/3*(re.y1-re.y),de=re.x,Ae=re.y;O=[ke-X[ne-1].x,Le-X[ne-1].y,Oe-X[ne-1].x,Ge-X[ne-1].y,de-X[ne-1].x,Ae-X[ne-1].y],W[W.length-1].deltas.push(O);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(re)}}R=z?null:A==="stroke"?"stroke":"fill";for(var je=!1,et=0;et<W.length;et++)if(W[et].arc)for(var ae=W[et].abs,De=0;De<ae.length;De++){var Ke=ae[De];Ke.type==="arc"?D.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,z,!je):Y.call(this,Ke.x,Ke.y),je=!0}else if(W[et].close===!0)this.pdf.internal.out("h"),je=!1;else if(W[et].begin!==!0){var at=W[et].start.x,yt=W[et].start.y;ee.call(this,W[et].deltas,at,yt),je=!0}R&&P.call(this,R),z&&G.call(this)}},H=function(A){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-O;case"top":return A+z-O;case"hanging":return A+z-2*O;case"middle":return A+z/2-O;default:return A}},F=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(z,O){this.colorStops.push([z,O])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(A,z,O,R,W,X,ne,re,Z){for(var ke=le.call(this,O,R,W,X),Le=0;Le<ke.length;Le++){var Oe=ke[Le];Le===0&&(Z?I.call(this,Oe.x1+A,Oe.y1+z):Y.call(this,Oe.x1+A,Oe.y1+z)),ue.call(this,A,z,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}re?G.call(this):P.call(this,ne)},P=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(A,z){this.pdf.internal.out(r(A)+" "+a(z)+" m")},q=function(A){var z;switch(A.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var O,R,W,X=this.pdf.getTextDimensions(A.text),ne=H.call(this,A.y),re=F.call(this,ne)-X.h,Z=this.ctx.transform.applyToPoint(new o(A.x,ne));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Le=new c;Le=(Le=(Le=Le.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Oe=this.ctx.transform.applyToRectangle(new l(A.x,ne,X.w,X.h)),Ge=Le.applyToRectangle(new l(A.x,re,X.w,X.h)),de=N.call(this,Ge),Ae=[],je=0;je<de.length;je+=1)Ae.indexOf(de[je])===-1&&Ae.push(de[je]);k(Ae);for(var et=Ae[0],ae=Ae[Ae.length-1],De=et;De<ae+1;De++){this.pdf.setPage(De);var Ke=De===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],wt=yt-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],jt=it-this.margin[3],Et=De===1?0:at+(De-2)*wt;if(this.ctx.clip_path.length!==0){var Te=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(O,this.posX+this.margin[3],-1*Et+Ke),B.call(this,"fill",!0),this.path=Te}var st=w([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Et+Ke+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(R=this.pdf.internal.getFontSize(),this.pdf.setFontSize(R*A.scale),W=this.lineWidth,this.lineWidth=W*A.scale);var gt=this.autoPaging!=="text";if(gt||st.y+st.h<=yt){if(gt||st.y>=Ke&&st.x<=it){var _t=gt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||it-st.x)[0],wr=w([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Et+Ke+this.ctx.prevPageLastElemOffset)[0],er=gt&&(De>et||De<ae)&&x.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,wt,null).clip().discardPath()),this.pdf.text(_t,wr.x,wr.y,{angle:A.angle,align:z,renderingMode:A.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else st.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-st.y);A.scale>=.01&&(this.pdf.setFontSize(R),this.lineWidth=W)}}else A.scale>=.01&&(R=this.pdf.internal.getFontSize(),this.pdf.setFontSize(R*A.scale),W=this.lineWidth,this.lineWidth=W*A.scale),this.pdf.text(A.text,Z.x+this.posX,Z.y+this.posY,{angle:A.angle,align:z,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(R),this.lineWidth=W)},Y=function(A,z,O,R){O=O||0,R=R||0,this.pdf.internal.out(r(A+O)+" "+a(z+R)+" l")},ee=function(A,z,O){return this.pdf.lines(A,z,O,null,null)},ue=function(A,z,O,R,W,X,ne,re){this.pdf.internal.out([t(s(O+A)),t(i(R+z)),t(s(W+A)),t(i(X+z)),t(s(ne+A)),t(i(re+z)),"c"].join(" "))},le=function(A,z,O,R){for(var W=2*Math.PI,X=Math.PI/2;z>O;)z-=W;var ne=Math.abs(O-z);ne<W&&R&&(ne=W-ne);for(var re=[],Z=R?-1:1,ke=z;ne>1e-5;){var Le=ke+Z*Math.min(ne,X);re.push(xe.call(this,A,ke,Le)),ne-=Math.abs(Le-ke),ke=Le}return re},xe=function(A,z,O){var R=(O-z)/2,W=A*Math.cos(R),X=A*Math.sin(R),ne=W,re=-X,Z=ne*ne+re*re,ke=Z+ne*W+re*X,Le=4/3*(Math.sqrt(2*Z*ke)-ke)/(ne*X-re*W),Oe=ne-Le*re,Ge=re+Le*ne,de=Oe,Ae=-Ge,je=R+z,et=Math.cos(je),ae=Math.sin(je);return{x1:A*Math.cos(z),y1:A*Math.sin(z),x2:Oe*et-Ge*ae,y2:Oe*ae+Ge*et,x3:de*et-Ae*ae,y3:de*ae+Ae*et,x4:A*Math.cos(O),y4:A*Math.sin(O)}},oe=function(A){return 180*A/Math.PI},fe=function(A,z,O,R,W,X){var ne=A+.5*(O-A),re=z+.5*(R-z),Z=W+.5*(O-W),ke=X+.5*(R-X),Le=Math.min(A,W,ne,Z),Oe=Math.max(A,W,ne,Z),Ge=Math.min(z,X,re,ke),de=Math.max(z,X,re,ke);return new l(Le,Ge,Oe-Le,de-Ge)},Se=function(A,z,O,R,W,X,ne,re){var Z,ke,Le,Oe,Ge,de,Ae,je,et,ae,De,Ke,at,yt,wt=O-A,it=R-z,jt=W-O,Et=X-R,Te=ne-W,st=re-X;for(ke=0;ke<41;ke++)et=(Ae=(Le=A+(Z=ke/40)*wt)+Z*((Ge=O+Z*jt)-Le))+Z*(Ge+Z*(W+Z*Te-Ge)-Ae),ae=(je=(Oe=z+Z*it)+Z*((de=R+Z*Et)-Oe))+Z*(de+Z*(X+Z*st-de)-je),ke==0?(De=et,Ke=ae,at=et,yt=ae):(De=Math.min(De,et),Ke=Math.min(Ke,ae),at=Math.max(at,et),yt=Math.max(yt,ae));return new l(Math.round(De),Math.round(Ke),Math.round(at-De),Math.round(yt-Ke))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,z,O=(A=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:z}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(Vt.API),function(e){var t=function(o){var l,c,u,h,f,m,g,y,x,N;for(c=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(N=f%85))/85)-(x=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)%85,c.push(m+33,g+33,y+33,x+33,N+33)):c.push(122);return function(b,w){for(var k=w;k>0;k--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,h,f,m=String,g="length",y=255,x="charCodeAt",N="slice",b="replace";for(o[N](-2),o=o[N](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],h=0,f=(o+=l="uuuuu"[N](o[g]%5||5))[g];f>h;h+=5)c=52200625*(o[x](h)-33)+614125*(o[x](h+1)-33)+7225*(o[x](h+2)-33)+85*(o[x](h+3)-33)+(o[x](h+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(w,k){for(var S=k;S>0;S--)w.pop()}(u,l[g]),m.fromCharCode.apply(m,u)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Vw(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=a(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,r,a){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,h){var f=new XMLHttpRequest,m=0,g=function(y){var x=y.length,N=[],b=String.fromCharCode;for(m=0;m<x;m+=1)N.push(b(255&y.charCodeAt(m)));return N.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return g(f.responseText)}(s,i,o)}catch{}return l}(t,r,a)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):ty(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):ty(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=ta(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},i=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var y=h[g],x=y.src.find(function(N){return N.format==="truetype"});x&&u.addFont(x.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,h){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,h),m}).then(h,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),m=u.call(f,l,c);return o.convert(m,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Vt.getPageSize=function(l,c,u){if(ta(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,x=0,N=0;if(g.hasOwnProperty(m))x=g[m][1]/f,N=g[m][0]/f;else try{x=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",N>x&&(y=N,N=x,x=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>N&&(y=N,N=x,x=y)}return{width:N,height:x,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Ub):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return X3=e,this.internal.events.subscribe("postPutResources",function(){vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vx!==void 0&&Z3!==void 0&&this.internal.out("/Names <</JavaScript "+vx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var f=r.internal.newObject();h.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var m,g=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},N=4;N<y;N+=2){if(N+=g,t.indexOf(f.charCodeAt(N+1))!==-1){m=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),x={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:m,numcomponents:f.charCodeAt(N+9)};break}g=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:s}}return h}}(Vt.API),Vt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=MW(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,h=i.depth;s=u&&c===1?function(D){for(var P=D.width,G=D.height,I=D.data,q=D.palette,Y=D.depth,ee=!1,ue=[],le=[],xe=void 0,oe=!1,fe=0,Se=0;Se<q.length;Se++){var K=t3(q[Se],4),A=K[0],z=K[1],O=K[2],R=K[3];ue.push(A,z,O),R!=null&&(R===0?(fe++,le.length<1&&le.push(Se)):R<255&&(oe=!0))}if(oe||fe>1){ee=!0,le=void 0;var W=P*G;xe=new Uint8Array(W);for(var X=new DataView(I.buffer),ne=0;ne<W;ne++){var re=qb(X,ne,Y),Z=t3(q[re],4)[3];xe[ne]=Z}}else fe===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:I,alphaBytes:xe,needSMask:ee,palette:ue,mask:le}}(i):c===2||c===4?function(D){for(var P=D.data,G=D.width,I=D.height,q=D.channels,Y=D.depth,ee=q===2?"DeviceGray":"DeviceRGB",ue=q-1,le=G*I,xe=ue,oe=le*xe,fe=1*le,Se=Math.ceil(oe*Y/8),K=Math.ceil(fe*Y/8),A=new Uint8Array(Se),z=new Uint8Array(K),O=new DataView(P.buffer),R=new DataView(A.buffer),W=new DataView(z.buffer),X=!1,ne=0;ne<le;ne++){for(var re=ne*q,Z=0;Z<xe;Z++)iS(R,qb(O,re+Z,Y),ne*xe+Z,Y);var ke=qb(O,re+xe,Y);ke<(1<<Y)-1&&(X=!0),iS(W,ke,1*ne,Y)}return{colorSpace:ee,colorsPerPixel:ue,sMaskBitsPerComponent:X?Y:void 0,colorBytes:A,alphaBytes:z,needSMask:X}}(i):function(D){var P=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(I){for(var q=I.length,Y=new Uint8Array(2*q),ee=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),ue=0;ue<q;ue++)ee.setUint16(2*ue,I[ue],!1);return Y}(P):P,needSMask:!1}}(i);var f,m,g,y=s,x=y.colorSpace,N=y.colorsPerPixel,b=y.sMaskBitsPerComponent,w=y.colorBytes,k=y.alphaBytes,S=y.needSMask,B=y.palette,H=y.mask,F=null;return a!==Vt.API.image_compression.NONE&&typeof Vw=="function"?(F=function(D){var P;switch(D){case Vt.API.image_compression.FAST:P=11;break;case Vt.API.image_compression.MEDIUM:P=13;break;case Vt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(a),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(F," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=tS(w,Math.ceil(o*N*h/8),N,h,a),S&&(g=tS(k,Math.ceil(o*b/8),1,b,a))):(f=void 0,m=void 0,e=w,S&&(g=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:H,palette:B,sMask:g,predictor:F,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:b,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,a,s){var i=new eG(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new $b(100).encode(u,100);return e.processJPEG.call(this,h,r,a,s)},e.processGIF87A=e.processGIF89A}(Vt.API),ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ml.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ha.log("bit decode error:"+r)}},ml.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ml.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ml.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ml.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,h=a*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},ml.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},ml.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},ml.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},ml.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,s){var i=new ml(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new $b(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}}(Vt.API),lS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,s){var i=new lS(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new $b(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}}(Vt.API),Vt.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var h=a[u],f=a[u+1],m=a[u+2],g=a[u+3];i[l++]=h,i[l++]=f,i[l++]=m,o[c++]=g}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},o0=Vt.API,bx=o0.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,g=e.length,y=0,x=l[0]||c,N=[];for(r=0;r<g;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=f&&ta(u[a])==="object"&&!isNaN(parseInt(u[a][y],10))?u[a][y]/h:0,N.push((l[a]||x)/c+m)),y=a;return N},J3=o0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return o0.processArabic&&(e=o0.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:bx.apply(this,arguments).reduce(function(i,o){return i+o},0)},Q3=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},eS=function(e,t,r){r||(r={});var a,s,i,o,l,c,u,h=[],f=[h],m=r.textIndent||0,g=0,y=0,x=e.split(" "),N=bx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];x.map(function(S){(S=S.split(/\s*\n/)).length>1?w=w.concat(S.map(function(B,H){return(H&&B.length?`
`:"")+B})):w.push(S[0])}),x=w,c=J3.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var k=0;if(a=x[i],c&&a[0]==`
`&&(a=a.substr(1),k=1),m+g+(y=(s=bx.apply(this,[a,r])).reduce(function(S,B){return S+B},0))>t||k){if(y>t){for(l=Q3.apply(this,[a,s,t-(m+g),t]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);y=s.slice(a.length-(h[0]?h[0].length:0)).reduce(function(S,B){return S+B},0)}else h=[a];f.push(h),m=y+c,g=N}else h.push(a),m+=g+y,g=N}return u=c?function(S,B){return(B?b:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(u)},o0.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=a.length;l<c;l++)u=u.concat(eS.apply(this,[a[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[r[i]]=t[i],s[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var g,y,x,N,b=["{"];for(var w in m){if(g=m[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=o(w).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof g=="number")g<0?(x=o(g).slice(3),N="-"):(x=o(g).slice(2),N=""),x=N+x.slice(0,-1)+s[x.slice(-1)];else{if(ta(g)!=="object")throw new Error("Don't know what to do with value type "+ta(g)+".");x=l(g)}b.push(y+x)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,x,N,b={},w=1,k=b,S=[],B="",H="",F=m.length-1,D=1;D<F;D+=1)(N=m[D])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(S.push([k,x]),k={},x=void 0):N=="}"?((y=S.pop())[0][y[1]]=k,x=void 0,k=y[0]):N=="-"?w=-1:x===void 0?a.hasOwnProperty(N)?(B+=a[N],x=parseInt(B,16)*w,w=1,B=""):B+=N:a.hasOwnProperty(N)?(H+=a[N],k[x]=parseInt(H,16)*w,w=1,x=void 0,H=""):H+=N;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var g=m.font,y=f.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var x=h.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(Vt.API),function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(ay(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])}(Vt),Vt.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw ha.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw ha.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(nr.canvg?Promise.resolve(nr.canvg):ty(()=>import("./index.es-DKmDw9AN.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},Vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},Vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,f=0;function m(y,x){var N,b=!1;for(N=0;N<y.length;N+=1)y[N]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(f=0;f<g;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(ta(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(a=!1);a===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,m=i.length;f<m;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},a=function(i){var o,l,c,u,h,f,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(i).sort(function(g,y){return g-y})).length;f<m;f++)o=l[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var x=u();h({data:g,addLength1:!0,objectId:x}),c("endobj");var N=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+b0(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+b0(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+b0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var y=u();h({data:m,addLength1:!0,objectId:y}),c("endobj");var x=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+b0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+b0(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,h=i.options||{},f=i.mutex||{},m=f.pdfEscape,g=f.activeFontKey,y=f.fonts,x=g,N="",b=0,w="",k=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:f};for(w=l,x=g,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?N+=w[b]:N+="";var S="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?S=m(N,x).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(S=r(N,y[x])),f.isHex=!0,{text:S,x:c,y:u,options:h,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,u,h,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,k=0;this.__bidiEngine__={};var S=function(I){var q=I.charCodeAt(),Y=q>>8,ee=x[Y];return ee!==void 0?f[256*ee+(255&q)]:Y===252||Y===253?"AL":b.test(Y)?"L":Y===8?"R":"N"},B=function(I){for(var q,Y=0;Y<I.length;Y++){if((q=S(I.charAt(Y)))==="L")return!1;if(q==="R")return!0}return!1},H=function(I,q,Y,ee){var ue,le,xe,oe,fe=q[ee];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(fe="AN");break;case"AL":w=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":ee<1||ee+1>=q.length||(ue=Y[ee-1])!=="EN"&&ue!=="AN"||(le=q[ee+1])!=="EN"&&le!=="AN"?fe="N":w&&(le="AN"),fe=le===ue?le:"N";break;case"ES":fe=(ue=ee>0?Y[ee-1]:"B")==="EN"&&ee+1<q.length&&q[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&Y[ee-1]==="EN"){fe="EN";break}if(w){fe="N";break}for(xe=ee+1,oe=q.length;xe<oe&&q[xe]==="ET";)xe++;fe=xe<oe&&q[xe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(oe=q.length,xe=ee+1;xe<oe&&q[xe]==="NSM";)xe++;if(xe<oe){var Se=I[ee],K=Se>=1425&&Se<=2303||Se===64286;if(ue=q[xe],K&&(ue==="R"||ue==="AL")){fe="R";break}}}fe=ee<1||(ue=q[ee-1])==="B"?"N":Y[ee-1];break;case"B":w=!1,s=!0,fe=k;break;case"S":i=!0,fe="N"}return fe},F=function(I,q,Y){var ee=I.split("");return Y&&D(ee,Y,{hiLevel:k}),ee.reverse(),q&&q.reverse(),ee.join("")},D=function(I,q,Y){var ee,ue,le,xe,oe,fe=-1,Se=I.length,K=0,A=[],z=k?g:m,O=[];for(w=!1,s=!1,i=!1,ue=0;ue<Se;ue++)O[ue]=S(I[ue]);for(le=0;le<Se;le++){if(oe=K,A[le]=H(I,O,A,le),ee=240&(K=z[oe][y[A[le]]]),K&=15,q[le]=xe=z[K][5],ee>0)if(ee===16){for(ue=fe;ue<le;ue++)q[ue]=1;fe=-1}else fe=-1;if(z[K][6])fe===-1&&(fe=le);else if(fe>-1){for(ue=fe;ue<le;ue++)q[ue]=xe;fe=-1}O[le]==="B"&&(q[le]=0),Y.hiLevel|=xe}i&&function(R,W,X){for(var ne=0;ne<X;ne++)if(R[ne]==="S"){W[ne]=k;for(var re=ne-1;re>=0&&R[re]==="WS";re--)W[re]=k}}(O,q,Se)},P=function(I,q,Y,ee,ue){if(!(ue.hiLevel<I)){if(I===1&&k===1&&!s)return q.reverse(),void(Y&&Y.reverse());for(var le,xe,oe,fe,Se=q.length,K=0;K<Se;){if(ee[K]>=I){for(oe=K+1;oe<Se&&ee[oe]>=I;)oe++;for(fe=K,xe=oe-1;fe<xe;fe++,xe--)le=q[fe],q[fe]=q[xe],q[xe]=le,Y&&(le=Y[fe],Y[fe]=Y[xe],Y[xe]=le);K=oe}K++}}},G=function(I,q,Y){var ee=I.split(""),ue={hiLevel:k};return Y||(Y=[]),D(ee,Y,ue),function(le,xe,oe){if(oe.hiLevel!==0&&h)for(var fe,Se=0;Se<le.length;Se++)xe[Se]===1&&(fe=N.indexOf(le[Se]))>=0&&(le[Se]=N[fe+1])}(ee,Y,ue),P(2,ee,q,Y,ue),P(1,ee,q,Y,ue),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(I,q,Y){if(function(ue,le){if(le)for(var xe=0;xe<ue.length;xe++)le[xe]=xe;l===void 0&&(l=B(ue)),u===void 0&&(u=B(ue))}(I,q),o||!c||u)if(o&&c&&l^u)k=l?1:0,I=F(I,q,Y);else if(!o&&c&&u)k=l?1:0,I=G(I,q,Y),I=F(I,q);else if(!o||l||c||u){if(o&&!c&&l^u)I=F(I,q),l?(k=0,I=G(I,q,Y)):(k=1,I=G(I,q,Y),I=F(I,q));else if(o&&l&&!c&&u)k=1,I=G(I,q,Y),I=F(I,q);else if(!o&&!c&&l^u){var ee=h;l?(k=1,I=G(I,q,Y),k=0,h=!1,I=G(I,q,Y),h=ee):(k=0,I=G(I,q,Y),I=F(I,q),k=1,h=!1,I=G(I,q,Y),h=ee,I=F(I,q))}}else k=0,I=G(I,q,Y);else k=l?1:0,I=G(I,q,Y);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new fu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new gG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new tG(this.contents),this.head=new aG(this),this.name=new lG(this),this.cmap=new C7(this),this.toUnicode={},this.hhea=new nG(this),this.maxp=new cG(this),this.hmtx=new dG(this),this.post=new iG(this),this.os2=new sG(this),this.loca=new mG(this),this.glyf=new uG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var Bl,fu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e}(),tG=function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,c,u,h,f,m,g,y,x;for(x in g=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(g)/c),o=Math.floor(f/c),h=16*g-f,(s=new fu).writeInt(this.scalarType),s.writeShort(g),s.writeShort(f),s.writeShort(o),s.writeShort(h),i=16*g,u=s.pos+i,l=null,y=[],r)for(m=r[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),y=y.concat(m),x==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return s.write(y),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=L7.call(r);r.length%4;)r.push(0);for(i=new fu(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t}(),rG={}.hasOwnProperty,gc=function(e,t){for(var r in t)rG.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Bl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var aG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new fu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),cS=function(){function e(t,r){var a,s,i,o,l,c,u,h,f,m,g,y,x,N,b,w,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),m=g/2,t.pos+=6,i=function(){var S,B;for(B=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)B.push(t.readUInt16());return B}(),t.pos+=2,x=function(){var S,B;for(B=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)B.push(t.readUInt16());return B}(),u=function(){var S,B;for(B=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)B.push(t.readUInt16());return B}(),h=function(){var S,B;for(B=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)B.push(t.readUInt16());return B}(),s=(this.length-t.pos+this.offset)/2,l=function(){var S,B;for(B=[],c=S=0;0<=s?S<s:S>s;c=0<=s?++S:--S)B.push(t.readUInt16());return B}(),c=b=0,k=i.length;b<k;c=++b)for(N=i[c],a=w=y=x[c];y<=N?w<=N:w>=N;a=y<=N?++w:--w)h[c]===0?o=a+u[c]:(o=l[h[c]/2+(a-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[a]=65535&o}t.pos=f}return e.encode=function(t,r){var a,s,i,o,l,c,u,h,f,m,g,y,x,N,b,w,k,S,B,H,F,D,P,G,I,q,Y,ee,ue,le,xe,oe,fe,Se,K,A,z,O,R,W,X,ne,re,Z,ke,Le;switch(ee=new fu,o=Object.keys(t).sort(function(Oe,Ge){return Oe-Ge}),r){case"macroman":for(x=0,N=function(){var Oe=[];for(y=0;y<256;++y)Oe.push(0);return Oe}(),w={0:0},i={},ue=0,fe=o.length;ue<fe;ue++)w[re=t[s=o[ue]]]==null&&(w[re]=++x),i[s]={old:t[s],new:w[t[s]]},N[s]=w[t[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(N),{charMap:i,subtable:ee.data,maxGlyphID:x+1};case"unicode":for(q=[],f=[],k=0,w={},a={},b=u=null,le=0,Se=o.length;le<Se;le++)w[B=t[s=o[le]]]==null&&(w[B]=++k),a[s]={old:B,new:w[B]},l=w[B]-s,b!=null&&l===u||(b&&f.push(b),q.push(s),u=l),b=s;for(b&&f.push(b),f.push(65535),q.push(65535),G=2*(P=q.length),D=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,F=2*P-D,c=[],H=[],g=[],y=xe=0,K=q.length;xe<K;y=++xe){if(I=q[y],h=f[y],I===65535){c.push(0),H.push(0);break}if(I-(Y=a[I].new)>=32768)for(c.push(0),H.push(2*(g.length+P-y)),s=oe=I;I<=h?oe<=h:oe>=h;s=I<=h?++oe:--oe)g.push(a[s].new);else c.push(Y-I),H.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*P+2*g.length),ee.writeUInt16(0),ee.writeUInt16(G),ee.writeUInt16(D),ee.writeUInt16(m),ee.writeUInt16(F),X=0,A=f.length;X<A;X++)s=f[X],ee.writeUInt16(s);for(ee.writeUInt16(0),ne=0,z=q.length;ne<z;ne++)s=q[ne],ee.writeUInt16(s);for(Z=0,O=c.length;Z<O;Z++)l=c[Z],ee.writeUInt16(l);for(ke=0,R=H.length;ke<R;ke++)S=H[ke],ee.writeUInt16(S);for(Le=0,W=g.length;Le<W;Le++)x=g[Le],ee.writeUInt16(x);return{charMap:a,subtable:ee.data,maxGlyphID:k+1}}},e}(),C7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new cS(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,s;return r==null&&(r="macroman"),a=cS.encode(t,r),(s=new fu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),nG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),sG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),iG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),oG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},lG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,s,i,o,l,c,u,h,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=h=0,f=a.length;h<f;i=++h)s=a[i],t.pos=s.offset,u=t.readString(s.length),o=new oG(u,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),cG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),dG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,f,m;for(m=[],u=0,h=(f=this.metrics).length;u<h;u++)i=f[u],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),L7=[].slice,uG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,s,i,o,l,c,u,h,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new fu(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new fG(l,u,f,c,h):new hG(l,o,u,f,c,h),this.cache[t]))},e.prototype.encode=function(t,r,a){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e}(),hG=function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),fG=function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new fu(L7.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),mG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Bl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),gG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,c,u,h,f,m,g,y,x,N,b;for(s in a=C7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},b=a.charMap)g[(c=b[s]).old]=c.new;for(y in m=a.maxGlyphID,o)y in g||(g[y]=m++);return h=function(w){var k,S;for(k in S={},w)S[w[k]]=k;return S}(g),f=Object.keys(h).sort(function(w,k){return w-k}),x=function(){var w,k,S;for(S=[],w=0,k=f.length;w<k;w++)l=f[w],S.push(h[l]);return S}(),i=this.font.glyf.encode(o,x,g),u=this.font.loca.encode(i.offsets,x),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)a=r[l],u.push(t.convert(a));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var o1={};o1.version="0.18.5";var P7=1252,pG=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],M7=function(e){pG.indexOf(e)!=-1&&(P7=e)};function xG(){M7(1252)}var zg=function(e){M7(e)};function yG(){zg(1200),xG()}var wx=function(t){return String.fromCharCode(t)},dS=function(t){return String.fromCharCode(t)},l1,Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ug(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,a=e.charCodeAt(u++),o=(r&3)<<4|a>>4,s=e.charCodeAt(u++),l=(a&15)<<2|s>>6,c=s&63,isNaN(a)?l=c=64:isNaN(s)&&(c=64),t+=Gd.charAt(i)+Gd.charAt(o)+Gd.charAt(l)+Gd.charAt(c);return t}function rd(e){var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Gd.indexOf(e.charAt(u++)),o=Gd.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Gd.indexOf(e.charAt(u++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=Gd.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ld=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wh(e){return Br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uS(e){return Br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var kl=function(t){return Br?ld(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function rv(e){if(typeof ArrayBuffer>"u")return kl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function pp(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function vG(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var os=Br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ld(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function bG(e){for(var t=[],r=0,a=e.length+250,s=wh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=wh(65535),a=65530)}return t.push(s.slice(0,r)),os(t)}var ag=/\u0000/g,_x=/[\u0001-\u0006]/g;function rf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Sl(e,t){var r=""+e;return r.length>=t?r:Xa("0",t-r.length)+r}function s4(e,t){var r=""+e;return r.length>=t?r:Xa(" ",t-r.length)+r}function c1(e,t){var r=""+e;return r.length>=t?r:r+Xa(" ",t-r.length)}function wG(e,t){var r=""+Math.round(e);return r.length>=t?r:Xa("0",t-r.length)+r}function _G(e,t){var r=""+e;return r.length>=t?r:Xa("0",t-r.length)+r}var hS=Math.pow(2,32);function l0(e,t){if(e>hS||e<-hS)return wG(e,t);var r=Math.round(e);return _G(r,t)}function d1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var fS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Hb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function NG(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Qa={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function u1(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,l=0,c=1,u=0,h=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*o+i,h=f*u+c,!(s-f<5e-8));)s=1/(s-f),i=o,o=l,c=u,u=h;if(h>t&&(u>t?(h=c,l=i):(h=u,l=o)),!r)return[0,a*l,h];var m=Math.floor(a*l/h);return[m,a*l-m*h,h]}function Nx(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=LG(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var R7=new Date(1899,11,31,0,0,0),jG=R7.getTime(),SG=new Date(1900,2,1,0,0,0);function O7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=SG&&(r+=24*60*60*1e3),(r-(jG+(e.getTimezoneOffset()-R7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function i4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AG(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function EG(e){var t=e<0?12:11,r=i4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function TG(e){var t=i4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function CG(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=EG(e):t===10?r=e.toFixed(10).substr(0,12):r=TG(e),i4(AG(r.toUpperCase()))}function Zw(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):CG(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return mu(14,O7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function LG(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function PG(e,t,r,a){var s="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Hb[r.m-1][1];case 5:return Hb[r.m-1][0];default:return Hb[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return fS[r.q][0];default:return fS[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Sl(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Sl(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var h=u>0?Sl(c,u):"";return h}function Yd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var D7=/%/g;function MG(e,t,r){var a=t.replace(D7,""),s=t.length-a.length;return Hc(e,a,r*Math.pow(10,2*s))+Xa("%",s)}function RG(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Hc(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function I7(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+I7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var F7=/# (\?+)( ?)\/( ?)(\d+)/;function OG(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?Xa(" ",e[1].length+1+e[4].length):s4(o,e[1].length)+e[2]+"/"+e[3]+Sl(l,e[4].length))}function DG(e,t,r){return r+(t===0?"":""+t)+Xa(" ",e[1].length+2+e[4].length)}var B7=/^#*0*\.([0#]+)/,z7=/\).*[0#]/,U7=/\(###\) ###\\?-####/;function Vs(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function gS(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function pS(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function IG(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function FG(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z7)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ao("n",a,r):"("+Ao("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return RG(e,t,r);if(t.indexOf("%")!==-1)return MG(e,t,r);if(t.indexOf("E")!==-1)return I7(t,r);if(t.charCodeAt(0)===36)return"$"+Ao(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+l0(c,t.length);if(t.match(/^[#?]+$/))return s=l0(r,0),s==="0"&&(s=""),s.length>t.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(F7))return OG(i,c,u);if(t.match(/^#+0+$/))return u+l0(c,t.length-t.indexOf("0"));if(i=t.match(B7))return s=gS(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Vs(i[1])).replace(/\.$/,"."+Vs(i[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+Xa("0",Vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+gS(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Yd(l0(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):Yd(""+(Math.floor(r)+IG(r,i[1].length)))+"."+Sl(pS(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rf(Ao(e,t.replace(/[\\-]/g,""),r)),o=0,rf(rf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(U7))return s=Ao(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=u1(c,Math.pow(10,o)-1,!1),s=""+u,h=Hc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=c1(l[2],o),h.length<i[4].length&&(h=Vs(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=u1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?s4(l[1],o)+i[2]+"/"+i[3]+c1(l[2],o):Xa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=l0(r,0),t.length<=s.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,m=t.length-s.length-f;return Vs(t.substr(0,f)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=pS(r,i[1].length),r<0?"-"+Ao(e,t,-r):Yd(FG(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Sl(0,3-y.length):"")+y})+"."+Sl(o,i[1].length);switch(t){case"###,##0.00":return Ao(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Yd(l0(c,0));return g!=="0"?u+g:"";case"###,###.00":return Ao(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ao(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function BG(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Hc(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function zG(e,t,r){var a=t.replace(D7,""),s=t.length-a.length;return Hc(e,a,r*Math.pow(10,2*s))+Xa("%",s)}function V7(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+V7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Jl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z7)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Jl("n",a,r):"("+Jl("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return BG(e,t,r);if(t.indexOf("%")!==-1)return zG(e,t,r);if(t.indexOf("E")!==-1)return V7(t,r);if(t.charCodeAt(0)===36)return"$"+Jl(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Sl(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(F7))return DG(i,c,u);if(t.match(/^#+0+$/))return u+Sl(c,t.length-t.indexOf("0"));if(i=t.match(B7))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Vs(i[1])).replace(/\.$/,"."+Vs(i[1])),s=s.replace(/\.(\d*)$/,function(y,x){return"."+x+Xa("0",Vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Yd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Jl(e,t,-r):Yd(""+r)+"."+Xa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Jl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rf(Jl(e,t.replace(/[\\-]/g,""),r)),o=0,rf(rf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(U7))return s=Jl(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=u1(c,Math.pow(10,o)-1,!1),s=""+u,h=Hc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=c1(l[2],o),h.length<i[4].length&&(h=Vs(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=u1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?s4(l[1],o)+i[2]+"/"+i[3]+c1(l[2],o):Xa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,m=t.length-s.length-f;return Vs(t.substr(0,f)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Jl(e,t,-r):Yd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Sl(0,3-y.length):"")+y})+"."+Sl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Yd(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return Jl(e,t.slice(0,t.lastIndexOf(".")),r)+Vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Hc(e,t,r){return(r|0)===r?Jl(e,t,r):Ao(e,t,r)}function UG(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var q7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function $7(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":d1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(q7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function VG(e,t,r,a){for(var s=[],i="",o=0,l="",c="t",u,h,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!d1(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++o;break;case"\\":var g=e.charAt(++o),y=g==="("||g===")"?g:"t";s[s.length]={t:y,v:g},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Nx(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Nx(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=Nx(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),u==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(q7)){if(u==null&&(u=Nx(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",$7(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var N=0,b=0,w;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,c="h",N<1&&(N=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&s[o].v.match(/[Hh]/)&&(N=1),N<2&&s[o].v.match(/[Mm]/)&&(N=2),N<3&&s[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=PG(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((l=s[S].t)==="?"||l==="D"||(l===" "||l==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;k+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=Zw(t,r);break}var B="",H,F;if(k.length>0){k.charCodeAt(0)==40?(H=t<0&&k.charCodeAt(0)===45?-t:t,F=Hc("n",k,H)):(H=t<0&&a>1?-t:t,F=Hc("n",k,H),H<0&&s[0]&&s[0].t=="t"&&(F=F.substr(1),s[0].v="-"+s[0].v)),S=F.length-1;var D=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){D=o;break}var P=s.length;if(D===s.length&&F.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=F.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=F.substr(0,S+1),S=-1),s[o].t="t",P=o);S>=0&&P<s.length&&(s[P].v=F.substr(0,S+1)+s[P].v)}else if(D!==s.length&&F.indexOf("E")===-1){for(S=F.indexOf(".")-1,o=D;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")-1:s[o].v.length-1,B=s[o].v.substr(h+1);h>=0;--h)S>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(B=F.charAt(S--)+B);s[o].v=B,s[o].t="t",P=o}for(S>=0&&P<s.length&&(s[P].v=F.substr(0,S+1)+s[P].v),S=F.indexOf(".")+1,o=D;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==D)){for(h=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")+1:0,B=s[o].v.substr(0,h);h<s[o].v.length;++h)S<F.length&&(B+=F.charAt(S++));s[o].v=B,s[o].t="t",P=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(H=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Hc(s[o].t,s[o].v,H),s[o].t="t");var G="";for(o=0;o!==s.length;++o)s[o]!=null&&(G+=s[o].v);return G}var xS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yS(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function qG(e,t){var r=UG(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(xS),l=r[1].match(xS);return yS(t,o)?[a,r[0]]:yS(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function mu(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Qa)[e],a==null&&(a=r.table&&r.table[mS[e]]||Qa[mS[e]]),a==null&&(a=kG[e]||"General");break}if(d1(a,0))return Zw(t,r);t instanceof Date&&(t=O7(t,r.date1904));var s=qG(a,t);if(d1(s[1]))return Zw(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return VG(s[1],t,r,s[0])}function H7(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Qa[r]==null){t<0&&(t=r);continue}if(Qa[r]==e){t=r;break}}t<0&&(t=391)}return Qa[t]=e,t}function av(e){for(var t=0;t!=392;++t)e[t]!==void 0&&H7(e[t],t)}function nv(){Qa=NG()}var W7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $G(e){var t=typeof e=="number"?Qa[e]:e;return t=t.replace(W7,"(\\d+)"),new RegExp("^"+t+"$")}function HG(e,t,r){var a=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(W7)||[]).forEach(function(f,m){var g=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=g;break;case"d":i=g;break;case"h":o=g;break;case"s":c=g;break;case"m":o>=0?l=g:s=g;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:a==-1&&s==-1&&i==-1?h:u+"T"+h}var WG=function(){var e={};e.version="1.2.0";function t(){for(var F=0,D=new Array(256),P=0;P!=256;++P)F=P,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,D[P]=F;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function a(F){var D=0,P=0,G=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)I[G]=F[G];for(G=0;G!=256;++G)for(P=F[G],D=256+G;D<4096;D+=256)P=I[D]=P>>>8^F[P&255];var q=[];for(G=1;G!=16;++G)q[G-1]=typeof Int32Array<"u"?I.subarray(G*256,G*256+256):I.slice(G*256,G*256+256);return q}var s=a(r),i=s[0],o=s[1],l=s[2],c=s[3],u=s[4],h=s[5],f=s[6],m=s[7],g=s[8],y=s[9],x=s[10],N=s[11],b=s[12],w=s[13],k=s[14];function S(F,D){for(var P=D^-1,G=0,I=F.length;G<I;)P=P>>>8^r[(P^F.charCodeAt(G++))&255];return~P}function B(F,D){for(var P=D^-1,G=F.length-15,I=0;I<G;)P=k[F[I++]^P&255]^w[F[I++]^P>>8&255]^b[F[I++]^P>>16&255]^N[F[I++]^P>>>24]^x[F[I++]]^y[F[I++]]^g[F[I++]]^m[F[I++]]^f[F[I++]]^h[F[I++]]^u[F[I++]]^c[F[I++]]^l[F[I++]]^o[F[I++]]^i[F[I++]]^r[F[I++]];for(G+=15;I<G;)P=P>>>8^r[(P^F[I++])&255];return~P}function H(F,D){for(var P=D^-1,G=0,I=F.length,q=0,Y=0;G<I;)q=F.charCodeAt(G++),q<128?P=P>>>8^r[(P^q)&255]:q<2048?(P=P>>>8^r[(P^(192|q>>6&31))&255],P=P>>>8^r[(P^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,Y=F.charCodeAt(G++)&1023,P=P>>>8^r[(P^(240|q>>8&7))&255],P=P>>>8^r[(P^(128|q>>2&63))&255],P=P>>>8^r[(P^(128|Y>>6&15|(q&3)<<4))&255],P=P>>>8^r[(P^(128|Y&63))&255]):(P=P>>>8^r[(P^(224|q>>12&15))&255],P=P>>>8^r[(P^(128|q>>6&63))&255],P=P>>>8^r[(P^(128|q&63))&255]);return~P}return e.table=r,e.bstr=S,e.buf=B,e.str=H,e}(),oa=function(){var t={};t.version="1.2.1";function r(te,be){for(var me=te.split("/"),pe=be.split("/"),ve=0,Ne=0,Ie=Math.min(me.length,pe.length);ve<Ie;++ve){if(Ne=me[ve].length-pe[ve].length)return Ne;if(me[ve]!=pe[ve])return me[ve]<pe[ve]?-1:1}return me.length-pe.length}function a(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:a(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(0,be+1)}function s(te){if(te.charAt(te.length-1)=="/")return s(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(be+1)}function i(te,be){typeof be=="string"&&(be=new Date(be));var me=be.getHours();me=me<<6|be.getMinutes(),me=me<<5|be.getSeconds()>>>1,te.write_shift(2,me);var pe=be.getFullYear()-1980;pe=pe<<4|be.getMonth()+1,pe=pe<<5|be.getDate(),te.write_shift(2,pe)}function o(te){var be=te.read_shift(2)&65535,me=te.read_shift(2)&65535,pe=new Date,ve=me&31;me>>>=5;var Ne=me&15;me>>>=4,pe.setMilliseconds(0),pe.setFullYear(me+1980),pe.setMonth(Ne-1),pe.setDate(ve);var Ie=be&31;be>>>=5;var Ye=be&63;return be>>>=6,pe.setHours(be),pe.setMinutes(Ye),pe.setSeconds(Ie<<1),pe}function l(te){Zi(te,0);for(var be={},me=0;te.l<=te.length-4;){var pe=te.read_shift(2),ve=te.read_shift(2),Ne=te.l+ve,Ie={};switch(pe){case 21589:me=te.read_shift(1),me&1&&(Ie.mtime=te.read_shift(4)),ve>5&&(me&2&&(Ie.atime=te.read_shift(4)),me&4&&(Ie.ctime=te.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}te.l=Ne,be[pe]=Ie}return be}var c;function u(){return c||(c={})}function h(te,be){if(te[0]==80&&te[1]==75)return qt(te,be);if((te[0]|32)==109&&(te[1]|32)==105)return $t(te,be);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var me=3,pe=512,ve=0,Ne=0,Ie=0,Ye=0,ze=0,Ue=[],$e=te.slice(0,512);Zi($e,0);var ht=f($e);switch(me=ht[0],me){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(ht[1]==0)return qt(te,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}pe!==512&&($e=te.slice(0,pe),Zi($e,28));var pt=te.slice(0,pe);m($e,me);var At=$e.read_shift(4,"i");if(me===3&&At!==0)throw new Error("# Directory Sectors: Expected 0 saw "+At);$e.l+=4,Ie=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),Ye=$e.read_shift(4,"i"),ve=$e.read_shift(4,"i"),ze=$e.read_shift(4,"i"),Ne=$e.read_shift(4,"i");for(var mt=-1,Nt=0;Nt<109&&(mt=$e.read_shift(4,"i"),!(mt<0));++Nt)Ue[Nt]=mt;var Zt=g(te,pe);N(ze,Ne,Zt,pe,Ue);var Vr=w(Zt,Ie,Ue,pe);Vr[Ie].name="!Directory",ve>0&&Ye!==Y&&(Vr[Ye].name="!MiniFAT"),Vr[Ue[0]].name="!FAT",Vr.fat_addrs=Ue,Vr.ssz=pe;var vr={},Ca=[],ti=[],Gn=[];k(Ie,Vr,Zt,Ca,ve,vr,ti,Ye),y(ti,Gn,Ca),Ca.shift();var Ri={FileIndex:ti,FullPaths:Gn};return be&&be.raw&&(Ri.raw={header:pt,sectors:Zt}),Ri}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(ee,"Header Signature: "),te.l+=16;var be=te.read_shift(2,"u");return[te.read_shift(2,"u"),be]}function m(te,be){var me=9;switch(te.l+=2,me=te.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function g(te,be){for(var me=Math.ceil(te.length/be)-1,pe=[],ve=1;ve<me;++ve)pe[ve-1]=te.slice(ve*be,(ve+1)*be);return pe[me-1]=te.slice(me*be),pe}function y(te,be,me){for(var pe=0,ve=0,Ne=0,Ie=0,Ye=0,ze=me.length,Ue=[],$e=[];pe<ze;++pe)Ue[pe]=$e[pe]=pe,be[pe]=me[pe];for(;Ye<$e.length;++Ye)pe=$e[Ye],ve=te[pe].L,Ne=te[pe].R,Ie=te[pe].C,Ue[pe]===pe&&(ve!==-1&&Ue[ve]!==ve&&(Ue[pe]=Ue[ve]),Ne!==-1&&Ue[Ne]!==Ne&&(Ue[pe]=Ue[Ne])),Ie!==-1&&(Ue[Ie]=pe),ve!==-1&&pe!=Ue[pe]&&(Ue[ve]=Ue[pe],$e.lastIndexOf(ve)<Ye&&$e.push(ve)),Ne!==-1&&pe!=Ue[pe]&&(Ue[Ne]=Ue[pe],$e.lastIndexOf(Ne)<Ye&&$e.push(Ne));for(pe=1;pe<ze;++pe)Ue[pe]===pe&&(Ne!==-1&&Ue[Ne]!==Ne?Ue[pe]=Ue[Ne]:ve!==-1&&Ue[ve]!==ve&&(Ue[pe]=Ue[ve]));for(pe=1;pe<ze;++pe)if(te[pe].type!==0){if(Ye=pe,Ye!=Ue[Ye])do Ye=Ue[Ye],be[pe]=be[Ye]+"/"+be[pe];while(Ye!==0&&Ue[Ye]!==-1&&Ye!=Ue[Ye]);Ue[pe]=-1}for(be[0]+="/",pe=1;pe<ze;++pe)te[pe].type!==2&&(be[pe]+="/")}function x(te,be,me){for(var pe=te.start,ve=te.size,Ne=[],Ie=pe;me&&ve>0&&Ie>=0;)Ne.push(be.slice(Ie*q,Ie*q+q)),ve-=q,Ie=Ju(me,Ie*4);return Ne.length===0?Je(0):os(Ne).slice(0,te.size)}function N(te,be,me,pe,ve){var Ne=Y;if(te===Y){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ie=me[te],Ye=(pe>>>2)-1;if(!Ie)return;for(var ze=0;ze<Ye&&(Ne=Ju(Ie,ze*4))!==Y;++ze)ve.push(Ne);N(Ju(Ie,pe-4),be-1,me,pe,ve)}}function b(te,be,me,pe,ve){var Ne=[],Ie=[];ve||(ve=[]);var Ye=pe-1,ze=0,Ue=0;for(ze=be;ze>=0;){ve[ze]=!0,Ne[Ne.length]=ze,Ie.push(te[ze]);var $e=me[Math.floor(ze*4/pe)];if(Ue=ze*4&Ye,pe<4+Ue)throw new Error("FAT boundary crossed: "+ze+" 4 "+pe);if(!te[$e])break;ze=Ju(te[$e],Ue)}return{nodes:Ne,data:SS([Ie])}}function w(te,be,me,pe){var ve=te.length,Ne=[],Ie=[],Ye=[],ze=[],Ue=pe-1,$e=0,ht=0,pt=0,At=0;for($e=0;$e<ve;++$e)if(Ye=[],pt=$e+be,pt>=ve&&(pt-=ve),!Ie[pt]){ze=[];var mt=[];for(ht=pt;ht>=0;){mt[ht]=!0,Ie[ht]=!0,Ye[Ye.length]=ht,ze.push(te[ht]);var Nt=me[Math.floor(ht*4/pe)];if(At=ht*4&Ue,pe<4+At)throw new Error("FAT boundary crossed: "+ht+" 4 "+pe);if(!te[Nt]||(ht=Ju(te[Nt],At),mt[ht]))break}Ne[pt]={nodes:Ye,data:SS([ze])}}return Ne}function k(te,be,me,pe,ve,Ne,Ie,Ye){for(var ze=0,Ue=pe.length?2:0,$e=be[te].data,ht=0,pt=0,At;ht<$e.length;ht+=128){var mt=$e.slice(ht,ht+128);Zi(mt,64),pt=mt.read_shift(2),At=u4(mt,0,pt-Ue),pe.push(At);var Nt={name:At,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},Zt=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Zt!==0&&(Nt.ct=S(mt,mt.l-8));var Vr=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Vr!==0&&(Nt.mt=S(mt,mt.l-8)),Nt.start=mt.read_shift(4,"i"),Nt.size=mt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=Y,Nt.name=""),Nt.type===5?(ze=Nt.start,ve>0&&ze!==Y&&(be[ze].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",be[Nt.start]===void 0&&(be[Nt.start]=b(me,Nt.start,be.fat_addrs,be.ssz)),be[Nt.start].name=Nt.name,Nt.content=be[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:ze!==Y&&Nt.start!==Y&&be[ze]&&(Nt.content=x(Nt,be[ze].data,(be[Ye]||{}).data))),Nt.content&&Zi(Nt.content,0),Ne[At]=Nt,Ie.push(Nt)}}function S(te,be){return new Date((Qi(te,be+4)/1e7*Math.pow(2,32)+Qi(te,be)/1e7-11644473600)*1e3)}function B(te,be){return u(),h(c.readFileSync(te),be)}function H(te,be){var me=be&&be.type;switch(me||Br&&Buffer.isBuffer(te)&&(me="buffer"),me||"base64"){case"file":return B(te,be);case"base64":return h(kl(rd(te)),be);case"binary":return h(kl(te),be)}return h(te,be)}function F(te,be){var me=be||{},pe=me.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=pe+"/",te.FileIndex[0]={name:pe,type:5}),me.CLSID&&(te.FileIndex[0].clsid=me.CLSID),D(te)}function D(te){var be="Sh33tJ5";if(!oa.find(te,"/"+be)){var me=Je(4);me[0]=55,me[1]=me[3]=50,me[2]=54,te.FileIndex.push({name:be,type:2,content:me,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+be),P(te)}}function P(te,be){F(te);for(var me=!1,pe=!1,ve=te.FullPaths.length-1;ve>=0;--ve){var Ne=te.FileIndex[ve];switch(Ne.type){case 0:pe?me=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(me=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!be)){var Ie=new Date(1987,1,19),Ye=0,ze=Object.create?Object.create(null):{},Ue=[];for(ve=0;ve<te.FullPaths.length;++ve)ze[te.FullPaths[ve]]=!0,te.FileIndex[ve].type!==0&&Ue.push([te.FullPaths[ve],te.FileIndex[ve]]);for(ve=0;ve<Ue.length;++ve){var $e=a(Ue[ve][0]);pe=ze[$e],pe||(Ue.push([$e,{name:s($e).replace("/",""),type:1,clsid:le,ct:Ie,mt:Ie,content:null}]),ze[$e]=!0)}for(Ue.sort(function(At,mt){return r(At[0],mt[0])}),te.FullPaths=[],te.FileIndex=[],ve=0;ve<Ue.length;++ve)te.FullPaths[ve]=Ue[ve][0],te.FileIndex[ve]=Ue[ve][1];for(ve=0;ve<Ue.length;++ve){var ht=te.FileIndex[ve],pt=te.FullPaths[ve];if(ht.name=s(pt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||le,ve===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(pt.slice(-1)=="/"){for(Ye=ve+1;Ye<Ue.length&&a(te.FullPaths[Ye])!=pt;++Ye);for(ht.C=Ye>=Ue.length?-1:Ye,Ye=ve+1;Ye<Ue.length&&a(te.FullPaths[Ye])!=a(pt);++Ye);ht.R=Ye>=Ue.length?-1:Ye,ht.type=1}else a(te.FullPaths[ve+1]||"")==a(pt)&&(ht.R=ve+1),ht.type=2}}}function G(te,be){var me=be||{};if(me.fileType=="mad")return Pi(te,me);switch(P(te),me.fileType){case"zip":return Qt(te,me)}var pe=function(At){for(var mt=0,Nt=0,Zt=0;Zt<At.FileIndex.length;++Zt){var Vr=At.FileIndex[Zt];if(Vr.content){var vr=Vr.content.length;vr>0&&(vr<4096?mt+=vr+63>>6:Nt+=vr+511>>9)}}for(var Ca=At.FullPaths.length+3>>2,ti=mt+7>>3,Gn=mt+127>>7,Ri=ti+Nt+Ca+Gn,Ps=Ri+127>>7,ri=Ps<=109?0:Math.ceil((Ps-109)/127);Ri+Ps+ri+127>>7>Ps;)ri=++Ps<=109?0:Math.ceil((Ps-109)/127);var Yt=[1,ri,Ps,Gn,Ca,Nt,mt,0];return At.FileIndex[0].size=mt<<6,Yt[7]=(At.FileIndex[0].start=Yt[0]+Yt[1]+Yt[2]+Yt[3]+Yt[4]+Yt[5])+(Yt[6]+7>>3),Yt}(te),ve=Je(pe[7]<<9),Ne=0,Ie=0;{for(Ne=0;Ne<8;++Ne)ve.write_shift(1,ue[Ne]);for(Ne=0;Ne<8;++Ne)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),Ne=0;Ne<3;++Ne)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,pe[2]),ve.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:Y),ve.write_shift(4,pe[3]),ve.write_shift(-4,pe[1]?pe[0]-1:Y),ve.write_shift(4,pe[1]),Ne=0;Ne<109;++Ne)ve.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1)}if(pe[1])for(Ie=0;Ie<pe[1];++Ie){for(;Ne<236+Ie*127;++Ne)ve.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1);ve.write_shift(-4,Ie===pe[1]-1?Y:Ie+1)}var Ye=function(At){for(Ie+=At;Ne<Ie-1;++Ne)ve.write_shift(-4,Ne+1);At&&(++Ne,ve.write_shift(-4,Y))};for(Ie=Ne=0,Ie+=pe[1];Ne<Ie;++Ne)ve.write_shift(-4,xe.DIFSECT);for(Ie+=pe[2];Ne<Ie;++Ne)ve.write_shift(-4,xe.FATSECT);Ye(pe[3]),Ye(pe[4]);for(var ze=0,Ue=0,$e=te.FileIndex[0];ze<te.FileIndex.length;++ze)$e=te.FileIndex[ze],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Ie,Ye(Ue+511>>9)));for(Ye(pe[6]+7>>3);ve.l&511;)ve.write_shift(-4,xe.ENDOFCHAIN);for(Ie=Ne=0,ze=0;ze<te.FileIndex.length;++ze)$e=te.FileIndex[ze],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Ie,Ye(Ue+63>>6)));for(;ve.l&511;)ve.write_shift(-4,xe.ENDOFCHAIN);for(Ne=0;Ne<pe[4]<<2;++Ne){var ht=te.FullPaths[Ne];if(!ht||ht.length===0){for(ze=0;ze<17;++ze)ve.write_shift(4,0);for(ze=0;ze<3;++ze)ve.write_shift(4,-1);for(ze=0;ze<12;++ze)ve.write_shift(4,0);continue}$e=te.FileIndex[Ne],Ne===0&&($e.start=$e.size?$e.start-1:Y);var pt=Ne===0&&me.root||$e.name;if(Ue=2*(pt.length+1),ve.write_shift(64,pt,"utf16le"),ve.write_shift(2,Ue),ve.write_shift(1,$e.type),ve.write_shift(1,$e.color),ve.write_shift(-4,$e.L),ve.write_shift(-4,$e.R),ve.write_shift(-4,$e.C),$e.clsid)ve.write_shift(16,$e.clsid,"hex");else for(ze=0;ze<4;++ze)ve.write_shift(4,0);ve.write_shift(4,$e.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,$e.start),ve.write_shift(4,$e.size),ve.write_shift(4,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>=4096)if(ve.l=$e.start+1<<9,Br&&Buffer.isBuffer($e.content))$e.content.copy(ve,ve.l,0,$e.size),ve.l+=$e.size+511&-512;else{for(ze=0;ze<$e.size;++ze)ve.write_shift(1,$e.content[ze]);for(;ze&511;++ze)ve.write_shift(1,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>0&&$e.size<4096)if(Br&&Buffer.isBuffer($e.content))$e.content.copy(ve,ve.l,0,$e.size),ve.l+=$e.size+63&-64;else{for(ze=0;ze<$e.size;++ze)ve.write_shift(1,$e.content[ze]);for(;ze&63;++ze)ve.write_shift(1,0)}if(Br)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function I(te,be){var me=te.FullPaths.map(function(ze){return ze.toUpperCase()}),pe=me.map(function(ze){var Ue=ze.split("/");return Ue[Ue.length-(ze.slice(-1)=="/"?2:1)]}),ve=!1;be.charCodeAt(0)===47?(ve=!0,be=me[0].slice(0,-1)+be):ve=be.indexOf("/")!==-1;var Ne=be.toUpperCase(),Ie=ve===!0?me.indexOf(Ne):pe.indexOf(Ne);if(Ie!==-1)return te.FileIndex[Ie];var Ye=!Ne.match(_x);for(Ne=Ne.replace(ag,""),Ye&&(Ne=Ne.replace(_x,"!")),Ie=0;Ie<me.length;++Ie)if((Ye?me[Ie].replace(_x,"!"):me[Ie]).replace(ag,"")==Ne||(Ye?pe[Ie].replace(_x,"!"):pe[Ie]).replace(ag,"")==Ne)return te.FileIndex[Ie];return null}var q=64,Y=-2,ee="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],le="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(te,be,me){u();var pe=G(te,me);c.writeFileSync(be,pe)}function fe(te){for(var be=new Array(te.length),me=0;me<te.length;++me)be[me]=String.fromCharCode(te[me]);return be.join("")}function Se(te,be){var me=G(te,be);switch(be&&be.type||"buffer"){case"file":return u(),c.writeFileSync(be.filename,me),me;case"binary":return typeof me=="string"?me:fe(me);case"base64":return Ug(typeof me=="string"?me:fe(me));case"buffer":if(Br)return Buffer.isBuffer(me)?me:ld(me);case"array":return typeof me=="string"?kl(me):me}return me}var K;function A(te){try{var be=te.InflateRaw,me=new be;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)K=te;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function z(te,be){if(!K)return lt(te,be);var me=K.InflateRaw,pe=new me,ve=pe._processChunk(te.slice(te.l),pe._finishFlushFlag);return te.l+=pe.bytesRead,ve}function O(te){return K?K.deflateRawSync(te):gt(te)}var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ne(te){var be=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(be>>16|be>>8|be)&255}for(var re=typeof Uint8Array<"u",Z=re?new Uint8Array(256):[],ke=0;ke<256;++ke)Z[ke]=ne(ke);function Le(te,be){var me=Z[te&255];return be<=8?me>>>8-be:(me=me<<8|Z[te>>8&255],be<=16?me>>>16-be:(me=me<<8|Z[te>>16&255],me>>>24-be))}function Oe(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=6?0:te[pe+1]<<8))>>>me&3}function Ge(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=5?0:te[pe+1]<<8))>>>me&7}function de(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=4?0:te[pe+1]<<8))>>>me&15}function Ae(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=3?0:te[pe+1]<<8))>>>me&31}function je(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=1?0:te[pe+1]<<8))>>>me&127}function et(te,be,me){var pe=be&7,ve=be>>>3,Ne=(1<<me)-1,Ie=te[ve]>>>pe;return me<8-pe||(Ie|=te[ve+1]<<8-pe,me<16-pe)||(Ie|=te[ve+2]<<16-pe,me<24-pe)||(Ie|=te[ve+3]<<24-pe),Ie&Ne}function ae(te,be,me){var pe=be&7,ve=be>>>3;return pe<=5?te[ve]|=(me&7)<<pe:(te[ve]|=me<<pe&255,te[ve+1]=(me&7)>>8-pe),be+3}function De(te,be,me){var pe=be&7,ve=be>>>3;return me=(me&1)<<pe,te[ve]|=me,be+1}function Ke(te,be,me){var pe=be&7,ve=be>>>3;return me<<=pe,te[ve]|=me&255,me>>>=8,te[ve+1]=me,be+8}function at(te,be,me){var pe=be&7,ve=be>>>3;return me<<=pe,te[ve]|=me&255,me>>>=8,te[ve+1]=me&255,te[ve+2]=me>>>8,be+16}function yt(te,be){var me=te.length,pe=2*me>be?2*me:be+5,ve=0;if(me>=be)return te;if(Br){var Ne=uS(pe);if(te.copy)te.copy(Ne);else for(;ve<te.length;++ve)Ne[ve]=te[ve];return Ne}else if(re){var Ie=new Uint8Array(pe);if(Ie.set)Ie.set(te);else for(;ve<me;++ve)Ie[ve]=te[ve];return Ie}return te.length=pe,te}function wt(te){for(var be=new Array(te),me=0;me<te;++me)be[me]=0;return be}function it(te,be,me){var pe=1,ve=0,Ne=0,Ie=0,Ye=0,ze=te.length,Ue=re?new Uint16Array(32):wt(32);for(Ne=0;Ne<32;++Ne)Ue[Ne]=0;for(Ne=ze;Ne<me;++Ne)te[Ne]=0;ze=te.length;var $e=re?new Uint16Array(ze):wt(ze);for(Ne=0;Ne<ze;++Ne)Ue[ve=te[Ne]]++,pe<ve&&(pe=ve),$e[Ne]=0;for(Ue[0]=0,Ne=1;Ne<=pe;++Ne)Ue[Ne+16]=Ye=Ye+Ue[Ne-1]<<1;for(Ne=0;Ne<ze;++Ne)Ye=te[Ne],Ye!=0&&($e[Ne]=Ue[Ye+16]++);var ht=0;for(Ne=0;Ne<ze;++Ne)if(ht=te[Ne],ht!=0)for(Ye=Le($e[Ne],pe)>>pe-ht,Ie=(1<<pe+4-ht)-1;Ie>=0;--Ie)be[Ye|Ie<<ht]=ht&15|Ne<<4;return pe}var jt=re?new Uint16Array(512):wt(512),Et=re?new Uint16Array(32):wt(32);if(!re){for(var Te=0;Te<512;++Te)jt[Te]=0;for(Te=0;Te<32;++Te)Et[Te]=0}(function(){for(var te=[],be=0;be<32;be++)te.push(5);it(te,Et,32);var me=[];for(be=0;be<=143;be++)me.push(8);for(;be<=255;be++)me.push(9);for(;be<=279;be++)me.push(7);for(;be<=287;be++)me.push(8);it(me,jt,288)})();var st=function(){for(var be=re?new Uint8Array(32768):[],me=0,pe=0;me<X.length-1;++me)for(;pe<X[me+1];++pe)be[pe]=me;for(;pe<32768;++pe)be[pe]=29;var ve=re?new Uint8Array(259):[];for(me=0,pe=0;me<W.length-1;++me)for(;pe<W[me+1];++pe)ve[pe]=me;function Ne(Ye,ze){for(var Ue=0;Ue<Ye.length;){var $e=Math.min(65535,Ye.length-Ue),ht=Ue+$e==Ye.length;for(ze.write_shift(1,+ht),ze.write_shift(2,$e),ze.write_shift(2,~$e&65535);$e-- >0;)ze[ze.l++]=Ye[Ue++]}return ze.l}function Ie(Ye,ze){for(var Ue=0,$e=0,ht=re?new Uint16Array(32768):[];$e<Ye.length;){var pt=Math.min(65535,Ye.length-$e);if(pt<10){for(Ue=ae(ze,Ue,+($e+pt==Ye.length)),Ue&7&&(Ue+=8-(Ue&7)),ze.l=Ue/8|0,ze.write_shift(2,pt),ze.write_shift(2,~pt&65535);pt-- >0;)ze[ze.l++]=Ye[$e++];Ue=ze.l*8;continue}Ue=ae(ze,Ue,+($e+pt==Ye.length)+2);for(var At=0;pt-- >0;){var mt=Ye[$e];At=(At<<5^mt)&32767;var Nt=-1,Zt=0;if((Nt=ht[At])&&(Nt|=$e&-32768,Nt>$e&&(Nt-=32768),Nt<$e))for(;Ye[Nt+Zt]==Ye[$e+Zt]&&Zt<250;)++Zt;if(Zt>2){mt=ve[Zt],mt<=22?Ue=Ke(ze,Ue,Z[mt+1]>>1)-1:(Ke(ze,Ue,3),Ue+=5,Ke(ze,Ue,Z[mt-23]>>5),Ue+=3);var Vr=mt<8?0:mt-4>>2;Vr>0&&(at(ze,Ue,Zt-W[mt]),Ue+=Vr),mt=be[$e-Nt],Ue=Ke(ze,Ue,Z[mt]>>3),Ue-=3;var vr=mt<4?0:mt-2>>1;vr>0&&(at(ze,Ue,$e-Nt-X[mt]),Ue+=vr);for(var Ca=0;Ca<Zt;++Ca)ht[At]=$e&32767,At=(At<<5^Ye[$e])&32767,++$e;pt-=Zt-1}else mt<=143?mt=mt+48:Ue=De(ze,Ue,1),Ue=Ke(ze,Ue,Z[mt]),ht[At]=$e&32767,++$e}Ue=Ke(ze,Ue,0)-1}return ze.l=(Ue+7)/8|0,ze.l}return function(ze,Ue){return ze.length<8?Ne(ze,Ue):Ie(ze,Ue)}}();function gt(te){var be=Je(50+Math.floor(te.length*1.1)),me=st(te,be);return be.slice(0,me)}var _t=re?new Uint16Array(32768):wt(32768),wr=re?new Uint16Array(32768):wt(32768),er=re?new Uint16Array(128):wt(128),Ht=1,Gt=1;function _r(te,be){var me=Ae(te,be)+257;be+=5;var pe=Ae(te,be)+1;be+=5;var ve=de(te,be)+4;be+=4;for(var Ne=0,Ie=re?new Uint8Array(19):wt(19),Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,Ue=re?new Uint8Array(8):wt(8),$e=re?new Uint8Array(8):wt(8),ht=Ie.length,pt=0;pt<ve;++pt)Ie[R[pt]]=Ne=Ge(te,be),ze<Ne&&(ze=Ne),Ue[Ne]++,be+=3;var At=0;for(Ue[0]=0,pt=1;pt<=ze;++pt)$e[pt]=At=At+Ue[pt-1]<<1;for(pt=0;pt<ht;++pt)(At=Ie[pt])!=0&&(Ye[pt]=$e[At]++);var mt=0;for(pt=0;pt<ht;++pt)if(mt=Ie[pt],mt!=0){At=Z[Ye[pt]]>>8-mt;for(var Nt=(1<<7-mt)-1;Nt>=0;--Nt)er[At|Nt<<mt]=mt&7|pt<<3}var Zt=[];for(ze=1;Zt.length<me+pe;)switch(At=er[je(te,be)],be+=At&7,At>>>=3){case 16:for(Ne=3+Oe(te,be),be+=2,At=Zt[Zt.length-1];Ne-- >0;)Zt.push(At);break;case 17:for(Ne=3+Ge(te,be),be+=3;Ne-- >0;)Zt.push(0);break;case 18:for(Ne=11+je(te,be),be+=7;Ne-- >0;)Zt.push(0);break;default:Zt.push(At),ze<At&&(ze=At);break}var Vr=Zt.slice(0,me),vr=Zt.slice(me);for(pt=me;pt<286;++pt)Vr[pt]=0;for(pt=pe;pt<30;++pt)vr[pt]=0;return Ht=it(Vr,_t,286),Gt=it(vr,wr,30),be}function Ct(te,be){if(te[0]==3&&!(te[1]&3))return[wh(be),2];for(var me=0,pe=0,ve=uS(be||1<<18),Ne=0,Ie=ve.length>>>0,Ye=0,ze=0;!(pe&1);){if(pe=Ge(te,me),me+=3,pe>>>1)pe>>1==1?(Ye=9,ze=5):(me=_r(te,me),Ye=Ht,ze=Gt);else{me&7&&(me+=8-(me&7));var Ue=te[me>>>3]|te[(me>>>3)+1]<<8;if(me+=32,Ue>0)for(!be&&Ie<Ne+Ue&&(ve=yt(ve,Ne+Ue),Ie=ve.length);Ue-- >0;)ve[Ne++]=te[me>>>3],me+=8;continue}for(;;){!be&&Ie<Ne+32767&&(ve=yt(ve,Ne+32767),Ie=ve.length);var $e=et(te,me,Ye),ht=pe>>>1==1?jt[$e]:_t[$e];if(me+=ht&15,ht>>>=4,!(ht>>>8&255))ve[Ne++]=ht;else{if(ht==256)break;ht-=257;var pt=ht<8?0:ht-4>>2;pt>5&&(pt=0);var At=Ne+W[ht];pt>0&&(At+=et(te,me,pt),me+=pt),$e=et(te,me,ze),ht=pe>>>1==1?Et[$e]:wr[$e],me+=ht&15,ht>>>=4;var mt=ht<4?0:ht-2>>1,Nt=X[ht];for(mt>0&&(Nt+=et(te,me,mt),me+=mt),!be&&Ie<At&&(ve=yt(ve,At+100),Ie=ve.length);Ne<At;)ve[Ne]=ve[Ne-Nt],++Ne}}}return be?[ve,me+7>>>3]:[ve.slice(0,Ne),me+7>>>3]}function lt(te,be){var me=te.slice(te.l||0),pe=Ct(me,be);return te.l+=pe[1],pe[0]}function It(te,be){if(te)typeof console<"u"&&console.error(be);else throw new Error(be)}function qt(te,be){var me=te;Zi(me,0);var pe=[],ve=[],Ne={FileIndex:pe,FullPaths:ve};F(Ne,{root:be.root});for(var Ie=me.length-4;(me[Ie]!=80||me[Ie+1]!=75||me[Ie+2]!=5||me[Ie+3]!=6)&&Ie>=0;)--Ie;me.l=Ie+4,me.l+=4;var Ye=me.read_shift(2);me.l+=6;var ze=me.read_shift(4);for(me.l=ze,Ie=0;Ie<Ye;++Ie){me.l+=20;var Ue=me.read_shift(4),$e=me.read_shift(4),ht=me.read_shift(2),pt=me.read_shift(2),At=me.read_shift(2);me.l+=8;var mt=me.read_shift(4),Nt=l(me.slice(me.l+ht,me.l+ht+pt));me.l+=ht+pt+At;var Zt=me.l;me.l=mt+4,Er(me,Ue,$e,Ne,Nt),me.l=Zt}return Ne}function Er(te,be,me,pe,ve){te.l+=2;var Ne=te.read_shift(2),Ie=te.read_shift(2),Ye=o(te);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var ze=te.read_shift(4),Ue=te.read_shift(4),$e=te.read_shift(4),ht=te.read_shift(2),pt=te.read_shift(2),At="",mt=0;mt<ht;++mt)At+=String.fromCharCode(te[te.l++]);if(pt){var Nt=l(te.slice(te.l,te.l+pt));(Nt[21589]||{}).mt&&(Ye=Nt[21589].mt),((ve||{})[21589]||{}).mt&&(Ye=ve[21589].mt)}te.l+=pt;var Zt=te.slice(te.l,te.l+Ue);switch(Ie){case 8:Zt=z(te,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var Vr=!1;Ne&8&&(ze=te.read_shift(4),ze==134695760&&(ze=te.read_shift(4),Vr=!0),Ue=te.read_shift(4),$e=te.read_shift(4)),Ue!=be&&It(Vr,"Bad compressed size: "+be+" != "+Ue),$e!=me&&It(Vr,"Bad uncompressed size: "+me+" != "+$e),In(pe,At,Zt,{unsafe:!0,mt:Ye})}function Qt(te,be){var me=be||{},pe=[],ve=[],Ne=Je(1),Ie=me.compression?8:0,Ye=0,ze=0,Ue=0,$e=0,ht=0,pt=te.FullPaths[0],At=pt,mt=te.FileIndex[0],Nt=[],Zt=0;for(ze=1;ze<te.FullPaths.length;++ze)if(At=te.FullPaths[ze].slice(pt.length),mt=te.FileIndex[ze],!(!mt.size||!mt.content||At=="Sh33tJ5")){var Vr=$e,vr=Je(At.length);for(Ue=0;Ue<At.length;++Ue)vr.write_shift(1,At.charCodeAt(Ue)&127);vr=vr.slice(0,vr.l),Nt[ht]=WG.buf(mt.content,0);var Ca=mt.content;Ie==8&&(Ca=O(Ca)),Ne=Je(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Ye),Ne.write_shift(2,Ie),mt.mt?i(Ne,mt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Nt[ht]),Ne.write_shift(4,Ca.length),Ne.write_shift(4,mt.content.length),Ne.write_shift(2,vr.length),Ne.write_shift(2,0),$e+=Ne.length,pe.push(Ne),$e+=vr.length,pe.push(vr),$e+=Ca.length,pe.push(Ca),Ne=Je(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Ye),Ne.write_shift(2,Ie),Ne.write_shift(4,0),Ne.write_shift(-4,Nt[ht]),Ne.write_shift(4,Ca.length),Ne.write_shift(4,mt.content.length),Ne.write_shift(2,vr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Vr),Zt+=Ne.l,ve.push(Ne),Zt+=vr.length,ve.push(vr),++ht}return Ne=Je(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,ht),Ne.write_shift(2,ht),Ne.write_shift(4,Zt),Ne.write_shift(4,$e),Ne.write_shift(2,0),os([os(pe),os(ve),Ne])}var Ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pr(te,be){if(te.ctype)return te.ctype;var me=te.name||"",pe=me.match(/\.([^\.]+)$/);return pe&&Ot[pe[1]]||be&&(pe=(me=be).match(/[\.\\]([^\.\\])+$/),pe&&Ot[pe[1]])?Ot[pe[1]]:"application/octet-stream"}function Qs(te){for(var be=Ug(te),me=[],pe=0;pe<be.length;pe+=76)me.push(be.slice(pe,pe+76));return me.join(`\r
`)+`\r
`}function un(te){var be=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],pe=be.split(`\r
`),ve=0;ve<pe.length;++ve){var Ne=pe[ve];if(Ne.length==0){me.push("");continue}for(var Ie=0;Ie<Ne.length;){var Ye=76,ze=Ne.slice(Ie,Ie+Ye);ze.charAt(Ye-1)=="="?Ye--:ze.charAt(Ye-2)=="="?Ye-=2:ze.charAt(Ye-3)=="="&&(Ye-=3),ze=Ne.slice(Ie,Ie+Ye),Ie+=Ye,Ie<Ne.length&&(ze+="="),me.push(ze)}}return me.join(`\r
`)}function Li(te){for(var be=[],me=0;me<te.length;++me){for(var pe=te[me];me<=te.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+te[++me];be.push(pe)}for(var ve=0;ve<be.length;++ve)be[ve]=be[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return kl(be.join(`\r
`))}function ei(te,be,me){for(var pe="",ve="",Ne="",Ie,Ye=0;Ye<10;++Ye){var ze=be[Ye];if(!ze||ze.match(/^\s*$/))break;var Ue=ze.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":pe=Ue[2].trim();break;case"content-type":Ne=Ue[2].trim();break;case"content-transfer-encoding":ve=Ue[2].trim();break}}switch(++Ye,ve.toLowerCase()){case"base64":Ie=kl(rd(be.slice(Ye).join("")));break;case"quoted-printable":Ie=Li(be.slice(Ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var $e=In(te,pe.slice(me.length),Ie,{unsafe:!0});Ne&&($e.ctype=Ne)}function $t(te,be){if(fe(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=be&&be.root||"",pe=(Br&&Buffer.isBuffer(te)?te.toString("binary"):fe(te)).split(`\r
`),ve=0,Ne="";for(ve=0;ve<pe.length;++ve)if(Ne=pe[ve],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),me||(me=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ne.slice(0,me.length)!=me););var Ie=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var Ye="--"+(Ie[1]||""),ze=[],Ue=[],$e={FileIndex:ze,FullPaths:Ue};F($e);var ht,pt=0;for(ve=0;ve<pe.length;++ve){var At=pe[ve];At!==Ye&&At!==Ye+"--"||(pt++&&ei($e,pe.slice(ht,ve),me),ht=ve)}return $e}function Pi(te,be){var me=be||{},pe=me.boundary||"SheetJS";pe="------="+pe;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],Ne=te.FullPaths[0],Ie=Ne,Ye=te.FileIndex[0],ze=1;ze<te.FullPaths.length;++ze)if(Ie=te.FullPaths[ze].slice(Ne.length),Ye=te.FileIndex[ze],!(!Ye.size||!Ye.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Ue=Ye.content,$e=Br&&Buffer.isBuffer(Ue)?Ue.toString("binary"):fe(Ue),ht=0,pt=Math.min(1024,$e.length),At=0,mt=0;mt<=pt;++mt)(At=$e.charCodeAt(mt))>=32&&At<128&&++ht;var Nt=ht>=pt*4/5;ve.push(pe),ve.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ie),ve.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ve.push("Content-Type: "+pr(Ye,Ie)),ve.push(""),ve.push(Nt?un($e):Qs($e))}return ve.push(pe+`--\r
`),ve.join(`\r
`)}function Mi(te){var be={};return F(be,te),be}function In(te,be,me,pe){var ve=pe&&pe.unsafe;ve||F(te);var Ne=!ve&&oa.find(te,be);if(!Ne){var Ie=te.FullPaths[0];be.slice(0,Ie.length)==Ie?Ie=be:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+be).replace("//","/")),Ne={name:s(be),type:2},te.FileIndex.push(Ne),te.FullPaths.push(Ie),ve||oa.utils.cfb_gc(te)}return Ne.content=me,Ne.size=me?me.length:0,pe&&(pe.CLSID&&(Ne.clsid=pe.CLSID),pe.mt&&(Ne.mt=pe.mt),pe.ct&&(Ne.ct=pe.ct)),Ne}function ms(te,be){F(te);var me=oa.find(te,be);if(me){for(var pe=0;pe<te.FileIndex.length;++pe)if(te.FileIndex[pe]==me)return te.FileIndex.splice(pe,1),te.FullPaths.splice(pe,1),!0}return!1}function Tr(te,be,me){F(te);var pe=oa.find(te,be);if(pe){for(var ve=0;ve<te.FileIndex.length;++ve)if(te.FileIndex[ve]==pe)return te.FileIndex[ve].name=s(me),te.FullPaths[ve]=me,!0}return!1}function St(te){P(te,!0)}return t.find=I,t.read=H,t.parse=h,t.write=Se,t.writeFile=oe,t.utils={cfb_new:Mi,cfb_add:In,cfb_del:ms,cfb_mov:Tr,cfb_gc:St,ReadShift:sg,CheckField:dL,prep_blob:Zi,bconcat:os,use_zlib:A,_deflateRaw:gt,_inflateRaw:lt,consts:xe},t}();function GG(e){return typeof e=="string"?rv(e):Array.isArray(e)?vG(e):e}function xp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=rv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?qg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([GG(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=pp(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function fs(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function vS(e,t){for(var r=[],a=fs(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function o4(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function sv(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function YG(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var h1=new Date(1899,11,30,0,0,0);function Ai(e,t){var r=e.getTime(),a=h1.getTime()+(e.getTimezoneOffset()-h1.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var G7=new Date,KG=h1.getTime()+(G7.getTimezoneOffset()-h1.getTimezoneOffset())*6e4,bS=G7.getTimezoneOffset();function Y7(e){var t=new Date;return t.setTime(e*24*60*60*1e3+KG),t.getTimezoneOffset()!==bS&&t.setTime(t.getTime()+(t.getTimezoneOffset()-bS)*6e4),t}var wS=new Date("2017-02-19T19:06:09.000Z"),K7=isNaN(wS.getFullYear())?new Date("2/19/17"):wS,ZG=K7.getFullYear()==2017;function Zs(e,t){var r=new Date(e);if(ZG)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(K7.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function iv(e,t){if(Br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function Ei(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ei(e[r]));return t}function Xa(e,t){for(var r="";r.length<t;)r+=e;return r}function Wc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var XG=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vg(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&XG.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function mr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Br?a=ld(r):a=bG(r),oa.utils.cfb_add(e,t,a)}oa.utils.cfb_add(e,t,r)}else e.file(t,r)}function l4(){return oa.utils.cfb_new()}var jn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},c4=o4(JG),d4=/[&<>'"]/g,QG=/[\u0000-\u0008\u000b-\u001f]/g;function na(e){var t=e+"";return t.replace(d4,function(r){return c4[r]}).replace(QG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _S(e){return na(e).replace(/ /g,"_x0020_")}var Z7=/[\u0000-\u001f]/g;function eY(e){var t=e+"";return t.replace(d4,function(r){return c4[r]}).replace(/\n/g,"<br/>").replace(Z7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function tY(e){var t=e+"";return t.replace(d4,function(r){return c4[r]}).replace(Z7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function rY(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function aY(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Wb(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function NS(e){var t=wh(2*e.length),r,a,s=1,i=0,o=0,l;for(a=0;a<e.length;a+=s)s=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function kS(e){return ld(e,"binary").toString("utf8")}var kx="foo bar baz",ng=Br&&(kS(kx)==Wb(kx)&&kS||NS(kx)==Wb(kx)&&NS)||Wb,qg=Br?function(e){return ld(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},nY=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),X7=/(^\s|\s$|\n)/;function ls(e,t){return"<"+e+(t.match(X7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function $g(e){return fs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function vt(e,t,r){return"<"+e+(r!=null?$g(r):"")+(t!=null?(t.match(X7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Xw(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function sY(e,t){switch(typeof e){case"string":var r=vt("vt:lpwstr",na(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return vt((e|0)==e?"vt:i4":"vt:r8",na(String(e)));case"boolean":return vt("vt:bool",e?"true":"false")}if(e instanceof Date)return vt("vt:filetime",Xw(e));throw new Error("Unable to serialize "+e)}var Vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ji={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iY(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function oY(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var jS=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},SS=Br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ld(t)})):jS(e)}:jS,AS=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(Pm(e,s)));return a.join("").replace(ag,"")},u4=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ag,""):AS(e,t,r)}:AS,ES=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},J7=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ES(e,t,r)}:ES,TS=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(w0(e,s)));return a.join("")},yp=Br?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):TS(t,r,a)}:TS,Q7=function(e,t){var r=Qi(e,t);return r>0?yp(e,t+4,t+4+r-1):""},eL=Q7,tL=function(e,t){var r=Qi(e,t);return r>0?yp(e,t+4,t+4+r-1):""},rL=tL,aL=function(e,t){var r=2*Qi(e,t);return r>0?yp(e,t+4,t+4+r-1):""},nL=aL,sL=function(t,r){var a=Qi(t,r);return a>0?u4(t,r+4,r+4+a):""},iL=sL,oL=function(e,t){var r=Qi(e,t);return r>0?yp(e,t+4,t+4+r):""},lL=oL,cL=function(e,t){return iY(e,t)},f1=cL,h4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Br&&(eL=function(t,r){if(!Buffer.isBuffer(t))return Q7(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},rL=function(t,r){if(!Buffer.isBuffer(t))return tL(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},nL=function(t,r){if(!Buffer.isBuffer(t))return aL(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},iL=function(t,r){if(!Buffer.isBuffer(t))return sL(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},lL=function(t,r){if(!Buffer.isBuffer(t))return oL(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},f1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):cL(t,r)},h4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var w0=function(e,t){return e[t]},Pm=function(e,t){return e[t+1]*256+e[t]},lY=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ju=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},cY=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function sg(e,t){var r="",a,s,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Pm(this,u)),u+=2;e*=2;break;case"utf8":r=yp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=u4(this,this.l,this.l+e);break;case"wstr":return sg.call(this,e,"dbcs");case"lpstr-ansi":r=eL(this,this.l),e=4+Qi(this,this.l);break;case"lpstr-cp":r=rL(this,this.l),e=4+Qi(this,this.l);break;case"lpwstr":r=nL(this,this.l),e=4+2*Qi(this,this.l);break;case"lpp4":e=4+Qi(this,this.l),r=iL(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qi(this,this.l),r=lL(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=w0(this,this.l+e++))!==0;)i.push(wx(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Pm(this,this.l+e))!==0;)i.push(wx(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=w0(this,u),this.l=u+1,l=sg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(wx(Pm(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=w0(this,u),this.l=u+1,l=sg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(wx(w0(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return a=w0(this,this.l),this.l++,a;case 2:return a=(t==="i"?lY:Pm)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?Ju:cY)(this,this.l),this.l+=4,a):(s=Qi(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=f1(this,this.l):s=f1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=J7(this,this.l,e);break}}return this.l+=e,r}var dY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uY=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function fY(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)hY(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,dY(this,t,this.l);break;case 8:if(a=8,r==="f"){oY(this,t,this.l);break}case 16:break;case-4:a=4,uY(this,t,this.l);break}return this.l+=a,this}function dL(e,t){var r=J7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Zi(e,t){e.l=t,e.read_shift=sg,e.chk=dL,e.write_shift=fY}function uc(e,t){e.l+=t}function Je(e){var t=wh(e);return Zi(t,0),t}function ki(){var e=[],t=Br?256:2048,r=function(u){var h=Je(u);return Zi(h,0),h},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(u){return a&&u<a.length-a.l?a:(s(),a=r(Math.max(u+1,t)))},o=function(){return s(),os(e)},l=function(u){s(),a=u,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function dt(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=iee[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&h4(r)&&e.push(r)}}function ig(e,t,r){var a=Ei(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function CS(e,t,r){var a=Ei(e);return a.s=ig(a.s,t.s,r),a.e=ig(a.e,t.s,r),a}function og(e,t){if(e.cRel&&e.c<0)for(e=Ei(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ei(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sa(e);return!e.cRel&&e.cRel!=null&&(r=pY(r)),!e.rRel&&e.rRel!=null&&(r=mY(r)),r}function Gb(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Cs(e.s.c)+":"+(e.e.cRel?"":"$")+Cs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+hs(e.s.r)+":"+(e.e.rRel?"":"$")+hs(e.e.r):og(e.s,t.biff)+":"+og(e.e,t.biff)}function f4(e){return parseInt(gY(e),10)-1}function hs(e){return""+(e+1)}function mY(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gY(e){return e.replace(/\$(\d+)$/,"$1")}function m4(e){for(var t=xY(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Cs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function pY(e){return e.replace(/^([A-Z])/,"$$$1")}function xY(e){return e.replace(/^\$([A-Z])/,"$1")}function yY(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function sa(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function fo(e){var t=e.indexOf(":");return t==-1?{s:qn(e),e:qn(e)}:{s:qn(e.slice(0,t)),e:qn(e.slice(t+1))}}function Nn(e,t){return typeof t>"u"||typeof t=="number"?Nn(e.s,e.e):(typeof e!="string"&&(e=sa(e)),typeof t!="string"&&(t=sa(t)),e==t?e:e+":"+t)}function Ta(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function LS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=mu(e.z,r?Ai(t):t)}catch{}try{return e.w=mu((e.XF||{}).numFmtId||(r?14:0),r?Ai(t):t)}catch{return""+t}}function ad(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vp[e.v]||e.v:t==null?LS(e,e.v):LS(e,t))}function Mh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function uL(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?qn(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Ta(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var g={v:t[f][m]},y=o+f,x=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>x&&(u.s.c=x),u.e.r<y&&(u.e.r=y),u.e.c<x&&(u.e.c=x),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))g=t[f][m];else if(Array.isArray(g.v)&&(g.f=t[f][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(a.nullError)g.t="e",g.v=0;else if(a.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=a.dateNF||Qa[14],a.cellDates?(g.t="d",g.w=mu(g.z,Ai(g.v))):(g.t="n",g.v=Ai(g.v),g.w=mu(g.z,g.v))):g.t="s";if(s)i[y]||(i[y]=[]),i[y][x]&&i[y][x].z&&(g.z=i[y][x].z),i[y][x]=g;else{var N=sa({c:x,r:y});i[N]&&i[N].z&&(g.z=i[N].z),i[N]=g}}}return u.s.c<1e7&&(i["!ref"]=Nn(u)),i}function qf(e,t){return uL(null,e,t)}function vY(e){return e.read_shift(4,"i")}function Cl(e,t){return t||(t=Je(4)),t.write_shift(4,e),t}function Ls(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $n(e,t){var r=!1;return t==null&&(r=!0,t=Je(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function bY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function wY(e,t){return t||(t=Je(4)),t.write_shift(2,0),t.write_shift(2,0),t}function g4(e,t){var r=e.l,a=e.read_shift(1),s=Ls(e),i=[],o={t:s,h:s};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(bY(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function _Y(e,t){var r=!1;return t==null&&(r=!0,t=Je(15+4*e.t.length)),t.write_shift(1,0),$n(e.t,t),r?t.slice(0,t.l):t}var NY=g4;function kY(e,t){var r=!1;return t==null&&(r=!0,t=Je(23+4*e.t.length)),t.write_shift(1,1),$n(e.t,t),t.write_shift(4,1),wY({},t),r?t.slice(0,t.l):t}function Wo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Rh(e,t){return t==null&&(t=Je(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Oh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Dh(e,t){return t==null&&(t=Je(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var jY=Ls,hL=$n;function p4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function m1(e,t){var r=!1;return t==null&&(r=!0,t=Je(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var SY=Ls,Jw=p4,x4=m1;function fL(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?f1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ju(t,0)>>2;return r?s/100:s}function mL(e,t){t==null&&(t=Je(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function gL(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function AY(e,t){return t||(t=Je(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ih=gL,$f=AY;function Hf(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _h(e,t){return(t||Je(8)).write_shift(8,e,"f")}function EY(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var u=IY[s];u&&(t.rgb=VS(u));break;case 2:t.rgb=VS([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function g1(e,t){if(t||(t=Je(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function TY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function CY(e,t){t||(t=Je(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var pL=2,Yi=3,jx=11,p1=19,Sx=64,LY=65,PY=71,MY=4108,RY=4126,ns=80,PS={1:{n:"CodePage",t:pL},2:{n:"Category",t:ns},3:{n:"PresentationFormat",t:ns},4:{n:"ByteCount",t:Yi},5:{n:"LineCount",t:Yi},6:{n:"ParagraphCount",t:Yi},7:{n:"SlideCount",t:Yi},8:{n:"NoteCount",t:Yi},9:{n:"HiddenCount",t:Yi},10:{n:"MultimediaClipCount",t:Yi},11:{n:"ScaleCrop",t:jx},12:{n:"HeadingPairs",t:MY},13:{n:"TitlesOfParts",t:RY},14:{n:"Manager",t:ns},15:{n:"Company",t:ns},16:{n:"LinksUpToDate",t:jx},17:{n:"CharacterCount",t:Yi},19:{n:"SharedDoc",t:jx},22:{n:"HyperlinksChanged",t:jx},23:{n:"AppVersion",t:Yi,p:"version"},24:{n:"DigSig",t:LY},26:{n:"ContentType",t:ns},27:{n:"ContentStatus",t:ns},28:{n:"Language",t:ns},29:{n:"Version",t:ns},255:{},2147483648:{n:"Locale",t:p1},2147483651:{n:"Behavior",t:p1},1919054434:{}},MS={1:{n:"CodePage",t:pL},2:{n:"Title",t:ns},3:{n:"Subject",t:ns},4:{n:"Author",t:ns},5:{n:"Keywords",t:ns},6:{n:"Comments",t:ns},7:{n:"Template",t:ns},8:{n:"LastAuthor",t:ns},9:{n:"RevNumber",t:ns},10:{n:"EditTime",t:Sx},11:{n:"LastPrinted",t:Sx},12:{n:"CreatedDate",t:Sx},13:{n:"ModifiedDate",t:Sx},14:{n:"PageCount",t:Yi},15:{n:"WordCount",t:Yi},16:{n:"CharCount",t:Yi},17:{n:"Thumbnail",t:PY},18:{n:"Application",t:ns},19:{n:"DocSecurity",t:Yi},255:{},2147483648:{n:"Locale",t:p1},2147483651:{n:"Behavior",t:p1},1919054434:{}};function OY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var DY=OY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),IY=Ei(DY),vp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ax={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yL(e,t){var r=YG(FY),a=[],s;a[a.length]=jn,a[a.length]=vt("Types",null,{xmlns:Vn.CT,"xmlns:xsd":Vn.xsd,"xmlns:xsi":Vn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return vt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=vt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Ax[c][t.bookType]||Ax[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){a[a.length]=vt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ax[c][t.bookType]||Ax[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){a[a.length]=vt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function vL(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function af(e){var t=[jn,vt("Relationships",null,{xmlns:Vn.RELS})];return fs(e["!id"]).forEach(function(r){t[t.length]=vt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ea(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Ir.HLINK,Ir.XPATH,Ir.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function BY(e){var t=[jn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function RS(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function zY(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function UY(e){var t=[jn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(RS(e[r][0],e[r][1])),t.push(zY("",e[r][0]));return t.push(RS("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function bL(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+o1.version+"</meta:generator></office:meta></office:document-meta>"}var lh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Yb(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=na(t),a[a.length]=r?vt(e,t,r):ls(e,t))}function wL(e,t){var r=t||{},a=[jn,vt("cp:coreProperties",null,{"xmlns:cp":Vn.CORE_PROPS,"xmlns:dc":Vn.dc,"xmlns:dcterms":Vn.dcterms,"xmlns:dcmitype":Vn.dcmitype,"xmlns:xsi":Vn.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Yb("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Xw(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&Yb("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Xw(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=lh.length;++i){var o=lh[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Yb(o[0],l,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var nf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],_L=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NL(e){var t=[],r=vt;return e||(e={}),e.Application="SheetJS",t[t.length]=jn,t[t.length]=vt("Properties",null,{xmlns:Vn.EXT_PROPS,"xmlns:vt":Vn.vt}),nf.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=na(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+na(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function kL(e){var t=[jn,vt("Properties",null,{xmlns:Vn.CUST_PROPS,"xmlns:vt":Vn.vt})];if(!e)return t.join("");var r=1;return fs(e).forEach(function(s){++r,t[t.length]=vt("property",sY(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:na(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var OS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function VY(e,t){var r=[];return fs(OS).map(function(a){for(var s=0;s<lh.length;++s)if(lh[s][1]==a)return lh[s];for(s=0;s<nf.length;++s)if(nf[s][1]==a)return nf[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(ls(OS[a[1]]||a[1],s))}}),vt("DocumentProperties",r.join(""),{xmlns:Ji.o})}function qY(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&fs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<lh.length;++o)if(i==lh[o][1])return;for(o=0;o<nf.length;++o)if(i==nf[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(vt(_S(i),l,{"dt:dt":c}))}}),t&&fs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(vt(_S(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+Ji.o+'">'+s.join("")+"</"+a+">"}function $Y(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=Je(8);return o.write_shift(4,a),o.write_shift(4,s),o}function DS(e,t){var r=Je(4),a=Je(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Je(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=$Y(t);break;case 31:case 80:for(a=Je(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return os([r,a])}var jL=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function HY(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function IS(e,t,r){var a=Je(8),s=[],i=[],o=8,l=0,c=Je(8),u=Je(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),o+=8+c.length,!t){u=Je(8),u.write_shift(4,0),s.unshift(u);var h=[Je(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Je(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=os(h),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(jL.indexOf(e[l][0])>-1||_L.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],g=0;if(t){g=+t[e[l][0]];var y=r[g];if(y.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=DS(y.t,m)}else{var N=HY(m);N==-1&&(N=31,m=String(m)),c=DS(N,m)}i.push(c),u=Je(8),u.write_shift(4,t?g:2+l),s.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,b),b+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),os([a].concat(s).concat(i))}function FS(e,t,r,a,s,i){var o=Je(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,oa.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=IS(e,r,a);if(l.push(c),s){var u=IS(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return os(l)}function WY(e,t){t||(t=Je(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function GY(e,t){return e.read_shift(t)===1}function qs(e,t){return t||(t=Je(2)),t.write_shift(2,+!!e),t}function SL(e){return e.read_shift(2,"u")}function Co(e,t){return t||(t=Je(2)),t.write_shift(2,e),t}function AL(e,t,r){return r||(r=Je(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function EL(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function YY(e){var t=e.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Je(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return os(s)}function KY(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function ZY(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):KY(e,a,r)}function XY(e,t,r){if(r.biff>5)return ZY(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function TL(e,t,r){return r||(r=Je(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function BS(e,t){t||(t=Je(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function JY(e){var t=Je(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),BS(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&BS(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Nh(e,t,r,a){return a||(a=Je(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function QY(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function eK(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function CL(e,t){return t||(t=Je(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function y4(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Je(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function tK(e,t){var r=!t||t.biff==8,a=Je(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function rK(e,t){var r=!t||t.biff>=8?2:1,a=Je(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function aK(e,t){var r=Je(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=YY(e[s]);var i=os([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function nK(){var e=Je(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function sK(e){var t=Je(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function iK(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=Je(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function oK(e,t,r,a){var s=Je(10);return Nh(e,t,a,s),s.write_shift(4,r),s}function lK(e,t,r,a,s){var i=!s||s.biff==8,o=Je(8+ +i+(1+i)*r.length);return Nh(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function cK(e,t,r,a){var s=r&&r.biff==5;a||(a=Je(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function dK(e,t){var r=t.biff==8||!t.biff?4:2,a=Je(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function zS(e,t,r,a){var s=r&&r.biff==5;a||(a=Je(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function uK(e){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function hK(e,t,r,a,s,i){var o=Je(8);return Nh(e,t,a,o),AL(r,i,o),o}function fK(e,t,r,a){var s=Je(14);return Nh(e,t,a,s),_h(r,s),s}function mK(e,t,r){if(r.biff<8)return gK(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(QY(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function gK(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=EL(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function pK(e){var t=Je(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)CL(e[r],t);return t}function xK(e){var t=Je(24),r=qn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return os([t,JY(e[1])])}function yK(e){var t=e[1].Tooltip,r=Je(10+2*(t.length+1));r.write_shift(2,2048);var a=qn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function vK(e){return e||(e=Je(4)),e.write_shift(2,1),e.write_shift(2,1),e}function bK(e,t,r){if(!r.cellStyles)return uc(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function wK(e,t){var r=Je(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function _K(e){for(var t=Je(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function NK(e,t,r){var a=Je(15);return wp(a,e,t),a.write_shift(8,r,"f"),a}function kK(e,t,r){var a=Je(9);return wp(a,e,t),a.write_shift(2,r),a}var jK=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=o4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],h=wh(1);switch(c.type){case"base64":h=kl(rd(l));break;case"binary":h=kl(l);break;case"buffer":case"array":h=l;break}Zi(h,0);var f=h.read_shift(1),m=!!(f&136),g=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,N=521;f==2&&(x=h.read_shift(2)),h.l+=3,f!=2&&(x=h.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(N=h.read_shift(2));var b=h.read_shift(2),w=c.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var k=[],S={},B=Math.min(h.length,f==2?521:N-10-(g?264:0)),H=y?32:11;h.l<B&&h[h.l]!=13;)switch(S={},S.name=l1.utils.decode(w,h.slice(h.l,h.l+H)).replace(/[\u0000\r\n].*$/g,""),h.l+=H,S.type=String.fromCharCode(h.read_shift(1)),f!=2&&!y&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),f==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&k.push(S),f!=2&&(h.l+=y?13:14),S.type){case"B":(!g||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=N-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=N;var F=0,D=0;for(u[0]=[],D=0;D!=k.length;++D)u[0][D]=k[D].name;for(;x-- >0;){if(h[h.l]===42){h.l+=b;continue}for(++h.l,u[++F]=[],D=0,D=0;D!=k.length;++D){var P=h.slice(h.l,h.l+k[D].len);h.l+=k[D].len,Zi(P,0);var G=l1.utils.decode(w,P);switch(k[D].type){case"C":G.trim().length&&(u[F][D]=G.replace(/\s+$/,""));break;case"D":G.length===8?u[F][D]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):u[F][D]=G;break;case"F":u[F][D]=parseFloat(G.trim());break;case"+":case"I":u[F][D]=y?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":u[F][D]=!0;break;case"N":case"F":u[F][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[F][D]="##MEMO##"+(y?parseInt(G.trim(),10):P.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(u[F][D]=+G||0);break;case"@":u[F][D]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[F][D]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[F][D]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[F][D]=-P.read_shift(-8,"f");break;case"B":if(g&&k[D].len==8){u[F][D]=P.read_shift(8,"f");break}case"G":case"P":P.l+=k[D].len;break;case"0":if(k[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[D].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=k,u}function a(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=qf(r(l,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function s(l,c){try{return Mh(a(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&zg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=ki(),f=w1(l,{header:1,raw:!0,cellDates:!0}),m=f[0],g=f.slice(1),y=l["!cols"]||[],x=0,N=0,b=0,w=1;for(x=0;x<m.length;++x){if(((y[x]||{}).DBF||{}).name){m[x]=y[x].DBF.name,++b;continue}if(m[x]!=null){if(++b,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(N=0;N<1024;++N)if(m.indexOf(m[x]+"_"+N)==-1){m[x]+="_"+N;break}}}}var k=Ta(l["!ref"]),S=[],B=[],H=[];for(x=0;x<=k.e.c-k.s.c;++x){var F="",D="",P=0,G=[];for(N=0;N<g.length;++N)g[N][x]!=null&&G.push(g[N][x]);if(G.length==0||m[x]==null){S[x]="?";continue}for(N=0;N<G.length;++N){switch(typeof G[N]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=G[N]instanceof Date?"D":"C";break;default:D="C"}P=Math.max(P,String(G[N]).length),F=F&&F!=D?"C":D}P>250&&(P=250),D=((y[x]||{}).DBF||{}).type,D=="C"&&y[x].DBF.len>P&&(P=y[x].DBF.len),F=="B"&&D=="N"&&(F="N",H[x]=y[x].DBF.dec,P=y[x].DBF.len),B[x]=F=="C"||D=="N"?P:i[F]||0,w+=B[x],S[x]=F}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,g.length),I.write_shift(2,296+32*b),I.write_shift(2,w),x=0;x<4;++x)I.write_shift(4,0);for(I.write_shift(4,0|(+t[P7]||3)<<8),x=0,N=0;x<m.length;++x)if(m[x]!=null){var q=h.next(32),Y=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,Y,"sbcs"),q.write_shift(1,S[x]=="?"?"C":S[x],"sbcs"),q.write_shift(4,N),q.write_shift(1,B[x]||i[S[x]]||0),q.write_shift(1,H[x]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),N+=B[x]||i[S[x]]||0}var ee=h.next(264);for(ee.write_shift(4,13),x=0;x<65;++x)ee.write_shift(4,0);for(x=0;x<g.length;++x){var ue=h.next(w);for(ue.write_shift(1,0),N=0;N<m.length;++N)if(m[N]!=null)switch(S[N]){case"L":ue.write_shift(1,g[x][N]==null?63:g[x][N]?84:70);break;case"B":ue.write_shift(8,g[x][N]||0,"f");break;case"N":var le="0";for(typeof g[x][N]=="number"&&(le=g[x][N].toFixed(H[N]||0)),b=0;b<B[N]-le.length;++b)ue.write_shift(1,32);ue.write_shift(1,le,"sbcs");break;case"D":g[x][N]?(ue.write_shift(4,("0000"+g[x][N].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(g[x][N].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+g[x][N].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(g[x][N]!=null?g[x][N]:"").slice(0,B[N]);for(ue.write_shift(1,xe,"sbcs"),b=0;b<B[N]-xe.length;++b)ue.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),SK=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+fs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,g){var y=e[g];return typeof y=="number"?dS(y):y},a=function(m,g,y){var x=g.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?m:dS(x)};e["|"]=254;function s(m,g){switch(g.type){case"base64":return i(rd(m),g);case"binary":return i(m,g);case"buffer":return i(Br&&Buffer.isBuffer(m)?m.toString("binary"):pp(m),g);case"array":return i(iv(m),g)}throw new Error("Unrecognized type "+g.type)}function i(m,g){var y=m.split(/[\n\r]+/),x=-1,N=-1,b=0,w=0,k=[],S=[],B=null,H={},F=[],D=[],P=[],G=0,I;for(+g.codepage>=0&&zg(+g.codepage);b!==y.length;++b){G=0;var q=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),Y=q.replace(/;;/g,"\0").split(";").map(function(R){return R.replace(/\u0000/g,";")}),ee=Y[0],ue;if(q.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&S.push(q.slice(3).replace(/;;/g,";"));break;case"C":var le=!1,xe=!1,oe=!1,fe=!1,Se=-1,K=-1;for(w=1;w<Y.length;++w)switch(Y[w].charAt(0)){case"A":break;case"X":N=parseInt(Y[w].slice(1))-1,xe=!0;break;case"Y":for(x=parseInt(Y[w].slice(1))-1,xe||(N=0),I=k.length;I<=x;++I)k[I]=[];break;case"K":ue=Y[w].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(Wc(ue))?isNaN(Vg(ue).getDate())||(ue=Zs(ue)):(ue=Wc(ue),B!==null&&$7(B)&&(ue=Y7(ue))),le=!0;break;case"E":fe=!0;var A=kZ(Y[w].slice(1),{r:x,c:N});k[x][N]=[k[x][N],A];break;case"S":oe=!0,k[x][N]=[k[x][N],"S5S"];break;case"G":break;case"R":Se=parseInt(Y[w].slice(1))-1;break;case"C":K=parseInt(Y[w].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+q)}if(le&&(k[x][N]&&k[x][N].length==2?k[x][N][0]=ue:k[x][N]=ue,B=null),oe){if(fe)throw new Error("SYLK shared formula cannot have own formula");var z=Se>-1&&k[Se][K];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");k[x][N][1]=jZ(z[1],{r:x-Se,c:N-K})}break;case"F":var O=0;for(w=1;w<Y.length;++w)switch(Y[w].charAt(0)){case"X":N=parseInt(Y[w].slice(1))-1,++O;break;case"Y":for(x=parseInt(Y[w].slice(1))-1,I=k.length;I<=x;++I)k[I]=[];break;case"M":G=parseInt(Y[w].slice(1))/20;break;case"F":break;case"G":break;case"P":B=S[parseInt(Y[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=Y[w].slice(1).split(" "),I=parseInt(P[0],10);I<=parseInt(P[1],10);++I)G=parseInt(P[2],10),D[I-1]=G===0?{hidden:!0}:{wch:G},v4(D[I-1]);break;case"C":N=parseInt(Y[w].slice(1))-1,D[N]||(D[N]={});break;case"R":x=parseInt(Y[w].slice(1))-1,F[x]||(F[x]={}),G>0?(F[x].hpt=G,F[x].hpx=OL(G)):G===0&&(F[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+q)}O<1&&(B=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+q)}}return F.length>0&&(H["!rows"]=F),D.length>0&&(H["!cols"]=D),g&&g.sheetRows&&(k=k.slice(0,g.sheetRows)),[k,H]}function o(m,g){var y=s(m,g),x=y[0],N=y[1],b=qf(x,g);return fs(N).forEach(function(w){b[w]=N[w]}),b}function l(m,g){return Mh(o(m,g),g)}function c(m,g,y,x){var N="C;Y"+(y+1)+";X"+(x+1)+";K";switch(m.t){case"n":N+=m.v||0,m.f&&!m.F&&(N+=";E"+w4(m.f,{r:y,c:x}));break;case"b":N+=m.v?"TRUE":"FALSE";break;case"e":N+=m.w||m.v;break;case"d":N+='"'+(m.w||m.v)+'"';break;case"s":N+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function u(m,g){g.forEach(function(y,x){var N="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?N+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=x1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=y1(y.wpx)),typeof y.wch=="number"&&(N+=Math.round(y.wch))),N.charAt(N.length-1)!=" "&&m.push(N)})}function h(m,g){g.forEach(function(y,x){var N="F;";y.hidden?N+="M0;":y.hpt?N+="M"+20*y.hpt+";":y.hpx&&(N+="M"+20*v1(y.hpx)+";"),N.length>2&&m.push(N+"R"+(x+1))})}function f(m,g){var y=["ID;PWXL;N;E"],x=[],N=Ta(m["!ref"]),b,w=Array.isArray(m),k=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&h(y,m["!rows"]),y.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var S=N.s.r;S<=N.e.r;++S)for(var B=N.s.c;B<=N.e.c;++B){var H=sa({r:S,c:B});b=w?(m[S]||[])[B]:m[H],!(!b||b.v==null&&(!b.f||b.F))&&x.push(c(b,m,S,B))}return y.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),AK=function(){function e(i,o){switch(o.type){case"base64":return t(rd(i),o);case"binary":return t(i,o);case"buffer":return t(Br&&Buffer.isBuffer(i)?i.toString("binary"):pp(i),o);case"array":return t(iv(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,h=0,f=[];h!==l.length;++h){if(l[h].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[h].trim().split(","),g=m[0],y=m[1];++h;for(var x=l[h]||"";(x.match(/["]/g)||[]).length&1&&h<l.length-1;)x+=`
`+l[++h];switch(x=x.trim(),+g){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(Wc(y))?isNaN(Vg(y).getDate())?f[c][u]=y:f[c][u]=Zs(y):f[c][u]=Wc(y),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return qf(e(i,o),o)}function a(i,o){return Mh(r(i,o),o)}var s=function(){var i=function(c,u,h,f,m){c.push(u),c.push(h+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,h,f){c.push(u+","+h),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],h=Ta(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){o(u,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var x=sa({r:g,c:y});if(f=m?(c[g]||[])[y]:c[x],!f){o(u,1,0,"");continue}switch(f.t){case"n":var N=f.w;!N&&f.v!=null&&(N=f.v),N==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,N,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=mu(f.z||Qa[14],Ai(Zs(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,w=u.join(b);return w}}();return{to_workbook:a,to_sheet:r,from_sheet:s}}(),LL=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var g=f.split(`
`),y=-1,x=-1,N=0,b=[];N!==g.length;++N){var w=g[N].trim().split(":");if(w[0]==="cell"){var k=qn(w[1]);if(b.length<=k.r)for(y=b.length;y<=k.r;++y)b[y]||(b[y]=[]);switch(y=k.r,x=k.c,w[2]){case"t":b[y][x]=e(w[3]);break;case"v":b[y][x]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[y][x]=!!+w[4];break;default:b[y][x]=+w[4];break}w[2]=="vtf"&&(b[y][x]=[b[y][x],S])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(f,m){return qf(r(f,m),m)}function s(f,m){return Mh(a(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],g=[],y,x="",N=fo(f["!ref"]),b=Array.isArray(f),w=N.s.r;w<=N.e.r;++w)for(var k=N.s.c;k<=N.e.c;++k)if(x=sa({r:w,c:k}),y=b?(f[w]||[])[k]:f[x],!(!y||y.v==null||y.t==="z")){switch(g=["cell",x,"t"],y.t){case"s":case"str":g.push(t(y.v));break;case"n":y.f?(g[2]="vtf",g[3]="n",g[4]=y.v,g[5]=t(y.f)):(g[2]="v",g[3]=y.v);break;case"b":g[2]="vt"+(y.f?"f":"c"),g[3]="nl",g[4]=y.v?"1":"0",g[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var S=Ai(Zs(y.v));g[2]="vtc",g[3]="nd",g[4]=""+S,g[5]=y.w||mu(y.z||Qa[14],S);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function h(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:h}}(),EK=function(){function e(h,f,m,g,y){y.raw?f[m][g]=h:h===""||(h==="TRUE"?f[m][g]=!0:h==="FALSE"?f[m][g]=!1:isNaN(Wc(h))?isNaN(Vg(h).getDate())?f[m][g]=h:f[m][g]=Zs(h):f[m][g]=Wc(h))}function t(h,f){var m=f||{},g=[];if(!h||h.length===0)return g;for(var y=h.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var N=10,b=0,w=0;w<=x;++w)b=y[w].indexOf(" "),b==-1?b=y[w].length:b++,N=Math.max(N,b);for(w=0;w<=x;++w){g[w]=[];var k=0;for(e(y[w].slice(0,N).trim(),g,w,k,m),k=1;k<=(y[w].length-N)/10+1;++k)e(y[w].slice(N+(k-1)*10,N+k*10).trim(),g,w,k,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(h){for(var f={},m=!1,g=0,y=0;g<h.length;++g)(y=h.charCodeAt(g))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g]);if(!y.length){f=a;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g])}return y.sort(function(x,N){return x[0]-N[0]||a[x[1]]-a[N[1]]}),r[y.pop()[1]]||44}function i(h,f){var m=f||{},g="",y=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=s(h.slice(0,1024)):m&&m.FS?g=m.FS:g=s(h.slice(0,1024));var N=0,b=0,w=0,k=0,S=0,B=g.charCodeAt(0),H=!1,F=0,D=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var P=m.dateNF!=null?$G(m.dateNF):null;function G(){var I=h.slice(k,S),q={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)q.t="z";else if(m.raw)q.t="s",q.v=I;else if(I.trim().length===0)q.t="s",q.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(q.t="s",q.v=I.slice(2,-1).replace(/""/g,'"')):SZ(I)?(q.t="n",q.f=I.slice(1)):(q.t="s",q.v=I);else if(I=="TRUE")q.t="b",q.v=!0;else if(I=="FALSE")q.t="b",q.v=!1;else if(!isNaN(w=Wc(I)))q.t="n",m.cellText!==!1&&(q.w=I),q.v=w;else if(!isNaN(Vg(I).getDate())||P&&I.match(P)){q.z=m.dateNF||Qa[14];var Y=0;P&&I.match(P)&&(I=HG(I,m.dateNF,I.match(P)||[]),Y=1),m.cellDates?(q.t="d",q.v=Zs(I,Y)):(q.t="n",q.v=Ai(Zs(I,Y))),m.cellText!==!1&&(q.w=mu(q.z,q.v instanceof Date?Ai(q.v):q.v)),m.cellNF||delete q.z}else q.t="s",q.v=I;if(q.t=="z"||(m.dense?(y[N]||(y[N]=[]),y[N][b]=q):y[sa({c:b,r:N})]=q),k=S+1,D=h.charCodeAt(k),x.e.c<b&&(x.e.c=b),x.e.r<N&&(x.e.r=N),F==B)++b;else if(b=0,++N,m.sheetRows&&m.sheetRows<=N)return!0}e:for(;S<h.length;++S)switch(F=h.charCodeAt(S)){case 34:D===34&&(H=!H);break;case B:case 10:case 13:if(!H&&G())break e;break}return S-k>0&&G(),y["!ref"]=Nn(x),y}function o(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,f):qf(t(h,f),f)}function l(h,f){var m="",g=f.type=="string"?[0,0,0,0]:zee(h,f);switch(f.type){case"base64":m=rd(h);break;case"binary":m=h;break;case"buffer":f.codepage==65001?m=h.toString("utf8"):f.codepage&&typeof l1<"u"||(m=Br&&Buffer.isBuffer(h)?h.toString("binary"):pp(h));break;case"array":m=iv(h);break;case"string":m=h;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=ng(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=ng(m):f.type=="binary"&&typeof l1<"u",m.slice(0,19)=="socialcalc:version:"?LL.to_sheet(f.type=="string"?m:ng(m),f):o(m,f)}function c(h,f){return Mh(l(h,f),f)}function u(h){for(var f=[],m=Ta(h["!ref"]),g,y=Array.isArray(h),x=m.s.r;x<=m.e.r;++x){for(var N=[],b=m.s.c;b<=m.e.c;++b){var w=sa({r:x,c:b});if(g=y?(h[x]||[])[b]:h[w],!g||g.v==null){N.push("          ");continue}for(var k=(g.w||(ad(g),g.w)||"").slice(0,10);k.length<10;)k+=" ";N.push(k+(b===0?" ":""))}f.push(N.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),US=function(){function e(A,z,O){if(A){Zi(A,A.l||0);for(var R=O.Enum||Se;A.l<A.length;){var W=A.read_shift(2),X=R[W]||R[65535],ne=A.read_shift(2),re=A.l+ne,Z=X.f&&X.f(A,ne,O);if(A.l=re,z(Z,X,W))return}}}function t(A,z){switch(z.type){case"base64":return r(kl(rd(A)),z);case"binary":return r(kl(A),z);case"buffer":case"array":return r(A,z)}throw"Unsupported type "+z.type}function r(A,z){if(!A)return A;var O=z||{},R=O.dense?[]:{},W="Sheet1",X="",ne=0,re={},Z=[],ke=[],Le={s:{r:0,c:0},e:{r:0,c:0}},Oe=O.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)O.Enum=Se,e(A,function(je,et,ae){switch(ae){case 0:O.vers=je,je>=4096&&(O.qpro=!0);break;case 6:Le=je;break;case 204:je&&(X=je);break;case 222:X=je;break;case 15:case 51:O.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:ae==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=O.dateNF||Qa[14],O.cellDates&&(je[1].t="d",je[1].v=Y7(je[1].v))),O.qpro&&je[3]>ne&&(R["!ref"]=Nn(Le),re[W]=R,Z.push(W),R=O.dense?[]:{},Le={s:{r:0,c:0},e:{r:0,c:0}},ne=je[3],W=X||"Sheet"+(ne+1),X="");var De=O.dense?(R[je[0].r]||[])[je[0].c]:R[sa(je[0])];if(De){De.t=je[1].t,De.v=je[1].v,je[1].z!=null&&(De.z=je[1].z),je[1].f!=null&&(De.f=je[1].f);break}O.dense?(R[je[0].r]||(R[je[0].r]=[]),R[je[0].r][je[0].c]=je[1]):R[sa(je[0])]=je[1];break}},O);else if(A[2]==26||A[2]==14)O.Enum=K,A[2]==14&&(O.qpro=!0,A.l=0),e(A,function(je,et,ae){switch(ae){case 204:W=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ne&&(R["!ref"]=Nn(Le),re[W]=R,Z.push(W),R=O.dense?[]:{},Le={s:{r:0,c:0},e:{r:0,c:0}},ne=je[3],W="Sheet"+(ne+1)),Oe>0&&je[0].r>=Oe)break;O.dense?(R[je[0].r]||(R[je[0].r]=[]),R[je[0].r][je[0].c]=je[1]):R[sa(je[0])]=je[1],Le.e.c<je[0].c&&(Le.e.c=je[0].c),Le.e.r<je[0].r&&(Le.e.r=je[0].r);break;case 27:je[14e3]&&(ke[je[14e3][0]]=je[14e3][1]);break;case 1537:ke[je[0]]=je[1],je[0]==ne&&(W=je[1]);break}},O);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(R["!ref"]=Nn(Le),re[X||W]=R,Z.push(X||W),!ke.length)return{SheetNames:Z,Sheets:re};for(var Ge={},de=[],Ae=0;Ae<ke.length;++Ae)re[Z[Ae]]?(de.push(ke[Ae]||Z[Ae]),Ge[ke[Ae]]=re[ke[Ae]]||re[Z[Ae]]):(de.push(ke[Ae]),Ge[ke[Ae]]={"!ref":"A1"});return{SheetNames:de,Sheets:Ge}}function a(A,z){var O=z||{};if(+O.codepage>=0&&zg(+O.codepage),O.type=="string")throw new Error("Cannot write WK1 to JS string");var R=ki(),W=Ta(A["!ref"]),X=Array.isArray(A),ne=[];bt(R,0,i(1030)),bt(R,6,c(W));for(var re=Math.min(W.e.r,8191),Z=W.s.r;Z<=re;++Z)for(var ke=hs(Z),Le=W.s.c;Le<=W.e.c;++Le){Z===W.s.r&&(ne[Le]=Cs(Le));var Oe=ne[Le]+ke,Ge=X?(A[Z]||[])[Le]:A[Oe];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")(Ge.v|0)==Ge.v&&Ge.v>=-32768&&Ge.v<=32767?bt(R,13,g(Z,Le,Ge.v)):bt(R,14,x(Z,Le,Ge.v));else{var de=ad(Ge);bt(R,15,f(Z,Le,de.slice(0,239)))}}return bt(R,1),R.end()}function s(A,z){var O=z||{};if(+O.codepage>=0&&zg(+O.codepage),O.type=="string")throw new Error("Cannot write WK3 to JS string");var R=ki();bt(R,0,o(A));for(var W=0,X=0;W<A.SheetNames.length;++W)(A.Sheets[A.SheetNames[W]]||{})["!ref"]&&bt(R,27,fe(A.SheetNames[W],X++));var ne=0;for(W=0;W<A.SheetNames.length;++W){var re=A.Sheets[A.SheetNames[W]];if(!(!re||!re["!ref"])){for(var Z=Ta(re["!ref"]),ke=Array.isArray(re),Le=[],Oe=Math.min(Z.e.r,8191),Ge=Z.s.r;Ge<=Oe;++Ge)for(var de=hs(Ge),Ae=Z.s.c;Ae<=Z.e.c;++Ae){Ge===Z.s.r&&(Le[Ae]=Cs(Ae));var je=Le[Ae]+de,et=ke?(re[Ge]||[])[Ae]:re[je];if(!(!et||et.t=="z"))if(et.t=="n")bt(R,23,G(Ge,Ae,ne,et.v));else{var ae=ad(et);bt(R,22,F(Ge,Ae,ne,ae.slice(0,239)))}}++ne}}return bt(R,1),R.end()}function i(A){var z=Je(2);return z.write_shift(2,A),z}function o(A){var z=Je(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var O=0,R=0,W=0,X=0;X<A.SheetNames.length;++X){var ne=A.SheetNames[X],re=A.Sheets[ne];if(!(!re||!re["!ref"])){++W;var Z=fo(re["!ref"]);O<Z.e.r&&(O=Z.e.r),R<Z.e.c&&(R=Z.e.c)}}return O>8191&&(O=8191),z.write_shift(2,O),z.write_shift(1,W),z.write_shift(1,R),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(A,z,O){var R={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&O.qpro?(R.s.c=A.read_shift(1),A.l++,R.s.r=A.read_shift(2),R.e.c=A.read_shift(1),A.l++,R.e.r=A.read_shift(2),R):(R.s.c=A.read_shift(2),R.s.r=A.read_shift(2),z==12&&O.qpro&&(A.l+=2),R.e.c=A.read_shift(2),R.e.r=A.read_shift(2),z==12&&O.qpro&&(A.l+=2),R.s.c==65535&&(R.s.c=R.e.c=R.s.r=R.e.r=0),R)}function c(A){var z=Je(8);return z.write_shift(2,A.s.c),z.write_shift(2,A.s.r),z.write_shift(2,A.e.c),z.write_shift(2,A.e.r),z}function u(A,z,O){var R=[{c:0,r:0},{t:"n",v:0},0,0];return O.qpro&&O.vers!=20768?(R[0].c=A.read_shift(1),R[3]=A.read_shift(1),R[0].r=A.read_shift(2),A.l+=2):(R[2]=A.read_shift(1),R[0].c=A.read_shift(2),R[0].r=A.read_shift(2)),R}function h(A,z,O){var R=A.l+z,W=u(A,z,O);if(W[1].t="s",O.vers==20768){A.l++;var X=A.read_shift(1);return W[1].v=A.read_shift(X,"utf8"),W}return O.qpro&&A.l++,W[1].v=A.read_shift(R-A.l,"cstr"),W}function f(A,z,O){var R=Je(7+O.length);R.write_shift(1,255),R.write_shift(2,z),R.write_shift(2,A),R.write_shift(1,39);for(var W=0;W<R.length;++W){var X=O.charCodeAt(W);R.write_shift(1,X>=128?95:X)}return R.write_shift(1,0),R}function m(A,z,O){var R=u(A,z,O);return R[1].v=A.read_shift(2,"i"),R}function g(A,z,O){var R=Je(7);return R.write_shift(1,255),R.write_shift(2,z),R.write_shift(2,A),R.write_shift(2,O,"i"),R}function y(A,z,O){var R=u(A,z,O);return R[1].v=A.read_shift(8,"f"),R}function x(A,z,O){var R=Je(13);return R.write_shift(1,255),R.write_shift(2,z),R.write_shift(2,A),R.write_shift(8,O,"f"),R}function N(A,z,O){var R=A.l+z,W=u(A,z,O);if(W[1].v=A.read_shift(8,"f"),O.qpro)A.l=R;else{var X=A.read_shift(2);S(A.slice(A.l,A.l+X),W),A.l+=X}return W}function b(A,z,O){var R=z&32768;return z&=-32769,z=(R?A:0)+(z>=8192?z-16384:z),(R?"":"$")+(O?Cs(z):hs(z))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(A,z){Zi(A,0);for(var O=[],R=0,W="",X="",ne="",re="";A.l<A.length;){var Z=A[A.l++];switch(Z){case 0:O.push(A.read_shift(8,"f"));break;case 1:X=b(z[0].c,A.read_shift(2),!0),W=b(z[0].r,A.read_shift(2),!1),O.push(X+W);break;case 2:{var ke=b(z[0].c,A.read_shift(2),!0),Le=b(z[0].r,A.read_shift(2),!1);X=b(z[0].c,A.read_shift(2),!0),W=b(z[0].r,A.read_shift(2),!1),O.push(ke+Le+":"+X+W)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:O.push("("+O.pop()+")");break;case 5:O.push(A.read_shift(2));break;case 6:{for(var Oe="";Z=A[A.l++];)Oe+=String.fromCharCode(Z);O.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:O.push("-"+O.pop());break;case 23:O.push("+"+O.pop());break;case 22:O.push("NOT("+O.pop()+")");break;case 20:case 21:re=O.pop(),ne=O.pop(),O.push(["AND","OR"][Z-20]+"("+ne+","+re+")");break;default:if(Z<32&&k[Z])re=O.pop(),ne=O.pop(),O.push(ne+k[Z]+re);else if(w[Z]){if(R=w[Z][1],R==69&&(R=A[A.l++]),R>O.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+O.join("|")+"|");return}var Ge=O.slice(-R);O.length-=R,O.push(w[Z][0]+"("+Ge.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}O.length==1?z[1].f=""+O[0]:console.error("WK1 bad formula parse |"+O.join("|")+"|")}function B(A){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=A.read_shift(2),z[3]=A[A.l++],z[0].c=A[A.l++],z}function H(A,z){var O=B(A);return O[1].t="s",O[1].v=A.read_shift(z-4,"cstr"),O}function F(A,z,O,R){var W=Je(6+R.length);W.write_shift(2,A),W.write_shift(1,O),W.write_shift(1,z),W.write_shift(1,39);for(var X=0;X<R.length;++X){var ne=R.charCodeAt(X);W.write_shift(1,ne>=128?95:ne)}return W.write_shift(1,0),W}function D(A,z){var O=B(A);O[1].v=A.read_shift(2);var R=O[1].v>>1;if(O[1].v&1)switch(R&7){case 0:R=(R>>3)*5e3;break;case 1:R=(R>>3)*500;break;case 2:R=(R>>3)/20;break;case 3:R=(R>>3)/200;break;case 4:R=(R>>3)/2e3;break;case 5:R=(R>>3)/2e4;break;case 6:R=(R>>3)/16;break;case 7:R=(R>>3)/64;break}return O[1].v=R,O}function P(A,z){var O=B(A),R=A.read_shift(4),W=A.read_shift(4),X=A.read_shift(2);if(X==65535)return R===0&&W===3221225472?(O[1].t="e",O[1].v=15):R===0&&W===3489660928?(O[1].t="e",O[1].v=42):O[1].v=0,O;var ne=X&32768;return X=(X&32767)-16446,O[1].v=(1-ne*2)*(W*Math.pow(2,X+32)+R*Math.pow(2,X)),O}function G(A,z,O,R){var W=Je(14);if(W.write_shift(2,A),W.write_shift(1,O),W.write_shift(1,z),R==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var X=0,ne=0,re=0,Z=0;return R<0&&(X=1,R=-R),ne=Math.log2(R)|0,R/=Math.pow(2,ne-31),Z=R>>>0,Z&2147483648||(R/=2,++ne,Z=R>>>0),R-=Z,Z|=2147483648,Z>>>=0,R*=Math.pow(2,32),re=R>>>0,W.write_shift(4,re),W.write_shift(4,Z),ne+=16383+(X?32768:0),W.write_shift(2,ne),W}function I(A,z){var O=P(A);return A.l+=z-14,O}function q(A,z){var O=B(A),R=A.read_shift(4);return O[1].v=R>>6,O}function Y(A,z){var O=B(A),R=A.read_shift(8,"f");return O[1].v=R,O}function ee(A,z){var O=Y(A);return A.l+=z-10,O}function ue(A,z){return A[A.l+z-1]==0?A.read_shift(z,"cstr"):""}function le(A,z){var O=A[A.l++];O>z-1&&(O=z-1);for(var R="";R.length<O;)R+=String.fromCharCode(A[A.l++]);return R}function xe(A,z,O){if(!(!O.qpro||z<21)){var R=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var W=A.read_shift(z-21,"cstr");return[R,W]}}function oe(A,z){for(var O={},R=A.l+z;A.l<R;){var W=A.read_shift(2);if(W==14e3){for(O[W]=[0,""],O[W][0]=A.read_shift(2);A[A.l];)O[W][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return O}function fe(A,z){var O=Je(5+A.length);O.write_shift(2,14e3),O.write_shift(2,z);for(var R=0;R<A.length;++R){var W=A.charCodeAt(R);O[O.l++]=W>127?95:W}return O[O.l++]=0,O}var Se={0:{n:"BOF",f:SL},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:le},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:H},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}}(),TK=/^\s|\s$|[\t\n\r]/;function PL(e,t){if(!t.bookSST)return"";var r=[jn];r[r.length]=vt("sst",null,{xmlns:Vf[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(TK)&&(i+=' xml:space="preserve"'),i+=">"+na(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function CK(e){return[e.read_shift(4),e.read_shift(4)]}function LK(e,t){return t||(t=Je(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var PK=_Y;function MK(e){var t=ki();dt(t,159,LK(e));for(var r=0;r<e.length;++r)dt(t,19,PK(e[r]));return dt(t,160),t.end()}function RK(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function ML(e){var t=0,r,a=RK(e),s=a.length+1,i,o,l,c,u;for(r=wh(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var OK=function(){function e(s,i){switch(i.type){case"base64":return t(rd(s),i);case"binary":return t(s,i);case"buffer":return t(Br&&Buffer.isBuffer(s)?s.toString("binary"):pp(s),i);case"array":return t(iv(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,g=0,y,x=-1;y=m.exec(h);){switch(y[0]){case"\\cell":var N=h.slice(g,m.lastIndex-y[0].length);if(N[0]==" "&&(N=N.slice(1)),++x,N.length){var b={v:N,t:"s"};Array.isArray(l)?l[f][x]=b:l[sa({r:f,c:x})]=b}break}g=m.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=Nn(u),l}function r(s,i){return Mh(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=Ta(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var f=sa({r:u,c:h});l=c?(s[u]||[])[h]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ad(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function VS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var DK=6,Gc=DK;function x1(e){return Math.floor((e+Math.round(128/Gc)/256)*Gc)}function y1(e){return Math.floor((e-5)/Gc*100+.5)/100}function Qw(e){return Math.round((e*Gc+5)/Gc*256)/256}function v4(e){e.width?(e.wpx=x1(e.width),e.wch=y1(e.wpx),e.MDW=Gc):e.wpx?(e.wch=y1(e.wpx),e.width=Qw(e.wch),e.MDW=Gc):typeof e.wch=="number"&&(e.width=Qw(e.wch),e.wpx=x1(e.width),e.MDW=Gc),e.customWidth&&delete e.customWidth}var IK=96,RL=IK;function v1(e){return e*96/RL}function OL(e){return e*RL/96}function FK(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=vt("numFmt",null,{numFmtId:a,formatCode:na(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=vt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function BK(e){var t=[];return t[t.length]=vt("cellXfs",null),e.forEach(function(r){t[t.length]=vt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=vt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function DL(e,t){var r=[jn,vt("styleSheet",null,{xmlns:Vf[0],"xmlns:vt":Vn.vt})],a;return e.SSF&&(a=FK(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=BK(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function zK(e,t){var r=e.read_shift(2),a=Ls(e);return[r,a]}function UK(e,t,r){r||(r=Je(6+4*t.length)),r.write_shift(2,e),$n(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function VK(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=TY(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=EY(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ls(e),a}function qK(e,t){t||(t=Je(25+4*32)),t.write_shift(2,e.sz*20),CY(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),g1(e.color,t);var a=0;return a=2,t.write_shift(1,a),$n(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $K=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Kb,HK=uc;function qS(e,t){t||(t=Je(4*3+8*7+16*1)),Kb||(Kb=o4($K));var r=Kb[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(g1({auto:1},t),g1({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function WK(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function IL(e,t,r){r||(r=Je(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function wm(e,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var GK=uc;function YK(e,t){return t||(t=Je(51)),t.write_shift(1,0),wm(null,t),wm(null,t),wm(null,t),wm(null,t),wm(null,t),t.length>t.l?t.slice(0,t.l):t}function KK(e,t){return t||(t=Je(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),m1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ZK(e,t,r){var a=Je(2052);return a.write_shift(4,e),m1(t,a),m1(r,a),a.length>a.l?a.slice(0,a.l):a}function XK(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(dt(e,615,Cl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&dt(e,44,UK(s,t[s]))}),dt(e,616))}}function JK(e){var t=1;dt(e,611,Cl(t)),dt(e,43,qK({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(e,612)}function QK(e){var t=2;dt(e,603,Cl(t)),dt(e,45,qS({patternType:"none"})),dt(e,45,qS({patternType:"gray125"})),dt(e,604)}function eZ(e){var t=1;dt(e,613,Cl(t)),dt(e,46,YK()),dt(e,614)}function tZ(e){var t=1;dt(e,626,Cl(t)),dt(e,47,IL({numFmtId:0},65535)),dt(e,627)}function rZ(e,t){dt(e,617,Cl(t.length)),t.forEach(function(r){dt(e,47,IL(r,0))}),dt(e,618)}function aZ(e){var t=1;dt(e,619,Cl(t)),dt(e,48,KK({xfId:0,name:"Normal"})),dt(e,620)}function nZ(e){var t=0;dt(e,505,Cl(t)),dt(e,506)}function sZ(e){var t=0;dt(e,508,ZK(t,"TableStyleMedium9","PivotStyleMedium4")),dt(e,509)}function iZ(e,t){var r=ki();return dt(r,278),XK(r,e.SSF),JK(r),QK(r),eZ(r),tZ(r),rZ(r,t.cellXfs),aZ(r),nZ(r),sZ(r),dt(r,279),r.end()}function FL(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[jn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function oZ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ls(e)}}function lZ(e){var t=Je(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$n(e.name,t),t.slice(0,t.l)}function cZ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function dZ(e){var t=Je(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function uZ(e,t){var r=Je(8+2*t.length);return r.write_shift(4,e),$n(t,r),r.slice(0,r.l)}function hZ(e){return e.l+=4,e.read_shift(4)!=0}function fZ(e,t){var r=Je(8);return r.write_shift(4,e),r.write_shift(4,1),r}function mZ(){var e=ki();return dt(e,332),dt(e,334,Cl(1)),dt(e,335,lZ({name:"XLDAPR",version:12e4,flags:3496657072})),dt(e,336),dt(e,339,uZ(1,"XLDAPR")),dt(e,52),dt(e,35,Cl(514)),dt(e,4096,Cl(0)),dt(e,4097,Co(1)),dt(e,36),dt(e,53),dt(e,340),dt(e,337,fZ(1)),dt(e,51,dZ([[1,0]])),dt(e,338),dt(e,333),e.end()}function BL(){var e=[jn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function gZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sa(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var D0=1024;function zL(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[vt("xml",null,{"xmlns:v":Ji.v,"xmlns:o":Ji.o,"xmlns:x":Ji.x,"xmlns:mv":Ji.mv}).replace(/\/>/,">"),vt("o:shapelayout",vt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),vt("v:shapetype",[vt("v:stroke",null,{joinstyle:"miter"}),vt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];D0<e*1e3;)D0+=1e3;return t.forEach(function(i){var o=qn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?vt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=vt("v:fill",c,l),h={on:"t",obscured:"t"};++D0,s=s.concat(["<v:shape"+$g({id:"_x0000_s"+D0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,vt("v:shadow",null,h),vt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ls("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ls("x:AutoFill","False"),ls("x:Row",String(o.r)),ls("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function UL(e){var t=[jn,vt("comments",null,{xmlns:Vf[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=na(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(na(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(ls("t",na(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ls("t",na(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function pZ(e,t,r){var a=[jn,vt("ThreadedComments",null,{xmlns:Vn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(vt("threadedComment",ls("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function xZ(e){var t=[jn,vt("personList",null,{xmlns:Vn.TCMNT,"xmlns:x":Vf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(vt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function yZ(e){var t={};t.iauthor=e.read_shift(4);var r=Ih(e);return t.rfx=r.s,t.ref=sa(r.s),e.l+=16,t}function vZ(e,t){return t==null&&(t=Je(36)),t.write_shift(4,e[1].iauthor),$f(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var bZ=Ls;function wZ(e){return $n(e.slice(0,54))}function _Z(e){var t=ki(),r=[];return dt(t,628),dt(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),dt(t,632,wZ(s.a)))})}),dt(t,631),dt(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:qn(a[0]),e:qn(a[0])};dt(t,635,vZ([i,s])),s.t&&s.t.length>0&&dt(t,637,kY(s)),dt(t,636),delete s.iauthor})}),dt(t,634),dt(t,629),t.end()}function NZ(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&oa.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var VL=["xlsb","xlsm","xlam","biff8","xla"],kZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,c?u+=t.r:--u,s+(l?"":"$")+Cs(h)+(c?"":"$")+hs(u)}return function(s,i){return t=i,s.replace(e,r)}}(),b4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w4=function(){return function(t,r){return t.replace(b4,function(a,s,i,o,l,c){var u=m4(o)-(i?0:r.c),h=f4(c)-(l?0:r.r),f=h==0?"":l?h+1:"["+h+"]",m=u==0?"":i?u+1:"["+u+"]";return s+"R"+f+"C"+m})}}();function jZ(e,t){return e.replace(b4,function(r,a,s,i,o,l){return a+(s=="$"?s+i:Cs(m4(i)+t.c))+(o=="$"?o+l:hs(f4(l)+t.r))})}function SZ(e){return e.length!=1}function mn(e){e.l+=1}function gu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function qL(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return $L(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=gu(e),l=gu(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function $L(e){var t=gu(e),r=gu(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function AZ(e,t,r){if(r.biff<8)return $L(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=gu(e),o=gu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function HL(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return EZ(e);var a=e.read_shift(r&&r.biff==12?4:2),s=gu(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function EZ(e){var t=gu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function TZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function CZ(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return LZ(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function LZ(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function PZ(e,t,r){var a=(e[e.l++]&96)>>5,s=qL(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function MZ(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=qL(e,i,r);return[a,s,o]}function RZ(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function OZ(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function DZ(e,t,r){var a=(e[e.l++]&96)>>5,s=AZ(e,t-1,r);return[a,s]}function IZ(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function $S(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function FZ(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function BZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function zZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function UZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function VZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function WL(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function qZ(e){return e.read_shift(2),WL(e)}function $Z(e){return e.read_shift(2),WL(e)}function HZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=HL(e,0,r);return[a,s]}function WZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=CZ(e,0,r);return[a,s]}function GZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=HL(e,0,r);return[a,s,i]}function YZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[YX[s],KL[s],a]}function KZ(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:ZZ(e);return[s,(i[0]===0?KL:GX)[i[1]]]}function ZZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function XZ(e,t,r){e.l+=r&&r.biff==2?3:4}function JZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function QZ(e){return e.l++,vp[e.read_shift(1)]}function eX(e){return e.l++,e.read_shift(2)}function tX(e){return e.l++,e.read_shift(1)!==0}function rX(e){return e.l++,Hf(e)}function aX(e,t,r){return e.l++,EL(e,t-1,r)}function nX(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=GY(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Hf(e);break;case 2:r[1]=XY(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function sX(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?Ih:eK)(e));return s}function iX(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=nX(e,r.biff);return o}function oX(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function lX(e,t,r){if(r.biff==5)return cX(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function cX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function dX(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function uX(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function hX(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function fX(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var mX=uc,gX=uc,pX=uc;function bp(e,t,r){return e.l+=2,[TZ(e)]}function _4(e){return e.l+=6,[]}var xX=bp,yX=_4,vX=_4,bX=bp;function GL(e){return e.l+=2,[SL(e),e.read_shift(2)&1]}var wX=bp,_X=GL,NX=_4,kX=bp,jX=bp,SX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=SX[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function EX(e){return e.l+=2,[e.read_shift(4)]}function TX(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function CX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function LX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function PX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function MX(e){return e.l+=4,[0,0]}var HS={1:{n:"PtgExp",f:JZ},2:{n:"PtgTbl",f:pX},3:{n:"PtgAdd",f:mn},4:{n:"PtgSub",f:mn},5:{n:"PtgMul",f:mn},6:{n:"PtgDiv",f:mn},7:{n:"PtgPower",f:mn},8:{n:"PtgConcat",f:mn},9:{n:"PtgLt",f:mn},10:{n:"PtgLe",f:mn},11:{n:"PtgEq",f:mn},12:{n:"PtgGe",f:mn},13:{n:"PtgGt",f:mn},14:{n:"PtgNe",f:mn},15:{n:"PtgIsect",f:mn},16:{n:"PtgUnion",f:mn},17:{n:"PtgRange",f:mn},18:{n:"PtgUplus",f:mn},19:{n:"PtgUminus",f:mn},20:{n:"PtgPercent",f:mn},21:{n:"PtgParen",f:mn},22:{n:"PtgMissArg",f:mn},23:{n:"PtgStr",f:aX},26:{n:"PtgSheet",f:TX},27:{n:"PtgEndSheet",f:CX},28:{n:"PtgErr",f:QZ},29:{n:"PtgBool",f:tX},30:{n:"PtgInt",f:eX},31:{n:"PtgNum",f:rX},32:{n:"PtgArray",f:IZ},33:{n:"PtgFunc",f:YZ},34:{n:"PtgFuncVar",f:KZ},35:{n:"PtgName",f:oX},36:{n:"PtgRef",f:HZ},37:{n:"PtgArea",f:PZ},38:{n:"PtgMemArea",f:dX},39:{n:"PtgMemErr",f:mX},40:{n:"PtgMemNoMem",f:gX},41:{n:"PtgMemFunc",f:uX},42:{n:"PtgRefErr",f:hX},43:{n:"PtgAreaErr",f:RZ},44:{n:"PtgRefN",f:WZ},45:{n:"PtgAreaN",f:DZ},46:{n:"PtgMemAreaN",f:LX},47:{n:"PtgMemNoMemN",f:PX},57:{n:"PtgNameX",f:lX},58:{n:"PtgRef3d",f:GZ},59:{n:"PtgArea3d",f:MZ},60:{n:"PtgRefErr3d",f:fX},61:{n:"PtgAreaErr3d",f:OZ},255:{}},RX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},OX={1:{n:"PtgElfLel",f:GL},2:{n:"PtgElfRw",f:kX},3:{n:"PtgElfCol",f:xX},6:{n:"PtgElfRwV",f:jX},7:{n:"PtgElfColV",f:bX},10:{n:"PtgElfRadical",f:wX},11:{n:"PtgElfRadicalS",f:NX},13:{n:"PtgElfColS",f:yX},15:{n:"PtgElfColSV",f:vX},16:{n:"PtgElfRadicalLel",f:_X},25:{n:"PtgList",f:AX},29:{n:"PtgSxName",f:EX},255:{}},DX={0:{n:"PtgAttrNoop",f:MX},1:{n:"PtgAttrSemi",f:VZ},2:{n:"PtgAttrIf",f:zZ},4:{n:"PtgAttrChoose",f:FZ},8:{n:"PtgAttrGoto",f:BZ},16:{n:"PtgAttrSum",f:XZ},32:{n:"PtgAttrBaxcel",f:$S},33:{n:"PtgAttrBaxcel",f:$S},64:{n:"PtgAttrSpace",f:qZ},65:{n:"PtgAttrSpaceSemi",f:$Z},128:{n:"PtgAttrIfError",f:UZ},255:{}};function IX(e,t,r,a){if(a.biff<8)return uc(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=iX(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=sX(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(uc(e,t)),i}function FX(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=HS[i]||HS[RX[i]],(i===24||i===25)&&(s=(i===24?OX:DX)[e[e.l+1]]),!s||!s.f?uc(e,t):o.push([s.n,s.f(e,t,r)]);return o}function BX(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var zX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function YL(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function WS(e,t,r){var a=YL(e,t,r);return a=="#REF"?a:UX(a,r)}function _f(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,u,h,f=0,m=0,g,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,N="",b=0,w=e[0].length;b<w;++b){var k=e[0][b];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:N=Xa(" ",e[0][x][1][1]);break;case 1:N=Xa("\r",e[0][x][1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+N,x=-1}l.push(u+zX[k[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=ig(k[1][1],o,s),l.push(og(h,i));break;case"PtgRefN":h=r?ig(k[1][1],r,s):k[1][1],l.push(og(h,i));break;case"PtgRef3d":f=k[1][1],h=ig(k[1][2],o,s),y=WS(a,f,s),l.push(y+"!"+og(h,i));break;case"PtgFunc":case"PtgFuncVar":var S=k[1][0],B=k[1][1];S||(S=0),S&=127;var H=S==0?[]:l.slice(-S);l.length-=S,B==="User"&&(B=H.shift()),l.push(B+"("+H.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":g=CS(k[1][1],r?{s:r}:o,s),l.push(Gb(g,s));break;case"PtgArea":g=CS(k[1][1],o,s),l.push(Gb(g,s));break;case"PtgArea3d":f=k[1][1],g=k[1][2],y=WS(a,f,s),l.push(y+"!"+Gb(g,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=k[1][2];var F=(a.names||[])[m-1]||(a[0]||[])[m],D=F?F.Name:"SH33TJSNAME"+String(m);D&&D.slice(0,6)=="_xlfn."&&!s.xlfn&&(D=D.slice(6)),l.push(D);break;case"PtgNameX":var P=k[1][1];m=k[1][2];var G;if(s.biff<=5)P<0&&(P=-P),a[P]&&(G=a[P][m]);else{var I="";if(((a[P]||[])[0]||[])[0]==14849||(((a[P]||[])[0]||[])[0]==1025?a[P][m]&&a[P][m].itab>0&&(I=a.SheetNames[a[P][m].itab-1]+"!"):I=a.SheetNames[m-1]+"!"),a[P]&&a[P][m])I+=a[P][m].Name;else if(a[0]&&a[0][m])I+=a[0][m].Name;else{var q=(YL(a,P,s)||"").split(";;");q[m-1]?I=q[m-1]:I+="SH33TJSERRX"}l.push(I);break}G||(G={Name:"SH33TJSERRY"}),l.push(G.Name);break;case"PtgParen":var Y="(",ee=")";if(x>=0){switch(N="",e[0][x][1][0]){case 2:Y=Xa(" ",e[0][x][1][1])+Y;break;case 3:Y=Xa("\r",e[0][x][1][1])+Y;break;case 4:ee=Xa(" ",e[0][x][1][1])+ee;break;case 5:ee=Xa("\r",e[0][x][1][1])+ee;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(Y+l.pop()+ee);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:k[1][1],r:k[1][0]};var ue={c:r.c,r:r.r};if(a.sharedf[sa(h)]){var le=a.sharedf[sa(h)];l.push(_f(le,o,ue,a,s))}else{var xe=!1;for(c=0;c!=a.arrayf.length;++c)if(u=a.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(_f(u[1],o,ue,a,s)),xe=!0;break}xe||l.push(k[1])}break;case"PtgArray":l.push("{"+BX(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&oe.indexOf(e[0][b][0])==-1){k=e[0][x];var fe=!0;switch(k[1][0]){case 4:fe=!1;case 0:N=Xa(" ",k[1][1]);break;case 5:fe=!1;case 1:N=Xa("\r",k[1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((fe?N:"")+l.pop()+(fe?"":N)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function VX(e){if(e==null){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return _h(e);return _h(0)}function qX(e,t,r,a,s){var i=Nh(t,r,s),o=VX(e.v),l=Je(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Je(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var f=os([i,o,l,u]);return f}function ov(e,t,r){var a=e.read_shift(4),s=FX(e,a,r),i=e.read_shift(4),o=i>0?IX(e,i,s,r):null;return[s,o]}var $X=ov,lv=ov,HX=ov,WX=ov,GX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},YX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KX(e){var t="of:="+e.replace(b4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ZX(e){return e.replace(/\./,"!")}var lg=typeof Map<"u";function N4(e,t,r){var a=0,s=e.length;if(r){if(lg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=lg?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(lg?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function cv(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Gc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=y1(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Qw(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function ZL(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function wu(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){H7(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function XX(e,t,r){if(e&&e["!ref"]){var a=Ta(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function JX(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nn(e[r])+'"/>';return t+"</mergeCells>"}function QX(e,t,r,a,s){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=qg(na(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+vt("outlinePr",null,u)}!i&&!l||(s[s.length]=vt("sheetPr",l,o))}var eJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],tJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rJ(e){var t={sheet:1};return eJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),tJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=ML(e.password).toString(16).toUpperCase()),vt("sheetProtection",null,t)}function aJ(e){return ZL(e),vt("pageMargins",null,e)}function nJ(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=vt("col",null,cv(s,a)));return r[r.length]="</cols>",r.join("")}function sJ(e,t,r,a){var s=typeof e.ref=="string"?e.ref:Nn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=fo(s);o.s.r==o.e.r&&(o.e.r=fo(t["!ref"]).e.r,s=Nn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),vt("autoFilter",null,{ref:s})}function iJ(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),vt("sheetViews",vt("sheetView",null,s),{})}function oJ(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=vp[e.v];break;case"d":a&&a.cellDates?s=Zs(e.v,-1).toISOString():(e=Ei(e),e.t="n",s=""+(e.v=Ai(Zs(e.v)))),typeof e.z>"u"&&(e.z=Qa[14]);break;default:s=e.v;break}var l=ls("v",na(s)),c={r:t},u=wu(a.cellXfs,e,a);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=ls("v",""+N4(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=vt("f",na(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),vt("c",l,c)}function lJ(e,t,r,a){var s=[],i=[],o=Ta(e["!ref"]),l="",c,u="",h=[],f=0,m=0,g=e["!rows"],y=Array.isArray(e),x={r:u},N,b=-1;for(m=o.s.c;m<=o.e.c;++m)h[m]=Cs(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=hs(f),m=o.s.c;m<=o.e.c;++m){c=h[m]+u;var w=y?(e[f]||[])[m]:e[c];w!==void 0&&(l=oJ(w,c,e,t))!=null&&i.push(l)}(i.length>0||g&&g[f])&&(x={r:u},g&&g[f]&&(N=g[f],N.hidden&&(x.hidden=1),b=-1,N.hpx?b=v1(N.hpx):N.hpt&&(b=N.hpt),b>-1&&(x.ht=b,x.customHeight=1),N.level&&(x.outlineLevel=N.level)),s[s.length]=vt("row",i.join(""),x))}if(g)for(;f<g.length;++f)g&&g[f]&&(x={r:f+1},N=g[f],N.hidden&&(x.hidden=1),b=-1,N.hpx?b=v1(N.hpx):N.hpt&&(b=N.hpt),b>-1&&(x.ht=b,x.customHeight=1),N.level&&(x.outlineLevel=N.level),s[s.length]=vt("row","",x));return s.join("")}function XL(e,t,r,a){var s=[jn,vt("worksheet",null,{xmlns:Vf[0],"xmlns:r":Vn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",h=Ta(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Nn(h)}a||(a={}),c["!comments"]=[];var f=[];QX(c,r,e,t,s),s[s.length]=vt("dimension",null,{ref:u}),s[s.length]=iJ(c,t,e,r),t.sheetFormat&&(s[s.length]=vt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=nJ(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=lJ(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=rJ(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=sJ(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=JX(c["!merges"]));var m=-1,g,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=ea(a,-1,na(x[1].Target).replace(/#.*$/,""),Ir.HLINK),g["r:id"]="rId"+y),(m=x[1].Target.indexOf("#"))>-1&&(g.location=na(x[1].Target.slice(m+1))),x[1].Tooltip&&(g.tooltip=na(x[1].Tooltip)),s[s.length]=vt("hyperlink",null,g))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=aJ(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=ls("ignoredErrors",vt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=ea(a,-1,"../drawings/drawing"+(e+1)+".xml",Ir.DRAW),s[s.length]=vt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=ea(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ir.VML),s[s.length]=vt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function cJ(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function dJ(e,t,r){var a=Je(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=v1(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var f=-1,m=-1,g=h<<10;g<h+1<<10;++g){u.c=g;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[sa(u)];y&&(f<0&&(f=g),m=g)}f<0||(++l,a.write_shift(4,f),a.write_shift(4,m))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function uJ(e,t,r,a){var s=dJ(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&dt(e,0,s)}var hJ=Ih,fJ=$f;function mJ(){}function gJ(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=jY(e),r}function pJ(e,t,r){r==null&&(r=Je(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return g1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hL(e,r),r.slice(0,r.l)}function xJ(e){var t=Wo(e);return[t]}function yJ(e,t,r){return r==null&&(r=Je(8)),Rh(t,r)}function vJ(e){var t=Oh(e);return[t]}function bJ(e,t,r){return r==null&&(r=Je(4)),Dh(t,r)}function wJ(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function _J(e,t,r){return r==null&&(r=Je(9)),Rh(t,r),r.write_shift(1,e.v?1:0),r}function NJ(e){var t=Oh(e),r=e.read_shift(1);return[t,r,"b"]}function kJ(e,t,r){return r==null&&(r=Je(5)),Dh(t,r),r.write_shift(1,e.v?1:0),r}function jJ(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function SJ(e,t,r){return r==null&&(r=Je(9)),Rh(t,r),r.write_shift(1,e.v),r}function AJ(e){var t=Oh(e),r=e.read_shift(1);return[t,r,"e"]}function EJ(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function TJ(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function CJ(e,t,r){return r==null&&(r=Je(12)),Rh(t,r),r.write_shift(4,t.v),r}function LJ(e){var t=Oh(e),r=e.read_shift(4);return[t,r,"s"]}function PJ(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),r.write_shift(4,t.v),r}function MJ(e){var t=Wo(e),r=Hf(e);return[t,r,"n"]}function RJ(e,t,r){return r==null&&(r=Je(16)),Rh(t,r),_h(e.v,r),r}function OJ(e){var t=Oh(e),r=Hf(e);return[t,r,"n"]}function DJ(e,t,r){return r==null&&(r=Je(12)),Dh(t,r),_h(e.v,r),r}function IJ(e){var t=Wo(e),r=fL(e);return[t,r,"n"]}function FJ(e,t,r){return r==null&&(r=Je(12)),Rh(t,r),mL(e.v,r),r}function BJ(e){var t=Oh(e),r=fL(e);return[t,r,"n"]}function zJ(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),mL(e.v,r),r}function UJ(e){var t=Wo(e),r=g4(e);return[t,r,"is"]}function VJ(e){var t=Wo(e),r=Ls(e);return[t,r,"str"]}function qJ(e,t,r){return r==null&&(r=Je(12+4*e.v.length)),Rh(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $J(e){var t=Oh(e),r=Ls(e);return[t,r,"str"]}function HJ(e,t,r){return r==null&&(r=Je(8+4*e.v.length)),Dh(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function WJ(e,t,r){var a=e.l+t,s=Wo(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=lv(e,a-e.l,r);o[3]=_f(l,null,s,r.supbooks,r)}else e.l=a;return o}function GJ(e,t,r){var a=e.l+t,s=Wo(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=lv(e,a-e.l,r);o[3]=_f(l,null,s,r.supbooks,r)}else e.l=a;return o}function YJ(e,t,r){var a=e.l+t,s=Wo(e);s.r=r["!row"];var i=Hf(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=lv(e,a-e.l,r);o[3]=_f(l,null,s,r.supbooks,r)}else e.l=a;return o}function KJ(e,t,r){var a=e.l+t,s=Wo(e);s.r=r["!row"];var i=Ls(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=lv(e,a-e.l,r);o[3]=_f(l,null,s,r.supbooks,r)}else e.l=a;return o}var ZJ=Ih,XJ=$f;function JJ(e,t){return t==null&&(t=Je(4)),t.write_shift(4,e),t}function QJ(e,t){var r=e.l+t,a=Ih(e),s=p4(e),i=Ls(e),o=Ls(e),l=Ls(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function eQ(e,t){var r=Je(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));$f({s:qn(e[0]),e:qn(e[0])},r),x4("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return $n(s||"",r),$n(e[1].Tooltip||"",r),$n("",r),r.slice(0,r.l)}function tQ(){}function rQ(e,t,r){var a=e.l+t,s=gL(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=$X(e,a-e.l,r);o[1]=l}else e.l=a;return o}function aQ(e,t,r){var a=e.l+t,s=Ih(e),i=[s];if(r.cellFormula){var o=WX(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function nQ(e,t,r){r==null&&(r=Je(18));var a=cv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var JL=["left","right","top","bottom","header","footer"];function sQ(e){var t={};return JL.forEach(function(r){t[r]=Hf(e)}),t}function iQ(e,t){return t==null&&(t=Je(6*8)),ZL(e),JL.forEach(function(r){_h(e[r],t)}),t}function oQ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function lQ(e,t,r){r==null&&(r=Je(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function cQ(e){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),$f(e,t),t}function dQ(e,t){return t==null&&(t=Je(16*4+2)),t.write_shift(2,e.password?ML(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function uQ(){}function hQ(){}function fQ(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ei(t),t.z=t.z||Qa[14],t.v=Ai(Zs(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=wu(s.cellXfs,t,s),t.l&&i["!links"].push([sa(c),t.l]),t.c&&i["!comments"].push([sa(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=N4(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?dt(e,18,PJ(t,c)):dt(e,7,CJ(t,c))):(c.t="str",o?dt(e,17,HJ(t,c)):dt(e,6,qJ(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?dt(e,13,zJ(t,c)):dt(e,2,FJ(t,c)):o?dt(e,16,DJ(t,c)):dt(e,5,RJ(t,c)),!0;case"b":return c.t="b",o?dt(e,15,kJ(t,c)):dt(e,4,_J(t,c)),!0;case"e":return c.t="e",o?dt(e,14,EJ(t,c)):dt(e,3,SJ(t,c)),!0}return o?dt(e,12,bJ(t,c)):dt(e,1,yJ(t,c)),!0}function mQ(e,t,r,a){var s=Ta(t["!ref"]||"A1"),i,o="",l=[];dt(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var h=s.s.r;h<=u;++h){o=hs(h),uJ(e,t,s,h);var f=!1;if(h<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){h===s.s.r&&(l[m]=Cs(m)),i=l[m]+o;var g=c?(t[h]||[])[m]:t[i];if(!g){f=!1;continue}f=fQ(e,g,h,m,a,t,f)}}dt(e,146)}function gQ(e,t){!t||!t["!merges"]||(dt(e,177,JJ(t["!merges"].length)),t["!merges"].forEach(function(r){dt(e,176,XJ(r))}),dt(e,178))}function pQ(e,t){!t||!t["!cols"]||(dt(e,390),t["!cols"].forEach(function(r,a){r&&dt(e,60,nQ(a,r))}),dt(e,391))}function xQ(e,t){!t||!t["!ref"]||(dt(e,648),dt(e,649,cQ(Ta(t["!ref"]))),dt(e,650))}function yQ(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=ea(r,-1,a[1].Target.replace(/#.*$/,""),Ir.HLINK);dt(e,494,eQ(a,s))}}),delete t["!links"]}function vQ(e,t,r,a){if(t["!comments"].length>0){var s=ea(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ir.VML);dt(e,551,x4("rId"+s)),t["!legacy"]=s}}function bQ(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Nn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=fo(i);l.s.r==l.e.r&&(l.e.r=fo(t["!ref"]).e.r,i=Nn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),dt(e,161,$f(Ta(i))),dt(e,162)}}function wQ(e,t,r){dt(e,133),dt(e,137,lQ(t,r)),dt(e,138),dt(e,134)}function _Q(e,t){t["!protect"]&&dt(e,535,dQ(t["!protect"]))}function NQ(e,t,r,a){var s=ki(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ta(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],dt(s,129),(r.vbaraw||o["!outline"])&&dt(s,147,pJ(l,o["!outline"])),dt(s,148,fJ(c)),wQ(s,o,r.Workbook),pQ(s,o),mQ(s,o,e,t),_Q(s,o),bQ(s,o,r,e),gQ(s,o),yQ(s,o,a),o["!margins"]&&dt(s,476,iQ(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&xQ(s,o),vQ(s,o,e,a),dt(s,130),s.end()}function kQ(e,t){e.l+=10;var r=Ls(e);return{name:r}}var jQ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function SQ(e){return!e.Workbook||!e.Workbook.WBProps?"false":aY(e.Workbook.WBProps.date1904)?"true":"false"}var AQ="][*?/\\".split("");function QL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return AQ.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function EQ(e,t,r){e.forEach(function(a,s){QL(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function TQ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];EQ(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)XX(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function eP(e){var t=[jn];t[t.length]=vt("workbook",null,{xmlns:Vf[0],"xmlns:r":Vn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(jQ.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=vt("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:na(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=vt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=vt("definedName",na(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function CQ(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Jw(e),r.name=Ls(e),r}function LQ(e,t){return t||(t=Je(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),x4(e.strRelID,t),$n(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function PQ(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Ls(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function MQ(e,t){t||(t=Je(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hL(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function RQ(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=SY(e),o=HX(e,0,r),l=p4(e);e.l=a;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function OQ(e,t){dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};dt(e,156,LQ(s))}dt(e,144)}function DQ(e,t){t||(t=Je(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return $n("SheetJS",t),$n(o1.version,t),$n(o1.version,t),$n("7262",t),t.length>t.l?t.slice(0,t.l):t}function IQ(e,t){t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function FQ(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(dt(e,135),dt(e,158,IQ(s)),dt(e,136))}}function BQ(e,t){var r=ki();return dt(r,131),dt(r,128,DQ()),dt(r,153,MQ(e.Workbook&&e.Workbook.WBProps||null)),FQ(r,e),OQ(r,e),dt(r,132),r.end()}function zQ(e,t,r){return(t.slice(-4)===".bin"?BQ:eP)(e)}function UQ(e,t,r,a,s){return(t.slice(-4)===".bin"?NQ:XL)(e,r,a,s)}function VQ(e,t,r){return(t.slice(-4)===".bin"?iZ:DL)(e,r)}function qQ(e,t,r){return(t.slice(-4)===".bin"?MK:PL)(e,r)}function $Q(e,t,r){return(t.slice(-4)===".bin"?_Z:UL)(e)}function HQ(e){return(e.slice(-4)===".bin"?mZ:BL)()}function WQ(e,t){var r=[];return e.Props&&r.push(VY(e.Props,t)),e.Custprops&&r.push(qY(e.Props,e.Custprops)),r.join("")}function GQ(){return""}function YQ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(vt("NumberFormat",null,{"ss:Format":na(Qa[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(vt("Style",i.join(""),o))}),vt("Styles",r.join(""))}function tP(e){return vt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+w4(e.Ref,{r:0,c:0})})}function KQ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(tP(s)))}return vt("Names",r.join(""))}function ZQ(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(tP(l)))}return i.join("")}function XQ(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(vt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(vt("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(vt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(vt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(ls("ProtectContents","True")),e["!protect"].objects&&s.push(ls("ProtectObjects","True")),e["!protect"].scenarios&&s.push(ls("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(ls("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(ls("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":vt("WorksheetOptions",s.join(""),{xmlns:Ji.x})}function JQ(e){return e.map(function(t){var r=rY(t.t||""),a=vt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return vt("Comment",a,{"ss:Author":t.a})}).join("")}function QQ(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+na(w4(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=qn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=na(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=na(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(l["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(l["ss:MergeDown"]=u[h].e.r-u[h].s.r));var f="",m="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=vp[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Qa[14]);break;case"s":f="String",m=tY(e.v||"");break}var g=wu(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+g),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=JQ(e.c)),vt("Cell",x,l)}function eee(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=OL(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function tee(e,t,r,a){if(!e["!ref"])return"";var s=Ta(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,b){v4(N);var w=!!N.width,k=cv(b,N),S={"ss:Index":b+1};w&&(S["ss:Width"]=x1(k.width)),N.hidden&&(S["ss:Hidden"]="1"),l.push(vt("Column",null,S))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var h=[eee(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var g={r:u,c:f},y=sa(g),x=c?(e[u]||[])[f]:e[y];h.push(QQ(x,y,e,t,r,a,g))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function ree(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?ZQ(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?tee(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(XQ(i,t,e,r)),a.join("")}function aee(e,t){t||(t={}),e.SSF||(e.SSF=Ei(Qa)),e.SSF&&(nv(),av(e.SSF),t.revssf=sv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],wu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(WQ(e,t)),r.push(GQ()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(vt("Worksheet",ree(a,t,e),{"ss:Name":na(e.SheetNames[a])}));return r[2]=YQ(e,t),r[3]=KQ(e),jn+vt("Workbook",r.join(""),{xmlns:Ji.ss,"xmlns:o":Ji.o,"xmlns:x":Ji.x,"xmlns:ss":Ji.ss,"xmlns:dt":Ji.dt,"xmlns:html":Ji.html})}var Zb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nee(e,t){var r=[],a=[],s=[],i=0,o,l=vS(PS,"n"),c=vS(MS,"n");if(e.Props)for(o=fs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=fs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)jL.indexOf(s[i][0])>-1||_L.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);a.length&&oa.utils.cfb_add(t,"/SummaryInformation",FS(a,Zb.SI,c,MS)),(r.length||u.length)&&oa.utils.cfb_add(t,"/DocumentSummaryInformation",FS(r,Zb.DSI,l,PS,u.length?u:null,Zb.UDI))}function see(e,t){var r=t||{},a=oa.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return oa.utils.cfb_add(a,s,rP(e,r)),r.biff==8&&(e.Props||e.Custprops)&&nee(e,a),r.biff==8&&e.vbaraw&&NZ(a,oa.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var iee={0:{f:cJ},1:{f:xJ},2:{f:IJ},3:{f:jJ},4:{f:wJ},5:{f:MJ},6:{f:VJ},7:{f:TJ},8:{f:KJ},9:{f:YJ},10:{f:WJ},11:{f:GJ},12:{f:vJ},13:{f:BJ},14:{f:AJ},15:{f:NJ},16:{f:OJ},17:{f:$J},18:{f:LJ},19:{f:g4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:RQ},40:{},42:{},43:{f:VK},44:{f:zK},45:{f:HK},46:{f:GK},47:{f:WK},48:{},49:{f:vY},50:{},51:{f:cZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bK},62:{f:UJ},63:{f:gZ},64:{f:uQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:uc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gJ},148:{f:hJ,p:16},151:{f:tQ},152:{},153:{f:PQ},154:{},155:{},156:{f:CQ},157:{},158:{},159:{T:1,f:CK},160:{T:-1},161:{T:1,f:Ih},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ZJ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oZ},336:{T:-1},337:{f:hZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Jw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rQ},427:{f:aQ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sQ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:QJ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Jw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bZ},633:{T:1},634:{T:-1},635:{T:1,f:yZ},636:{T:-1},637:{f:NY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function bt(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&h4(r)&&e.push(r)}}function oee(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return bt(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function wp(e,t,r){return e||(e=Je(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function lee(e,t,r,a){var s=Je(9);return wp(s,e,t),AL(r,a||"b",s),s}function cee(e,t,r){var a=Je(8+2*r.length);return wp(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function dee(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Ai(Zs(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?bt(e,2,kK(r,a,s)):bt(e,3,NK(r,a,s));return;case"b":case"e":bt(e,5,lee(r,a,t.v,t.t));return;case"s":case"str":bt(e,4,cee(r,a,(t.v||"").slice(0,255)));return}bt(e,1,wp(null,r,a))}function uee(e,t,r,a){var s=Array.isArray(t),i=Ta(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Nn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=hs(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(c[h]=Cs(h)),o=c[h]+l;var f=s?(t[u]||[])[h]:t[o];f&&dee(e,f,u,h)}}}function hee(e,t){for(var r=t||{},a=ki(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return bt(a,r.biff==4?1033:r.biff==3?521:9,y4(e,16,r)),uee(a,e.Sheets[e.SheetNames[s]],s,r),bt(a,10),a.end()}function fee(e,t,r){bt(e,49,iK({sz:12,name:"Arial"},r))}function mee(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&bt(e,1054,cK(s,t[s],r))})}function gee(e,t){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),bt(e,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),CL(Ta(t["!ref"]||"A1"),r),r.write_shift(4,4),bt(e,2152,r)}function pee(e,t){for(var r=0;r<16;++r)bt(e,224,zS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){bt(e,224,zS(a,0,t))})}function xee(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];bt(e,440,xK(a)),a[1].Tooltip&&bt(e,2048,yK(a))}delete t["!links"]}function yee(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&bt(e,125,wK(cv(s,a),s))})}}function vee(e,t,r,a,s){var i=16+wu(s.cellXfs,t,s);if(t.v==null&&!t.bf){bt(e,513,Nh(r,a,i));return}if(t.bf)bt(e,6,qX(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ai(Zs(t.v)):t.v;bt(e,515,fK(r,a,o,i));break;case"b":case"e":bt(e,517,hK(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=N4(s.Strings,t.v,s.revStrings);bt(e,253,oK(r,a,l,i))}else bt(e,516,lK(r,a,(t.v||"").slice(0,255),i,s));break;default:bt(e,513,Nh(r,a,i))}}function bee(e,t,r){var a=ki(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,h,f="",m=[],g=Ta(i["!ref"]||"A1"),y=u?65536:16384;if(g.e.c>255||g.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,y-1)}bt(a,2057,y4(r,16,t)),bt(a,13,Co(1)),bt(a,12,Co(100)),bt(a,15,qs(!0)),bt(a,17,qs(!1)),bt(a,16,_h(.001)),bt(a,95,qs(!0)),bt(a,42,qs(!1)),bt(a,43,qs(!1)),bt(a,130,Co(1)),bt(a,128,uK()),bt(a,131,qs(!1)),bt(a,132,qs(!1)),u&&yee(a,i["!cols"]),bt(a,512,dK(g,t)),u&&(i["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){f=hs(x);for(var N=g.s.c;N<=g.e.c;++N){x===g.s.r&&(m[N]=Cs(N)),h=m[N]+f;var b=c?(i[x]||[])[N]:i[h];b&&(vee(a,b,x,N,t),u&&b.l&&i["!links"].push([h,b.l]))}}var w=l.CodeName||l.name||s;return u&&bt(a,574,sK((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&bt(a,229,pK(i["!merges"])),u&&xee(a,i),bt(a,442,TL(w)),u&&gee(a,i),bt(a,10),a.end()}function wee(e,t,r){var a=ki(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(bt(a,2057,y4(e,5,r)),r.bookType=="xla"&&bt(a,135),bt(a,225,l?Co(1200):null),bt(a,193,WY(2)),c&&bt(a,191),c&&bt(a,192),bt(a,226),bt(a,92,tK("SheetJS",r)),bt(a,66,Co(l?1200:1252)),l&&bt(a,353,Co(0)),l&&bt(a,448),bt(a,317,_K(e.SheetNames.length)),l&&e.vbaraw&&bt(a,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";bt(a,442,TL(u))}bt(a,156,Co(17)),bt(a,25,qs(!1)),bt(a,18,qs(!1)),bt(a,19,Co(0)),l&&bt(a,431,qs(!1)),l&&bt(a,444,Co(0)),bt(a,61,nK()),bt(a,64,qs(!1)),bt(a,141,Co(0)),bt(a,34,qs(SQ(e)=="true")),bt(a,14,qs(!0)),l&&bt(a,439,qs(!1)),bt(a,218,Co(0)),fee(a,e,r),mee(a,e.SSF,r),pee(a,r),l&&bt(a,352,qs(!1));var h=a.end(),f=ki();l&&bt(f,140,vK()),l&&r.Strings&&oee(f,252,aK(r.Strings)),bt(f,10);var m=f.end(),g=ki(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var N=h.length+y+m.length;for(x=0;x<e.SheetNames.length;++x){var b=i[x]||{};bt(g,133,rK({pos:N,hs:b.Hidden||0,dt:0,name:e.SheetNames[x]},r)),N+=t[x].length}var w=g.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var k=[];return h.length&&k.push(h),w.length&&k.push(w),m.length&&k.push(m),os(k)}function _ee(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Ei(Qa)),e&&e.SSF&&(nv(),av(e.SSF),r.revssf=sv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,k4(r),r.cellXfs=[],wu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=bee(s,r,e);return a.unshift(wee(e,a,r)),os(a)}function rP(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=fo(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return _ee(e,t);case 4:case 3:case 2:return hee(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Nee(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var h=sa({r,c:o}),f=a.dense?(e[r]||[])[o]:e[h],m=f&&f.v!=null&&(f.h||eY(f.w||(ad(f),f.w)||""))||"",g={};l>1&&(g.rowspan=l),c>1&&(g.colspan=c),a.editable?m='<span contenteditable="true">'+m+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),g.id=(a.id||"sjs")+"-"+h,i.push(vt("td",m,g))}}var y="<tr>";return y+i.join("")+"</tr>"}var kee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jee="</body></html>";function See(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function aP(e,t){var r=t||{},a=r.header!=null?r.header:kee,s=r.footer!=null?r.footer:jee,i=[a],o=fo(e["!ref"]);r.dense=Array.isArray(e),i.push(See(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Nee(e,o,l,r));return i.push("</table>"+s),i.join("")}function nP(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?qn(a.origin):a.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var h=fo(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),s==-1&&(u.e.r=s=h.e.r+1)}var f=[],m=0,g=e["!rows"]||(e["!rows"]=[]),y=0,x=0,N=0,b=0,w=0,k=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var S=l[y];if(GS(S)){if(a.display)continue;g[x]={hidden:!0}}var B=S.children;for(N=b=0;N<B.length;++N){var H=B[N];if(!(a.display&&GS(H))){var F=H.hasAttribute("data-v")?H.getAttribute("data-v"):H.hasAttribute("v")?H.getAttribute("v"):nY(H.innerHTML),D=H.getAttribute("data-z")||H.getAttribute("z");for(m=0;m<f.length;++m){var P=f[m];P.s.c==b+i&&P.s.r<x+s&&x+s<=P.e.r&&(b=P.e.c+1-i,m=-1)}k=+H.getAttribute("colspan")||1,((w=+H.getAttribute("rowspan")||1)>1||k>1)&&f.push({s:{r:x+s,c:b+i},e:{r:x+s+(w||1)-1,c:b+i+(k||1)-1}});var G={t:"s",v:F},I=H.getAttribute("data-t")||H.getAttribute("t")||"";F!=null&&(F.length==0?G.t=I||"z":a.raw||F.trim().length==0||I=="s"||(F==="TRUE"?G={t:"b",v:!0}:F==="FALSE"?G={t:"b",v:!1}:isNaN(Wc(F))?isNaN(Vg(F).getDate())||(G={t:"d",v:Zs(F)},a.cellDates||(G={t:"n",v:Ai(G.v)}),G.z=a.dateNF||Qa[14]):G={t:"n",v:Wc(F)})),G.z===void 0&&D!=null&&(G.z=D);var q="",Y=H.getElementsByTagName("A");if(Y&&Y.length)for(var ee=0;ee<Y.length&&!(Y[ee].hasAttribute("href")&&(q=Y[ee].getAttribute("href"),q.charAt(0)!="#"));++ee);q&&q.charAt(0)!="#"&&(G.l={Target:q}),a.dense?(e[x+s]||(e[x+s]=[]),e[x+s][b+i]=G):e[sa({c:b+i,r:x+s})]=G,u.e.c<b+i&&(u.e.c=b+i),b+=k}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+s),e["!ref"]=Nn(u),x>=c&&(e["!fullref"]=Nn((u.e.r=l.length-y+x-1+s,u))),e}function sP(e,t){var r=t||{},a=r.dense?[]:{};return nP(a,e,t)}function Aee(e,t){return Mh(sP(e,t),t)}function GS(e){var t="",r=Eee(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Eee(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Tee=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+$g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return jn+t}}(),YS=function(){var e=function(i){return na(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+na(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,h=0,f=fo(i["!ref"]||"A1"),m=i["!merges"]||[],g=0,y=Array.isArray(i);if(i["!cols"])for(h=0;h<=f.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var x="",N=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),h=0;h<f.s.c;++h)c.push(t);for(;h<=f.e.c;++h){var b=!1,w={},k="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>h)&&!(m[g].s.r>u)&&!(m[g].e.c<h)&&!(m[g].e.r<u)){(m[g].s.c!=h||m[g].s.r!=u)&&(b=!0),w["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,w["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(b){c.push(r);continue}var S=sa({r:u,c:h}),B=y?(i[u]||[])[h]:i[S];if(B&&B.f&&(w["table:formula"]=na(KX(B.f)),B.F&&B.F.slice(0,S.length)==S)){var H=fo(B.F);w["table:number-matrix-columns-spanned"]=H.e.c-H.s.c+1,w["table:number-matrix-rows-spanned"]=H.e.r-H.s.r+1}if(!B){c.push(t);continue}switch(B.t){case"b":k=B.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=B.v?"true":"false";break;case"n":k=B.w||String(B.v||0),w["office:value-type"]="float",w["office:value"]=B.v||0;break;case"s":case"str":k=B.v==null?"":B.v,w["office:value-type"]="string";break;case"d":k=B.w||Zs(B.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Zs(B.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var F=e(k);if(B.l&&B.l.Target){var D=B.l.Target;D=D.charAt(0)=="#"?"#"+ZX(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),F=vt("text:a",F,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+vt("table:table-cell",vt("text:p",F,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var f=u["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;v4(f),f.ods=l;var m=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var f=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[jn],u=$g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=$g({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(bL().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(a(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function iP(e,t){if(t.bookType=="fods")return YS(e,t);var r=l4(),a="",s=[],i=[];return a="mimetype",mr(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",mr(r,a,YS(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",mr(r,a,Tee(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",mr(r,a,jn+bL()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",mr(r,a,UY(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",mr(r,a,BY(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function b1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Cee(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):kl(qg(e))}function Lee(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function pu(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function Pee(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Hg(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Jr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sf(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Mn(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=Hg(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Hg(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var u={data:l,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function rs(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Jr(a*8+s.type)),s.type==2&&t.push(Jr(s.data.length)),t.push(s.data))})}),pu(t)}function gl(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=Hg(e,a),i=Mn(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:sf(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Mn(l.data),u=sf(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+u)}),a[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=sf(i[3][0].data)>>>0>0),r.push(o)}return r}function c0(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Jr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Jr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Jr(o.data.length)}],a[2].push({data:rs(o.meta),type:2})});var i=rs(a);t.push(Jr(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),pu(t)}function Mee(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Hg(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[pu(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var h=pu(s);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function pl(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Mee(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return pu(t)}function d0(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Jr(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return pu(t)}function Xb(e,t){var r=new Uint8Array(32),a=b1(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Pee(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function Jb(e,t){var r=new Uint8Array(32),a=b1(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function Cd(e){var t=Mn(e);return Hg(t[1][0].data)}function Ree(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&sf(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=b1(e[7][0].data),h=0,f=[],m=b1(e[4][0].data),g=0,y=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}u.setUint16(x*2,h,!0),m.setUint16(x*2,g,!0);var N,b;switch(typeof t[x]){case"string":N=Xb({t:"s",v:t[x]},r),b=Jb({t:"s",v:t[x]},r);break;case"number":N=Xb({t:"n",v:t[x]},r),b=Jb({t:"n",v:t[x]},r);break;case"boolean":N=Xb({t:"b",v:t[x]},r),b=Jb({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(N),h+=N.length,y.push(b),g+=b.length,++c}for(e[2][0].data=Jr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=pu(f),e[3][0].data=pu(y),c}function Oee(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=fo(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Nn(a)));var i=w1(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(O){typeof O=="string"&&o.push(O)})});var l={},c=[],u=oa.read(t.numbers,{type:"base64"});u.FileIndex.map(function(z,O){return[z,u.FullPaths[O]]}).forEach(function(z){var O=z[0],R=z[1];if(O.type==2&&O.name.match(/\.iwa/)){var W=O.content,X=pl(W),ne=gl(X);ne.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:R,type:sf(re.messages[0].meta[1][0].data)}})}}),c.sort(function(z,O){return z-O});var h=c.filter(function(z){return z>1}).map(function(z){return[z,Jr(z)]});u.FileIndex.map(function(z,O){return[z,u.FullPaths[O]]}).forEach(function(z){var O=z[0];if(z[1],!!O.name.match(/\.iwa/)){var R=gl(pl(O.content));R.forEach(function(W){W.messages.forEach(function(X){h.forEach(function(ne){W.messages.some(function(re){return sf(re.meta[1][0].data)!=11006&&Lee(re.data,ne[1])})&&l[ne[0]].deps.push(W.id)})})})}});for(var f=oa.find(u,l[1].location),m=gl(pl(f.content)),g,y=0;y<m.length;++y){var x=m[y];x.id==1&&(g=x)}var N=Cd(Mn(g.messages[0].data)[1][0].data);for(f=oa.find(u,l[N].location),m=gl(pl(f.content)),y=0;y<m.length;++y)x=m[y],x.id==N&&(g=x);for(N=Cd(Mn(g.messages[0].data)[2][0].data),f=oa.find(u,l[N].location),m=gl(pl(f.content)),y=0;y<m.length;++y)x=m[y],x.id==N&&(g=x);for(N=Cd(Mn(g.messages[0].data)[2][0].data),f=oa.find(u,l[N].location),m=gl(pl(f.content)),y=0;y<m.length;++y)x=m[y],x.id==N&&(g=x);var b=Mn(g.messages[0].data);{b[6][0].data=Jr(a.e.r+1),b[7][0].data=Jr(a.e.c+1);var w=Cd(b[46][0].data),k=oa.find(u,l[w].location),S=gl(pl(k.content));{for(var B=0;B<S.length&&S[B].id!=w;++B);if(S[B].id!=w)throw"Bad ColumnRowUIDMapArchive";var H=Mn(S[B].messages[0].data);H[1]=[],H[2]=[],H[3]=[];for(var F=0;F<=a.e.c;++F){var D=[];D[1]=D[2]=[{type:0,data:Jr(F+420690)}],H[1].push({type:2,data:rs(D)}),H[2].push({type:0,data:Jr(F)}),H[3].push({type:0,data:Jr(F)})}H[4]=[],H[5]=[],H[6]=[];for(var P=0;P<=a.e.r;++P)D=[],D[1]=D[2]=[{type:0,data:Jr(P+726270)}],H[4].push({type:2,data:rs(D)}),H[5].push({type:0,data:Jr(P)}),H[6].push({type:0,data:Jr(P)});S[B].messages[0].data=rs(H)}k.content=d0(c0(S)),k.size=k.content.length,delete b[46];var G=Mn(b[4][0].data);{G[7][0].data=Jr(a.e.r+1);var I=Mn(G[1][0].data),q=Cd(I[2][0].data);k=oa.find(u,l[q].location),S=gl(pl(k.content));{if(S[0].id!=q)throw"Bad HeaderStorageBucket";var Y=Mn(S[0].messages[0].data);for(P=0;P<i.length;++P){var ee=Mn(Y[2][0].data);ee[1][0].data=Jr(P),ee[4][0].data=Jr(i[P].length),Y[2][P]={type:Y[2][0].type,data:rs(ee)}}S[0].messages[0].data=rs(Y)}k.content=d0(c0(S)),k.size=k.content.length;var ue=Cd(G[2][0].data);k=oa.find(u,l[ue].location),S=gl(pl(k.content));{if(S[0].id!=ue)throw"Bad HeaderStorageBucket";for(Y=Mn(S[0].messages[0].data),F=0;F<=a.e.c;++F)ee=Mn(Y[2][0].data),ee[1][0].data=Jr(F),ee[4][0].data=Jr(a.e.r+1),Y[2][F]={type:Y[2][0].type,data:rs(ee)};S[0].messages[0].data=rs(Y)}k.content=d0(c0(S)),k.size=k.content.length;var le=Cd(G[4][0].data);(function(){for(var z=oa.find(u,l[le].location),O=gl(pl(z.content)),R,W=0;W<O.length;++W){var X=O[W];X.id==le&&(R=X)}var ne=Mn(R.messages[0].data);{ne[3]=[];var re=[];o.forEach(function(Le,Oe){re[1]=[{type:0,data:Jr(Oe)}],re[2]=[{type:0,data:Jr(1)}],re[3]=[{type:2,data:Cee(Le)}],ne[3].push({type:2,data:rs(re)})})}R.messages[0].data=rs(ne);var Z=c0(O),ke=d0(Z);z.content=ke,z.size=z.content.length})();var xe=Mn(G[3][0].data);{var oe=xe[1][0];delete xe[2];var fe=Mn(oe.data);{var Se=Cd(fe[2][0].data);(function(){for(var z=oa.find(u,l[Se].location),O=gl(pl(z.content)),R,W=0;W<O.length;++W){var X=O[W];X.id==Se&&(R=X)}var ne=Mn(R.messages[0].data);{delete ne[6],delete xe[7];var re=new Uint8Array(ne[5][0].data);ne[5]=[];for(var Z=0,ke=0;ke<=a.e.r;++ke){var Le=Mn(re);Z+=Ree(Le,i[ke],o),Le[1][0].data=Jr(ke),ne[5].push({data:rs(Le),type:2})}ne[1]=[{type:0,data:Jr(a.e.c+1)}],ne[2]=[{type:0,data:Jr(a.e.r+1)}],ne[3]=[{type:0,data:Jr(Z)}],ne[4]=[{type:0,data:Jr(a.e.r+1)}]}R.messages[0].data=rs(ne);var Oe=c0(O),Ge=d0(Oe);z.content=Ge,z.size=z.content.length})()}oe.data=rs(fe)}G[3][0].data=rs(xe)}b[4][0].data=rs(G)}g.messages[0].data=rs(b);var K=c0(m),A=d0(K);return f.content=A,f.size=f.content.length,u}function Dee(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function k4(e){Dee([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Iee(e,t){return t.bookType=="ods"?iP(e,t):t.bookType=="numbers"?Oee(e,t):t.bookType=="xlsb"?Fee(e,t):Bee(e,t)}function Fee(e,t){D0=1024,e&&!e.SSF&&(e.SSF=Ei(Qa)),e&&e.SSF&&(nv(),av(e.SSF),t.revssf=sv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=VL.indexOf(t.bookType)>-1,s=xL();k4(t=t||{});var i=l4(),o="",l=0;if(t.cellXfs=[],wu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",mr(i,o,wL(e.Props,t)),s.coreprops.push(o),ea(t.rels,2,o,Ir.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,mr(i,o,NL(e.Props)),s.extprops.push(o),ea(t.rels,3,o,Ir.EXT_PROPS),e.Custprops!==e.Props&&fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",mr(i,o,kL(e.Custprops)),s.custprops.push(o),ea(t.rels,4,o,Ir.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,mr(i,o,UQ(l-1,o,t,e,h)),s.sheets.push(o),ea(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ir.WS[0])}if(f){var g=f["!comments"],y=!1,x="";g&&g.length>0&&(x="xl/comments"+l+"."+r,mr(i,x,$Q(g,x)),s.comments.push(x),ea(h,-1,"../comments"+l+"."+r,Ir.CMNT),y=!0),f["!legacy"]&&y&&mr(i,"xl/drawings/vmlDrawing"+l+".vml",zL(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&mr(i,vL(o),af(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,mr(i,o,qQ(t.Strings,o,t)),s.strs.push(o),ea(t.wbrels,-1,"sharedStrings."+r,Ir.SST)),o="xl/workbook."+r,mr(i,o,zQ(e,o)),s.workbooks.push(o),ea(t.rels,1,o,Ir.WB),o="xl/theme/theme1.xml",mr(i,o,FL(e.Themes,t)),s.themes.push(o),ea(t.wbrels,-1,"theme/theme1.xml",Ir.THEME),o="xl/styles."+r,mr(i,o,VQ(e,o,t)),s.styles.push(o),ea(t.wbrels,-1,"styles."+r,Ir.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",mr(i,o,e.vbaraw),s.vba.push(o),ea(t.wbrels,-1,"vbaProject.bin",Ir.VBA)),o="xl/metadata."+r,mr(i,o,HQ(o)),s.metadata.push(o),ea(t.wbrels,-1,"metadata."+r,Ir.XLMETA),mr(i,"[Content_Types].xml",yL(s,t)),mr(i,"_rels/.rels",af(t.rels)),mr(i,"xl/_rels/workbook."+r+".rels",af(t.wbrels)),delete t.revssf,delete t.ssf,i}function Bee(e,t){D0=1024,e&&!e.SSF&&(e.SSF=Ei(Qa)),e&&e.SSF&&(nv(),av(e.SSF),t.revssf=sv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=VL.indexOf(t.bookType)>-1,s=xL();k4(t=t||{});var i=l4(),o="",l=0;if(t.cellXfs=[],wu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",mr(i,o,wL(e.Props,t)),s.coreprops.push(o),ea(t.rels,2,o,Ir.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,mr(i,o,NL(e.Props)),s.extprops.push(o),ea(t.rels,3,o,Ir.EXT_PROPS),e.Custprops!==e.Props&&fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",mr(i,o,kL(e.Custprops)),s.custprops.push(o),ea(t.rels,4,o,Ir.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,mr(i,o,XL(l-1,t,e,f)),s.sheets.push(o),ea(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ir.WS[0])}if(m){var y=m["!comments"],x=!1,N="";if(y&&y.length>0){var b=!1;y.forEach(function(w){w[1].forEach(function(k){k.T==!0&&(b=!0)})}),b&&(N="xl/threadedComments/threadedComment"+l+"."+r,mr(i,N,pZ(y,h,t)),s.threadedcomments.push(N),ea(f,-1,"../threadedComments/threadedComment"+l+"."+r,Ir.TCMNT)),N="xl/comments"+l+"."+r,mr(i,N,UL(y)),s.comments.push(N),ea(f,-1,"../comments"+l+"."+r,Ir.CMNT),x=!0}m["!legacy"]&&x&&mr(i,"xl/drawings/vmlDrawing"+l+".vml",zL(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&mr(i,vL(o),af(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,mr(i,o,PL(t.Strings,t)),s.strs.push(o),ea(t.wbrels,-1,"sharedStrings."+r,Ir.SST)),o="xl/workbook."+r,mr(i,o,eP(e)),s.workbooks.push(o),ea(t.rels,1,o,Ir.WB),o="xl/theme/theme1.xml",mr(i,o,FL(e.Themes,t)),s.themes.push(o),ea(t.wbrels,-1,"theme/theme1.xml",Ir.THEME),o="xl/styles."+r,mr(i,o,DL(e,t)),s.styles.push(o),ea(t.wbrels,-1,"styles."+r,Ir.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",mr(i,o,e.vbaraw),s.vba.push(o),ea(t.wbrels,-1,"vbaProject.bin",Ir.VBA)),o="xl/metadata."+r,mr(i,o,BL()),s.metadata.push(o),ea(t.wbrels,-1,"metadata."+r,Ir.XLMETA),h.length>1&&(o="xl/persons/person.xml",mr(i,o,xZ(h)),s.people.push(o),ea(t.wbrels,-1,"persons/person.xml",Ir.PEOPLE)),mr(i,"[Content_Types].xml",yL(s,t)),mr(i,"_rels/.rels",af(t.rels)),mr(i,"xl/_rels/workbook."+r+".rels",af(t.wbrels)),delete t.revssf,delete t.ssf,i}function zee(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=rd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function oP(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return xp(t.file,oa.write(e,{type:Br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return oa.write(e,t)}function Uee(e,t){var r=Ei(t||{}),a=Iee(e,r);return Vee(a,r)}function Vee(e,t){var r={},a=Br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?oa.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(rv(s))}return t.password&&typeof encrypt_agile<"u"?oP(encrypt_agile(s,t.password),t):t.type==="file"?xp(t.file,s):t.type=="string"?ng(s):s}function qee(e,t){var r=t||{},a=see(e,r);return oP(a,r)}function Ql(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Ug(qg(a));case"binary":return qg(a);case"string":return e;case"file":return xp(t.file,a,"utf8");case"buffer":return Br?ld(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ql(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function $ee(e,t){switch(t.type){case"base64":return Ug(e);case"binary":return e;case"string":return e;case"file":return xp(t.file,e,"binary");case"buffer":return Br?ld(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ex(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Ug(r):t.type=="string"?ng(r):r;case"file":return xp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function lP(e,t){yG(),TQ(e);var r=Ei(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=lP(e,r);return r.type="array",rv(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ql(aee(e,r),r);case"slk":case"sylk":return Ql(SK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ql(aP(e.Sheets[e.SheetNames[s]],r),r);case"txt":return $ee(cP(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ql(j4(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ql(AK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Ex(jK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ql(EK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ql(OK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ql(LL.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ql(iP(e,r),r);case"wk1":return Ex(US.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Ex(US.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ex(rP(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),qee(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Uee(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Hee(e,t,r,a,s,i,o,l){var c=hs(r),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var g=t.s.c;g<=t.e.c;++g){var y=o?e[r][g]:e[a[g]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[g]!=null&&(m[i[g]]=u);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[g]!=null){if(x==null)if(y.t=="e"&&x===null)m[i[g]]=null;else if(u!==void 0)m[i[g]]=u;else if(h&&x===null)m[i[g]]=null;else continue;else m[i[g]]=h&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:ad(y,x,l);x!=null&&(f=!1)}}return{row:m,isempty:f}}function w1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?a=1:u.header==="A"?a=2:Array.isArray(u.header)?a=3:u.header==null&&(a=0),typeof h){case"string":c=Ta(h);break;case"number":c=Ta(e["!ref"]),c.s.r=h;break;default:c=h}a>0&&(s=0);var f=hs(c.s.r),m=[],g=[],y=0,x=0,N=Array.isArray(e),b=c.s.r,w=0,k={};N&&!e[b]&&(e[b]=[]);var S=u.skipHidden&&e["!cols"]||[],B=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(S[w]||{}).hidden)switch(m[w]=Cs(w),r=N?e[b][w]:e[m[w]+f],a){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ad(r,null,u),x=k[o]||0,!x)k[o]=1;else{do l=o+"_"+x++;while(k[l]);k[o]=x,k[l]=1}i[w]=l}for(b=c.s.r+s;b<=c.e.r;++b)if(!(B[b]||{}).hidden){var H=Hee(e,c,b,m,a,i,N,u);(H.isempty===!1||(a===1?u.blankrows!==!1:u.blankrows))&&(g[y++]=H.row)}return g.length=y,g}var KS=/"/g;function Wee(e,t,r,a,s,i,o,l){for(var c=!0,u=[],h="",f=hs(r),m=t.s.c;m<=t.e.c;++m)if(a[m]){var g=l.dense?(e[r]||[])[m]:e[a[m]+f];if(g==null)h="";else if(g.v!=null){c=!1,h=""+(l.rawNumbers&&g.t=="n"?g.v:ad(g,null,l));for(var y=0,x=0;y!==h.length;++y)if((x=h.charCodeAt(y))===s||x===i||x===34||l.forceQuotes){h='"'+h.replace(KS,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(c=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(KS,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&c?null:u.join(o)}function j4(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=Ta(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",f=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],g=a.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(f[y]=Cs(y));for(var x=0,N=s.s.r;N<=s.e.r;++N)(g[N]||{}).hidden||(h=Wee(e,s,N,f,o,c,i,a),h!=null&&(a.strip&&(h=h.replace(u,"")),(h||a.blankrows!==!1)&&r.push((x++?l:"")+h)));return delete a.dense,r.join("")}function cP(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=j4(e,t);return r}function Gee(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=Ta(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=Cs(l);for(var h=s.s.r;h<=s.e.r;++h)for(i=hs(h),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=u?(e[h]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function dP(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?qn(a.origin):a.origin;o=c.r,l=c.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var f=Ta(i["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(o=f.e.r+1,h.e.r=o+t.length-1+s)}else o==-1&&(o=0,h.e.r=t.length-1+s);var m=a.header||[],g=0;t.forEach(function(x,N){fs(x).forEach(function(b){(g=m.indexOf(b))==-1&&(m[g=m.length]=b);var w=x[b],k="z",S="",B=sa({c:l+g,r:o+N+s});u=Wg(i,B),w&&typeof w=="object"&&!(w instanceof Date)?i[B]=w:(typeof w=="number"?k="n":typeof w=="boolean"?k="b":typeof w=="string"?k="s":w instanceof Date?(k="d",a.cellDates||(k="n",w=Ai(w)),S=a.dateNF||Qa[14]):w===null&&a.nullError&&(k="e",w=0),u?(u.t=k,u.v=w,delete u.w,delete u.R,S&&(u.z=S)):i[B]=u={t:k,v:w},S&&(u.z=S))})}),h.e.c=Math.max(h.e.c,l+m.length-1);var y=hs(o);if(s)for(g=0;g<m.length;++g)i[Cs(g+l)+y]={t:"s",v:m[g]};return i["!ref"]=Nn(h),i}function Yee(e,t){return dP(null,e,t)}function Wg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=qn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Wg(e,sa(t)):Wg(e,sa({r:t,c:r||0}))}function Kee(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Zee(){return{SheetNames:[],Sheets:{}}}function Xee(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(QL(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Jee(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=Kee(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Qee(e,t){return e.z=t,e}function uP(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ete(e,t,r){return uP(e,"#"+t,r)}function tte(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function rte(e,t,r,a){for(var s=typeof t!="string"?t:Ta(t),i=typeof t=="string"?t:Nn(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=Wg(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var Qb={encode_col:Cs,encode_row:hs,encode_cell:sa,encode_range:Nn,decode_col:m4,decode_row:f4,split_cell:yY,decode_cell:qn,decode_range:fo,format_cell:ad,sheet_add_aoa:uL,sheet_add_json:dP,sheet_add_dom:nP,aoa_to_sheet:qf,json_to_sheet:Yee,table_to_sheet:sP,table_to_book:Aee,sheet_to_csv:j4,sheet_to_txt:cP,sheet_to_json:w1,sheet_to_html:aP,sheet_to_formulae:Gee,sheet_to_row_object_array:w1,sheet_get_cell:Wg,book_new:Zee,book_append_sheet:Xee,book_set_sheet_visibility:Jee,cell_set_number_format:Qee,cell_set_hyperlink:uP,cell_set_internal_link:ete,cell_add_comment:tte,sheet_set_array_formula:rte,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},hP={exports:{}};(function(e,t){(function(r,a){a()})(h0,function(){function r(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function a(u,h,f){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){c(m.response,h,f)},m.onerror=function(){console.error("could not download file")},m.send()}function s(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof h0=="object"&&h0.global===h0?h0:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,h,f){var m=o.URL||o.webkitURL,g=document.createElement("a");h=h||u.name||"download",g.download=h,g.rel="noopener",typeof u=="string"?(g.href=u,g.origin===location.origin?i(g):s(g.href)?a(u,h,f):i(g,g.target="_blank")):(g.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(g.href)},4e4),setTimeout(function(){i(g)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),h);else if(s(u))a(u,h,f);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){i(m)})}}:function(u,h,f,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return a(u,h,f);var g=u.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&y||l)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var k=N.result;k=x?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=k:location=k,m=null},N.readAsDataURL(u)}else{var b=o.URL||o.webkitURL,w=b.createObjectURL(u);m?m.location=w:location.href=w,m=null,setTimeout(function(){b.revokeObjectURL(w)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(hP);var ate=hP.exports;typeof window<"u"&&ty(()=>import("./jspdf.plugin.autotable-CyVc7Jkq.js"),[]).then(e=>{e.default});const cg=(e,t="export")=>{const r=new Vt;r.setFontSize(16),r.text(e.title,14,15),r.autoTable({head:[e.headers],body:e.rows,startY:25,styles:{fontSize:9},headStyles:{fillColor:[255,107,53]}}),r.save(`${t}.pdf`)},dg=(e,t="export")=>{const r=Qb.aoa_to_sheet([e.headers,...e.rows]),a=Qb.book_new();Qb.book_append_sheet(a,r,"Sheet1");const s=e.headers.map(()=>({wch:20}));r["!cols"]=s;const i=lP(a,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});ate.saveAs(o,`${t}.xlsx`)},ZS=()=>{const e=br(),{properties:t,deleteProperty:r}=Th(),[a,s]=C.useState("overview"),[i,o]=C.useState(""),[l,c]=C.useState("all"),[u,h]=C.useState(null),[f,m]=C.useState(""),[g,y]=C.useState("all"),[x,N]=C.useState(null),[b,w]=C.useState(!1),[k,S]=C.useState(!1),[B,H]=C.useState(!1),[F,D]=C.useState([]),[P,G]=C.useState(!1),[I,q]=C.useState(!1),[Y,ee]=C.useState([]),[ue,le]=C.useState(!1),[xe,oe]=C.useState(!1),[fe,Se]=C.useState([]),K=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",phone:"+1 (555) 123-4567"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",phone:"+1 (555) 234-5678"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",phone:"+1 (555) 345-6789"},{id:"4",name:"David Smith",email:"david.smith@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:88,budget:"$2,800/mo",lastContact:"5 hours ago",phone:"+1 (555) 456-7890"},{id:"5",name:"Jessica Williams",email:"jessica.williams@email.com",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:90,budget:"$3,500/mo",lastContact:"12 hours ago",phone:"+1 (555) 567-8901"}],[A,z]=C.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"Approved",score:85,budget:"$2,500/mo",submittedDate:"2025-01-10",lastContact:"2 days ago",phone:"+1 (555) 123-4567"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"Pending",score:92,budget:"$3,200/mo",submittedDate:"2025-01-12",lastContact:"1 day ago",phone:"+1 (555) 234-5678"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",submittedDate:"2025-01-08",lastContact:"3 days ago",phone:"+1 (555) 345-6789"},{id:"4",name:"David Smith",email:"david.smith@email.com",propertyInterested:"Modern Downtown Apartment",status:"Pending",score:88,budget:"$2,800/mo",submittedDate:"2025-01-13",lastContact:"5 hours ago",phone:"+1 (555) 456-7890"},{id:"5",name:"Jessica Williams",email:"jessica.williams@email.com",propertyInterested:"Luxury Condo with City View",status:"Rejected",score:65,budget:"$3,500/mo",submittedDate:"2025-01-05",lastContact:"1 week ago",phone:"+1 (555) 567-8901"},{id:"6",name:"Michael Brown",email:"michael.brown@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:95,budget:"$5,000/mo",submittedDate:"2025-01-09",lastContact:"4 days ago",phone:"+1 (555) 678-9012"}]),O=A.filter(ae=>{const De=ae.name.toLowerCase().includes(i.toLowerCase())||ae.email.toLowerCase().includes(i.toLowerCase())||ae.propertyInterested.toLowerCase().includes(i.toLowerCase()),Ke=l==="all"||ae.status===l;return De&&Ke}),R=O.filter(ae=>ae.status==="Approved"),W=O.filter(ae=>ae.status==="Pending"),X=O.sort((ae,De)=>new Date(De.submittedDate).getTime()-new Date(ae.submittedDate).getTime()),ne=ae=>{z(De=>De.filter(Ke=>Ke.id!==ae)),h(null)},re=ae=>{z(De=>De.map(Ke=>Ke.id===ae?{...Ke,status:"Approved"}:Ke))},Z=ae=>{z(De=>De.map(Ke=>Ke.id===ae?{...Ke,status:"Rejected"}:Ke))},ke=ae=>{const De=Y.length>0?K.filter(at=>Y.includes(at.id)):K,Ke={title:"Leads Report",headers:["Name","Email","Property","Status","Score","Budget","Last Contact"],rows:De.map(at=>[at.name,at.email,at.propertyInterested,at.status,at.score,at.budget,at.lastContact])};ae==="pdf"?cg(Ke,"leads"):dg(Ke,"leads"),q(!1)},Le=ae=>{const De=F.length>0?t.filter(at=>F.includes(at.id)):t,Ke={title:"Properties Report",headers:["Title","Address","Type","Status","Bedrooms","Bathrooms"],rows:De.map(at=>{var yt,wt,it;return[at.title||"",at.address||((yt=at.location)==null?void 0:yt.addressLine1)||"",at.propertyType||"",at.status||"",((wt=at.rooms)==null?void 0:wt.bedrooms)||at.bedrooms||0,((it=at.rooms)==null?void 0:it.bathrooms)||at.bathrooms||0]})};ae==="pdf"?cg(Ke,"properties"):dg(Ke,"properties"),H(!1)},Oe=ae=>{const De=fe.length>0?A.filter(at=>fe.includes(at.id)):A,Ke={title:"Applications Report",headers:["Name","Email","Property","Status","Score","Budget","Submitted Date"],rows:De.map(at=>[at.name,at.email,at.propertyInterested,at.status,at.score,at.budget,at.submittedDate])};ae==="pdf"?cg(Ke,"applications"):dg(Ke,"applications"),oe(!1)},Ge=ae=>{ee(De=>De.includes(ae)?De.filter(Ke=>Ke!==ae):[...De,ae])},de=ae=>{Se(De=>De.includes(ae)?De.filter(Ke=>Ke!==ae):[...De,ae])},Ae=async ae=>{const De={title:`Lead: ${ae.name}`,text:`Lead details: ${ae.name} - ${ae.email} - Budget: ${ae.budget}`,url:window.location.href};if(navigator.share)try{await navigator.share(De)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${De.title}
${De.text}`),alert("Lead details copied to clipboard!")},je=async ae=>{const De={title:`Property: ${ae.title||ae.name}`,text:`Property: ${ae.title||ae.name} - ${ae.address}`,url:`${window.location.origin}/manager/dashboard/properties/${ae.id}`};if(navigator.share)try{await navigator.share(De)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${De.title}
${De.text}
${De.url}`),alert("Property link copied to clipboard!")},et=async ae=>{const De={title:`Application: ${ae.name}`,text:`Application from ${ae.name} - ${ae.email} - Property: ${ae.propertyInterested}`,url:window.location.href};if(navigator.share)try{await navigator.share(De)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${De.title}
${De.text}`),alert("Application details copied to clipboard!")};return n.jsxs("div",{className:"space-y-6 font-sans relative",children:[!b&&n.jsxs("button",{onClick:()=>w(!0),className:"fixed bottom-6 right-6 bg-primary hover:bg-primary-dark text-white rounded-full shadow-lg flex items-center gap-2 px-4 py-3 z-40 transition-all duration-300 hover:scale-105",title:"Ask Lakshmi",children:[n.jsx(Nl,{className:"w-5 h-5"}),n.jsx("span",{className:"btn-primary",children:"Ask Lakshmi"})]}),n.jsx(Xq,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(ux,{title:"Monthly Revenue",value:"$15,000.00",change:"+8.5%",icon:Tl,iconColor:"bg-green-500",trendColor:"text-green-600"}),n.jsx(ux,{title:"Active Listings",value:"8",change:"+5%",icon:dc,iconColor:"bg-blue-500",trendColor:"text-blue-600"}),n.jsx(ux,{title:"Total Views",value:"2450",change:"+15.2%",icon:fa,iconColor:"bg-purple-500",trendColor:"text-purple-600"}),n.jsx(ux,{title:"Conversion Rate",value:"12.2%",change:"+5%",icon:ey,iconColor:"bg-primary",trendColor:"text-primary"})]}),n.jsx(Jq,{activeTab:a,onTabChange:s}),a==="overview"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:n.jsx(N$,{})}),n.jsx("div",{children:n.jsx(k$,{})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5 text-primary transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Your Properties"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{children:"Filters"})]}),n.jsxs("button",{className:"btn-secondary flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Property"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(ae=>n.jsx(Yj,{property:ae},ae.id)):n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No properties yet"}),n.jsx("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium",children:"Add Your First Property"})]})})]})]})]}),a==="leads"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Total Leads"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.length})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(hu,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"New Leads"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="New Lead").length})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(ey,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"In Progress"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="In Progress").length})]}),n.jsx("div",{className:"p-3 bg-yellow-500 rounded-lg",children:n.jsx(fa,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Approved"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="Approved").length})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(ey,{className:"w-6 h-6 text-white"})})]})})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search leads...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>G(!P),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),P&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsx("button",{onClick:()=>G(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>q(!I),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),Y.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:Y.length})]}),I&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>ke("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>ke("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Qm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white",children:"Leads Overview"}),n.jsx("button",{onClick:()=>e("/leads"),className:"btn-secondary text-primary hover:text-primary-dark",children:"View All "})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-black",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Lead Name"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:Y.includes(ae.id),onChange:()=>Ge(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:ae.name})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.email}),ae.phone&&n.jsx("div",{className:"caption text-gray-500 dark:text-gray-400",children:ae.phone})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 caption font-medium rounded-full ${ae.status==="New Lead"?"bg-blue-100 text-blue-800":ae.status==="In Progress"?"bg-yellow-100 text-yellow-800":ae.status==="Approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"caption text-gray-500 dark:text-gray-400",children:ae.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap body-text font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(_n,{className:"w-4 h-4"})}),ae.phone&&n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Call",onClick:()=>window.location.href=`tel:${ae.phone}`,children:n.jsx(od,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>e("/leads"),className:"text-primary hover:text-primary-dark",title:"View Details",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ae(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]})]}),a==="properties"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white",children:"Your Properties"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Property"})]})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search properties by name, address, or city...",value:f,onChange:ae=>m(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("select",{value:g,onChange:ae=>y(ae.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Available",children:"Available"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Sold",children:"Sold"}),n.jsx("option",{value:"Rented",children:"Rented"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>S(!k),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),k&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bedrooms"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"})]})]}),n.jsx("button",{onClick:()=>S(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>H(!B),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),F.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:F.length})]}),B&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>Le("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>Le("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Qm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white mb-4 transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Recently Added Properties"}),(()=>{const ae=t.filter(De=>{var yt,wt,it;const Ke=((yt=De.title)==null?void 0:yt.toLowerCase().includes(f.toLowerCase()))||((wt=De.address)==null?void 0:wt.toLowerCase().includes(f.toLowerCase()))||((it=De.city)==null?void 0:it.toLowerCase().includes(f.toLowerCase())),at=g==="all"||De.status===g;return Ke&&at}).sort((De,Ke)=>{const at=new Date(De.createdAt||0).getTime();return new Date(Ke.createdAt||0).getTime()-at});return ae.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:t.length===0?"No properties yet":"No properties match your search criteria"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ae.map(De=>n.jsxs("div",{className:"relative group",children:[n.jsx(Yj,{property:De}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/${De.id}`),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"View",children:n.jsx(fa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/edit/${De.id}`),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Edit",children:n.jsx($o,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),n.jsx("button",{onClick:()=>je(De),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),n.jsx("button",{onClick:()=>N(De.id),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]},De.id))})})()]})]}),t.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white mb-4",children:"Properties Summary"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:t.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Properties"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:t.filter(ae=>ae.status==="available").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:t.filter(ae=>ae.status==="pending").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-700 mb-1",children:t.filter(ae=>ae.status==="sold"||ae.status==="rented").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sold/Rented"})]})]})]})]}),a==="application"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Total Applications"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:A.length})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(Or,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Approved"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:R.length})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Ar,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Pending"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:W.length})]}),n.jsx("div",{className:"p-3 bg-yellow-500 rounded-lg",children:n.jsx(ya,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Rejected"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:A.filter(ae=>ae.status==="Rejected").length})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(As,{className:"w-6 h-6 text-white"})})]})})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search applications by name, email, or property...",value:i,onChange:ae=>o(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("select",{value:l,onChange:ae=>c(ae.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>le(!ue),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),ue&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsx("button",{onClick:()=>le(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>oe(!xe),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),fe.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:fe.length})]}),xe&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>Oe("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>Oe("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Qm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:["Approved Applications (",R.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:R.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>de(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Vo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(_n,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Reject",onClick:()=>Z(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:["Pending Applications (",W.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:W.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>de(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400",children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Vo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(_n,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>et(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Reject",onClick:()=>Z(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Application History"}),n.jsx("button",{onClick:()=>e("/application"),className:"text-primary hover:text-primary-dark text-sm font-medium",children:"View All "})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:X.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>de(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ae.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":ae.status==="Pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Vo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>et(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(_n,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Reject",onClick:()=>Z(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]})]}),a==="analytics"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(hu,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"247"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(dc,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:t.length||120}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Properties"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Qy,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"14.7%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(bn,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"18.2%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Monthly Revenue Trend"}),n.jsx("button",{onClick:()=>e("/analytics"),className:"text-primary hover:text-primary-dark text-sm font-medium",children:"View Full Analytics "})]}),(()=>{const ae=[{month:"Jan",value:15e3},{month:"Feb",value:18e3},{month:"Mar",value:22e3},{month:"Apr",value:25e3},{month:"May",value:28e3},{month:"Jun",value:32e3}],De=ae.reduce((wt,it)=>wt+it.value,0),Ke=Math.round(De/ae.length),at=ae.reduce((wt,it)=>it.value>wt.value?it:wt,ae[0]),yt=(ae[ae.length-1].value-ae[0].value)/ae[0].value*100;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["$",(De/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"6 months"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Monthly"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["$",(Ke/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Per month"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Best Month"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:at.month}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["$",(at.value/1e3).toFixed(0),"k"]})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",yt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Since Jan"})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"flex items-end justify-between gap-4 h-48",children:ae.map((wt,it)=>{const jt=Math.max(...ae.map(gt=>gt.value)),Et=wt.value/jt*100,Te=it>0?ae[it-1].value:wt.value,st=it>0?(wt.value-Te)/Te*100:0;return n.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[n.jsxs("div",{className:"w-full flex flex-col items-center mb-2 relative",children:[n.jsx("div",{className:"w-full bg-primary rounded-t-lg transition-all hover:opacity-80 cursor-pointer relative",style:{height:`${Et}%`},children:n.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:["$",(wt.value/1e3).toFixed(0),"k",it>0&&n.jsxs("span",{className:`ml-1 ${st>=0?"text-green-400":"text-red-400"}`,children:["(",st>=0?"+":"",st.toFixed(1),"%)"]})]})}),n.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-white mt-2",children:["$",(wt.value/1e3).toFixed(0),"k"]})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:wt.month}),it>0&&n.jsxs("p",{className:`text-xs mt-1 ${st>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[st>=0?"":""," ",Math.abs(st).toFixed(1),"%"]})]},it)})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"vs Average"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:ae.map((wt,it)=>{const jt=it>0?ae[it-1].value:wt.value,Et=it>0?(wt.value-jt)/jt*100:0,Te=(wt.value-Ke)/Ke*100;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:wt.month}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:["$",wt.value.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:it>0?n.jsxs("span",{className:`font-medium ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"+":"",Et.toFixed(1),"%"]}):n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:it>0&&n.jsxs("span",{className:`inline-flex items-center ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"":""," ",Math.abs(Et).toFixed(1),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("span",{className:`font-medium ${Te>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Te>=0?"+":"",Te.toFixed(1),"%"]})})]},it)})})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Key Insights"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{children:[" Revenue has grown by ",n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[yt.toFixed(1),"%"]})," over the past 6 months"]}),n.jsxs("li",{children:[" ",n.jsx("span",{className:"font-semibold",children:at.month})," was the best performing month with $",(at.value/1e3).toFixed(0),"k in revenue"]}),n.jsxs("li",{children:[" Average monthly revenue is ",n.jsxs("span",{className:"font-semibold",children:["$",(Ke/1e3).toFixed(0),"k"]}),", indicating consistent growth"]}),n.jsxs("li",{children:[" Current trend shows ",n.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"positive momentum"})," with steady month-over-month increases"]})]})]})]})})()]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(EC,{className:"w-6 h-6 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Future Property Rate Analysis & Predictions"})]}),(()=>{const ae=[{id:"1",name:"Modern Downtown Apartment",currentRate:45e4,predictedRate1Month:465e3,predictedRate2Months:48e4,trend:"increasing",location:"Downtown",propertyType:"Apartment"},{id:"2",name:"Luxury Condo with City View",currentRate:3500,predictedRate1Month:3625,predictedRate2Months:3750,trend:"increasing",location:"City Center",propertyType:"Condo"},{id:"3",name:"Spacious Penthouse",currentRate:6500,predictedRate1Month:6300,predictedRate2Months:6100,trend:"decreasing",location:"Uptown",propertyType:"Penthouse"},{id:"4",name:"Suburban Family Home",currentRate:32e4,predictedRate1Month:332e3,predictedRate2Months:345e3,trend:"increasing",location:"Suburbs",propertyType:"House"},{id:"5",name:"Beachfront Villa",currentRate:85e4,predictedRate1Month:88e4,predictedRate2Months:91e4,trend:"increasing",location:"Coastal",propertyType:"Villa"}],De=ae.length,Ke=ae.filter(it=>it.trend==="increasing").length,at=ae.filter(it=>it.trend==="decreasing").length,yt=ae.reduce((it,jt)=>{const Et=(jt.predictedRate1Month-jt.currentRate)/jt.currentRate*100;return it+Et},0)/De,wt=ae.reduce((it,jt)=>{const Et=(jt.predictedRate2Months-jt.currentRate)/jt.currentRate*100;return it+Et},0)/De;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Increasing"}),n.jsx(bn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:Ke}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",De," properties"]})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Decreasing"}),n.jsx(e1,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:at}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",De," properties"]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (1 Month)"}),n.jsx(Tl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["+",yt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Next month"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (2 Months)"}),n.jsx(Qy,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",wt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"In 2 months"})]})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Rate Prediction Trend (Next 2 Months)"}),n.jsx(X0,{data:[{label:"Current",value:ae[0].currentRate/1e3},{label:"+1 Month",value:ae[0].predictedRate1Month/1e3},{label:"+2 Months",value:ae[0].predictedRate2Months/1e3}],height:200,color:"#FF6B35"}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 text-center",children:["Sample: ",ae[0].name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Property Rate Predictions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Current Rate"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+1 Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+2 Months"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:ae.map(it=>{const jt=(it.predictedRate1Month-it.currentRate)/it.currentRate*100,Et=(it.predictedRate2Months-it.currentRate)/it.currentRate*100,Te=it.currentRate<1e4;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:it.name}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[it.location,"  ",it.propertyType]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${it.currentRate.toLocaleString()}/mo`:`$${it.currentRate.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${it.predictedRate1Month.toLocaleString()}/mo`:`$${it.predictedRate1Month.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${it.predictedRate2Months.toLocaleString()}/mo`:`$${it.predictedRate2Months.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`font-medium ${jt>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[jt>=0?"+":"",jt.toFixed(1),"% (1M)"]}),n.jsx("br",{}),n.jsxs("span",{className:`font-medium ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"+":"",Et.toFixed(1),"% (2M)"]})]})}),n.jsx("td",{className:"px-4 py-3",children:it.trend==="increasing"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[n.jsx(bn,{className:"w-3 h-3"}),"Increasing"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[n.jsx(e1,{className:"w-3 h-3"}),"Decreasing"]})}),n.jsx("td",{className:"px-4 py-3",children:it.trend==="increasing"?n.jsxs("div",{className:"text-xs",children:[n.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["Increase by ",Et.toFixed(1),"%"]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Suggested: ",Te?`$${Math.round(it.currentRate*(1+Et/100)).toLocaleString()}/mo`:`$${Math.round(it.currentRate*(1+Et/100)).toLocaleString()}`]})]}):n.jsxs("div",{className:"text-xs",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Consider holding"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Market may recover"})]})})]},it.id)})})]})})]}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-orange-100 dark:from-primary/20 dark:to-orange-900/20 rounded-lg border border-primary/20 dark:border-primary/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ba,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Recommendations for Estate Agents"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Next 2 Months Strategy:"})," Based on market predictions, you can increase rates by an average of ",n.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[wt.toFixed(1),"%"]})," across ",Ke," properties."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Immediate Action (1 Month):"})," Consider increasing rates by ",n.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[yt.toFixed(1),"%"]})," for properties showing upward trends to maximize revenue."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Properties to Focus On:"})," ",ae.filter(it=>it.trend==="increasing").map(it=>it.name).join(", ")," show strong growth potential."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Market Timing:"})," The predicted ",wt>0?"increase":"decrease"," suggests this is an ",wt>0?"optimal":"cautious"," time to adjust rates. Monitor market conditions weekly."]})]})]})]})]})})]})})()]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Application Status Distribution"}),n.jsx(t1,{data:[{label:"Approved",value:R.length,color:"#10b981"},{label:"Pending",value:W.length,color:"#f59e0b"},{label:"Rejected",value:A.filter(ae=>ae.status==="Rejected").length,color:"#ef4444"}],size:200})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Lead Status Distribution"}),n.jsx(t1,{data:[{label:"New Leads",value:K.filter(ae=>ae.status==="New Lead").length,color:"#3b82f6"},{label:"In Progress",value:K.filter(ae=>ae.status==="In Progress").length,color:"#f59e0b"},{label:"Approved",value:K.filter(ae=>ae.status==="Approved").length,color:"#10b981"}],size:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Property Performance Comparison"}),n.jsx(r1,{data:[{label:"Modern Downtown",value:45,color:"#FF6B35"},{label:"Luxury Condo",value:38,color:"#3b82f6"},{label:"Spacious Penthouse",value:52,color:"#10b981"}],title:"Property Views",height:200})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Applications by Property"}),n.jsx(r1,{data:[{label:"Modern Downtown",value:12,color:"#8b5cf6"},{label:"Luxury Condo",value:8,color:"#f59e0b"},{label:"Spacious Penthouse",value:15,color:"#ef4444"}],title:"Applications Received",height:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Revenue Trend (Line Chart)"}),n.jsx(X0,{data:[{label:"Jan",value:15e3},{label:"Feb",value:18e3},{label:"Mar",value:22e3},{label:"Apr",value:25e3},{label:"May",value:28e3},{label:"Jun",value:32e3}],height:200,color:"#FF6B35"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Applications"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversion"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:[{property:"Modern Downtown Apartment",views:45,applications:12,conversionRate:26.7},{property:"Luxury Condo with City View",views:38,applications:8,conversionRate:21.1},{property:"Spacious Penthouse",views:52,applications:15,conversionRate:28.8}].map((ae,De)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.property}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.views}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.applications}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${ae.conversionRate}%`}})}),n.jsxs("span",{className:"text-sm text-gray-900",children:[ae.conversionRate,"%"]})]})})]},De))})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Lead Analytic"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Leads"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"247"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Properties"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:t.length||120})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"14.7%"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Passed"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"36"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Monthly Applications Trend"}),n.jsx(X0,{data:[{label:"Jan",value:8},{label:"Feb",value:12},{label:"Mar",value:15},{label:"Apr",value:18},{label:"May",value:22},{label:"Jun",value:25}],height:200,color:"#3b82f6"})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Application"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>ne(u),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Property"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this property? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{x&&(r(x),N(null))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),n.jsx(j$,{isOpen:b,onClose:()=>w(!1)})]})},pc=({label:e="Back",className:t=""})=>{const r=br();return n.jsxs("button",{onClick:()=>r(-1),className:`flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors ${t}`,children:[n.jsx(cc,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:e})]})},Xs={countries:null,states:new Map,cities:new Map};async function e5(){if(Xs.countries)return{data:Xs.countries,error:null};if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:e,error:t}=await He.from("countries").select("id, name, code, phone_code, currency_code").order("name",{ascending:!0});return t?{data:null,error:t.message}:(Xs.countries=e,{data:e,error:null})}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to fetch countries"}}}async function e2(e){if(!e)return{data:null,error:"Country ID is required"};if(Xs.states.has(e))return{data:Xs.states.get(e)||null,error:null};if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:t,error:r}=await He.from("states").select("id, name, code, country_id").eq("country_id",e).order("name",{ascending:!0});return r?{data:null,error:r.message}:(Xs.states.set(e,t||[]),{data:t,error:null})}catch(t){return{data:null,error:t instanceof Error?t.message:"Failed to fetch states"}}}async function Tx(e){if(!e)return{data:null,error:"State ID is required"};if(Xs.cities.has(e))return{data:Xs.cities.get(e)||null,error:null};if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:t,error:r}=await He.from("cities").select("id, name, state_id, postal_code").eq("state_id",e).order("name",{ascending:!0});return r?{data:null,error:r.message}:(Xs.cities.set(e,t||[]),{data:t,error:null})}catch(t){return{data:null,error:t instanceof Error?t.message:"Failed to fetch cities"}}}async function nte(e){if(!e)return{data:null,error:"Country code is required"};if(Xs.countries){const t=Xs.countries.find(r=>r.code===e.toUpperCase());if(t)return{data:t,error:null}}if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:t,error:r}=await He.from("countries").select("id, name, code, phone_code, currency_code").eq("code",e.toUpperCase()).single();return r?{data:null,error:r.message}:{data:t,error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Failed to fetch country"}}}async function ste(e,t){if(!e||!t)return{data:null,error:"State name and country ID are required"};if(Xs.states.has(t)){const r=Xs.states.get(t),a=r==null?void 0:r.find(s=>s.name.toLowerCase()===e.toLowerCase());if(a)return{data:a,error:null}}if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:r,error:a}=await He.from("states").select("id, name, code, country_id").eq("country_id",t).ilike("name",e).single();return a?{data:null,error:a.message}:{data:r,error:null}}catch(r){return{data:null,error:r instanceof Error?r.message:"Failed to fetch state"}}}async function ite(e,t){if(!e||!t)return{data:null,error:"City name and state ID are required"};if(Xs.cities.has(t)){const r=Xs.cities.get(t),a=r==null?void 0:r.find(s=>s.name.toLowerCase()===e.toLowerCase());if(a)return{data:a,error:null}}if(!Ra()||!He)return{data:null,error:"Database connection not available"};try{const{data:r,error:a}=await He.from("cities").select("id, name, state_id, postal_code").eq("state_id",t).ilike("name",e).single();return a?{data:null,error:a.message}:{data:r,error:null}}catch(r){return{data:null,error:r instanceof Error?r.message:"Failed to fetch city"}}}async function ote(e,t,r,a){let s=null,i=null,o=null;if(t){const{data:l}=await nte(t);l&&(s=l.id)}if(!s&&e){const{data:l}=await e5();if(l){const c=l.find(u=>u.name.toLowerCase()===e.toLowerCase());c&&(s=c.id)}}if(s&&r){const{data:l}=await ste(r,s);l&&(i=l.id)}if(i&&a){const{data:l}=await ite(a,i);l&&(o=l.id)}return{countryId:s,stateId:i,cityId:o,error:null}}const lte=({value:e,onChange:t,errors:r={},disabled:a=!1,required:s=!0,initialCountry:i,initialCountryCode:o,initialState:l,initialCity:c})=>{const[u,h]=C.useState([]),[f,m]=C.useState([]),[g,y]=C.useState([]),[x,N]=C.useState(!0),[b,w]=C.useState(!1),[k,S]=C.useState(!1),[B,H]=C.useState(null),[F,D]=C.useState(null),[P,G]=C.useState(null),[I,q]=C.useState(!1);C.useEffect(()=>{(async()=>{N(!0),H(null);const{data:O,error:R}=await e5();if(R){H(R),N(!1);return}h(O||[]),N(!1)})()},[]),C.useEffect(()=>{(async()=>{var O;if(!I&&u.length)if((i||o)&&!e.countryId){const{countryId:R,stateId:W,cityId:X}=await ote(i,o,l,c);if(R){const ne=u.find(re=>re.id===R);if(ne){const{data:re}=await e2(R);if(re&&(m(re),W)){const{data:Le}=await Tx(W);Le&&y(Le)}const Z=re==null?void 0:re.find(Le=>Le.id===W),ke=(O=(await Tx(W||"")).data)==null?void 0:O.find(Le=>Le.id===X);t({...e,countryId:R,countryName:ne.name,countryCode:ne.code,stateId:W||"",stateName:(Z==null?void 0:Z.name)||l||"",stateCode:(Z==null?void 0:Z.code)||"",cityId:X||"",cityName:(ke==null?void 0:ke.name)||c||""})}}q(!0)}else q(!0)})()},[u,i,o,l,c,e,t,I]),C.useEffect(()=>{(async()=>{if(!e.countryId){m([]);return}w(!0),D(null);const{data:O,error:R}=await e2(e.countryId);if(R){D(R),w(!1);return}m(O||[]),w(!1)})()},[e.countryId]),C.useEffect(()=>{(async()=>{if(!e.stateId){y([]);return}S(!0),G(null);const{data:O,error:R}=await Tx(e.stateId);if(R){G(R),S(!1);return}y(O||[]),S(!1)})()},[e.stateId]);const Y=C.useCallback(z=>{const O=u.find(R=>R.id===z);t({...e,countryId:z,countryName:(O==null?void 0:O.name)||"",countryCode:(O==null?void 0:O.code)||"",stateId:"",stateName:"",stateCode:"",cityId:"",cityName:""}),m([]),y([])},[u,e,t]),ee=C.useCallback(z=>{const O=f.find(R=>R.id===z);t({...e,stateId:z,stateName:(O==null?void 0:O.name)||"",stateCode:(O==null?void 0:O.code)||"",cityId:"",cityName:""}),y([])},[f,e,t]),ue=C.useCallback(z=>{const O=g.find(R=>R.id===z);t({...e,cityId:z,cityName:(O==null?void 0:O.name)||""})},[g,e,t]),le=C.useCallback((z,O)=>{t({...e,[z]:O})},[e,t]),xe=C.useCallback(async()=>{N(!0),H(null);const{data:z,error:O}=await e5();O?H(O):h(z||[]),N(!1)},[]),oe=C.useCallback(async()=>{if(!e.countryId)return;w(!0),D(null);const{data:z,error:O}=await e2(e.countryId);O?D(O):m(z||[]),w(!1)},[e.countryId]),fe=C.useCallback(async()=>{if(!e.stateId)return;S(!0),G(null);const{data:z,error:O}=await Tx(e.stateId);O?G(O):y(z||[]),S(!1)},[e.stateId]),Se=C.useMemo(()=>a||!e.countryId||b,[a,e.countryId,b]),K=C.useMemo(()=>a||!e.stateId||k,[a,e.stateId,k]),A=(z,O,R,W,X,ne,re,Z,ke,Le,Oe)=>n.jsxs("div",{children:[n.jsxs("label",{htmlFor:z,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[O," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:z,value:R,onChange:Ge=>X(Ge.target.value),disabled:re||ne,className:`
            w-full px-3 py-2.5 pr-10 appearance-none
            border rounded-lg
            bg-white dark:bg-gray-800
            text-gray-900 dark:text-gray-100
            focus:ring-2 focus:ring-primary focus:border-primary
            disabled:bg-gray-100 dark:disabled:bg-gray-900
            disabled:text-gray-500 dark:disabled:text-gray-500
            disabled:cursor-not-allowed
            transition-colors duration-200
            ${Oe?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}
          `,children:[n.jsx("option",{value:"",children:ne?"Loading...":Le}),W.map(Ge=>n.jsx("option",{value:Ge.id,children:Ge.name},Ge.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:ne?n.jsx(Ni,{className:"w-4 h-4 text-gray-400 animate-spin"}):n.jsx(yh,{className:"w-4 h-4 text-gray-400"})})]}),Z&&n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-red-600 dark:text-red-400",children:[n.jsx(ba,{className:"w-4 h-4"}),n.jsx("span",{children:Z}),n.jsxs("button",{type:"button",onClick:ke,className:"ml-2 flex items-center gap-1 text-primary hover:underline",children:[n.jsx(eq,{className:"w-3 h-3"}),"Retry"]})]}),Oe&&!Z&&n.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:Oe})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[n.jsx(aa,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Address Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A("country","Country",e.countryId,u,Y,x,a,B,xe,"Select Country",r.country),A("state","State / Province",e.stateId,f,ee,b,Se,F,oe,e.countryId?"Select State":"Select Country first",r.state),A("city","City",e.cityId,g,ue,k,K,P,fe,e.stateId?"Select City":"Select State first",r.city)]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{id:"addressLine1",type:"text",value:e.addressLine1,onChange:z=>le("addressLine1",z.target.value),disabled:a,placeholder:"Enter street address",className:`
              w-full px-3 py-2.5
              border rounded-lg
              bg-white dark:bg-gray-800
              text-gray-900 dark:text-gray-100
              placeholder-gray-400 dark:placeholder-gray-500
              focus:ring-2 focus:ring-primary focus:border-primary
              disabled:bg-gray-100 dark:disabled:bg-gray-900
              disabled:cursor-not-allowed
              transition-colors duration-200
              ${r.addressLine1?"border-red-500":"border-gray-300 dark:border-gray-600"}
            `}),r.addressLine1&&n.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:r.addressLine1})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Line 2"}),n.jsx("input",{id:"addressLine2",type:"text",value:e.addressLine2,onChange:z=>le("addressLine2",z.target.value),disabled:a,placeholder:"Apartment, suite, unit, etc. (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Postal / ZIP Code ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{id:"postalCode",type:"text",value:e.postalCode,onChange:z=>le("postalCode",z.target.value),disabled:a,placeholder:"Enter postal code",className:`
              w-full px-3 py-2.5
              border rounded-lg
              bg-white dark:bg-gray-800
              text-gray-900 dark:text-gray-100
              placeholder-gray-400 dark:placeholder-gray-500
              focus:ring-2 focus:ring-primary focus:border-primary
              disabled:bg-gray-100 dark:disabled:bg-gray-900
              disabled:cursor-not-allowed
              transition-colors duration-200
              ${r.postalCode?"border-red-500":"border-gray-300 dark:border-gray-600"}
            `}),r.postalCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:r.postalCode})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Neighborhood"}),n.jsx("input",{id:"neighborhood",type:"text",value:e.neighborhood,onChange:z=>le("neighborhood",z.target.value),disabled:a,placeholder:"Enter neighborhood (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"landmark",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nearby Landmark"}),n.jsx("input",{id:"landmark",type:"text",value:e.landmark,onChange:z=>le("landmark",z.target.value),disabled:a,placeholder:"Enter nearby landmark (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]})]}),e.countryId&&f.length===0&&!b&&!F&&n.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[n.jsx(ba,{className:"w-4 h-4"}),"No states/provinces available for selected country. You can enter the state name manually."]}),e.stateId&&g.length===0&&!k&&!P&&n.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[n.jsx(ba,{className:"w-4 h-4"}),"No cities available for selected state. You can enter the city name manually."]})]})},XS=[{code:"US",name:"United States",currency:"USD"},{code:"IN",name:"India",currency:"INR"},{code:"GB",name:"United Kingdom",currency:"GBP"},{code:"AE",name:"United Arab Emirates",currency:"AED"},{code:"CA",name:"Canada",currency:"CAD"},{code:"AU",name:"Australia",currency:"AUD"},{code:"SG",name:"Singapore",currency:"SGD"},{code:"DE",name:"Germany",currency:"EUR"},{code:"FR",name:"France",currency:"EUR"},{code:"JP",name:"Japan",currency:"JPY"},{code:"CN",name:"China",currency:"CNY"}],cte=[{value:"apartment",label:"Apartment",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"house",label:"House",icon:n.jsx(gr,{className:"w-5 h-5"})},{value:"condo",label:"Condo",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"townhouse",label:"Townhouse",icon:n.jsx(gr,{className:"w-5 h-5"})},{value:"villa",label:"Villa",icon:n.jsx(gr,{className:"w-5 h-5"})},{value:"penthouse",label:"Penthouse",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"studio",label:"Studio",icon:n.jsx(gr,{className:"w-5 h-5"})},{value:"duplex",label:"Duplex",icon:n.jsx(gr,{className:"w-5 h-5"})},{value:"land",label:"Land",icon:n.jsx(aa,{className:"w-5 h-5"})},{value:"commercial",label:"Commercial",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"industrial",label:"Industrial",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"office",label:"Office",icon:n.jsx(Hs,{className:"w-5 h-5"})}],dte=[{value:"sale",label:"For Sale"},{value:"rent",label:"For Rent"},{value:"lease",label:"For Lease"},{value:"short_term",label:"Short Term Rental"},{value:"vacation",label:"Vacation Rental"}],ute=[{value:"available",label:"Available",color:"bg-green-100 text-green-700"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"sold",label:"Sold",color:"bg-blue-100 text-blue-700"},{value:"rented",label:"Rented",color:"bg-purple-100 text-purple-700"},{value:"under_contract",label:"Under Contract",color:"bg-orange-100 text-orange-700"},{value:"off_market",label:"Off Market",color:"bg-gray-100 text-gray-700"},{value:"coming_soon",label:"Coming Soon",color:"bg-indigo-100 text-indigo-700"}],hte=[{value:"furnished",label:"Fully Furnished"},{value:"semi_furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}],fte=[{value:"new",label:"Brand New"},{value:"excellent",label:"Excellent"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"needs_renovation",label:"Needs Renovation"}],mte=[{value:"north",label:"North"},{value:"south",label:"South"},{value:"east",label:"East"},{value:"west",label:"West"},{value:"northeast",label:"North East"},{value:"northwest",label:"North West"},{value:"southeast",label:"South East"},{value:"southwest",label:"South West"}],gte=[{value:"sqft",label:"Square Feet (sq ft)"},{value:"sqm",label:"Square Meters (sq m)"},{value:"acres",label:"Acres"},{value:"hectares",label:"Hectares"}],pte={interior:[{id:"ac",label:"Air Conditioning",icon:n.jsx(Hj,{className:"w-4 h-4"})},{id:"heating",label:"Central Heating",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"fireplace",label:"Fireplace",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"walk_in_closet",label:"Walk-in Closet",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"hardwood_floors",label:"Hardwood Floors",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"high_ceiling",label:"High Ceilings",icon:n.jsx(gr,{className:"w-4 h-4"})}],exterior:[{id:"balcony",label:"Balcony",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"garden",label:"Garden",icon:n.jsx(qj,{className:"w-4 h-4"})},{id:"terrace",label:"Terrace",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"patio",label:"Patio",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"deck",label:"Deck",icon:n.jsx(gr,{className:"w-4 h-4"})},{id:"rooftop",label:"Rooftop Access",icon:n.jsx(Hs,{className:"w-4 h-4"})}],community:[{id:"pool",label:"Swimming Pool",icon:n.jsx($j,{className:"w-4 h-4"})},{id:"gym",label:"Gym / Fitness Center",icon:n.jsx(Nb,{className:"w-4 h-4"})},{id:"clubhouse",label:"Clubhouse",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"playground",label:"Playground",icon:n.jsx(qj,{className:"w-4 h-4"})},{id:"tennis_court",label:"Tennis Court",icon:n.jsx(Nb,{className:"w-4 h-4"})},{id:"sports_facility",label:"Sports Facility",icon:n.jsx(Nb,{className:"w-4 h-4"})}],security:[{id:"24hr_security",label:"24/7 Security",icon:n.jsx(su,{className:"w-4 h-4"})},{id:"cctv",label:"CCTV Surveillance",icon:n.jsx(Ky,{className:"w-4 h-4"})},{id:"gated_community",label:"Gated Community",icon:n.jsx(su,{className:"w-4 h-4"})},{id:"intercom",label:"Intercom System",icon:n.jsx(od,{className:"w-4 h-4"})},{id:"fire_alarm",label:"Fire Alarm",icon:n.jsx(ba,{className:"w-4 h-4"})},{id:"smart_locks",label:"Smart Locks",icon:n.jsx(su,{className:"w-4 h-4"})}],utilities:[{id:"wifi",label:"WiFi Included",icon:n.jsx(Hj,{className:"w-4 h-4"})},{id:"cable_tv",label:"Cable TV",icon:n.jsx(Dw,{className:"w-4 h-4"})},{id:"water_supply",label:"24/7 Water Supply",icon:n.jsx($j,{className:"w-4 h-4"})},{id:"power_backup",label:"Power Backup",icon:n.jsx($c,{className:"w-4 h-4"})},{id:"gas_pipeline",label:"Gas Pipeline",icon:n.jsx($c,{className:"w-4 h-4"})},{id:"waste_disposal",label:"Waste Disposal",icon:n.jsx($c,{className:"w-4 h-4"})}]},xte={title:"",propertyType:"apartment",listingType:"sale",status:"available",priceAmount:0,currency:"USD",negotiable:!1,addressLine1:"",addressLine2:"",city:"",cityId:"",state:"",stateId:"",stateCode:"",postalCode:"",country:"",countryCode:"",countryId:"",neighborhood:"",landmark:"",totalArea:0,carpetArea:0,areaUnit:"sqft",bedrooms:1,bathrooms:1,balconies:0,parkingSpaces:0,floors:1,floorNumber:0,totalFloors:1,yearBuilt:new Date().getFullYear(),furnishing:"unfurnished",condition:"good",facing:"north",amenities:{interior:[],exterior:[],community:[],security:[],utilities:[]},description:"",shortDescription:"",images:[],videos:[],virtualTourUrl:"",contactName:"",contactEmail:"",contactPhone:"",alternatePhone:"",preferredContactMethod:"any",company:"",licenseNumber:"",availableFrom:new Date().toISOString().split("T")[0],minimumLease:12,deposit:0,maintenanceCharges:0,inclusions:"",exclusions:"",featured:!1,published:!1,draft:!0},JS=()=>{var Se;const e=br(),{id:t}=T_(),{addProperty:r,updateProperty:a,getProperty:s,formatPrice:i,formatArea:o,uploadImages:l}=Th(),c=!!t,[u,h]=C.useState(1),[f,m]=C.useState(xte),[g,y]=C.useState({}),[x,N]=C.useState([]),[b,w]=C.useState([]),[k,S]=C.useState(!1);C.useEffect(()=>{var K,A,z,O,R,W,X,ne,re,Z,ke,Le,Oe,Ge,de,Ae,je,et,ae,De,Ke,at,yt,wt,it,jt,Et,Te,st,gt,_t,wr,er,Ht,Gt,_r,Ct;if(c&&t){const lt=s(t);if(lt&&(m({title:lt.title||"",propertyType:lt.propertyType||"apartment",listingType:lt.listingType||"sale",status:lt.status||"available",priceAmount:((K=lt.price)==null?void 0:K.amount)||0,currency:((A=lt.price)==null?void 0:A.currency)||"USD",negotiable:((z=lt.price)==null?void 0:z.negotiable)||!1,addressLine1:((O=lt.location)==null?void 0:O.addressLine1)||lt.address||"",addressLine2:((R=lt.location)==null?void 0:R.addressLine2)||"",city:((W=lt.location)==null?void 0:W.city)||lt.city||"",cityId:((X=lt.location)==null?void 0:X.cityId)||"",state:((ne=lt.location)==null?void 0:ne.state)||lt.state||"",stateId:((re=lt.location)==null?void 0:re.stateId)||"",stateCode:((Z=lt.location)==null?void 0:Z.stateCode)||"",postalCode:((ke=lt.location)==null?void 0:ke.postalCode)||lt.zipCode||"",country:((Le=lt.location)==null?void 0:Le.country)||"",countryCode:((Oe=lt.location)==null?void 0:Oe.countryCode)||"",countryId:((Ge=lt.location)==null?void 0:Ge.countryId)||"",neighborhood:((de=lt.location)==null?void 0:de.neighborhood)||"",landmark:((Ae=lt.location)==null?void 0:Ae.landmark)||"",totalArea:((je=lt.dimensions)==null?void 0:je.totalArea)||lt.area||0,carpetArea:((et=lt.dimensions)==null?void 0:et.carpetArea)||0,areaUnit:((ae=lt.dimensions)==null?void 0:ae.areaUnit)||"sqft",bedrooms:((De=lt.rooms)==null?void 0:De.bedrooms)||lt.bedrooms||1,bathrooms:((Ke=lt.rooms)==null?void 0:Ke.bathrooms)||lt.bathrooms||1,balconies:((at=lt.rooms)==null?void 0:at.balconies)||0,parkingSpaces:((yt=lt.rooms)==null?void 0:yt.parkingSpaces)||0,floors:((wt=lt.dimensions)==null?void 0:wt.floors)||1,floorNumber:((it=lt.dimensions)==null?void 0:it.floorNumber)||0,totalFloors:((jt=lt.dimensions)==null?void 0:jt.totalFloors)||1,yearBuilt:lt.yearBuilt||new Date().getFullYear(),furnishing:lt.furnishing||"unfurnished",condition:lt.condition||"good",facing:lt.facing||"north",amenities:lt.amenities||{interior:[],exterior:[],community:[],security:[],utilities:[]},description:lt.description||"",shortDescription:lt.shortDescription||"",images:lt.images||[],videos:lt.videos||[],virtualTourUrl:lt.virtualTourUrl||((Et=lt.media)==null?void 0:Et.virtualTourUrl)||"",contactName:((Te=lt.contact)==null?void 0:Te.name)||lt.contactName||"",contactEmail:((st=lt.contact)==null?void 0:st.email)||lt.emailAddress||"",contactPhone:((gt=lt.contact)==null?void 0:gt.phone)||lt.phoneNumber||"",alternatePhone:((_t=lt.contact)==null?void 0:_t.alternatePhone)||"",preferredContactMethod:((wr=lt.contact)==null?void 0:wr.preferredContactMethod)||"any",company:((er=lt.contact)==null?void 0:er.company)||"",licenseNumber:((Ht=lt.contact)==null?void 0:Ht.licenseNumber)||"",availableFrom:lt.availableFrom||new Date().toISOString().split("T")[0],minimumLease:lt.minimumLease||12,deposit:((Gt=lt.financial)==null?void 0:Gt.deposit)||0,maintenanceCharges:((_r=lt.financial)==null?void 0:_r.maintenanceCharges)||0,inclusions:lt.inclusions||"",exclusions:lt.exclusions||"",featured:lt.featured||!1,published:lt.published||!1,draft:lt.draft??!0}),(Ct=lt.images)!=null&&Ct.length)){const It=lt.images.filter(qt=>typeof qt=="string");N(It)}}},[t,c,s]);const B=[{number:1,title:"Basic Info",icon:n.jsx(gr,{className:"w-5 h-5"})},{number:2,title:"Location",icon:n.jsx(aa,{className:"w-5 h-5"})},{number:3,title:"Property Details",icon:n.jsx($c,{className:"w-5 h-5"})},{number:4,title:"Media & Features",icon:n.jsx(Ky,{className:"w-5 h-5"})},{number:5,title:"Contact & Publish",icon:n.jsx(Or,{className:"w-5 h-5"})}],H=K=>{var z,O,R,W,X,ne,re,Z,ke;const A={};return K===1?((z=f.title)!=null&&z.trim()||(A.title="Property title is required"),f.priceAmount<=0&&(A.priceAmount="Price is required")):K===2?((O=f.addressLine1)!=null&&O.trim()||(A.addressLine1="Street address is required"),f.countryId||(A.country="Country is required"),!f.stateId&&!((R=f.state)!=null&&R.trim())&&(A.state="State/Province is required"),!f.cityId&&!((W=f.city)!=null&&W.trim())&&(A.city="City is required"),(X=f.postalCode)!=null&&X.trim()||(A.postalCode="Postal code is required"),(ne=f.postalCode)!=null&&ne.trim()||(A.postalCode="Postal code is required")):K===3?(f.totalArea<=0&&(A.totalArea="Area is required"),f.bedrooms<0&&(A.bedrooms="Invalid bedrooms"),f.bathrooms<0&&(A.bathrooms="Invalid bathrooms")):K===4?f.images.length===0&&x.length===0&&(A.images="At least one image is required"):K===5&&((re=f.contactName)!=null&&re.trim()||(A.contactName="Contact name is required"),(Z=f.contactPhone)!=null&&Z.trim()||(A.contactPhone="Phone number is required"),(ke=f.contactEmail)!=null&&ke.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.contactEmail)||(A.contactEmail="Please enter a valid email"):A.contactEmail="Email is required"),y(A),Object.keys(A).length===0},F=()=>{H(u)&&u<5&&h(u+1)},D=()=>{u>1&&h(u-1)},P=(K,A)=>{m(z=>({...z,[K]:A})),g[K]&&y(z=>{const O={...z};return delete O[K],O})},G=K=>{const A=XS.find(z=>z.code===K);A&&m(z=>({...z,country:A.name,countryCode:A.code,currency:A.currency}))},I=(K,A)=>{m(z=>{const O=z.amenities[K]||[],R=O.includes(A)?O.filter(W=>W!==A):[...O,A];return{...z,amenities:{...z.amenities,[K]:R}}})},q=K=>{Array.from(K.target.files||[]).forEach(z=>{if(z.size>10*1024*1024){alert(`${z.name} is too large. Maximum size is 10MB.`);return}const O=new FileReader;O.onload=R=>{var W;(W=R.target)!=null&&W.result&&(N(X=>[...X,R.target.result]),m(X=>({...X,images:[...X.images,z]})))},O.readAsDataURL(z)})},Y=K=>{Array.from(K.target.files||[]).forEach(z=>{if(z.size>50*1024*1024){alert(`${z.name} is too large. Maximum size is 50MB.`);return}const O=new FileReader;O.onload=R=>{var W;(W=R.target)!=null&&W.result&&(w(X=>[...X,R.target.result]),m(X=>({...X,videos:[...X.videos,z]})))},O.readAsDataURL(z)})},ee=K=>{N(A=>A.filter((z,O)=>O!==K)),m(A=>({...A,images:A.images.filter((z,O)=>O!==K)}))},ue=K=>{w(A=>A.filter((z,O)=>O!==K)),m(A=>({...A,videos:A.videos.filter((z,O)=>O!==K)}))},le=async K=>{const A=[],z=[];for(const R of K)typeof R=="string"?A.push(R):z.push(R);let O=[];if(z.length>0)try{O=await l(z)}catch(R){console.error("Failed to upload images:",R);for(const W of z){const X=await new Promise((ne,re)=>{const Z=new FileReader;Z.onload=()=>ne(Z.result),Z.onerror=re,Z.readAsDataURL(W)});O.push(X)}}return[...A,...O]},xe=async()=>{const K=await le(f.images),A=[];return{title:f.title,propertyType:f.propertyType,listingType:f.listingType,status:f.status,description:f.description,shortDescription:f.shortDescription,location:{addressLine1:f.addressLine1,addressLine2:f.addressLine2,city:f.city,cityId:f.cityId,state:f.state,stateId:f.stateId,stateCode:f.stateCode,postalCode:f.postalCode,country:f.country,countryCode:f.countryCode,countryId:f.countryId,neighborhood:f.neighborhood,landmark:f.landmark},address:f.addressLine1,city:f.city,state:f.state,zipCode:f.postalCode,price:{amount:f.priceAmount,currency:f.currency,negotiable:f.negotiable},priceString:i({amount:f.priceAmount,currency:f.currency,negotiable:f.negotiable}),dimensions:{totalArea:f.totalArea,carpetArea:f.carpetArea,areaUnit:f.areaUnit,floors:f.floors,floorNumber:f.floorNumber,totalFloors:f.totalFloors},rooms:{bedrooms:f.bedrooms,bathrooms:f.bathrooms,balconies:f.balconies,parkingSpaces:f.parkingSpaces},bedrooms:f.bedrooms,bathrooms:f.bathrooms,area:f.totalArea,yearBuilt:f.yearBuilt,furnishing:f.furnishing,condition:f.condition,facing:f.facing,amenities:f.amenities,features:[...f.amenities.interior,...f.amenities.exterior,...f.amenities.community,...f.amenities.security,...f.amenities.utilities],images:K,videos:A,virtualTourUrl:f.virtualTourUrl,media:{images:K.map((z,O)=>({id:`img-${O}`,url:z,type:"image",isPrimary:O===0,order:O,uploadedAt:new Date().toISOString()})),videos:A.map((z,O)=>({id:`vid-${O}`,url:z,type:"video",order:O,uploadedAt:new Date().toISOString()})),floorPlans:[],virtualTourUrl:f.virtualTourUrl},contact:{name:f.contactName,email:f.contactEmail,phone:f.contactPhone,alternatePhone:f.alternatePhone,preferredContactMethod:f.preferredContactMethod,company:f.company,licenseNumber:f.licenseNumber},contactName:f.contactName,phoneNumber:f.contactPhone,emailAddress:f.contactEmail,availableFrom:f.availableFrom,minimumLease:f.minimumLease,inclusions:f.inclusions,exclusions:f.exclusions,financial:{deposit:f.deposit,maintenanceCharges:f.maintenanceCharges,maintenanceFrequency:"monthly"},featured:f.featured}},oe=async()=>{S(!0);try{const K=await xe();if(c&&t)await a(t,{...K,draft:!0,published:!1});else if(!await r({...K,draft:!0,published:!1}))throw new Error("Failed to save property");e("/manager/dashboard/properties")}catch(K){console.error("Error saving draft:",K),alert("Failed to save draft. Please try again.")}finally{S(!1)}},fe=async()=>{if(H(5)){S(!0);try{const K=await xe();if(c&&t)await a(t,{...K,published:!0,draft:!1});else if(!await r({...K,published:!0,draft:!1}))throw new Error("Failed to publish property");e("/manager/dashboard/properties")}catch(K){console.error("Error publishing:",K),alert("Failed to publish property. Please try again.")}finally{S(!1)}}};return n.jsxs("div",{className:"max-w-6xl mx-auto font-sans pb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:c?"Edit Property":"Add New Property"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c?"Update your property listing":"Create a new property listing with all the details"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:oe,disabled:k,className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:k?"Saving...":"Save Draft"}),n.jsxs("button",{onClick:fe,disabled:k,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:[f.featured&&n.jsx(jl,{className:"w-4 h-4"}),k?"Publishing...":"Publish Property"]})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("div",{className:"flex items-center justify-between overflow-x-auto pb-2",children:B.map((K,A)=>n.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[n.jsx("button",{onClick:()=>u>K.number&&h(K.number),className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm transition-all ${u>=K.number?"bg-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"} ${u>K.number?"cursor-pointer hover:scale-110":""}`,children:u>K.number?n.jsx(Ar,{className:"w-5 h-5"}):K.icon}),n.jsx("span",{className:`mt-2 text-xs font-medium text-center hidden md:block ${u>=K.number?"text-primary":"text-gray-500 dark:text-gray-400"}`,children:K.title})]}),A<B.length-1&&n.jsx("div",{className:`flex-1 h-1 mx-2 rounded hidden sm:block ${u>K.number?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`})]},K.number))})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[u===1&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5 text-primary"}),"Basic Property Information"]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Title *"}),n.jsx("input",{type:"text",value:f.title,onChange:K=>P("title",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white placeholder-gray-500 ${g.title?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"e.g., Luxurious 3BR Apartment with Ocean View"}),g.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.title})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type *"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:cte.map(K=>n.jsxs("button",{type:"button",onClick:()=>P("propertyType",K.value),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${f.propertyType===K.value?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[K.icon,n.jsx("span",{className:"text-sm font-medium",children:K.label})]},K.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Listing Type *"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:dte.map(K=>n.jsx("button",{type:"button",onClick:()=>P("listingType",K.value),className:`px-4 py-2 rounded-lg border transition-all ${f.listingType===K.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status *"}),n.jsx("select",{value:f.status,onChange:K=>P("status",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:ute.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Tl,{className:"w-5 h-5 text-primary"}),"Pricing"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),n.jsx("select",{value:f.countryCode,onChange:K=>G(K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:XS.map(K=>n.jsxs("option",{value:K.code,children:[K.name," (",K.currency,")"]},K.code))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:f.currency}),n.jsx("input",{type:"number",value:f.priceAmount||"",onChange:K=>P("priceAmount",parseFloat(K.target.value)||0),className:`w-full pl-16 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${g.priceAmount?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"})]}),g.priceAmount&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.priceAmount})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.negotiable,onChange:K=>P("negotiable",K.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Price is Negotiable"})]})})]}),n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.featured,onChange:K=>P("featured",K.target.checked),className:"w-5 h-5 rounded border-yellow-400 text-yellow-600 focus:ring-yellow-500"}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[n.jsx(jl,{className:"w-4 h-4"}),"Mark as Featured Property"]}),n.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-300 mt-1",children:"Featured properties get more visibility and appear at the top of search results"})]})]})})]})]}),u===2&&n.jsx("div",{className:"space-y-6",children:n.jsx(lte,{value:{countryId:f.countryId,countryName:f.country,countryCode:f.countryCode,stateId:f.stateId,stateName:f.state,stateCode:f.stateCode,cityId:f.cityId,cityName:f.city,addressLine1:f.addressLine1,addressLine2:f.addressLine2,postalCode:f.postalCode,neighborhood:f.neighborhood,landmark:f.landmark},onChange:K=>{m(A=>({...A,countryId:K.countryId,country:K.countryName,countryCode:K.countryCode,stateId:K.stateId,state:K.stateName,stateCode:K.stateCode,cityId:K.cityId,city:K.cityName,addressLine1:K.addressLine1,addressLine2:K.addressLine2,postalCode:K.postalCode,neighborhood:K.neighborhood,landmark:K.landmark}))},errors:g,disabled:k,required:!0,initialCountry:f.country,initialCountryCode:f.countryCode,initialState:f.state,initialCity:f.city})}),u===3&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(bf,{className:"w-5 h-5 text-primary"}),"Area & Dimensions"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Area *"}),n.jsx("input",{type:"number",value:f.totalArea||"",onChange:K=>P("totalArea",parseFloat(K.target.value)||0),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${g.totalArea?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"}),g.totalArea&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.totalArea})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Carpet Area"}),n.jsx("input",{type:"number",value:f.carpetArea||"",onChange:K=>P("carpetArea",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Area Unit"}),n.jsx("select",{value:f.areaUnit,onChange:K=>P("areaUnit",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:gte.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year Built"}),n.jsx("input",{type:"number",min:"1800",max:new Date().getFullYear(),value:f.yearBuilt||"",onChange:K=>P("yearBuilt",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(du,{className:"w-5 h-5 text-primary"}),"Rooms & Spaces"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(du,{className:"w-4 h-4 inline mr-1"})," Bedrooms *"]}),n.jsx("input",{type:"number",min:"0",value:f.bedrooms,onChange:K=>P("bedrooms",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(ph,{className:"w-4 h-4 inline mr-1"})," Bathrooms *"]}),n.jsx("input",{type:"number",min:"0",value:f.bathrooms,onChange:K=>P("bathrooms",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Balconies"}),n.jsx("input",{type:"number",min:"0",value:f.balconies,onChange:K=>P("balconies",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(V_,{className:"w-4 h-4 inline mr-1"})," Parking Spaces"]}),n.jsx("input",{type:"number",min:"0",value:f.parkingSpaces,onChange:K=>P("parkingSpaces",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Floor Number"}),n.jsx("input",{type:"number",min:"0",value:f.floorNumber,onChange:K=>P("floorNumber",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Floors"}),n.jsx("input",{type:"number",min:"1",value:f.totalFloors,onChange:K=>P("totalFloors",parseInt(K.target.value)||1),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facing Direction"}),n.jsx("select",{value:f.facing,onChange:K=>P("facing",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:mte.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx($c,{className:"w-5 h-5 text-primary"}),"Condition & Furnishing"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Furnishing Status"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:hte.map(K=>n.jsx("button",{type:"button",onClick:()=>P("furnishing",K.value),className:`px-4 py-2 rounded-lg border transition-all ${f.furnishing===K.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Condition"}),n.jsx("select",{value:f.condition,onChange:K=>P("condition",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:fte.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Or,{className:"w-5 h-5 text-primary"}),"Description"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Description (for cards)"}),n.jsx("input",{type:"text",value:f.shortDescription,onChange:K=>P("shortDescription",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"A brief summary of the property (max 150 chars)",maxLength:150})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Description"}),n.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 p-2 flex gap-2 flex-wrap bg-gray-50 dark:bg-gray-800",children:[n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(cU,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(hV,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(Tq,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(Y_,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(bV,{className:"w-4 h-4"})})]}),n.jsx("textarea",{value:f.description,onChange:K=>P("description",K.target.value),className:"w-full p-4 min-h-[200px] focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Enter a detailed property description..."})]})]})]})]})]}),u===4&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Ky,{className:"w-5 h-5 text-primary"}),"Property Images"]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors",children:[n.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/png,image/jpg,image/jpeg,image/webp",onChange:q,className:"hidden"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(fp,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload images"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, JPEG, WEBP up to 10MB each"})]})]}),g.images&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.images}),x.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:x.map((K,A)=>n.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[n.jsx("img",{src:K,alt:`Preview ${A+1}`,className:"w-full h-32 object-cover"}),A===0&&n.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-primary text-white text-xs rounded",children:"Primary"}),n.jsx("button",{type:"button",onClick:()=>ee(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(yr,{className:"w-4 h-4"})})]},A))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Dw,{className:"w-5 h-5 text-primary"}),"Property Videos"]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors",children:[n.jsx("input",{type:"file",id:"video-upload",multiple:!0,accept:"video/mp4,video/mov,video/avi",onChange:Y,className:"hidden"}),n.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(Dw,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload videos"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI up to 50MB each"})]})]}),b.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:b.map((K,A)=>n.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[n.jsx("video",{src:K,className:"w-full h-48 object-cover",controls:!0}),n.jsx("button",{type:"button",onClick:()=>ue(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(yr,{className:"w-4 h-4"})})]},A))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(H_,{className:"w-5 h-5 text-primary"}),"Virtual Tour"]}),n.jsx("input",{type:"url",value:f.virtualTourUrl,onChange:K=>P("virtualTourUrl",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"https://your-virtual-tour-url.com"})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(jl,{className:"w-5 h-5 text-primary"}),"Amenities & Features"]}),Object.entries(pte).map(([K,A])=>n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 capitalize",children:[K.replace("_"," ")," Features"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(z=>{var O;return n.jsxs("button",{type:"button",onClick:()=>I(K,z.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${(O=f.amenities[K])!=null&&O.includes(z.id)?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:[z.icon,z.label]},z.id)})})]},K))]})]}),u===5&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(kn,{className:"w-5 h-5 text-primary"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Name *"}),n.jsx("input",{type:"text",value:f.contactName,onChange:K=>P("contactName",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${g.contactName?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter contact name"}),g.contactName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.contactName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:f.contactEmail,onChange:K=>P("contactEmail",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${g.contactEmail?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter email address"}),g.contactEmail&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:f.contactPhone,onChange:K=>P("contactPhone",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${g.contactPhone?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"+1 (555) 000-0000"}),g.contactPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Alternate Phone"}),n.jsx("input",{type:"tel",value:f.alternatePhone,onChange:K=>P("alternatePhone",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"+1 (555) 000-0000 (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),n.jsx("input",{type:"text",value:f.company,onChange:K=>P("company",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Real estate agency (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Number"}),n.jsx("input",{type:"text",value:f.licenseNumber,onChange:K=>P("licenseNumber",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Agent license number (optional)"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(wi,{className:"w-5 h-5 text-primary"}),"Availability & Terms"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Available From"}),n.jsx("input",{type:"date",value:f.availableFrom,onChange:K=>P("availableFrom",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),(f.listingType==="rent"||f.listingType==="lease")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Lease (months)"}),n.jsx("input",{type:"number",min:"1",value:f.minimumLease,onChange:K=>P("minimumLease",parseInt(K.target.value)||1),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Security Deposit (",f.currency,")"]}),n.jsx("input",{type:"number",min:"0",value:f.deposit||"",onChange:K=>P("deposit",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Maintenance Charges (",f.currency,"/month)"]}),n.jsx("input",{type:"number",min:"0",value:f.maintenanceCharges||"",onChange:K=>P("maintenanceCharges",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Inclusions"}),n.jsx("input",{type:"text",value:f.inclusions,onChange:K=>P("inclusions",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Appliances, furniture, utilities"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exclusions"}),n.jsx("input",{type:"text",value:f.exclusions,onChange:K=>P("exclusions",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Parking fees, utility bills"})]})]})]}),n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Ar,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium text-lg",children:"Ready to Publish!"}),n.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:"Your property listing is complete. Review the details and publish when ready. You can also save as draft and publish later."})]})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("button",{type:"button",onClick:D,disabled:u===1,className:`px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg flex items-center justify-center gap-2 transition-all ${u===1?"opacity-50 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(ic,{className:"w-5 h-5"}),"Previous"]}),u<5?n.jsxs("button",{type:"button",onClick:F,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg",children:["Next: ",(Se=B[u])==null?void 0:Se.title,n.jsx(El,{className:"w-5 h-5"})]}):n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:oe,disabled:k,className:"px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all disabled:opacity-50",children:"Save as Draft"}),n.jsxs("button",{type:"button",onClick:fe,disabled:k,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg transition-all shadow-lg disabled:opacity-50 flex items-center gap-2",children:[f.featured&&n.jsx(jl,{className:"w-4 h-4"}),k?"Publishing...":"Publish Property"]})]})]})]})]})},S4=C.createContext({});function Wf(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const A4=typeof window<"u",dv=A4?C.useLayoutEffect:C.useEffect,uv=C.createContext(null);function E4(e,t){e.indexOf(t)===-1&&e.push(t)}function T4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ml=(e,t,r)=>r>t?t:r<e?e:r;let Gg=()=>{};const nd={},fP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mP(e){return typeof e=="object"&&e!==null}const gP=e=>/^0[^.\s]+$/u.test(e);function C4(e){let t;return()=>(t===void 0&&(t=e()),t)}const ji=e=>e,yte=(e,t)=>r=>t(e(r)),_p=(...e)=>e.reduce(yte),Nf=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class L4{constructor(){this.subscriptions=[]}add(t){return E4(this.subscriptions,t),()=>T4(this.subscriptions,t)}notify(t,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yc=e=>e*1e3,Bo=e=>e/1e3;function P4(e,t){return t?e*(1e3/t):0}const pP=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vte=1e-7,bte=12;function wte(e,t,r,a,s){let i,o,l=0;do o=t+(r-t)/2,i=pP(o,a,s)-e,i>0?r=o:t=o;while(Math.abs(i)>vte&&++l<bte);return o}function Np(e,t,r,a){if(e===t&&r===a)return ji;const s=i=>wte(i,0,1,e,r);return i=>i===0||i===1?i:pP(s(i),t,a)}const xP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yP=e=>t=>1-e(1-t),vP=Np(.33,1.53,.69,.99),M4=yP(vP),bP=xP(M4),wP=e=>(e*=2)<1?.5*M4(e):.5*(2-Math.pow(2,-10*(e-1))),R4=e=>1-Math.sin(Math.acos(e)),_P=yP(R4),NP=xP(R4),_te=Np(.42,0,1,1),Nte=Np(0,0,.58,1),kP=Np(.42,0,.58,1),kte=e=>Array.isArray(e)&&typeof e[0]!="number",jP=e=>Array.isArray(e)&&typeof e[0]=="number",jte={linear:ji,easeIn:_te,easeInOut:kP,easeOut:Nte,circIn:R4,circInOut:NP,circOut:_P,backIn:M4,backInOut:bP,backOut:vP,anticipate:wP},Ste=e=>typeof e=="string",QS=e=>{if(jP(e)){Gg(e.length===4);const[t,r,a,s]=e;return Np(t,r,a,s)}else if(Ste(e))return jte[e];return e},Cx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ate(e,t){let r=new Set,a=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,f=!1,m=!1)=>{const y=m&&s?r:a;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[r,a]=[a,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const Ete=40;function SP(e,t){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Cx.reduce((k,S)=>(k[S]=Ate(i),k),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:f,preRender:m,render:g,postRender:y}=o,x=()=>{const k=nd.useManualTiming?s.timestamp:performance.now();r=!1,nd.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(k-s.timestamp,Ete),1)),s.timestamp=k,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),h.process(s),f.process(s),m.process(s),g.process(s),y.process(s),s.isProcessing=!1,r&&t&&(a=!1,e(x))},N=()=>{r=!0,a=!0,s.isProcessing||e(x)};return{schedule:Cx.reduce((k,S)=>{const B=o[S];return k[S]=(H,F=!1,D=!1)=>(r||N(),B.schedule(H,F,D)),k},{}),cancel:k=>{for(let S=0;S<Cx.length;S++)o[Cx[S]].cancel(k)},state:s,steps:o}}const{schedule:Gr,cancel:Rl,state:Fn,steps:t2}=SP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ji,!0);let ly;function Tte(){ly=void 0}const Ys={now:()=>(ly===void 0&&Ys.set(Fn.isProcessing||nd.useManualTiming?Fn.timestamp:performance.now()),ly),set:e=>{ly=e,queueMicrotask(Tte)}},AP=e=>t=>typeof t=="string"&&t.startsWith(e),EP=AP("--"),Cte=AP("var(--"),O4=e=>Cte(e)?Lte.test(e.split("/*")[0].trim()):!1,Lte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e6(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Gf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yg={...Gf,transform:e=>Ml(0,1,e)},Lx={...Gf,default:1},ug=e=>Math.round(e*1e5)/1e5,D4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pte(e){return e==null}const Mte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I4=(e,t)=>r=>!!(typeof r=="string"&&Mte.test(r)&&r.startsWith(e)||t&&!Pte(r)&&Object.prototype.hasOwnProperty.call(r,t)),TP=(e,t,r)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(D4);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Rte=e=>Ml(0,255,e),r2={...Gf,transform:e=>Math.round(Rte(e))},eh={test:I4("rgb","red"),parse:TP("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+r2.transform(e)+", "+r2.transform(t)+", "+r2.transform(r)+", "+ug(Yg.transform(a))+")"};function Ote(e){let t="",r="",a="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const t5={test:I4("#"),parse:Ote,transform:eh.transform},kp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ld=kp("deg"),oc=kp("%"),Lt=kp("px"),Dte=kp("vh"),Ite=kp("vw"),t6={...oc,parse:e=>oc.parse(e)/100,transform:e=>oc.transform(e*100)},I0={test:I4("hsl","hue"),parse:TP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+oc.transform(ug(t))+", "+oc.transform(ug(r))+", "+ug(Yg.transform(a))+")"},pn={test:e=>eh.test(e)||t5.test(e)||I0.test(e),parse:e=>eh.test(e)?eh.parse(e):I0.test(e)?I0.parse(e):t5.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eh.transform(e):I0.transform(e),getAnimatableNone:e=>{const t=pn.parse(e);return t.alpha=0,pn.transform(t)}},Fte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bte(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(D4))==null?void 0:t.length)||0)+(((r=e.match(Fte))==null?void 0:r.length)||0)>0}const CP="number",LP="color",zte="var",Ute="var(",r6="${}",Vte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kg(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Vte,c=>(pn.test(c)?(a.color.push(i),s.push(LP),r.push(pn.parse(c))):c.startsWith(Ute)?(a.var.push(i),s.push(zte),r.push(c)):(a.number.push(i),s.push(CP),r.push(parseFloat(c))),++i,r6)).split(r6);return{values:r,split:l,indexes:a,types:s}}function PP(e){return Kg(e).values}function MP(e){const{split:t,types:r}=Kg(e),a=t.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===CP?i+=ug(s[o]):l===LP?i+=pn.transform(s[o]):i+=s[o]}return i}}const qte=e=>typeof e=="number"?0:pn.test(e)?pn.getAnimatableNone(e):e;function $te(e){const t=PP(e);return MP(e)(t.map(qte))}const xu={test:Bte,parse:PP,createTransformer:MP,getAnimatableNone:$te};function a2(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Hte({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=a2(c,l,e+1/3),i=a2(c,l,e),o=a2(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function _1(e,t){return r=>r>0?t:e}const za=(e,t,r)=>e+(t-e)*r,n2=(e,t,r)=>{const a=e*e,s=r*(t*t-a)+a;return s<0?0:Math.sqrt(s)},Wte=[t5,eh,I0],Gte=e=>Wte.find(t=>t.test(e));function a6(e){const t=Gte(e);if(!t)return!1;let r=t.parse(e);return t===I0&&(r=Hte(r)),r}const n6=(e,t)=>{const r=a6(e),a=a6(t);if(!r||!a)return _1(e,t);const s={...r};return i=>(s.red=n2(r.red,a.red,i),s.green=n2(r.green,a.green,i),s.blue=n2(r.blue,a.blue,i),s.alpha=za(r.alpha,a.alpha,i),eh.transform(s))},r5=new Set(["none","hidden"]);function Yte(e,t){return r5.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Kte(e,t){return r=>za(e,t,r)}function F4(e){return typeof e=="number"?Kte:typeof e=="string"?O4(e)?_1:pn.test(e)?n6:Jte:Array.isArray(e)?RP:typeof e=="object"?pn.test(e)?n6:Zte:_1}function RP(e,t){const r=[...e],a=r.length,s=e.map((i,o)=>F4(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=s[o](i);return r}}function Zte(e,t){const r={...e,...t},a={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(a[s]=F4(e[s])(e[s],t[s]));return s=>{for(const i in a)r[i]=a[i](s);return r}}function Xte(e,t){const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][a[i]],l=e.values[o]??0;r[s]=l,a[i]++}return r}const Jte=(e,t)=>{const r=xu.createTransformer(t),a=Kg(e),s=Kg(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?r5.has(e)&&!s.values.length||r5.has(t)&&!a.values.length?Yte(e,t):_p(RP(Xte(a,s),s.values),r):_1(e,t)};function OP(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?za(e,t,r):F4(e)(e,t)}const Qte=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Gr.update(t,r),stop:()=>Rl(t),now:()=>Fn.isProcessing?Fn.timestamp:Ys.now()}},DP=(e,t,r=10)=>{let a="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)a+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},N1=2e4;function B4(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<N1;)t+=r,a=e.next(t);return t>=N1?1/0:t}function ere(e,t=100,r){const a=r({...e,keyframes:[0,t]}),s=Math.min(B4(a),N1);return{type:"keyframes",ease:i=>a.next(s*i).value/t,duration:Bo(s)}}const tre=5;function IP(e,t,r){const a=Math.max(t-tre,0);return P4(r-e(a),t-a)}const Za={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},s2=.001;function rre({duration:e=Za.duration,bounce:t=Za.bounce,velocity:r=Za.velocity,mass:a=Za.mass}){let s,i,o=1-t;o=Ml(Za.minDamping,Za.maxDamping,o),e=Ml(Za.minDuration,Za.maxDuration,Bo(e)),o<1?(s=u=>{const h=u*o,f=h*e,m=h-r,g=a5(u,o),y=Math.exp(-f);return s2-m/g*y},i=u=>{const f=u*o*e,m=f*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),x=a5(Math.pow(u,2),o);return(-s(u)+s2>0?-1:1)*((m-g)*y)/x}):(s=u=>{const h=Math.exp(-u*e),f=(u-r)*e+1;return-s2+h*f},i=u=>{const h=Math.exp(-u*e),f=(r-u)*(e*e);return h*f});const l=5/e,c=nre(s,i,l);if(e=Yc(e),isNaN(c))return{stiffness:Za.stiffness,damping:Za.damping,duration:e};{const u=Math.pow(c,2)*a;return{stiffness:u,damping:o*2*Math.sqrt(a*u),duration:e}}}const are=12;function nre(e,t,r){let a=r;for(let s=1;s<are;s++)a=a-e(a)/t(a);return a}function a5(e,t){return e*Math.sqrt(1-t*t)}const sre=["duration","bounce"],ire=["stiffness","damping","mass"];function s6(e,t){return t.some(r=>e[r]!==void 0)}function ore(e){let t={velocity:Za.velocity,stiffness:Za.stiffness,damping:Za.damping,mass:Za.mass,isResolvedFromDuration:!1,...e};if(!s6(e,ire)&&s6(e,sre))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),s=a*a,i=2*Ml(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Za.mass,stiffness:s,damping:i}}else{const r=rre(e);t={...t,...r,mass:Za.mass},t.isResolvedFromDuration=!0}return t}function k1(e=Za.visualDuration,t=Za.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:g}=ore({...r,velocity:-Bo(r.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(c*h)),N=o-i,b=Bo(Math.sqrt(c/h)),w=Math.abs(N)<5;a||(a=w?Za.restSpeed.granular:Za.restSpeed.default),s||(s=w?Za.restDelta.granular:Za.restDelta.default);let k;if(x<1){const B=a5(b,x);k=H=>{const F=Math.exp(-x*b*H);return o-F*((y+x*b*N)/B*Math.sin(B*H)+N*Math.cos(B*H))}}else if(x===1)k=B=>o-Math.exp(-b*B)*(N+(y+b*N)*B);else{const B=b*Math.sqrt(x*x-1);k=H=>{const F=Math.exp(-x*b*H),D=Math.min(B*H,300);return o-F*((y+x*b*N)*Math.sinh(D)+B*N*Math.cosh(D))/B}}const S={calculatedDuration:g&&f||null,next:B=>{const H=k(B);if(g)l.done=B>=f;else{let F=B===0?y:0;x<1&&(F=B===0?Yc(y):IP(k,B,H));const D=Math.abs(F)<=a,P=Math.abs(o-H)<=s;l.done=D&&P}return l.value=l.done?o:H,l},toString:()=>{const B=Math.min(B4(S),N1),H=DP(F=>S.next(B*F).value,B,30);return B+"ms "+H},toTransition:()=>{}};return S}k1.applyToOptions=e=>{const t=ere(e,100,k1);return e.ease=t.ease,e.duration=Yc(t.duration),e.type="keyframes",e};function n5({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=e[0],m={done:!1,value:f},g=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let x=r*t;const N=f+x,b=o===void 0?N:o(N);b!==N&&(x=b-f);const w=D=>-x*Math.exp(-D/a),k=D=>b+w(D),S=D=>{const P=w(D),G=k(D);m.done=Math.abs(P)<=u,m.value=m.done?b:G};let B,H;const F=D=>{g(m.value)&&(B=D,H=k1({keyframes:[m.value,y(m.value)],velocity:IP(k,D,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return F(0),{calculatedDuration:null,next:D=>{let P=!1;return!H&&B===void 0&&(P=!0,S(D),F(D)),B!==void 0&&D>=B?H.next(D-B):(!P&&S(D),m)}}}function lre(e,t,r){const a=[],s=r||nd.mix||OP,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ji:t;l=_p(c,l)}a.push(l)}return a}function z4(e,t,{clamp:r=!0,ease:a,mixer:s}={}){const i=e.length;if(Gg(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=lre(t,a,s),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const m=Nf(e[f],e[f+1],h);return l[f](m)};return r?h=>u(Ml(e[0],e[i-1],h)):u}function cre(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const s=Nf(0,t,a);e.push(za(r,1,s))}}function FP(e){const t=[0];return cre(t,e.length-1),t}function dre(e,t){return e.map(r=>r*t)}function ure(e,t){return e.map(()=>t||kP).splice(0,e.length-1)}function hg({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const s=kte(a)?a.map(QS):QS(a),i={done:!1,value:t[0]},o=dre(r&&r.length===t.length?r:FP(t),e),l=z4(o,t,{ease:Array.isArray(s)?s:ure(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const hre=e=>e!==null;function U4(e,{repeat:t,repeatType:r="loop"},a,s=1){const i=e.filter(hre),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const fre={decay:n5,inertia:n5,tween:hg,keyframes:hg,spring:k1};function BP(e){typeof e.type=="string"&&(e.type=fre[e.type])}class V4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const mre=e=>e/100;class q4 extends V4{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Ys.now()&&this.tick(Ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BP(t);const{type:r=hg,repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||hg;c!==hg&&typeof l[0]!="number"&&(this.mixKeyframes=_p(mre,OP(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=B4(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:g,type:y,onUpdate:x,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,S=a;if(f){const D=Math.min(this.currentTime,s)/l;let P=Math.floor(D),G=D%1;!G&&D>=1&&(G=1),G===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(m==="reverse"?(G=1-G,g&&(G-=g/l)):m==="mirror"&&(S=o)),k=Ml(0,1,G)*l}const B=w?{done:!1,value:h[0]}:S.next(k);i&&(B.value=i(B.value));let{done:H}=B;!w&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return F&&y!==n5&&(B.value=U4(h,this.options,N,this.speed)),x&&x(B.value),F&&this.finish(),B}then(t,r){return this.finished.then(t,r)}get duration(){return Bo(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bo(t)}get time(){return Bo(this.currentTime)}set time(t){var r;t=Yc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ys.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Bo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Qte,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function gre(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const th=e=>e*180/Math.PI,s5=e=>{const t=th(Math.atan2(e[1],e[0]));return i5(t)},pre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:s5,rotateZ:s5,skewX:e=>th(Math.atan(e[1])),skewY:e=>th(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},i5=e=>(e=e%360,e<0&&(e+=360),e),i6=s5,o6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),l6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:o6,scaleY:l6,scale:e=>(o6(e)+l6(e))/2,rotateX:e=>i5(th(Math.atan2(e[6],e[5]))),rotateY:e=>i5(th(Math.atan2(-e[2],e[0]))),rotateZ:i6,rotate:i6,skewX:e=>th(Math.atan(e[4])),skewY:e=>th(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function o5(e){return e.includes("scale")?1:0}function l5(e,t){if(!e||e==="none")return o5(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(r)a=xre,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=pre,s=l}if(!s)return o5(t);const i=a[t],o=s[1].split(",").map(vre);return typeof i=="function"?i(o):o[i]}const yre=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return l5(r,t)};function vre(e){return parseFloat(e.trim())}const Yf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kf=new Set(Yf),c6=e=>e===Gf||e===Lt,bre=new Set(["x","y","z"]),wre=Yf.filter(e=>!bre.has(e));function _re(e){const t=[];return wre.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const Kd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>l5(t,"x"),y:(e,{transform:t})=>l5(t,"y")};Kd.translateX=Kd.x;Kd.translateY=Kd.y;const ch=new Set;let c5=!1,d5=!1,u5=!1;function zP(){if(d5){const e=Array.from(ch).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const s=_re(a);s.length&&(r.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=r.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}d5=!1,c5=!1,ch.forEach(e=>e.complete(u5)),ch.clear()}function UP(){ch.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(d5=!0)})}function Nre(){u5=!0,UP(),zP(),u5=!1}class $4{constructor(t,r,a,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ch.add(this),c5||(c5=!0,Gr.read(UP),Gr.resolveKeyframes(zP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}gre(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ch.delete(this)}cancel(){this.state==="scheduled"&&(ch.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kre=e=>e.startsWith("--");function jre(e,t,r){kre(t)?e.style.setProperty(t,r):e.style[t]=r}const VP=C4(()=>window.ScrollTimeline!==void 0),Sre={};function Are(e,t){const r=C4(e);return()=>Sre[t]??r()}const qP=Are(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mm=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,d6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mm([0,.65,.55,1]),circOut:Mm([.55,0,1,.45]),backIn:Mm([.31,.01,.66,-.59]),backOut:Mm([.33,1.53,.69,.99])};function $P(e,t){if(e)return typeof e=="function"?qP()?DP(e,t):"ease-out":jP(e)?Mm(e):Array.isArray(e)?e.map(r=>$P(r,t)||d6.easeOut):d6[e]}function Ere(e,t,r,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:r};c&&(h.offset=c);const f=$P(l,s);Array.isArray(f)&&(h.easing=f);const m={delay:a,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(h,m)}function HP(e){return typeof e=="function"&&"applyToOptions"in e}function Tre({type:e,...t}){return HP(e)&&qP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Cre extends V4{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:a,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Gg(typeof t.type!="string");const u=Tre(t);this.animation=Ere(r,a,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=U4(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):jre(r,a,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return Bo(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bo(t)}get time(){return Bo(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Yc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&VP()?(this.animation.timeline=t,ji):r(this)}}const WP={anticipate:wP,backInOut:bP,circInOut:NP};function Lre(e){return e in WP}function Pre(e){typeof e.ease=="string"&&Lre(e.ease)&&(e.ease=WP[e.ease])}const i2=10;class Mre extends Cre{constructor(t){Pre(t),BP(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new q4({...o,autoplay:!1}),c=Math.max(i2,Ys.now()-this.startTime),u=Ml(0,i2,c-i2);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const u6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xu.test(e)||e==="0")&&!e.startsWith("url("));function Rre(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Ore(e,t,r,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=u6(s,t),l=u6(i,t);return!o||!l?!1:Rre(e)||(r==="spring"||HP(r))&&a}function h5(e){e.duration=0,e.type="keyframes"}const Dre=new Set(["opacity","clipPath","filter","transform"]),Ire=C4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fre(e){var h;const{motionValue:t,name:r,repeatDelay:a,repeatType:s,damping:i,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Ire()&&r&&Dre.has(r)&&(r!=="transform"||!u)&&!c&&!a&&s!=="mirror"&&i!==0&&o!=="inertia"}const Bre=40;class zre extends V4{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...f}){var y;super(),this.stop=()=>{var x,N;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Ys.now();const m={autoplay:t,delay:r,type:a,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:h,...f},g=(h==null?void 0:h.KeyframeResolver)||$4;this.keyframeResolver=new g(l,(x,N,b)=>this.onKeyframesResolved(x,N,m,!b),c,u,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,a,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=a;this.resolvedAt=Ys.now(),Ore(t,i,o,l)||((nd.instantAnimations||!c)&&(h==null||h(U4(t,a,r))),t[0]=t[t.length-1],h5(a),a.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Bre?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},g=!u&&Fre(m)?new Mre({...m,element:m.motionValue.owner.current}):new q4(m);g.finished.then(()=>this.notifyFinished()).catch(ji),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Nre()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Ure=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vre(e){const t=Ure.exec(e);if(!t)return[,];const[,r,a,s]=t;return[`--${r??a}`,s]}function GP(e,t,r=1){const[a,s]=Vre(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return fP(o)?parseFloat(o):o}return O4(s)?GP(s,t,r+1):s}function H4(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YP=new Set(["width","height","top","left","right","bottom",...Yf]),qre={test:e=>e==="auto",parse:e=>e},KP=e=>t=>t.test(e),ZP=[Gf,Lt,oc,Ld,Ite,Dte,qre],h6=e=>ZP.find(KP(e));function $re(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gP(e):!0}const Hre=new Set(["brightness","contrast","saturate","opacity"]);function Wre(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(D4)||[];if(!a)return e;const s=r.replace(a,"");let i=Hre.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+s+")"}const Gre=/\b([a-z-]*)\(.*?\)/gu,f5={...xu,getAnimatableNone:e=>{const t=e.match(Gre);return t?t.map(Wre).join(" "):e}},f6={...Gf,transform:Math.round},Yre={rotate:Ld,rotateX:Ld,rotateY:Ld,rotateZ:Ld,scale:Lx,scaleX:Lx,scaleY:Lx,scaleZ:Lx,skew:Ld,skewX:Ld,skewY:Ld,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Yg,originX:t6,originY:t6,originZ:Lt},W4={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,inset:Lt,insetBlock:Lt,insetBlockStart:Lt,insetBlockEnd:Lt,insetInline:Lt,insetInlineStart:Lt,insetInlineEnd:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,paddingBlock:Lt,paddingBlockStart:Lt,paddingBlockEnd:Lt,paddingInline:Lt,paddingInlineStart:Lt,paddingInlineEnd:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,marginBlock:Lt,marginBlockStart:Lt,marginBlockEnd:Lt,marginInline:Lt,marginInlineStart:Lt,marginInlineEnd:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt,...Yre,zIndex:f6,fillOpacity:Yg,strokeOpacity:Yg,numOctaves:f6},Kre={...W4,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:f5,WebkitFilter:f5},XP=e=>Kre[e];function JP(e,t){let r=XP(e);return r!==f5&&(r=xu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Zre=new Set(["auto","none","0"]);function Xre(e,t,r){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!Zre.has(i)&&Kg(i).values.length&&(s=e[a]),a++}if(s&&r)for(const i of t)e[i]=JP(r,s)}class Jre extends $4{constructor(t,r,a,s,i){super(t,r,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),O4(f))){const m=GP(f,r.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YP.has(a)||t.length!==2)return;const[s,i]=t,o=h6(s),l=h6(i),c=e6(s),u=e6(i);if(c!==u&&Kd[a]){this.needsMeasurement=!0;return}if(o!==l)if(c6(o)&&c6(l))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else Kd[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||$re(t[s]))&&a.push(s);a.length&&Xre(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kd[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Kd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function QP(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const e9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function G4(e){return mP(e)&&"offsetHeight"in e}const m6=30,Qre=e=>!isNaN(parseFloat(e)),fg={current:void 0};class eae{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const s=Ys.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Qre(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new L4);const a=this.events[t].add(r);return t==="change"?()=>{a(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return fg.current&&fg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>m6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,m6);return P4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Al(e,t){return new eae(e,t)}const{schedule:Y4}=SP(queueMicrotask,!1),vl={x:!1,y:!1};function t9(){return vl.x||vl.y}function tae(e){return e==="x"||e==="y"?vl[e]?null:(vl[e]=!0,()=>{vl[e]=!1}):vl.x||vl.y?null:(vl.x=vl.y=!0,()=>{vl.x=vl.y=!1})}function r9(e,t){const r=QP(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[r,s,()=>a.abort()]}function g6(e){return!(e.pointerType==="touch"||t9())}function rae(e,t,r={}){const[a,s,i]=r9(e,r),o=l=>{if(!g6(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const h=f=>{g6(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const a9=(e,t)=>t?e===t?!0:a9(e,t.parentElement):!1,K4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n9(e){return aae.has(e.tagName)||e.isContentEditable===!0}const cy=new WeakSet;function p6(e){return t=>{t.key==="Enter"&&e(t)}}function o2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nae=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=p6(()=>{if(cy.has(r))return;o2(r,"down");const s=p6(()=>{o2(r,"up")}),i=()=>o2(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function x6(e){return K4(e)&&!t9()}function sae(e,t,r={}){const[a,s,i]=r9(e,r),o=l=>{const c=l.currentTarget;if(!x6(l))return;cy.add(c);const u=t(c,l),h=(g,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),cy.has(c)&&cy.delete(c),x6(g)&&typeof u=="function"&&u(g,{success:y})},f=g=>{h(g,c===window||c===document||r.useGlobalTarget||a9(c,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),G4(l)&&(l.addEventListener("focus",u=>nae(u,s)),!n9(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Z4(e){return mP(e)&&"ownerSVGElement"in e}const dy=new WeakMap;let Pd;const s9=(e,t,r)=>(a,s)=>s&&s[0]?s[0][e+"Size"]:Z4(a)&&"getBBox"in a?a.getBBox()[t]:a[r],iae=s9("inline","width","offsetWidth"),oae=s9("block","height","offsetHeight");function lae({target:e,borderBoxSize:t}){var r;(r=dy.get(e))==null||r.forEach(a=>{a(e,{get width(){return iae(e,t)},get height(){return oae(e,t)}})})}function cae(e){e.forEach(lae)}function dae(){typeof ResizeObserver>"u"||(Pd=new ResizeObserver(cae))}function uae(e,t){Pd||dae();const r=QP(e);return r.forEach(a=>{let s=dy.get(a);s||(s=new Set,dy.set(a,s)),s.add(t),Pd==null||Pd.observe(a)}),()=>{r.forEach(a=>{const s=dy.get(a);s==null||s.delete(t),s!=null&&s.size||Pd==null||Pd.unobserve(a)})}}const uy=new Set;let F0;function hae(){F0=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};uy.forEach(t=>t(e))},window.addEventListener("resize",F0)}function fae(e){return uy.add(e),F0||hae(),()=>{uy.delete(e),!uy.size&&typeof F0=="function"&&(window.removeEventListener("resize",F0),F0=void 0)}}function mae(e,t){return typeof e=="function"?fae(e):uae(e,t)}function i9(e,t){let r;const a=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;r!==o&&e(o),r=o};return Gr.preUpdate(a,!0),()=>Rl(a)}function gae(e){return Z4(e)&&e.tagName==="svg"}function pae(...e){const t=!Array.isArray(e[0]),r=t?0:-1,a=e[0+r],s=e[1+r],i=e[2+r],o=e[3+r],l=z4(s,i,o);return t?l(a):l}const Ts=e=>!!(e&&e.getVelocity),xae=[...ZP,pn,xu],yae=e=>xae.find(KP(e)),hv=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function y6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vae(...e){return t=>{let r=!1;const a=e.map(s=>{const i=y6(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():y6(e[s],null)}}}}function bae(...e){return C.useCallback(vae(...e),e)}class wae extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,s=G4(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _ae({children:e,isPresent:t,anchorX:r,root:a}){var h;const s=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=C.useContext(hv),c=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),u=bae(i,c);return C.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:y,right:x}=o.current;if(t||!i.current||!f||!m)return;const N=r==="left"?`left: ${y}`:`right: ${x}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");l&&(b.nonce=l);const w=a??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${N}px !important;
            top: ${g}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[t]),n.jsx(wae,{isPresent:t,childRef:i,sizeRef:o,children:C.cloneElement(e,{ref:u})})}const Nae=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=Wf(kae),h=C.useId();let f=!0,m=C.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:r,custom:s,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;a&&a()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,a]);return i&&f&&(m={...m}),C.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[r]),C.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),o==="popLayout"&&(e=n.jsx(_ae,{isPresent:r,anchorX:l,root:c,children:e})),n.jsx(uv.Provider,{value:m,children:e})};function kae(){return new Map}function o9(e=!0){const t=C.useContext(uv);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:s}=t,i=C.useId();C.useEffect(()=>{if(e)return s(i)},[e]);const o=C.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const Px=e=>e.key||"";function v6(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const $s=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=o9(o),f=C.useMemo(()=>v6(e),[e]),m=o&&!u?[]:f.map(Px),g=C.useRef(!0),y=C.useRef(f),x=Wf(()=>new Map),N=C.useRef(new Set),[b,w]=C.useState(f),[k,S]=C.useState(f);dv(()=>{g.current=!1,y.current=f;for(let F=0;F<k.length;F++){const D=Px(k[F]);m.includes(D)?(x.delete(D),N.current.delete(D)):x.get(D)!==!0&&x.set(D,!1)}},[k,m.length,m.join("-")]);const B=[];if(f!==b){let F=[...f];for(let D=0;D<k.length;D++){const P=k[D],G=Px(P);m.includes(G)||(F.splice(D,0,P),B.push(P))}return i==="wait"&&B.length&&(F=B),S(v6(F)),w(f),null}const{forceRender:H}=C.useContext(S4);return n.jsx(n.Fragment,{children:k.map(F=>{const D=Px(F),P=o&&!u?!1:f===k||m.includes(D),G=()=>{if(N.current.has(D))return;if(N.current.add(D),x.has(D))x.set(D,!0);else return;let I=!0;x.forEach(q=>{q||(I=!1)}),I&&(H==null||H(),S(y.current),o&&(h==null||h()),a&&a())};return n.jsx(Nae,{isPresent:P,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:P?void 0:G,anchorX:l,children:F},D)})})},l9=C.createContext({strict:!1}),b6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kf={};for(const e in b6)kf[e]={isEnabled:t=>b6[e].some(r=>!!t[r])};function jae(e){for(const t in e)kf[t]={...kf[t],...e[t]}}const Sae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function j1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sae.has(e)}let c9=e=>!j1(e);function Aae(e){typeof e=="function"&&(c9=t=>t.startsWith("on")?!j1(t):e(t))}try{Aae(require("@emotion/is-prop-valid").default)}catch{}function Eae(e,t,r){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(c9(s)||r===!0&&j1(s)||!t&&!j1(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const fv=C.createContext({});function mv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zg(e){return typeof e=="string"||Array.isArray(e)}const X4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J4=["initial",...X4];function gv(e){return mv(e.animate)||J4.some(t=>Zg(e[t]))}function d9(e){return!!(gv(e)||e.variants)}function Tae(e,t){if(gv(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Zg(r)?r:void 0,animate:Zg(a)?a:void 0}}return e.inherit!==!1?t:{}}function Cae(e){const{initial:t,animate:r}=Tae(e,C.useContext(fv));return C.useMemo(()=>({initial:t,animate:r}),[w6(t),w6(r)])}function w6(e){return Array.isArray(e)?e.join(" "):e}function _6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _m={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const r=_6(e,t.target.x),a=_6(e,t.target.y);return`${r}% ${a}%`}},Lae={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,s=xu.parse(e);if(s.length>5)return a;const i=xu.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=za(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},m5={borderRadius:{..._m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_m,borderTopRightRadius:_m,borderBottomLeftRadius:_m,borderBottomRightRadius:_m,boxShadow:Lae};function u9(e,{layout:t,layoutId:r}){return Kf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!m5[e]||e==="opacity")}const Pae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mae=Yf.length;function Rae(e,t,r){let a="",s=!0;for(let i=0;i<Mae;i++){const o=Yf[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=e9(l,W4[o]);if(!c){s=!1;const h=Pae[o]||o;a+=`${h}(${u}) `}r&&(t[o]=u)}}return a=a.trim(),r?a=r(t,s?"":a):s&&(a="none"),a}function Q4(e,t,r){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Kf.has(c)){o=!0;continue}else if(EP(c)){s[c]=u;continue}else{const h=e9(u,W4[c]);c.startsWith("origin")?(l=!0,i[c]=h):a[c]=h}}if(t.transform||(o||r?a.transform=Rae(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;a.transformOrigin=`${c} ${u} ${h}`}}const eN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h9(e,t,r){for(const a in t)!Ts(t[a])&&!u9(a,r)&&(e[a]=t[a])}function Oae({transformTemplate:e},t){return C.useMemo(()=>{const r=eN();return Q4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Dae(e,t){const r=e.style||{},a={};return h9(a,r,e),Object.assign(a,Oae(e,t)),a}function Iae(e,t){const r={},a=Dae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const Fae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bae={offset:"strokeDashoffset",array:"strokeDasharray"};function zae(e,t,r=1,a=0,s=!0){e.pathLength=1;const i=s?Fae:Bae;e[i.offset]=Lt.transform(-a);const o=Lt.transform(t),l=Lt.transform(r);e[i.array]=`${o} ${l}`}const Uae=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function f9(e,{attrX:t,attrY:r,attrScale:a,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,h){if(Q4(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const g of Uae)f[g]!==void 0&&(m[g]=f[g],delete f[g]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),a!==void 0&&(f.scale=a),s!==void 0&&zae(f,s,i,o,!1)}const m9=()=>({...eN(),attrs:{}}),g9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vae(e,t,r,a){const s=C.useMemo(()=>{const i=m9();return f9(i,t,g9(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};h9(i,e.style,e),s.style={...i,...s.style}}return s}const qae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tN(e){return typeof e!="string"||e.includes("-")?!1:!!(qae.indexOf(e)>-1||/[A-Z]/u.test(e))}function $ae(e,t,r,{latestValues:a},s,i=!1,o){const c=(o??tN(e)?Vae:Iae)(t,a,s,e),u=Eae(t,typeof e=="string",i),h=e!==C.Fragment?{...u,...c,ref:r}:{},{children:f}=t,m=C.useMemo(()=>Ts(f)?f.get():f,[f]);return C.createElement(e,{...h,children:m})}function N6(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function rN(e,t,r,a){if(typeof t=="function"){const[s,i]=N6(a);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=N6(a);t=t(r!==void 0?r:e.custom,s,i)}return t}function hy(e){return Ts(e)?e.get():e}function Hae({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,s){return{latestValues:Wae(r,a,s,e),renderState:t()}}function Wae(e,t,r,a){const s={},i=a(e,{});for(const m in i)s[m]=hy(i[m]);let{initial:o,animate:l}=e;const c=gv(e),u=d9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!mv(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const y=rN(e,m[g]);if(y){const{transitionEnd:x,transition:N,...b}=y;for(const w in b){let k=b[w];if(Array.isArray(k)){const S=h?k.length-1:0;k=k[S]}k!==null&&(s[w]=k)}for(const w in x)s[w]=x[w]}}}return s}const p9=e=>(t,r)=>{const a=C.useContext(fv),s=C.useContext(uv),i=()=>Hae(e,t,a,s);return r?i():Wf(i)};function aN(e,t,r){var i;const{style:a}=e,s={};for(const o in a)(Ts(a[o])||t.style&&Ts(t.style[o])||u9(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=a[o]);return s}const Gae=p9({scrapeMotionValuesFromProps:aN,createRenderState:eN});function x9(e,t,r){const a=aN(e,t,r);for(const s in e)if(Ts(e[s])||Ts(t[s])){const i=Yf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}const Yae=p9({scrapeMotionValuesFromProps:x9,createRenderState:m9}),Kae=Symbol.for("motionComponentSymbol");function Zae(e,t,r){const a=C.useRef(r);C.useInsertionEffect(()=>{a.current=r});const s=C.useRef(null);return C.useCallback(i=>{var l;i&&((l=e.onMount)==null||l.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=a.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const nN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xae="framerAppearId",y9="data-"+nN(Xae),v9=C.createContext({});function Rm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jae(e,t,r,a,s,i){var N,b;const{visualElement:o}=C.useContext(fv),l=C.useContext(l9),c=C.useContext(uv),u=C.useContext(hv).reducedMotion,h=C.useRef(null);a=a||l.renderer,!h.current&&a&&(h.current=a(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const f=h.current,m=C.useContext(v9);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Qae(h.current,r,s,m);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const y=r[y9],x=C.useRef(!!y&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return dv(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),x.current=!1),f.enteringChildren=void 0)}),f}function Qae(e,t,r,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:b9(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Rm(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:c,layoutRoot:u})}function b9(e){if(e)return e.options.allowProjection!==!1?e.projection:b9(e.parent)}function l2(e,{forwardMotionProps:t=!1,type:r}={},a,s){a&&jae(a);const i=r?r==="svg":tN(e),o=i?Yae:Gae;function l(u,h){let f;const m={...C.useContext(hv),...u,layoutId:ene(u)},{isStatic:g}=m,y=Cae(u),x=o(u,g);if(!g&&A4){tne();const N=rne(m);f=N.MeasureLayout,y.visualElement=Jae(e,x,m,s,N.ProjectionNode,i)}return n.jsxs(fv.Provider,{value:y,children:[f&&y.visualElement?n.jsx(f,{visualElement:y.visualElement,...m}):null,$ae(e,u,Zae(x,y.visualElement,h),x,g,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=C.forwardRef(l);return c[Kae]=e,c}function ene({layoutId:e}){const t=C.useContext(S4).id;return t&&e!==void 0?t+"-"+e:e}function tne(e,t){C.useContext(l9).strict}function rne(e){const{drag:t,layout:r}=kf;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function ane(e,t){if(typeof Proxy>"u")return l2;const r=new Map,a=(i,o)=>l2(i,o,e,t),s=(i,o)=>a(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,l2(o,void 0,e,t)),r.get(o))})}function w9({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function nne({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sne(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function c2(e){return e===void 0||e===1}function g5({scale:e,scaleX:t,scaleY:r}){return!c2(e)||!c2(t)||!c2(r)}function Yu(e){return g5(e)||_9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _9(e){return k6(e.x)||k6(e.y)}function k6(e){return e&&e!=="0%"}function S1(e,t,r){const a=e-r,s=t*a;return r+s}function j6(e,t,r,a,s){return s!==void 0&&(e=S1(e,s,a)),S1(e,r,a)+t}function p5(e,t=0,r=1,a,s){e.min=j6(e.min,t,r,a,s),e.max=j6(e.max,t,r,a,s)}function N9(e,{x:t,y:r}){p5(e.x,t.translate,t.scale,t.originPoint),p5(e.y,r.translate,r.scale,r.originPoint)}const S6=.999999999999,A6=1.0000000000001;function ine(e,t,r,a=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&z0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,N9(e,o)),a&&Yu(i.latestValues)&&z0(e,i.latestValues))}t.x<A6&&t.x>S6&&(t.x=1),t.y<A6&&t.y>S6&&(t.y=1)}function B0(e,t){e.min=e.min+t,e.max=e.max+t}function E6(e,t,r,a,s=.5){const i=za(e.min,e.max,s);p5(e,t,r,i,a)}function z0(e,t){E6(e.x,t.x,t.scaleX,t.scale,t.originX),E6(e.y,t.y,t.scaleY,t.scale,t.originY)}function k9(e,t){return w9(sne(e.getBoundingClientRect(),t))}function one(e,t,r){const a=k9(e,r),{scroll:s}=t;return s&&(B0(a.x,s.offset.x),B0(a.y,s.offset.y)),a}const T6=()=>({translate:0,scale:1,origin:0,originPoint:0}),U0=()=>({x:T6(),y:T6()}),C6=()=>({min:0,max:0}),Rn=()=>({x:C6(),y:C6()}),x5={current:null},j9={current:!1};function lne(){if(j9.current=!0,!!A4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>x5.current=e.matches;e.addEventListener("change",t),t()}else x5.current=!1}const cne=new WeakMap;function dne(e,t,r){for(const a in t){const s=t[a],i=r[a];if(Ts(s))e.addValue(a,s);else if(Ts(i))e.addValue(a,Al(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,Al(o!==void 0?o:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const L6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class une{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ys.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Gr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=gv(r),this.isVariantNode=d9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const g=f[m];c[m]!==void 0&&Ts(g)&&g.set(c[m])}}mount(t){var r;this.current=t,cne.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(j9.current||lne(),this.shouldReduceMotion=x5.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Rl(this.notifyUpdate),Rl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Kf.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kf){const r=kf[t];if(!r)continue;const{isEnabled:a,Feature:s}=r;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<L6.length;a++){const s=L6[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dne(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Al(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(fP(a)||gP(a))?a=parseFloat(a):!yae(a)&&xu.test(r)&&(a=JP(t,r)),this.setBaseTarget(t,Ts(a)?a.get():a)),Ts(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=rN(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ts(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new L4),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Y4.render(this.render)}}class S9 extends une{constructor(){super(...arguments),this.KeyframeResolver=Jre}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ts(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function A9(e,{style:t,vars:r},a,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function hne(e){return window.getComputedStyle(e)}class fne extends S9{constructor(){super(...arguments),this.type="html",this.renderInstance=A9}readValueFromInstance(t,r){var a;if(Kf.has(r))return(a=this.projection)!=null&&a.isProjecting?o5(r):yre(t,r);{const s=hne(t),i=(EP(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return k9(t,r)}build(t,r,a){Q4(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return aN(t,r,a)}}const E9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mne(e,t,r,a){A9(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(E9.has(s)?s:nN(s),t.attrs[s])}class gne extends S9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kf.has(r)){const a=XP(r);return a&&a.default||0}return r=E9.has(r)?r:nN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return x9(t,r,a)}build(t,r,a){f9(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,s){mne(t,r,a,s)}mount(t){this.isSVGTag=g9(t.tagName),super.mount(t)}}const pne=(e,t)=>t.isSVG??tN(e)?new gne(t):new fne(t,{allowProjection:e!==C.Fragment});function of(e,t,r){const a=e.getProps();return rN(a,t,r!==void 0?r:a.custom,e)}const y5=e=>Array.isArray(e);function xne(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Al(r))}function yne(e){return y5(e)?e[e.length-1]||0:e}function vne(e,t){const r=of(e,t);let{transitionEnd:a={},transition:s={},...i}=r||{};i={...i,...a};for(const o in i){const l=yne(i[o]);xne(e,o,l)}}function bne(e){return!!(Ts(e)&&e.add)}function v5(e,t){const r=e.getValue("willChange");if(bne(r))return r.add(t);if(!r&&nd.WillChange){const a=new nd.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function T9(e){return e.props[y9]}const wne=e=>e!==null;function _ne(e,{repeat:t,repeatType:r="loop"},a){const s=e.filter(wne),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Nne={type:"spring",stiffness:500,damping:25,restSpeed:10},kne=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jne={type:"keyframes",duration:.8},Sne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ane=(e,{keyframes:t})=>t.length>2?jne:Kf.has(e)?e.startsWith("scale")?kne(t[1]):Nne:Sne;function Ene({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const sN=(e,t,r,a={},s,i)=>o=>{const l=H4(a,e)||{},c=l.delay||a.delay||0;let{elapsed:u=0}=a;u=u-Yc(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Ene(l)||Object.assign(h,Ane(e,h)),h.duration&&(h.duration=Yc(h.duration)),h.repeatDelay&&(h.repeatDelay=Yc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h5(h),h.delay===0&&(f=!0)),(nd.instantAnimations||nd.skipAnimations)&&(f=!0,h5(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=_ne(h.keyframes,l);if(m!==void 0){Gr.update(()=>{h.onUpdate(m),h.onComplete()});return}}return l.isSync?new q4(h):new zre(h)};function Tne({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function C9(e,t,{delay:r=0,transitionOverride:a,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,e.latestValues[h]??null),m=l[h];if(m===void 0||u&&Tne(u,h))continue;const g={delay:r,...H4(i||{},h)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=T9(e);if(b){const w=window.MotionHandoffAnimation(b,h,Gr);w!==null&&(g.startTime=w,x=!0)}}v5(e,h),f.start(sN(h,f,m,e.shouldReduceMotion&&YP.has(h)?{type:!1}:g,e,x));const N=f.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{Gr.update(()=>{o&&vne(e,o)})}),c}function L9(e,t,r,a=0,s=1){const i=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*a;return typeof r=="function"?r(i,o):s===1?i*a:l-i*a}function b5(e,t,r={}){var c;const a=of(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const i=a?()=>Promise.all(C9(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return Cne(e,t,u,h,f,m,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Cne(e,t,r=0,a=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(b5(c,t,{...o,delay:r+(typeof a=="function"?0:a)+L9(e.variantChildren,c,a,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Lne(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(i=>b5(e,i,r));a=Promise.all(s)}else if(typeof t=="string")a=b5(e,t,r);else{const s=typeof t=="function"?of(e,t,r.custom):t;a=Promise.all(C9(e,s,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function P9(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const Pne=J4.length;function M9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?M9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Pne;r++){const a=J4[r],s=e.props[a];(Zg(s)||s===!1)&&(t[a]=s)}return t}const Mne=[...X4].reverse(),Rne=X4.length;function One(e){return t=>Promise.all(t.map(({animation:r,options:a})=>Lne(e,r,a)))}function Dne(e){let t=One(e),r=P6(),a=!0;const s=c=>(u,h)=>{var m;const f=of(e,h,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:y,...x}=f;u={...u,...x,...y}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,h=M9(e.parent)||{},f=[],m=new Set;let g={},y=1/0;for(let N=0;N<Rne;N++){const b=Mne[N],w=r[b],k=u[b]!==void 0?u[b]:h[b],S=Zg(k),B=b===c?w.isActive:null;B===!1&&(y=N);let H=k===h[b]&&k!==u[b]&&S;if(H&&a&&e.manuallyAnimateOnMount&&(H=!1),w.protectedKeys={...g},!w.isActive&&B===null||!k&&!w.prevProp||mv(k)||typeof k=="boolean")continue;const F=Ine(w.prevProp,k);let D=F||b===c&&w.isActive&&!H&&S||N>y&&S,P=!1;const G=Array.isArray(k)?k:[k];let I=G.reduce(s(b),{});B===!1&&(I={});const{prevResolvedValues:q={}}=w,Y={...q,...I},ee=xe=>{D=!0,m.has(xe)&&(P=!0,m.delete(xe)),w.needsAnimating[xe]=!0;const oe=e.getValue(xe);oe&&(oe.liveStyle=!1)};for(const xe in Y){const oe=I[xe],fe=q[xe];if(g.hasOwnProperty(xe))continue;let Se=!1;y5(oe)&&y5(fe)?Se=!P9(oe,fe):Se=oe!==fe,Se?oe!=null?ee(xe):m.add(xe):oe!==void 0&&m.has(xe)?ee(xe):w.protectedKeys[xe]=!0}w.prevProp=k,w.prevResolvedValues=I,w.isActive&&(g={...g,...I}),a&&e.blockInitialAnimation&&(D=!1);const ue=H&&F;D&&(!ue||P)&&f.push(...G.map(xe=>{const oe={type:b};if(typeof xe=="string"&&a&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,Se=of(fe,xe);if(fe.enteringChildren&&Se){const{delayChildren:K}=Se.transition||{};oe.delay=L9(fe.enteringChildren,e,K)}}return{animation:xe,options:oe}}))}if(m.size){const N={};if(typeof u.initial!="boolean"){const b=of(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(N.transition=b.transition)}m.forEach(b=>{const w=e.getBaseTarget(b),k=e.getValue(b);k&&(k.liveStyle=!0),N[b]=w??null}),f.push({animation:N})}let x=!!f.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=P6()}}}function Ine(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!P9(t,e):!1}function Uu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P6(){return{animate:Uu(!0),whileInView:Uu(),whileHover:Uu(),whileTap:Uu(),whileDrag:Uu(),whileFocus:Uu(),exit:Uu()}}class _u{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Fne extends _u{constructor(t){super(t),t.animationState||(t.animationState=Dne(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();mv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Bne=0;class zne extends _u{constructor(){super(...arguments),this.id=Bne++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Une={animation:{Feature:Fne},exit:{Feature:zne}};function Xg(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function jp(e){return{point:{x:e.pageX,y:e.pageY}}}const Vne=e=>t=>K4(t)&&e(t,jp(t));function mg(e,t,r,a){return Xg(e,t,Vne(r),a)}const R9=1e-4,qne=1-R9,$ne=1+R9,O9=.01,Hne=0-O9,Wne=0+O9;function Ks(e){return e.max-e.min}function Gne(e,t,r){return Math.abs(e-t)<=r}function M6(e,t,r,a=.5){e.origin=a,e.originPoint=za(t.min,t.max,e.origin),e.scale=Ks(r)/Ks(t),e.translate=za(r.min,r.max,e.origin)-e.originPoint,(e.scale>=qne&&e.scale<=$ne||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hne&&e.translate<=Wne||isNaN(e.translate))&&(e.translate=0)}function gg(e,t,r,a){M6(e.x,t.x,r.x,a?a.originX:void 0),M6(e.y,t.y,r.y,a?a.originY:void 0)}function R6(e,t,r){e.min=r.min+t.min,e.max=e.min+Ks(t)}function Yne(e,t,r){R6(e.x,t.x,r.x),R6(e.y,t.y,r.y)}function O6(e,t,r){e.min=t.min-r.min,e.max=e.min+Ks(t)}function A1(e,t,r){O6(e.x,t.x,r.x),O6(e.y,t.y,r.y)}function Eo(e){return[e("x"),e("y")]}const D9=({current:e})=>e?e.ownerDocument.defaultView:null,D6=(e,t)=>Math.abs(e-t);function Kne(e,t){const r=D6(e.x,t.x),a=D6(e.y,t.y);return Math.sqrt(r**2+a**2)}const I6=new Set(["auto","scroll"]);class I9{constructor(t,r,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=u2(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=Kne(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:N}=g,{timestamp:b}=Fn;this.history.push({...N,timestamp:b});const{onStart:w,onMove:k}=this.handlers;y||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=d2(y,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:N,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=u2(g.type==="pointercancel"?this.lastMoveEventInfo:d2(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,w),N&&N(g,w)},!K4(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=s||window;const c=jp(t),u=d2(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=Fn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=r;m&&m(t,u2(u,this.history)),this.removeListeners=_p(mg(this.contextWindow,"pointermove",this.handlePointerMove),mg(this.contextWindow,"pointerup",this.handlePointerUp),mg(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const a=getComputedStyle(r);(I6.has(a.overflowX)||I6.has(a.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const a=t===window,s=a?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-r.x,y:s.y-r.y};i.x===0&&i.y===0||(a?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Gr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rl(this.updatePoint)}}function d2(e,t){return t?{point:t(e.point)}:e}function F6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function u2({point:e},t){return{point:e,delta:F6(e,F9(t)),offset:F6(e,Zne(t)),velocity:Xne(t,.1)}}function Zne(e){return e[0]}function F9(e){return e[e.length-1]}function Xne(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const s=F9(e);for(;r>=0&&(a=e[r],!(s.timestamp-a.timestamp>Yc(t)));)r--;if(!a)return{x:0,y:0};const i=Bo(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jne(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?za(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?za(r,e,a.max):Math.min(e,r)),e}function B6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Qne(e,{top:t,left:r,bottom:a,right:s}){return{x:B6(e.x,r,s),y:B6(e.y,t,a)}}function z6(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function ese(e,t){return{x:z6(e.x,t.x),y:z6(e.y,t.y)}}function tse(e,t){let r=.5;const a=Ks(e),s=Ks(t);return s>a?r=Nf(t.min,t.max-a,e.min):a>s&&(r=Nf(e.min,e.max-s,t.min)),Ml(0,1,r)}function rse(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const w5=.35;function ase(e=w5){return e===!1?e=0:e===!0&&(e=w5),{x:U6(e,"left","right"),y:U6(e,"top","bottom")}}function U6(e,t,r){return{min:V6(e,t),max:V6(e,r)}}function V6(e,t){return typeof e=="number"?e:e[t]||0}const nse=new WeakMap;class sse{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{r?(this.stopAnimation(),this.snapToCursor(jp(f).point)):this.pauseAnimation()},o=(f,m)=>{this.stopAnimation();const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tae(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Eo(b=>{let w=this.getAxisMotionValue(b).get()||0;if(oc.test(w)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[b];S&&(w=Ks(S)*(parseFloat(w)/100))}}this.originPoint[b]=w}),x&&Gr.postRender(()=>x(f,m)),v5(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:N}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=m;if(y&&this.currentDirection===null){this.currentDirection=ise(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),N&&N(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Eo(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new I9(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:D9(this.visualElement),element:this.visualElement.current})}stop(t,r){const a=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Gr.postRender(()=>l(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:s}=this.getProps();if(!a||!Mx(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=Jne(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Rm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=Qne(a.layoutBox,t):this.constraints=!1,this.elastic=ase(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Eo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rse(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Rm(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=one(a,s.root,this.visualElement.getTransformPagePoint());let o=ese(s.layout.layoutBox,i);if(r){const l=r(nne(o));this.hasMutatedConstraints=!!l,l&&(o=w9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Eo(h=>{if(!Mx(h,r,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:a?t[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return v5(this.visualElement,t),a.start(sN(t,a,0,r,this.visualElement,!1))}stopAnimation(){Eo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Eo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Eo(r=>{const{drag:a}=this.getProps();if(!Mx(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r],c=i.get()||0;i.set(t[r]-za(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Rm(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Eo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=tse({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Eo(o=>{if(!Mx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(za(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;nse.set(this.visualElement,this);const t=this.visualElement.current,r=mg(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&!n9(c.target)&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Rm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gr.read(a);const o=Xg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Eo(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=w5,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Mx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ise(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ose extends _u{constructor(t){super(t),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new sse(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const q6=e=>(t,r)=>{e&&Gr.postRender(()=>e(t,r))};class lse extends _u{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(t){this.session=new I9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:q6(t),onStart:q6(r),onMove:a,onEnd:(i,o)=>{delete this.session,s&&Gr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=mg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let h2=!1;class cse extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),a&&a.register&&s&&a.register(i),h2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:s,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,h2=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Gr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Y4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=t;h2=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function B9(e){const[t,r]=o9(),a=C.useContext(S4);return n.jsx(cse,{...e,layoutGroup:a,switchLayoutGroup:C.useContext(v9),isPresent:t,safeToRemove:r})}function dse(e,t,r){const a=Ts(e)?e:Al(e);return a.start(sN("",a,t,r)),a.animation}const use=(e,t)=>e.depth-t.depth;class hse{constructor(){this.children=[],this.isDirty=!1}add(t){E4(this.children,t),this.isDirty=!0}remove(t){T4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(use),this.isDirty=!1,this.children.forEach(t)}}function fse(e,t){const r=Ys.now(),a=({timestamp:s})=>{const i=s-r;i>=t&&(Rl(a),e(i-t))};return Gr.setup(a,!0),()=>Rl(a)}const z9=["TopLeft","TopRight","BottomLeft","BottomRight"],mse=z9.length,$6=e=>typeof e=="string"?parseFloat(e):e,H6=e=>typeof e=="number"||Lt.test(e);function gse(e,t,r,a,s,i){s?(e.opacity=za(0,r.opacity??1,pse(a)),e.opacityExit=za(t.opacity??1,0,xse(a))):i&&(e.opacity=za(t.opacity??1,r.opacity??1,a));for(let o=0;o<mse;o++){const l=`border${z9[o]}Radius`;let c=W6(t,l),u=W6(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||H6(c)===H6(u)?(e[l]=Math.max(za($6(c),$6(u),a),0),(oc.test(u)||oc.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=za(t.rotate||0,r.rotate||0,a))}function W6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pse=U9(0,.5,_P),xse=U9(.5,.95,ji);function U9(e,t,r){return a=>a<e?0:a>t?1:r(Nf(e,t,a))}function G6(e,t){e.min=t.min,e.max=t.max}function xl(e,t){G6(e.x,t.x),G6(e.y,t.y)}function Y6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function K6(e,t,r,a,s){return e-=t,e=S1(e,1/r,a),s!==void 0&&(e=S1(e,1/s,a)),e}function yse(e,t=0,r=1,a=.5,s,i=e,o=e){if(oc.test(t)&&(t=parseFloat(t),t=za(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=za(i.min,i.max,a);e===i&&(l-=t),e.min=K6(e.min,t,r,l,s),e.max=K6(e.max,t,r,l,s)}function Z6(e,t,[r,a,s],i,o){yse(e,t[r],t[a],t[s],t.scale,i,o)}const vse=["x","scaleX","originX"],bse=["y","scaleY","originY"];function X6(e,t,r,a){Z6(e.x,t,vse,r?r.x:void 0,a?a.x:void 0),Z6(e.y,t,bse,r?r.y:void 0,a?a.y:void 0)}function J6(e){return e.translate===0&&e.scale===1}function V9(e){return J6(e.x)&&J6(e.y)}function Q6(e,t){return e.min===t.min&&e.max===t.max}function wse(e,t){return Q6(e.x,t.x)&&Q6(e.y,t.y)}function eA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q9(e,t){return eA(e.x,t.x)&&eA(e.y,t.y)}function tA(e){return Ks(e.x)/Ks(e.y)}function rA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _se{constructor(){this.members=[]}add(t){E4(this.members,t),t.scheduleRender()}remove(t){if(T4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nse(e,t,r){let a="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:g,skewY:y}=r;u&&(a=`perspective(${u}px) ${a}`),h&&(a+=`rotate(${h}deg) `),f&&(a+=`rotateX(${f}deg) `),m&&(a+=`rotateY(${m}deg) `),g&&(a+=`skewX(${g}deg) `),y&&(a+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const f2=["","X","Y","Z"],kse=1e3;let jse=0;function m2(e,t,r,a){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function $9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=T9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Gr,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&$9(a)}function H9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=jse++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ese),this.nodes.forEach(Pse),this.nodes.forEach(Mse),this.nodes.forEach(Tse)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hse)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new L4),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Z4(o)&&!gae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;Gr.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,h&&h(),h=fse(m,250),fy.hasAnimatedSinceResize&&(fy.hasAnimatedSinceResize=!1,this.nodes.forEach(sA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Fse,{onLayoutAnimationStart:x,onLayoutAnimationComplete:N}=u.getProps(),b=!this.targetLayout||!q9(this.targetLayout,g),w=!f&&m;if(this.options.layoutRoot||this.resumeFrom||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...H4(y,"layout"),onPlay:x,onComplete:N};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,w)}else f||sA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rse),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lse),this.nodes.forEach(Sse),this.nodes.forEach(Ase)):this.nodes.forEach(nA),this.clearAllSnapshots();const l=Ys.now();Fn.delta=Ml(0,1e3/60,l-Fn.timestamp),Fn.timestamp=l,Fn.isProcessing=!0,t2.update.process(Fn),t2.preRender.process(Fn),t2.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cse),this.sharedNodes.forEach(Ose)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ks(this.snapshot.measuredBox.x)&&!Ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!V9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Yu(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Bse(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Rn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(zse))){const{scroll:h}=this.root;h&&(B0(l.x,h.offset.x),B0(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Rn();if(xl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&xl(l,o),B0(l.x,f.offset.x),B0(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Rn();xl(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&z0(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yu(h.latestValues)&&z0(c,h.latestValues)}return Yu(this.latestValues)&&z0(c,this.latestValues),c}removeTransform(o){const l=Rn();xl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Yu(u.latestValues))continue;g5(u.latestValues)&&u.updateSnapshot();const h=Rn(),f=u.measurePageBox();xl(h,f),X6(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Yu(this.latestValues)&&X6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=Fn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rn(),this.targetWithTransforms=Rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xl(this.target,this.layout.layoutBox),N9(this.target,this.targetDelta)):xl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||g5(this.parent.latestValues)||_9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),A1(this.relativeTargetOrigin,l,c),xl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;xl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;ine(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Rn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y6(this.prevProjectionDelta.x,this.projectionDelta.x),Y6(this.prevProjectionDelta.y,this.projectionDelta.y)),gg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!rA(this.projectionDelta.x,this.prevProjectionDelta.x)||!rA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=U0(),this.projectionDelta=U0(),this.projectionDeltaWithTransform=U0()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=U0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Rn(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,N=this.getStack(),b=!N||N.members.length<=1,w=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(Ise));this.animationProgress=0;let k;this.mixTargetDelta=S=>{const B=S/1e3;iA(f.x,o.x,B),iA(f.y,o.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(A1(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dse(this.relativeTarget,this.relativeTargetOrigin,m,B),k&&wse(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Rn()),xl(k,this.relativeTarget)),x&&(this.animationValues=h,gse(h,u,this.latestValues,B,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Rl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{fy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Al(0)),this.currentAnimation=dse(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&W9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Rn();const f=Ks(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ks(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}xl(l,c),z0(l,h),gg(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _se),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&m2("z",o,u,this.animationValues);for(let h=0;h<f2.length;h++)m2(`rotate${f2[h]}`,o,u,this.animationValues),m2(`skew${f2[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Yu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Nse(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:m,y:g}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in m5){if(h[y]===void 0)continue;const{correct:x,applyTo:N,isCSSVariable:b}=m5[y],w=f==="none"?h[y]:x(h[y],u);if(N){const k=N.length;for(let S=0;S<k;S++)o[N[S]]=w}else b?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=u===this?hy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(aA),this.root.sharedNodes.clear()}}}function Sse(e){e.updateLayout()}function Ase(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Eo(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],g=Ks(m);m.min=a[f].min,m.max=m.min+g}):W9(i,t.layoutBox,a)&&Eo(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],g=Ks(a[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=U0();gg(l,a,t.layoutBox);const c=U0();o?gg(c,e.applyTransform(s,!0),t.measuredBox):gg(c,a,t.layoutBox);const u=!V9(l);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const y=Rn();A1(y,t.layoutBox,m.layoutBox);const x=Rn();A1(x,a,g.layoutBox),q9(y,x)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Ese(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Tse(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cse(e){e.clearSnapshot()}function aA(e){e.clearMeasurements()}function nA(e){e.isLayoutDirty=!1}function Lse(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pse(e){e.resolveTargetDelta()}function Mse(e){e.calcProjection()}function Rse(e){e.resetSkewAndRotation()}function Ose(e){e.removeLeadSnapshot()}function iA(e,t,r){e.translate=za(t.translate,0,r),e.scale=za(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function oA(e,t,r,a){e.min=za(t.min,r.min,a),e.max=za(t.max,r.max,a)}function Dse(e,t,r,a){oA(e.x,t.x,r.x,a),oA(e.y,t.y,r.y,a)}function Ise(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Fse={duration:.45,ease:[.4,0,.1,1]},lA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cA=lA("applewebkit/")&&!lA("chrome/")?Math.round:ji;function dA(e){e.min=cA(e.min),e.max=cA(e.max)}function Bse(e){dA(e.x),dA(e.y)}function W9(e,t,r){return e==="position"||e==="preserve-aspect"&&!Gne(tA(t),tA(r),.2)}function zse(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Use=H9({attachResizeListener:(e,t)=>Xg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),g2={current:void 0},G9=H9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!g2.current){const e=new Use({});e.mount(window),e.setOptions({layoutScroll:!0}),g2.current=e}return g2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Vse={pan:{Feature:lse},drag:{Feature:ose,ProjectionNode:G9,MeasureLayout:B9}};function uA(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=a[s];i&&Gr.postRender(()=>i(t,jp(t)))}class qse extends _u{mount(){const{current:t}=this.node;t&&(this.unmount=rae(t,(r,a)=>(uA(this.node,a,"Start"),s=>uA(this.node,s,"End"))))}unmount(){}}class $se extends _u{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_p(Xg(this.node.current,"focus",()=>this.onFocus()),Xg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hA(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=a[s];i&&Gr.postRender(()=>i(t,jp(t)))}class Hse extends _u{mount(){const{current:t}=this.node;t&&(this.unmount=sae(t,(r,a)=>(hA(this.node,a,"Start"),(s,{success:i})=>hA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _5=new WeakMap,p2=new WeakMap,Wse=e=>{const t=_5.get(e.target);t&&t(e)},Gse=e=>{e.forEach(Wse)};function Yse({root:e,...t}){const r=e||document;p2.has(r)||p2.set(r,{});const a=p2.get(r),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(Gse,{root:e,...t})),a[s]}function Kse(e,t,r){const a=Yse(t);return _5.set(e,r),a.observe(e),()=>{_5.delete(e),a.unobserve(e)}}const Zse={some:0,all:1};class Xse extends _u{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:Zse[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(c)};return Kse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Jse(t,r))&&this.startObserver()}unmount(){}}function Jse({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Qse={inView:{Feature:Xse},tap:{Feature:Hse},focus:{Feature:$se},hover:{Feature:qse}},eie={layout:{ProjectionNode:G9,MeasureLayout:B9}},tie={...Une,...Qse,...Vse,...eie},Kt=ane(tie,pne),rie=50,fA=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),aie=()=>({time:0,x:fA(),y:fA()}),nie={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function mA(e,t,r,a){const s=r[t],{length:i,position:o}=nie[t],l=s.current,c=r.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Nf(0,s.scrollLength,s.current);const u=a-c;s.velocity=u>rie?0:P4(s.current-l,u)}function sie(e,t,r){mA(e,"x",t,r),mA(e,"y",t,r),t.time=r}function iie(e,t){const r={x:0,y:0};let a=e;for(;a&&a!==t;)if(G4(a))r.x+=a.offsetLeft,r.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const s=a.getBoundingClientRect();a=a.parentElement;const i=a.getBoundingClientRect();r.x+=s.left-i.left,r.y+=s.top-i.top}else if(a instanceof SVGGraphicsElement){const{x:s,y:i}=a.getBBox();r.x+=s,r.y+=i;let o=null,l=a.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=a.parentNode;a=o}else break;return r}const N5={start:0,center:.5,end:1};function gA(e,t,r=0){let a=0;if(e in N5&&(e=N5[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?a=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?a=s/100*document.documentElement.clientWidth:e.endsWith("vh")?a=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(a=t*e),r+a}const oie=[0,0];function lie(e,t,r,a){let s=Array.isArray(e)?e:oie,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,N5[e]?e:"0"]),i=gA(s[0],r,a),o=gA(s[1],t),i-o}const cie={All:[[0,0],[1,1]]},die={x:0,y:0};function uie(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function hie(e,t,r){const{offset:a=cie.All}=r,{target:s=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=s!==e?iie(s,e):die,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:uie(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let h=!t[i].interpolate;const f=a.length;for(let m=0;m<f;m++){const g=lie(a[m],u[o],c[o],l[i]);!h&&g!==t[i].interpolatorOffsets[m]&&(h=!0),t[i].offset[m]=g}h&&(t[i].interpolate=z4(t[i].offset,FP(a),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Ml(0,1,t[i].interpolate(t[i].current))}function fie(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let a=t;for(;a&&a!==e;)r.x.targetOffset+=a.offsetLeft,r.y.targetOffset+=a.offsetTop,a=a.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function mie(e,t,r,a={}){return{measure:s=>{fie(e,a.target,r),sie(e,r,s),(a.offset||a.target)&&hie(e,r,a)},notify:()=>t(r)}}const Nm=new WeakMap,pA=new WeakMap,x2=new WeakMap,xA=e=>e===document.scrollingElement?window:e;function Y9(e,{container:t=document.scrollingElement,...r}={}){if(!t)return ji;let a=x2.get(t);a||(a=new Set,x2.set(t,a));const s=aie(),i=mie(t,e,s,r);if(a.add(i),!Nm.has(t)){const l=()=>{for(const f of a)f.measure(Fn.timestamp);Gr.preUpdate(c)},c=()=>{for(const f of a)f.notify()},u=()=>Gr.read(l);Nm.set(t,u);const h=xA(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&pA.set(t,mae(t,u)),h.addEventListener("scroll",u,{passive:!0}),u()}const o=Nm.get(t);return Gr.read(o,!1,!0),()=>{var u;Rl(o);const l=x2.get(t);if(!l||(l.delete(i),l.size))return;const c=Nm.get(t);Nm.delete(t),c&&(xA(t).removeEventListener("scroll",c),(u=pA.get(t))==null||u(),window.removeEventListener("resize",c))}}const yA=new Map;function gie(e){const t={value:0},r=Y9(a=>{t.value=a[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function K9({source:e,container:t,...r}){const{axis:a}=r;e&&(t=e);const s=yA.get(t)??new Map;yA.set(t,s);const i=r.target??"self",o=s.get(i)??{},l=a+(r.offset??[]).join(",");return o[l]||(o[l]=!r.target&&VP()?new ScrollTimeline({source:t,axis:a}):gie({container:t,...r})),o[l]}function pie(e,t){const r=K9(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:a=>(a.pause(),i9(s=>{a.time=a.iterationDuration*s},r))})}function xie(e){return e.length===2}function yie(e,t){return xie(e)?Y9(r=>{e(r[t.axis].progress,r)},t):i9(e,K9(t))}function vie(e,{axis:t="y",container:r=document.scrollingElement,...a}={}){if(!r)return ji;const s={axis:t,container:r,...a};return typeof e=="function"?yie(e,s):pie(e,s)}const bie=()=>({scrollX:Al(0),scrollY:Al(0),scrollXProgress:Al(0),scrollYProgress:Al(0)}),Rx=e=>e?!e.current:!1;function wie({container:e,target:t,...r}={}){const a=Wf(bie),s=C.useRef(null),i=C.useRef(!1),o=C.useCallback(()=>(s.current=vie((l,{x:c,y:u})=>{a.scrollX.set(c.current),a.scrollXProgress.set(c.progress),a.scrollY.set(u.current),a.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(r.offset)]);return dv(()=>{if(i.current=!1,Rx(e)||Rx(t)){i.current=!0;return}else return o()},[o]),C.useEffect(()=>{if(i.current)return Gg(!Rx(e)),Gg(!Rx(t)),o()},[o]),a}function _ie(e){const t=Wf(()=>Al(e)),{isStatic:r}=C.useContext(hv);if(r){const[,a]=C.useState(e);C.useEffect(()=>t.on("change",a),[])}return t}function Z9(e,t){const r=_ie(t()),a=()=>r.set(t());return a(),dv(()=>{const s=()=>Gr.preRender(a,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Rl(a)}}),r}function Nie(e){fg.current=[],e();const t=Z9(fg.current,e);return fg.current=void 0,t}function kie(e,t,r,a){if(typeof e=="function")return Nie(e);const s=typeof t=="function"?t:pae(t,r,a);return Array.isArray(e)?vA(e,s):vA([e],([i])=>s(i))}function vA(e,t){const r=Wf(()=>[]);return Z9(e,()=>{r.length=0;const a=e.length;for(let s=0;s<a;s++)r[s]=e[s].get();return t(r)})}const bA=[{label:"Any",min:void 0,max:void 0},{label:"Under $100K",min:0,max:1e5},{label:"$100K - $250K",min:1e5,max:25e4},{label:"$250K - $500K",min:25e4,max:5e5},{label:"$500K - $1M",min:5e5,max:1e6},{label:"$1M - $2M",min:1e6,max:2e6},{label:"$2M+",min:2e6,max:void 0}],jie=[{label:"Any",value:void 0},{label:"Studio",value:0},{label:"1+",value:1},{label:"2+",value:2},{label:"3+",value:3},{label:"4+",value:4},{label:"5+",value:5}],Sie=[{value:"apartment",label:"Apartment",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"house",label:"House",icon:n.jsx(gr,{className:"w-4 h-4"})},{value:"condo",label:"Condo",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"townhouse",label:"Townhouse",icon:n.jsx(gr,{className:"w-4 h-4"})},{value:"villa",label:"Villa",icon:n.jsx(gr,{className:"w-4 h-4"})},{value:"penthouse",label:"Penthouse",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"studio",label:"Studio",icon:n.jsx(gr,{className:"w-4 h-4"})},{value:"land",label:"Land",icon:n.jsx(vf,{className:"w-4 h-4"})},{value:"commercial",label:"Commercial",icon:n.jsx(Hs,{className:"w-4 h-4"})}],y2=[{value:"available",label:"Available",color:"text-green-700",bgColor:"bg-green-100"},{value:"pending",label:"Pending",color:"text-yellow-700",bgColor:"bg-yellow-100"},{value:"sold",label:"Sold",color:"text-blue-700",bgColor:"bg-blue-100"},{value:"rented",label:"Rented",color:"text-purple-700",bgColor:"bg-purple-100"},{value:"under_contract",label:"Under Contract",color:"text-orange-700",bgColor:"bg-orange-100"},{value:"off_market",label:"Off Market",color:"text-gray-700",bgColor:"bg-gray-100"},{value:"coming_soon",label:"Coming Soon",color:"text-indigo-700",bgColor:"bg-indigo-100"}],Aie=[{field:"createdAt",order:"desc",label:"Newest First"},{field:"createdAt",order:"asc",label:"Oldest First"},{field:"price",order:"asc",label:"Price: Low to High"},{field:"price",order:"desc",label:"Price: High to Low"},{field:"area",order:"desc",label:"Area: Large to Small"},{field:"area",order:"asc",label:"Area: Small to Large"},{field:"bedrooms",order:"desc",label:"Bedrooms: Most First"},{field:"views",order:"desc",label:"Most Viewed"},{field:"title",order:"asc",label:"Title: A-Z"}],Eie=()=>{const e=br(),{filteredProperties:t,properties:r,selectedProperties:a,filters:s,sort:i,pagination:o,loading:l,deleteProperty:c,deleteProperties:u,duplicateProperty:h,selectProperty:f,deselectProperty:m,selectAllProperties:g,clearSelection:y,bulkUpdateStatus:x,setFilters:N,clearFilters:b,setSort:w,setPage:k,setLimit:S,exportProperties:B,formatPrice:H,formatArea:F,getPropertyStats:D}=Th(),[P,G]=C.useState("grid"),[I,q]=C.useState(!1),[Y,ee]=C.useState(null),[ue,le]=C.useState(!1),[xe,oe]=C.useState(!1),[fe,Se]=C.useState(!1),[K,A]=C.useState(!1),[z,O]=C.useState(null),[R,W]=C.useState(s.search||""),[X,ne]=C.useState(0),[re,Z]=C.useState(s.bedroomsMin),[ke,Le]=C.useState(s.propertyType||[]),[Oe,Ge]=C.useState(s.status||[]),[de,Ae]=C.useState(s.listingType||[]),je=C.useMemo(()=>D(),[r]);C.useEffect(()=>{const Te=setTimeout(()=>{N({...s,search:R||void 0})},300);return()=>clearTimeout(Te)},[R]);const et=async Te=>{await c(Te),ee(null)},ae=async()=>{await u(a),le(!1),y()},De=async Te=>{const st=await h(Te);st&&e(`/manager/dashboard/properties/edit/${st.id}`)},Ke=Te=>{const st=a.length>0?a:void 0;B(Te,st),oe(!1)},at=()=>{const Te=bA[X];N({...s,search:R||void 0,priceMin:Te.min,priceMax:Te.max,bedroomsMin:re,propertyType:ke.length>0?ke:void 0,status:Oe.length>0?Oe:void 0,listingType:de.length>0?de:void 0}),q(!1)},yt=()=>{W(""),ne(0),Z(void 0),Le([]),Ge([]),Ae([]),b()},wt=Te=>{a.includes(Te)?m(Te):f(Te)},it=async Te=>{await x(a,Te),y(),A(!1)},jt=Te=>{const st=y2.find(gt=>gt.value===Te);return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${st==null?void 0:st.bgColor} ${st==null?void 0:st.color}`,children:(st==null?void 0:st.label)||Te})},Et=C.useMemo(()=>{var st,gt,_t;let Te=0;return s.search&&Te++,(s.priceMin!==void 0||s.priceMax!==void 0)&&Te++,s.bedroomsMin!==void 0&&Te++,(st=s.propertyType)!=null&&st.length&&Te++,(gt=s.status)!=null&&gt.length&&Te++,(_t=s.listingType)!=null&&_t.length&&Te++,Te},[s]);return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Properties"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Manage all your property listings (",o.total," total)"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"hidden xl:flex items-center gap-2 mr-4",children:[n.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[je.available," Available"]}),n.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:[je.pending," Pending"]}),n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[je.sold," Sold"]})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-all shadow-lg hover:shadow-xl",children:[n.jsx(Ll,{className:"w-5 h-5"}),"Add Property"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by title, address, city...",value:R,onChange:Te=>W(Te.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 transition-all"}),R&&n.jsx("button",{onClick:()=>W(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(yr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>q(!I),className:`flex items-center gap-2 px-4 py-2.5 border rounded-lg transition-all ${I||Et>0?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Filters"}),Et>0&&n.jsx("span",{className:"w-5 h-5 bg-primary text-white text-xs rounded-full flex items-center justify-center",children:Et})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>Se(!fe),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:[n.jsx(Jz,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Sort"}),n.jsx(yh,{className:"w-4 h-4"})]}),n.jsx($s,{children:fe&&n.jsx(Kt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:Aie.map((Te,st)=>n.jsx("button",{onClick:()=>{w({field:Te.field,order:Te.order}),Se(!1)},className:`w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors first:rounded-t-lg last:rounded-b-lg ${i.field===Te.field&&i.order===Te.order?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:Te.label},st))})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>oe(!xe),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Export"})]}),n.jsx($s,{children:xe&&n.jsxs(Kt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[n.jsxs("button",{onClick:()=>Ke("csv"),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg",children:[n.jsx(Or,{className:"w-4 h-4"}),"Export as CSV"]}),n.jsxs("button",{onClick:()=>Ke("json"),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-b-lg",children:[n.jsx(GU,{className:"w-4 h-4"}),"Export as JSON"]})]})})]}),n.jsx("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[{mode:"grid",icon:n.jsx(W_,{className:"w-4 h-4"})},{mode:"list",icon:n.jsx(Y_,{className:"w-4 h-4"})},{mode:"map",icon:n.jsx(vf,{className:"w-4 h-4"})}].map(({mode:Te,icon:st})=>n.jsx("button",{onClick:()=>G(Te),className:`p-2 rounded-md transition-all ${P===Te?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:st},Te))})]})]}),n.jsx($s,{children:a.length>0&&n.jsx(Kt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.length," selected"]}),n.jsx("button",{onClick:y,className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Clear selection"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>A(!K),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:[n.jsx($c,{className:"w-4 h-4"}),"Change Status",n.jsx(yh,{className:"w-4 h-4"})]}),n.jsx($s,{children:K&&n.jsx(Kt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:y2.map(Te=>n.jsxs("button",{onClick:()=>it(Te.value),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 first:rounded-t-lg last:rounded-b-lg",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${Te.bgColor}`}),Te.label]},Te.value))})})]}),n.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-all",children:[n.jsx(Ss,{className:"w-4 h-4"}),"Delete Selected"]})]})]})})})]}),n.jsx($s,{children:I&&n.jsx(Kt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Advanced Filters"}),n.jsx("button",{onClick:yt,className:"text-sm text-primary hover:underline",children:"Clear All"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),n.jsx("select",{value:X,onChange:Te=>ne(Number(Te.target.value)),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:bA.map((Te,st)=>n.jsx("option",{value:st,children:Te.label},st))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bedrooms"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:jie.map(Te=>n.jsx("button",{onClick:()=>Z(Te.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${re===Te.value?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:Te.label},Te.label))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Sie.slice(0,5).map(Te=>n.jsxs("button",{onClick:()=>{ke.includes(Te.value)?Le(ke.filter(st=>st!==Te.value)):Le([...ke,Te.value])},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ke.includes(Te.value)?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[Te.icon,Te.label]},Te.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y2.slice(0,4).map(Te=>n.jsx("button",{onClick:()=>{Oe.includes(Te.value)?Ge(Oe.filter(st=>st!==Te.value)):Ge([...Oe,Te.value])},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${Oe.includes(Te.value)?`${Te.bgColor} ${Te.color}`:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:Te.label},Te.value))})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:"Cancel"}),n.jsx("button",{onClick:at,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all",children:"Apply Filters"})]})]})})}),l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs(Kt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-12 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(gr,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"No properties found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:Et>0?"Try adjusting your filters to see more results.":"Start by adding your first property listing."}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Et>0&&n.jsx("button",{onClick:yt,className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:"Clear Filters"}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 transition-all",children:[n.jsx(Ll,{className:"w-5 h-5"}),"Add Property"]})]})]}):P==="grid"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((Te,st)=>{var gt,_t,wr,er,Ht,Gt,_r,Ct,lt,It,qt,Er,Qt,Ot;return n.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:st*.05},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden group hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"absolute top-3 left-3 z-10",children:n.jsx("button",{onClick:pr=>{pr.stopPropagation(),wt(Te.id)},className:`w-6 h-6 rounded flex items-center justify-center transition-all ${a.includes(Te.id)?"bg-primary text-white":"bg-white/90 text-gray-400 opacity-0 group-hover:opacity-100"}`,children:a.includes(Te.id)?n.jsx(Uj,{className:"w-4 h-4"}):n.jsx(Vj,{className:"w-4 h-4"})})}),n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 cursor-pointer",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:[(wr=(_t=(gt=Te.media)==null?void 0:gt.images)==null?void 0:_t[0])!=null&&wr.url||Te.images&&Te.images[0]?n.jsx("img",{src:((Gt=(Ht=(er=Te.media)==null?void 0:er.images)==null?void 0:Ht[0])==null?void 0:Gt.url)||(typeof((_r=Te.images)==null?void 0:_r[0])=="string"?Te.images[0]:""),alt:Te.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(gr,{className:"w-16 h-16 text-gray-300"})}),n.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[Te.featured&&n.jsxs("span",{className:"px-2 py-1 bg-yellow-500 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(jl,{className:"w-3 h-3"})," Featured"]}),Te.verified&&n.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(Z0,{className:"w-3 h-3"})," Verified"]})]}),n.jsx("div",{className:"absolute bottom-3 left-3",children:jt(Te.status)}),n.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-50 transition-colors",children:n.jsx(td,{className:"w-4 h-4 text-gray-600"})}),n.jsx("button",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-50 transition-colors",children:n.jsx(Fo,{className:"w-4 h-4 text-gray-600"})})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white truncate cursor-pointer hover:text-primary transition-colors",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:Te.title}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1 truncate",children:[n.jsx(aa,{className:"w-3 h-3 flex-shrink-0"}),((Ct=Te.location)==null?void 0:Ct.city)||Te.city,", ",((lt=Te.location)==null?void 0:lt.state)||Te.state]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>O(z===Te.id?null:Te.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(Xy,{className:"w-5 h-5"})}),n.jsx($s,{children:z===Te.id&&n.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[n.jsxs("button",{onClick:()=>{e(`/manager/dashboard/properties/${Te.id}`),O(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg",children:[n.jsx(fa,{className:"w-4 h-4"})," View"]}),n.jsxs("button",{onClick:()=>{e(`/manager/dashboard/properties/edit/${Te.id}`),O(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsx($o,{className:"w-4 h-4"})," Edit"]}),n.jsxs("button",{onClick:()=>{De(Te.id),O(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsx(Zy,{className:"w-4 h-4"})," Duplicate"]}),n.jsxs("button",{onClick:()=>{ee(Te.id),O(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg",children:[n.jsx(Ss,{className:"w-4 h-4"})," Delete"]})]})})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("span",{className:"text-xl font-bold text-primary",children:(It=Te.price)!=null&&It.amount?H(Te.price):Te.priceString||"Price on Request"}),Te.listingType==="rent"&&n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/month"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(du,{className:"w-4 h-4"}),((qt=Te.rooms)==null?void 0:qt.bedrooms)||Te.bedrooms||0]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ph,{className:"w-4 h-4"}),((Er=Te.rooms)==null?void 0:Er.bathrooms)||Te.bathrooms||0]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bf,{className:"w-4 h-4"}),F(((Qt=Te.dimensions)==null?void 0:Qt.totalArea)||Te.area||0,((Ot=Te.dimensions)==null?void 0:Ot.areaUnit)||"sqft")]})]}),Te.analytics&&(Te.analytics.views>0||Te.analytics.inquiries>0)&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-800 flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bn,{className:"w-3 h-3"}),Te.analytics.views," views"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(q_,{className:"w-3 h-3"}),Te.analytics.inquiries," inquiries"]})]})]})]},Te.id)})}):P==="list"?n.jsx("div",{className:"space-y-4",children:t.map((Te,st)=>{var gt,_t,wr,er,Ht,Gt,_r,Ct,lt,It,qt,Er,Qt,Ot,pr,Qs;return n.jsx(Kt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:st*.03},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden hover:shadow-lg transition-all",children:n.jsxs("div",{className:"flex flex-col md:flex-row",children:[n.jsxs("div",{className:"relative md:w-72 h-48 md:h-auto flex-shrink-0",children:[n.jsx("button",{onClick:()=>wt(Te.id),className:`absolute top-3 left-3 z-10 w-6 h-6 rounded flex items-center justify-center transition-all ${a.includes(Te.id)?"bg-primary text-white":"bg-white/90 text-gray-400"}`,children:a.includes(Te.id)?n.jsx(Uj,{className:"w-4 h-4"}):n.jsx(Vj,{className:"w-4 h-4"})}),n.jsx("div",{className:"h-full bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 cursor-pointer",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:(wr=(_t=(gt=Te.media)==null?void 0:gt.images)==null?void 0:_t[0])!=null&&wr.url||Te.images&&Te.images[0]?n.jsx("img",{src:((Gt=(Ht=(er=Te.media)==null?void 0:er.images)==null?void 0:Ht[0])==null?void 0:Gt.url)||(typeof((_r=Te.images)==null?void 0:_r[0])=="string"?Te.images[0]:""),alt:Te.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx(gr,{className:"w-16 h-16 text-gray-300"})})})]}),n.jsxs("div",{className:"flex-1 p-4 md:p-6 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white cursor-pointer hover:text-primary transition-colors",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:Te.title}),jt(Te.status),Te.featured&&n.jsxs("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(jl,{className:"w-3 h-3"})," Featured"]})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[n.jsx(aa,{className:"w-3 h-3"}),((Ct=Te.location)==null?void 0:Ct.addressLine1)||Te.address,", ",((lt=Te.location)==null?void 0:lt.city)||Te.city,", ",((It=Te.location)==null?void 0:It.state)||Te.state]})]}),n.jsx("span",{className:"text-xl font-bold text-primary ml-4",children:(qt=Te.price)!=null&&qt.amount?H(Te.price):Te.priceString||"Price on Request"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-2",children:Te.shortDescription||((Er=Te.description)==null?void 0:Er.slice(0,150))})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(du,{className:"w-4 h-4"}),((Qt=Te.rooms)==null?void 0:Qt.bedrooms)||Te.bedrooms||0," beds"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ph,{className:"w-4 h-4"}),((Ot=Te.rooms)==null?void 0:Ot.bathrooms)||Te.bathrooms||0," baths"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bf,{className:"w-4 h-4"}),F(((pr=Te.dimensions)==null?void 0:pr.totalArea)||Te.area||0,((Qs=Te.dimensions)==null?void 0:Qs.areaUnit)||"sqft")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wi,{className:"w-4 h-4"}),new Date(Te.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),className:"p-2 text-gray-600 hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"View",children:n.jsx(fa,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/edit/${Te.id}`),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:n.jsx($o,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>De(Te.id),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Duplicate",children:n.jsx(Zy,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ee(Te.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:n.jsx(Ss,{className:"w-5 h-5"})})]})]})]})]})},Te.id)})}):n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 h-[600px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx(vf,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Map view coming soon"}),n.jsx("p",{className:"text-sm",children:"Switch to grid or list view to see your properties"})]})}),o.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(o.page-1)*o.limit+1," - ",Math.min(o.page*o.limit,o.total)," of ",o.total]}),n.jsxs("select",{value:o.limit,onChange:Te=>S(Number(Te.target.value)),className:"px-2 py-1 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:[n.jsx("option",{value:12,children:"12 per page"}),n.jsx("option",{value:24,children:"24 per page"}),n.jsx("option",{value:48,children:"48 per page"}),n.jsx("option",{value:96,children:"96 per page"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("button",{onClick:()=>k(1),disabled:o.page===1,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(ic,{className:"w-4 h-4"}),n.jsx(ic,{className:"w-4 h-4 -ml-2"})]}),n.jsx("button",{onClick:()=>k(o.page-1),disabled:o.page===1,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(ic,{className:"w-4 h-4"})}),n.jsx("div",{className:"flex items-center gap-1 mx-2",children:Array.from({length:Math.min(5,o.totalPages)},(Te,st)=>{let gt;return o.totalPages<=5||o.page<=3?gt=st+1:o.page>=o.totalPages-2?gt=o.totalPages-4+st:gt=o.page-2+st,n.jsx("button",{onClick:()=>k(gt),className:`w-10 h-10 rounded-lg font-medium transition-colors ${o.page===gt?"bg-primary text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:gt},gt)})}),n.jsx("button",{onClick:()=>k(o.page+1),disabled:o.page===o.totalPages,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(El,{className:"w-4 h-4"})}),n.jsxs("button",{onClick:()=>k(o.totalPages),disabled:o.page===o.totalPages,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(El,{className:"w-4 h-4"}),n.jsx(El,{className:"w-4 h-4 -ml-2"})]})]})]}),n.jsx($s,{children:Y&&n.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Kt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:"Delete Property"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"Are you sure you want to delete this property? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>ee(null),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:()=>et(Y),className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Property"})]})]})})}),n.jsx($s,{children:ue&&n.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Kt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:["Delete ",a.length," Properties"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"Are you sure you want to delete these properties? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>le(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete All"})]})]})})})]})},Tie=()=>{var P,G,I,q,Y,ee,ue,le,xe,oe,fe,Se,K,A,z,O,R,W,X,ne,re,Z,ke,Le,Oe,Ge,de,Ae,je,et;const{id:e}=T_(),t=br(),{getProperty:r,deleteProperty:a,formatPrice:s,formatArea:i,incrementViews:o,duplicateProperty:l}=Th(),[c,u]=C.useState(!1),[h,f]=C.useState(0),[m,g]=C.useState(!1),[y,x]=C.useState(!1),[N,b]=C.useState(!1),w=e?r(e):void 0;if(C.useEffect(()=>{e&&o(e)},[e,o]),!w)return n.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:n.jsx(gr,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Property not found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),n.jsxs("button",{onClick:()=>t("/manager/dashboard/properties"),className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[n.jsx(cc,{className:"w-5 h-5"}),"Back to Properties"]})]});const k=async()=>{e&&(await a(e),t("/manager/dashboard/properties"))},S=async()=>{if(e){const ae=await l(e);ae&&t(`/manager/dashboard/properties/edit/${ae.id}`)}},B=async ae=>{const De=window.location.href,Ke=w.title;switch(ae){case"copy":await navigator.clipboard.writeText(De),alert("Link copied to clipboard!");break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(`${Ke} - ${De}`)}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(De)}&text=${encodeURIComponent(Ke)}`);break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(De)}`);break;case"email":window.open(`mailto:?subject=${encodeURIComponent(Ke)}&body=${encodeURIComponent(`Check out this property: ${De}`)}`);break}x(!1)},H=((G=(P=w.media)==null?void 0:P.images)==null?void 0:G.map(ae=>ae.url))||((I=w.images)==null?void 0:I.filter(ae=>typeof ae=="string"))||[],F=ae=>{const De={available:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",sold:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",rented:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",under_contract:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",off_market:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400",coming_soon:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"};return De[ae]||De.available},D=ae=>ae.replace(/_/g," ").replace(/\b\w/g,De=>De.toUpperCase());return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 font-sans pb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("button",{onClick:()=>t("/manager/dashboard/properties"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors w-fit",children:[n.jsx(cc,{className:"w-5 h-5"}),"Back to Properties"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>b(!N),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${N?"border-red-300 bg-red-50 dark:bg-red-900/20 text-red-600":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(td,{className:`w-5 h-5 ${N?"fill-current":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Favorite"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsx(Fo,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),n.jsx($s,{children:y&&n.jsx(Kt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[{id:"copy",label:"Copy Link",icon:n.jsx(Or,{className:"w-4 h-4"})},{id:"whatsapp",label:"WhatsApp",icon:n.jsx(eg,{className:"w-4 h-4"})},{id:"email",label:"Email",icon:n.jsx(_n,{className:"w-4 h-4"})}].map(ae=>n.jsxs("button",{onClick:()=>B(ae.id),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 first:rounded-t-lg last:rounded-b-lg",children:[ae.icon,ae.label]},ae.id))})})]}),n.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsx(Zy,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Duplicate"})]}),n.jsxs("button",{onClick:()=>t(`/manager/dashboard/properties/edit/${e}`),className:"flex items-center gap-2 px-4 py-2 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-700 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[n.jsx($o,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[n.jsx(Ss,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[H.length>0?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 cursor-pointer",onClick:()=>g(!0),children:n.jsx("img",{src:H[h],alt:`${w.title} - Image ${h+1}`,className:"w-full h-full object-cover"})}),H.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(ae=>ae===0?H.length-1:ae-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-900/90 rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-900 transition-colors",children:n.jsx(ic,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>f(ae=>ae===H.length-1?0:ae+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-900/90 rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-900 transition-colors",children:n.jsx(El,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),n.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${F(w.status)}`,children:D(w.status)}),w.featured&&n.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(jl,{className:"w-4 h-4"})," Featured"]}),w.verified&&n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(Z0,{className:"w-4 h-4"})," Verified"]})]}),n.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-1.5 bg-black/60 text-white rounded-full text-sm",children:[h+1," / ",H.length]})]}):n.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 flex items-center justify-center",children:n.jsx(gr,{className:"w-24 h-24 text-gray-300"})}),H.length>1&&n.jsx("div",{className:"p-4 flex gap-2 overflow-x-auto custom-scrollbar",children:H.map((ae,De)=>n.jsx("button",{onClick:()=>f(De),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${De===h?"border-primary shadow-lg":"border-transparent opacity-70 hover:opacity-100"}`,children:n.jsx("img",{src:ae,alt:`Thumbnail ${De+1}`,className:"w-full h-full object-cover"})},De))})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-2",children:w.title}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(aa,{className:"w-5 h-5 text-primary"}),((q=w.location)==null?void 0:q.addressLine1)||w.address,", ",((Y=w.location)==null?void 0:Y.city)||w.city,", ",((ee=w.location)==null?void 0:ee.state)||w.state,((ue=w.location)==null?void 0:ue.country)&&`, ${w.location.country}`]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:(le=w.price)!=null&&le.amount?s(w.price):w.priceString||"Price on Request"}),w.listingType==="rent"&&n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"per month"}),((xe=w.price)==null?void 0:xe.negotiable)&&n.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Price Negotiable"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-6 border-y border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(du,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((oe=w.rooms)==null?void 0:oe.bedrooms)||w.bedrooms||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bedrooms"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(ph,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((fe=w.rooms)==null?void 0:fe.bathrooms)||w.bathrooms||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bathrooms"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(bf,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i(((Se=w.dimensions)==null?void 0:Se.totalArea)||w.area||0,((K=w.dimensions)==null?void 0:K.areaUnit)||"sqft")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Area"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(V_,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((A=w.rooms)==null?void 0:A.parkingSpaces)||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Parking"})]})]}),n.jsxs("div",{className:"py-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Description"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap leading-relaxed",children:w.description||"No description available."})]}),n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Property Details"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Property Type"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:((z=w.propertyType)==null?void 0:z.replace("_"," "))||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Listing Type"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:((O=w.listingType)==null?void 0:O.replace("_"," "))||"N/A"})]}),w.yearBuilt&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Year Built"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:w.yearBuilt})]}),w.furnishing&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Furnishing"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.furnishing.replace("_"," ")})]}),w.condition&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Condition"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.condition.replace("_"," ")})]}),w.facing&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Facing"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.facing.replace("_"," ")})]}),((R=w.dimensions)==null?void 0:R.floorNumber)!==void 0&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Floor"}),n.jsxs("p",{className:"font-medium text-gray-800 dark:text-white",children:[w.dimensions.floorNumber," of ",w.dimensions.totalFloors]})]}),w.propertyId&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Property ID"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:w.propertyId})]})]})]}),w.amenities&&n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Amenities & Features"}),Object.entries(w.amenities).map(([ae,De])=>!De||De.length===0?null:n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 capitalize",children:ae.replace("_"," ")}),n.jsx("div",{className:"flex flex-wrap gap-2",children:De.map((Ke,at)=>n.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm",children:[n.jsx(Ar,{className:"w-4 h-4"}),Ke.replace(/_/g," ").replace(/\b\w/g,yt=>yt.toUpperCase())]},at))})]},ae)),w.features&&w.features.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:w.features.map((ae,De)=>n.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm",children:[n.jsx(Ar,{className:"w-4 h-4"}),ae]},De))})]}),(w.virtualTourUrl||((W=w.media)==null?void 0:W.virtualTourUrl))&&n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Virtual Tour"}),n.jsxs("a",{href:w.virtualTourUrl||((X=w.media)==null?void 0:X.virtualTourUrl),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[n.jsx(H_,{className:"w-5 h-5"}),"View Virtual Tour"]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 sticky top-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(kn,{className:"w-5 h-5 text-primary"}),"Contact Agent"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:((ne=w.contact)==null?void 0:ne.name)||w.contactName||"Property Manager"}),((re=w.contact)==null?void 0:re.company)&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.contact.company})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:`tel:${((Z=w.contact)==null?void 0:Z.phone)||w.phoneNumber}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(od,{className:"w-5 h-5 text-primary"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((ke=w.contact)==null?void 0:ke.phone)||w.phoneNumber||"N/A"})]}),n.jsxs("a",{href:`mailto:${((Le=w.contact)==null?void 0:Le.email)||w.emailAddress}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(_n,{className:"w-5 h-5 text-primary"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:((Oe=w.contact)==null?void 0:Oe.email)||w.emailAddress||"N/A"})]})]}),n.jsxs("button",{className:"w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(eg,{className:"w-5 h-5"}),"Send Message"]}),n.jsxs("button",{className:"w-full py-3 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(wi,{className:"w-5 h-5"}),"Schedule Viewing"]})]})]}),w.analytics&&n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-primary"}),"Property Analytics"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(fa,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.views||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Views"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(eg,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.inquiries||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Inquiries"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(td,{className:"w-5 h-5 text-red-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.favorites||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Favorites"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(Fo,{className:"w-5 h-5 text-purple-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.shares||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Shares"})]})]})]}),(w.availableFrom||((Ge=w.financial)==null?void 0:Ge.deposit)||w.inclusions||w.exclusions)&&n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(Or,{className:"w-5 h-5 text-primary"}),"Additional Information"]}),n.jsxs("div",{className:"space-y-3",children:[w.availableFrom&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(ya,{className:"w-4 h-4"})," Available From"]}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:new Date(w.availableFrom).toLocaleDateString()})]}),((de=w.financial)==null?void 0:de.deposit)&&w.financial.deposit>0&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(su,{className:"w-4 h-4"})," Security Deposit"]}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:s({amount:w.financial.deposit,currency:((Ae=w.price)==null?void 0:Ae.currency)||"USD",negotiable:!1})})]}),((je=w.financial)==null?void 0:je.maintenanceCharges)&&w.financial.maintenanceCharges>0&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(Tl,{className:"w-4 h-4"})," Maintenance"]}),n.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[s({amount:w.financial.maintenanceCharges,currency:((et=w.price)==null?void 0:et.currency)||"USD",negotiable:!1}),"/mo"]})]}),w.inclusions&&n.jsxs("div",{className:"py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Inclusions"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white mt-1",children:w.inclusions})]}),w.exclusions&&n.jsxs("div",{className:"py-2",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Exclusions"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white mt-1",children:w.exclusions})]})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[n.jsxs("p",{children:["Listed: ",new Date(w.createdAt).toLocaleDateString()]}),n.jsxs("p",{children:["Last Updated: ",new Date(w.updatedAt).toLocaleDateString()]}),w.propertyId&&n.jsxs("p",{children:["ID: ",w.propertyId]})]})]})]}),n.jsx($s,{children:m&&H.length>0&&n.jsxs(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",onClick:()=>g(!1),children:[n.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white p-2",children:n.jsx(yr,{className:"w-8 h-8"})}),n.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(De=>De===0?H.length-1:De-1)},className:"absolute left-4 text-white/80 hover:text-white p-2",children:n.jsx(ic,{className:"w-10 h-10"})}),n.jsx("img",{src:H[h],alt:`${w.title} - Full size`,className:"max-h-[90vh] max-w-[90vw] object-contain",onClick:ae=>ae.stopPropagation()}),n.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(De=>De===H.length-1?0:De+1)},className:"absolute right-4 text-white/80 hover:text-white p-2",children:n.jsx(El,{className:"w-10 h-10"})}),n.jsxs("div",{className:"absolute bottom-4 text-white/80 text-sm",children:[h+1," / ",H.length]})]})}),n.jsx($s,{children:c&&n.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Kt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:"Delete Property"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:['Are you sure you want to delete "',w.title,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Property"})]})]})})})]})},Ws=({title:e,value:t,icon:r,iconColor:a,bgColor:s="bg-white dark:bg-black"})=>n.jsxs("div",{className:`${s} rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4 relative overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.03] hover:brightness-110 dark:hover:brightness-125`,children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 dark:group-hover:opacity-15 transition-opacity duration-300 bg-gradient-to-br from-white/60 dark:from-white/40 via-transparent to-transparent"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1 transition-colors duration-300 group-hover:text-gray-800 dark:group-hover:text-gray-200",children:e}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white transition-all duration-300 group-hover:scale-105",children:t})]}),n.jsx("div",{className:`${a} p-3 rounded-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:rotate-3`,children:n.jsx(r,{className:"w-6 h-6 text-white transition-transform duration-300 group-hover:scale-110"})})]})]}),Cie=({isOpen:e,onClose:t,onSave:r,existingLead:a})=>{const{properties:s}=Th(),[i,o]=C.useState({name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",propertyInterested:(a==null?void 0:a.propertyInterested)||"",status:(a==null?void 0:a.status)||"New Lead",score:(a==null?void 0:a.score)||0,budget:(a==null?void 0:a.budget)||"",lastContact:(a==null?void 0:a.lastContact)||"Just now"}),[l,c]=C.useState({});C.useEffect(()=>{o(a?{name:a.name,email:a.email,phone:a.phone||"",propertyInterested:a.propertyInterested,status:a.status,score:a.score,budget:a.budget,lastContact:a.lastContact}:{name:"",email:"",phone:"",propertyInterested:"",status:"New Lead",score:0,budget:"",lastContact:"Just now"})},[a,e]);const u=(m,g)=>{o(y=>({...y,[m]:g})),l[m]&&c(y=>{const x={...y};return delete x[m],x})},h=()=>{const m={};return i.name.trim()||(m.name="Name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(m.email="Invalid email format"):m.email="Email is required",i.propertyInterested.trim()||(m.propertyInterested="Property interested is required"),(i.score<0||i.score>100)&&(m.score="Score must be between 0 and 100"),i.budget.trim()||(m.budget="Budget is required"),c(m),Object.keys(m).length===0},f=m=>{m.preventDefault(),h()&&(r(i),o({name:"",email:"",phone:"",propertyInterested:"",status:"New Lead",score:0,budget:"",lastContact:"Just now"}),t())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a?"Edit Lead":"Add New Lead"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yr,{className:"w-5 h-5 text-gray-600"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:m=>u("name",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter lead name"}),l.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:i.email,onChange:m=>u("email",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),l.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:m=>u("phone",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{value:i.status,onChange:m=>u("status",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Interested *"}),s.length>0?n.jsxs("select",{value:i.propertyInterested,onChange:m=>u("propertyInterested",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.propertyInterested?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Select a property"}),s.map(m=>{const g=m.address?`${m.title} - ${m.address}${m.price?` (${m.price})`:""}`:m.price?`${m.title} (${m.price})`:m.title;return n.jsx("option",{value:m.title,children:g},m.id)}),i.propertyInterested&&!s.find(m=>m.title===i.propertyInterested)&&n.jsx("option",{value:i.propertyInterested,children:i.propertyInterested})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",value:i.propertyInterested,onChange:m=>u("propertyInterested",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.propertyInterested?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name (no properties available)"}),n.jsx("p",{className:"text-xs text-gray-500",children:"No properties available. Please add properties first or enter manually."})]}),l.propertyInterested&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Score (0-100) *"}),n.jsx("input",{type:"number",min:"0",max:"100",value:i.score,onChange:m=>u("score",parseInt(m.target.value)||0),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.score?"border-red-500":"border-gray-300"}`,placeholder:"Enter score"}),l.score&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget *"}),n.jsx("input",{type:"text",value:i.budget,onChange:m=>u("budget",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.budget?"border-red-500":"border-gray-300"}`,placeholder:"e.g., $2,500/mo"}),l.budget&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.budget})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:a?"Update Lead":"Create Lead"})]})]})]})}):null},Lie=()=>{br();const{leads:e,addLead:t,updateLead:r,deleteLead:a}=z_(),[s,i]=C.useState(""),[o,l]=C.useState(!1),[c,u]=C.useState(null),[h,f]=C.useState(null),[m,g]=C.useState(null),[y,x]=C.useState(!1),[N,b]=C.useState(!1),[w,k]=C.useState([]),[S,B]=C.useState("all"),[H,F]=C.useState("all"),D=e.filter(A=>{const z=A.name.toLowerCase().includes(s.toLowerCase())||A.email.toLowerCase().includes(s.toLowerCase())||A.propertyInterested.toLowerCase().includes(s.toLowerCase()),O=S==="all"||A.status===S,R=H==="all"||H==="high"&&A.score>=90||H==="medium"&&A.score>=70&&A.score<90||H==="low"&&A.score<70;return z&&O&&R}),P=()=>{u(null),l(!0)},G=A=>{u(A),l(!0)},I=A=>{c?r(c.id,A):t(A),l(!1),u(null)},q=A=>{a(A),f(null),k(z=>z.filter(O=>O!==A))},Y=A=>{const z=w.length>0?e.filter(R=>w.includes(R.id)):D,O={title:"Leads Export",headers:["Name","Email","Property Interested","Status","Score","Budget","Last Contact"],rows:z.map(R=>[R.name,R.email,R.propertyInterested,R.status,R.score,R.budget,R.lastContact])};A==="pdf"?cg(O,`leads_${new Date().toISOString().split("T")[0]}`):dg(O,`leads_${new Date().toISOString().split("T")[0]}`),b(!1),k([])},ee=async A=>{const z={title:`Lead: ${A.name}`,text:`Lead Details
Name: ${A.name}
Email: ${A.email}
Property: ${A.propertyInterested}
Status: ${A.status}`,url:window.location.href};if(navigator.share)try{await navigator.share(z)}catch(O){console.log("Error sharing:",O)}else navigator.clipboard.writeText(z.text),alert("Lead details copied to clipboard!")},ue=A=>{k(z=>z.includes(A)?z.filter(O=>O!==A):[...z,A])},le=()=>{w.length===D.length?k([]):k(D.map(A=>A.id))},xe=e.filter(A=>A.status==="New Lead").length,oe=e.filter(A=>A.status==="In Progress").length,fe=e.filter(A=>A.status==="Approved").length,Se=e.filter(A=>A.status==="Rejected").length,K=fe;return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Leads & Clients"}),n.jsx("p",{className:"text-gray-600",children:"Manage your leads and clients relationships"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Leads",value:xe,icon:Ow,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"In Progress",value:oe,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Approved",value:fe,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Rejected",value:Se,icon:As,iconColor:"bg-red-500"}),n.jsx(Ws,{title:"Total Clients",value:K,icon:hu,iconColor:"bg-purple-500"})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search Leads",value:s,onChange:A=>i(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),y&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:S,onChange:A=>B(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score"}),n.jsxs("select",{value:H,onChange:A=>F(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Scores"}),n.jsx("option",{value:"high",children:"High (90+)"}),n.jsx("option",{value:"medium",children:"Medium (70-89)"}),n.jsx("option",{value:"low",children:"Low (<70)"})]})]}),n.jsx("button",{onClick:()=>{B("all"),F("all"),x(!1)},className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>b(!N),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),w.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:w.length})]}),N&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>Y("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>Y("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Qm,{className:"w-4 h-4"}),"Export as Excel"]})]})]}),n.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Lead"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Leads Overview"}),w.length>0&&n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.length," selected"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:w.length===D.length&&D.length>0,onChange:le,className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Leads"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:D.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:w.includes(A.id),onChange:()=>ue(A.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:A.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.status==="New Lead"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":A.status==="In Progress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":A.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:A.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:A.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>g(A.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>G(A),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Edit",children:n.jsx($o,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`mailto:${A.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",children:n.jsx(_n,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>A.phone&&(window.location.href=`tel:${A.phone}`),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Call",children:n.jsx(od,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ee(A),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>f(A.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},A.id))})]})})]}),n.jsx(Cie,{isOpen:o,onClose:()=>{l(!1),u(null)},onSave:I,existingLead:c}),m&&(()=>{const A=e.find(z=>z.id===m);return A?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Lead Details"}),n.jsx("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(fa,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.email})]}),A.phone&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Property Interested"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${A.status==="New Lead"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":A.status==="In Progress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":A.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:A.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Score"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.budget})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Contact"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.lastContact})]})]}),n.jsx("div",{className:"flex gap-3 justify-end mt-6",children:n.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null})(),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Delete Lead"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this lead? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>f(null),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>q(h),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},Pie=()=>{br();const[e,t]=C.useState(""),[r,a]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,u]=C.useState(null),[h,f]=C.useState(!1),[m,g]=C.useState(!1),[y,x]=C.useState([]),[N,b]=C.useState("all"),[w,k]=C.useState("all"),[S,B]=C.useState(null),[H,F]=C.useState({name:"",email:"",propertyInterested:"",budget:"",notes:""}),[D,P]=C.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Application",score:85,budget:"$2,500/mo",lastContact:"2 days ago"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"In Review",score:92,budget:"$3,200/mo",lastContact:"1 day ago"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago"}]),G=D.filter(fe=>{const Se=fe.name.toLowerCase().includes(e.toLowerCase())||fe.email.toLowerCase().includes(e.toLowerCase())||fe.propertyInterested.toLowerCase().includes(e.toLowerCase()),K=N==="all"||fe.status===N,A=w==="all"||w==="high"&&fe.score>=90||w==="medium"&&fe.score>=70&&fe.score<90||w==="low"&&fe.score<70;return Se&&K&&A}),I=fe=>{fe.preventDefault();const Se={id:Date.now().toString(),name:H.name,email:H.email,propertyInterested:H.propertyInterested,status:"New Application",score:Math.floor(Math.random()*30)+70,budget:H.budget||"$0/mo",lastContact:"Just now"};P([...D,Se]),a(!1),F({name:"",email:"",propertyInterested:"",budget:"",notes:""})},q=fe=>{B(fe),F({name:fe.name,email:fe.email,propertyInterested:fe.propertyInterested,budget:fe.budget,notes:""}),i(!0)},Y=fe=>{fe.preventDefault(),S&&(P(D.map(Se=>Se.id===S.id?{...Se,name:H.name,email:H.email,propertyInterested:H.propertyInterested,budget:H.budget}:Se)),i(!1),B(null),F({name:"",email:"",propertyInterested:"",budget:"",notes:""}))},ee=fe=>{P(D.filter(Se=>Se.id!==fe)),l(null)},ue=fe=>{const Se=y.length>0?D.filter(A=>y.includes(A.id)):G,K={title:"Applications Export",headers:["Name","Email","Property Interested","Status","Score","Budget","Last Contact"],rows:Se.map(A=>[A.name,A.email,A.propertyInterested,A.status,A.score,A.budget,A.lastContact])};fe==="pdf"?cg(K,`applications_${new Date().toISOString().split("T")[0]}`):dg(K,`applications_${new Date().toISOString().split("T")[0]}`),f(!1),x([])},le=async fe=>{const Se={title:`Application: ${fe.name}`,text:`Application details for ${fe.name}
Email: ${fe.email}
Property: ${fe.propertyInterested}
Status: ${fe.status}`,url:window.location.href};if(navigator.share)try{await navigator.share(Se)}catch(K){console.log("Error sharing:",K)}else navigator.clipboard.writeText(Se.text),alert("Application details copied to clipboard!")},xe=fe=>{x(Se=>Se.includes(fe)?Se.filter(K=>K!==fe):[...Se,fe])},oe=()=>{y.length===G.length?x([]):x(G.map(fe=>fe.id))};return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Application"}),n.jsx("p",{className:"text-gray-600",children:"Review and manage client applications"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Applications",value:1,icon:Or,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"In Review",value:1,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Approved",value:1,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Rejected",value:1,icon:As,iconColor:"bg-red-500"}),n.jsx(Ws,{title:"Total",value:0,icon:Xm,iconColor:"bg-purple-500"})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search Applications",value:e,onChange:fe=>t(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>g(!m),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),m&&n.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:N,onChange:fe=>b(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Application",children:"New Application"}),n.jsx("option",{value:"In Review",children:"In Review"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score"}),n.jsxs("select",{value:w,onChange:fe=>k(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Scores"}),n.jsx("option",{value:"high",children:"High (90+)"}),n.jsx("option",{value:"medium",children:"Medium (70-89)"}),n.jsx("option",{value:"low",children:"Low (<70)"})]})]}),n.jsx("button",{onClick:()=>{b("all"),k("all"),g(!1)},className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),y.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:y.length})]}),h&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>ue("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>ue("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Qm,{className:"w-4 h-4"}),"Export as Excel"]})]})]}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Application"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Applications Overview"}),y.length>0&&n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.length," selected"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:y.length===G.length&&G.length>0,onChange:oe,className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Leads"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:G.map(fe=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:y.includes(fe.id),onChange:()=>xe(fe.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${fe.status==="New Application"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":fe.status==="In Review"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":fe.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:fe.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>u(fe.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>q(fe),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Edit",children:n.jsx($o,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`mailto:${fe.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",children:n.jsx(_n,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`tel:${fe.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Call",children:n.jsx(od,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>le(fe),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Fo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>l(fe.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},fe.id))})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Add New Application"}),n.jsx("button",{onClick:()=>{a(!1),F({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:I,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Applicant Name *"}),n.jsx("input",{type:"text",value:H.name,onChange:fe=>F({...H,name:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:H.email,onChange:fe=>F({...H,email:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Interested *"}),n.jsx("input",{type:"text",value:H.propertyInterested,onChange:fe=>F({...H,propertyInterested:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget"}),n.jsx("input",{type:"text",value:H.budget,onChange:fe=>F({...H,budget:fe.target.value}),placeholder:"$0/mo",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),n.jsx("textarea",{value:H.notes,onChange:fe=>F({...H,notes:fe.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{a(!1),F({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Add Application"})]})]})]})}),s&&S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Edit Application"}),n.jsx("button",{onClick:()=>{i(!1),B(null),F({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Applicant Name *"}),n.jsx("input",{type:"text",value:H.name,onChange:fe=>F({...H,name:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:H.email,onChange:fe=>F({...H,email:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Interested *"}),n.jsx("input",{type:"text",value:H.propertyInterested,onChange:fe=>F({...H,propertyInterested:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget"}),n.jsx("input",{type:"text",value:H.budget,onChange:fe=>F({...H,budget:fe.target.value}),placeholder:"$0/mo",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),B(null),F({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Update Application"})]})]})]})}),c&&(()=>{const fe=D.find(Se=>Se.id===c);return fe?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Application Details"}),n.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Property Interested"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${fe.status==="New Application"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":fe.status==="In Review"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":fe.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:fe.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Score"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.budget})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Contact"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.lastContact})]})]}),n.jsx("div",{className:"flex gap-3 justify-end mt-6",children:n.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null})(),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Delete Application"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>ee(o),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},Mie=({appointments:e,onDateClick:t,onAppointmentClick:r})=>{const[a,s]=C.useState(new Date),i=a.getFullYear(),o=a.getMonth(),l=new Date(i,o,1),u=new Date(i,o+1,0).getDate(),h=l.getDay(),f=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=()=>{s(new Date(i,o-1,1))},y=()=>{s(new Date(i,o+1,1))},x=()=>{s(new Date)},N=k=>{const S=k.toISOString().split("T")[0];return e.filter(B=>B.date===S)},b=k=>{const S=new Date;return k.getDate()===S.getDate()&&k.getMonth()===S.getMonth()&&k.getFullYear()===S.getFullYear()},w=k=>{const S=new Date(i,o,k);t&&t(S)};return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ic,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[f[o]," ",i]}),n.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(El,{className:"w-5 h-5 text-gray-600"})})]}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg text-sm font-medium transition-colors",children:"Today"})]}),n.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:m.map(k=>n.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:k},k))}),n.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:h}).map((k,S)=>n.jsx("div",{className:"aspect-square"},`empty-${S}`)),Array.from({length:u}).map((k,S)=>{const B=S+1,H=new Date(i,o,B),F=N(H),D=b(H);return n.jsx("div",{onClick:()=>w(B),className:`aspect-square border border-gray-200 rounded-lg p-2 cursor-pointer transition-all hover:border-primary hover:bg-primary/5 ${D?"bg-primary/10 border-primary":""}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:`text-sm font-medium mb-1 ${D?"text-primary":"text-gray-800"}`,children:B}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[F.slice(0,2).map(P=>n.jsxs("div",{onClick:G=>{G.stopPropagation(),r&&r(P)},className:`text-xs p-1 mb-1 rounded truncate cursor-pointer ${P.status==="Confirmed"?"bg-green-100 text-green-800":P.status==="Pending"?"bg-yellow-100 text-yellow-800":P.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,title:P.clientName,children:[P.time," - ",P.clientName]},P.id)),F.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",F.length-2," more"]})]})]})},B)})]})]})},Rie=({isOpen:e,onClose:t,onSave:r,selectedDate:a,existingAppointment:s})=>{const[i,o]=C.useState({clientName:(s==null?void 0:s.clientName)||"",date:(s==null?void 0:s.date)||(a?a.toISOString().split("T")[0]:""),time:(s==null?void 0:s.time)||"",description:(s==null?void 0:s.description)||"",status:(s==null?void 0:s.status)||"Pending",property:(s==null?void 0:s.property)||"",phone:(s==null?void 0:s.phone)||"",email:(s==null?void 0:s.email)||""}),[l,c]=C.useState({}),u=(m,g)=>{o(y=>({...y,[m]:g})),l[m]&&c(y=>{const x={...y};return delete x[m],x})},h=()=>{const m={};return i.clientName.trim()||(m.clientName="Client name is required"),i.date||(m.date="Date is required"),i.time||(m.time="Time is required"),i.description.trim()||(m.description="Description is required"),c(m),Object.keys(m).length===0},f=m=>{m.preventDefault(),h()&&(r(i),o({clientName:"",date:a?a.toISOString().split("T")[0]:"",time:"",description:"",status:"Pending",property:"",phone:"",email:""}),t())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Edit Appointment":"Add New Appointment"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yr,{className:"w-5 h-5 text-gray-600"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),n.jsx("input",{type:"text",value:i.clientName,onChange:m=>u("clientName",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.clientName?"border-red-500":"border-gray-300"}`,placeholder:"Enter client name"}),l.clientName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.clientName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{value:i.status,onChange:m=>u("status",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Confirmed",children:"Confirmed"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),n.jsx("input",{type:"date",value:i.date,onChange:m=>u("date",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.date?"border-red-500":"border-gray-300"}`}),l.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),n.jsx("input",{type:"time",value:i.time,onChange:m=>u("time",m.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.time?"border-red-500":"border-gray-300"}`}),l.time&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.time})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),n.jsx("input",{type:"text",value:i.property,onChange:m=>u("property",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter property name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:m=>u("phone",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:i.email,onChange:m=>u("email",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:i.description,onChange:m=>u("description",m.target.value),rows:4,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter appointment description"}),l.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:s?"Update Appointment":"Create Appointment"})]})]})]})}):null},Oie=()=>{br();const[e,t]=C.useState("list"),[r,a]=C.useState(!1),[s,i]=C.useState(),[o,l]=C.useState(null),[c,u]=C.useState(null),[h,f]=C.useState([{id:"1",clientName:"Sarah Johnson",date:"2025-01-15",time:"10:00 AM",description:"Property viewing - Modern Downtown Apartment",status:"Confirmed"},{id:"2",clientName:"Michel Chen",date:"2025-01-16",time:"2:00 PM",description:"Property viewing - Luxury Condo with City View",status:"Confirmed"},{id:"3",clientName:"Emily Rodriguez",date:"2025-01-17",time:"11:00 AM",description:"Property viewing - Spacious Penthouse",status:"Pending"},{id:"4",clientName:"David Smith",date:"2025-01-18",time:"3:30 PM",description:"Property viewing - Modern Downtown Apartment",status:"Completed"}]),m=w=>{if(o)f(k=>k.map(S=>S.id===o.id?{...w,id:o.id}:S)),l(null);else{const k={...w,id:Date.now().toString()};f(S=>[...S,k])}a(!1),i(void 0)},g=w=>{f(k=>k.filter(S=>S.id!==w)),u(null)},y=w=>{i(w),a(!0)},x=w=>{l(w),a(!0)},N=w=>{l(w),a(!0)},b=w=>new Date(w).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Appointment"}),n.jsx("p",{className:"text-gray-600",children:"Manage client appointments"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Appointments",value:1,icon:wi,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"Confirmed",value:2,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Pending",value:1,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Completed",value:1,icon:xU,iconColor:"bg-purple-500"}),n.jsx(Ws,{title:"Cancelled",value:0,icon:As,iconColor:"bg-red-500"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("button",{onClick:()=>t(e==="list"?"calendar":"list"),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${e==="calendar"?"bg-primary text-white border-primary":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(wi,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Calendar"})]}),n.jsxs("button",{onClick:()=>{l(null),i(void 0),a(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Appointment"})]})]}),e==="calendar"&&n.jsx(Mie,{appointments:h,onDateClick:y,onAppointmentClick:x}),e==="list"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Appointments (",h.length,")"]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:h.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"No appointments scheduled"}),n.jsx("button",{onClick:()=>{l(null),i(void 0),a(!0)},className:"bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium",children:"Add Your First Appointment"})]}):h.map(w=>n.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(wi,{className:"w-6 h-6 text-primary"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:w.clientName}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="Confirmed"?"bg-green-100 text-green-800":w.status==="Pending"?"bg-yellow-100 text-yellow-800":w.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:w.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wi,{className:"w-4 h-4"}),n.jsx("span",{children:b(w.date)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ya,{className:"w-4 h-4"}),n.jsx("span",{children:w.time})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"w-4 h-4"}),n.jsx("span",{children:w.property||"Property Location"})]})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",onClick:()=>x(w),children:n.jsx(fa,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",onClick:()=>N(w),children:n.jsx($o,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",onClick:()=>u(w.id),children:n.jsx(Ss,{className:"w-5 h-5"})})]})]})},w.id))})]}),n.jsx(Rie,{isOpen:r,onClose:()=>{a(!1),l(null),i(void 0)},onSave:m,selectedDate:s,existingAppointment:o}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Appointment"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this appointment? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>g(c),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},wA={"Smileys & People":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Animals & Nature":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Food & Drink":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Travel & Places":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Activities:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Symbols:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","0","1","2","3","4","5","6","7","8","9","","","#","*","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Die=({onEmojiSelect:e,isOpen:t,onClose:r})=>{const[a,s]=C.useState("Smileys & People"),i=C.useRef(null);return C.useEffect(()=>{const o=l=>{i.current&&!i.current.contains(l.target)&&r()};return t&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t,r]),t?n.jsxs("div",{ref:i,className:"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-80 h-96 flex flex-col z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Emoji"}),n.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(yr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),n.jsx("div",{className:"flex gap-1 p-2 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:Object.keys(wA).map(o=>n.jsx("button",{onClick:()=>s(o),className:`px-2 py-1 text-xs rounded transition-colors whitespace-nowrap ${a===o?"bg-primary text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o.split(" ")[0]},o))}),n.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:n.jsx("div",{className:"grid grid-cols-8 gap-1",children:wA[a].map((o,l)=>n.jsx("button",{onClick:()=>{e(o),r()},className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:o},l))})})]}):null},Iie=()=>{const[e,t]=C.useState("1"),[r,a]=C.useState(""),[s,i]=C.useState(!1),[o,l]=C.useState([]),c=C.useRef(null),u=[{id:"1",name:"Sarah Jenner",avatar:"SJ",lastMessage:"Thank you for the information!",timestamp:"2 min ago",unread:2,messages:[{id:"1",text:"Hello, I'm interested in the Modern Downtown Apartment.",sender:"contact",timestamp:"10:30 AM"},{id:"2",text:"Hi Sarah! I'd be happy to help you with that property.",sender:"user",timestamp:"10:32 AM"},{id:"3",text:"Could you provide more details about the amenities?",sender:"contact",timestamp:"10:35 AM"},{id:"4",text:"Of course! The apartment includes a gym, parking, and balcony.",sender:"user",timestamp:"10:36 AM"},{id:"5",text:"Thank you for the information!",sender:"contact",timestamp:"10:40 AM"}]},{id:"2",name:"Emily Rodrigues",avatar:"ER",lastMessage:"When can we schedule a viewing?",timestamp:"15 min ago",unread:0,messages:[]},{id:"3",name:"David Smith",avatar:"DS",lastMessage:"I have a few questions about the lease terms.",timestamp:"1 hour ago",unread:1,messages:[]}],h=u.find(x=>x.id===e),f=()=>{(r.trim()||o.length>0)&&(console.log("Sending message:",r,"Attachments:",o),a(""),l([]))},m=x=>{const b=Array.from(x.target.files||[]).map(w=>({name:w.name,type:w.type.startsWith("image/")?"image":w.type.startsWith("video/")?"video":"file",file:w}));l(w=>[...w,...b]),c.current&&(c.current.value="")},g=x=>{l(N=>N.filter((b,w)=>w!==x))},y=x=>{a(N=>N+x)};return n.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col font-sans",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Messages"})]}),n.jsxs("div",{className:"flex-1 flex gap-4 bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-800 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:u.map(x=>n.jsx("div",{onClick:()=>t(x.id),className:`p-4 border-b border-gray-200 dark:border-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors ${e===x.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:x.avatar}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white truncate",children:x.name}),x.unread>0&&n.jsx("span",{className:"bg-primary text-white text-xs font-medium px-2 py-0.5 rounded-full",children:x.unread})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1",children:x.lastMessage}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:x.timestamp})]})]})},x.id))})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:h?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-semibold",children:h.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:h.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Online"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:h.messages.map(x=>n.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${x.sender==="user"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[n.jsx("p",{className:"text-sm",children:x.text}),n.jsx("p",{className:`text-xs mt-1 ${x.sender==="user"?"text-white/70":"text-gray-400 dark:text-gray-500"}`,children:x.timestamp})]})},x.id))}),o.length>0&&n.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((x,N)=>n.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2",children:[x.type==="image"?n.jsx(G_,{className:"w-4 h-4 text-blue-500"}):x.type==="video"?n.jsx(Or,{className:"w-4 h-4 text-purple-500"}):n.jsx(QU,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate max-w-[150px]",children:x.name}),n.jsx("button",{onClick:()=>g(N),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(yr,{className:"w-3 h-3 text-gray-500"})})]},N))})}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 relative",children:[n.jsx("input",{ref:c,type:"file",multiple:!0,onChange:m,className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx,.txt"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"relative",children:n.jsx("button",{onClick:()=>{var x;return(x=c.current)==null?void 0:x.click()},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Attach file",children:n.jsx(LC,{className:"w-5 h-5"})})}),n.jsx("input",{type:"text",value:r,onChange:x=>a(x.target.value),onKeyPress:x=>x.key==="Enter"&&!x.shiftKey&&f(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>i(!s),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Add emoji",children:n.jsx(PC,{className:"w-5 h-5"})}),n.jsx(Die,{isOpen:s,onClose:()=>i(!1),onEmojiSelect:y})]}),n.jsx("button",{onClick:f,disabled:!r.trim()&&o.length===0,className:"p-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ch,{className:"w-5 h-5"})})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a conversation to start chatting"})})]})]})},Fie=()=>{const{properties:e}=Th(),{leads:t}=z_(),r=[{id:"1",name:"Sarah Johnson",status:"Approved"},{id:"2",name:"Michael Chen",status:"Pending"},{id:"3",name:"Emily Rodriguez",status:"Approved"},{id:"4",name:"David Smith",status:"Pending"},{id:"5",name:"Jessica Williams",status:"Rejected"},{id:"6",name:"Robert Brown",status:"Approved"}],a=r.filter(o=>o.status==="Approved"),s=r.filter(o=>o.status==="Pending"),i=[{month:"Jan",value:15e3,change:0},{month:"Feb",value:18e3,change:20},{month:"Mar",value:22e3,change:22.2},{month:"Apr",value:25e3,change:13.6},{month:"May",value:28e3,change:12},{month:"Jun",value:32e3,change:14.3}];return i.reduce((o,l)=>o+l.value,0),i.reduce((o,l)=>l.value>o.value?l:o,i[0]),(i[i.length-1].value-i[0].value)/i[0].value*100,n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Analytics"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(hu,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"247"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(dc,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:e.length||120}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Qy,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"14.7%"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(bn,{className:"w-6 h-6 text-white"})}),n.jsx(bn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"18.2%"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Monthly Revenue Trend"})}),(()=>{const o=[{month:"Jan",value:15e3},{month:"Feb",value:18e3},{month:"Mar",value:22e3},{month:"Apr",value:25e3},{month:"May",value:28e3},{month:"Jun",value:32e3}],l=o.reduce((f,m)=>f+m.value,0),c=Math.round(l/o.length),u=o.reduce((f,m)=>m.value>f.value?m:f,o[0]),h=(o[o.length-1].value-o[0].value)/o[0].value*100;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["$",(l/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"6 months"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Monthly"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["$",(c/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Per month"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Best Month"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:u.month}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["$",(u.value/1e3).toFixed(0),"k"]})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",h.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Since Jan"})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"flex items-end justify-between gap-4 h-48",children:o.map((f,m)=>{const g=Math.max(...o.map(b=>b.value)),y=f.value/g*100,x=m>0?o[m-1].value:f.value,N=m>0?(f.value-x)/x*100:0;return n.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[n.jsxs("div",{className:"w-full flex flex-col items-center mb-2 relative",children:[n.jsx("div",{className:"w-full bg-primary rounded-t-lg transition-all hover:opacity-80 cursor-pointer relative",style:{height:`${y}%`},children:n.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:["$",(f.value/1e3).toFixed(0),"k",m>0&&n.jsxs("span",{className:`ml-1 ${N>=0?"text-green-400":"text-red-400"}`,children:["(",N>=0?"+":"",N.toFixed(1),"%)"]})]})}),n.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-white mt-2",children:["$",(f.value/1e3).toFixed(0),"k"]})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:f.month}),m>0&&n.jsxs("p",{className:`text-xs mt-1 ${N>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[N>=0?"":""," ",Math.abs(N).toFixed(1),"%"]})]},m)})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"vs Average"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:o.map((f,m)=>{const g=m>0?o[m-1].value:f.value,y=m>0?(f.value-g)/g*100:0,x=(f.value-c)/c*100;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:f.month}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:["$",f.value.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:m>0?n.jsxs("span",{className:`font-medium ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"+":"",y.toFixed(1),"%"]}):n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:m>0&&n.jsxs("span",{className:`inline-flex items-center ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"":""," ",Math.abs(y).toFixed(1),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("span",{className:`font-medium ${x>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[x>=0?"+":"",x.toFixed(1),"%"]})})]},m)})})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Key Insights"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{children:[" Revenue has grown by ",n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[h.toFixed(1),"%"]})," over the past 6 months"]}),n.jsxs("li",{children:[" ",n.jsx("span",{className:"font-semibold",children:u.month})," was the best performing month with $",(u.value/1e3).toFixed(0),"k in revenue"]}),n.jsxs("li",{children:[" Average monthly revenue is ",n.jsxs("span",{className:"font-semibold",children:["$",(c/1e3).toFixed(0),"k"]}),", indicating consistent growth"]}),n.jsxs("li",{children:[" Current trend shows ",n.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"positive momentum"})," with steady month-over-month increases"]})]})]})]})})()]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(EC,{className:"w-6 h-6 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Future Property Rate Analysis & Predictions"})]}),(()=>{const o=[{id:"1",name:"Modern Downtown Apartment",currentRate:45e4,predictedRate1Month:465e3,predictedRate2Months:48e4,trend:"increasing",location:"Downtown",propertyType:"Apartment"},{id:"2",name:"Luxury Condo with City View",currentRate:3500,predictedRate1Month:3625,predictedRate2Months:3750,trend:"increasing",location:"City Center",propertyType:"Condo"},{id:"3",name:"Spacious Penthouse",currentRate:6500,predictedRate1Month:6300,predictedRate2Months:6100,trend:"decreasing",location:"Uptown",propertyType:"Penthouse"},{id:"4",name:"Suburban Family Home",currentRate:32e4,predictedRate1Month:332e3,predictedRate2Months:345e3,trend:"increasing",location:"Suburbs",propertyType:"House"},{id:"5",name:"Beachfront Villa",currentRate:85e4,predictedRate1Month:88e4,predictedRate2Months:91e4,trend:"increasing",location:"Coastal",propertyType:"Villa"}],l=o.length,c=o.filter(m=>m.trend==="increasing").length,u=o.filter(m=>m.trend==="decreasing").length,h=o.reduce((m,g)=>{const y=(g.predictedRate1Month-g.currentRate)/g.currentRate*100;return m+y},0)/l,f=o.reduce((m,g)=>{const y=(g.predictedRate2Months-g.currentRate)/g.currentRate*100;return m+y},0)/l;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Increasing"}),n.jsx(bn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:c}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",l," properties"]})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Decreasing"}),n.jsx(e1,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:u}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",l," properties"]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (1 Month)"}),n.jsx(Tl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["+",h.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Next month"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (2 Months)"}),n.jsx(Qy,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",f.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"In 2 months"})]})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Rate Prediction Trend (Next 2 Months)"}),n.jsx(X0,{data:[{label:"Current",value:o[0].currentRate/1e3},{label:"+1 Month",value:o[0].predictedRate1Month/1e3},{label:"+2 Months",value:o[0].predictedRate2Months/1e3}],height:200,color:"#FF6B35"}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 text-center",children:["Sample: ",o[0].name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Property Rate Predictions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Current Rate"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+1 Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+2 Months"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:o.map(m=>{const g=(m.predictedRate1Month-m.currentRate)/m.currentRate*100,y=(m.predictedRate2Months-m.currentRate)/m.currentRate*100,x=m.currentRate<1e4;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.name}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m.location,"  ",m.propertyType]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${m.currentRate.toLocaleString()}/mo`:`$${m.currentRate.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${m.predictedRate1Month.toLocaleString()}/mo`:`$${m.predictedRate1Month.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${m.predictedRate2Months.toLocaleString()}/mo`:`$${m.predictedRate2Months.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`font-medium ${g>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[g>=0?"+":"",g.toFixed(1),"% (1M)"]}),n.jsx("br",{}),n.jsxs("span",{className:`font-medium ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"+":"",y.toFixed(1),"% (2M)"]})]})}),n.jsx("td",{className:"px-4 py-3",children:m.trend==="increasing"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[n.jsx(bn,{className:"w-3 h-3"}),"Increasing"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[n.jsx(e1,{className:"w-3 h-3"}),"Decreasing"]})}),n.jsx("td",{className:"px-4 py-3",children:m.trend==="increasing"?n.jsxs("div",{className:"text-xs",children:[n.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["Increase by ",y.toFixed(1),"%"]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Suggested: ",x?`$${Math.round(m.currentRate*(1+y/100)).toLocaleString()}/mo`:`$${Math.round(m.currentRate*(1+y/100)).toLocaleString()}`]})]}):n.jsxs("div",{className:"text-xs",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Consider holding"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Market may recover"})]})})]},m.id)})})]})})]}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-orange-100 dark:from-primary/20 dark:to-orange-900/20 rounded-lg border border-primary/20 dark:border-primary/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ba,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Recommendations for Estate Agents"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Next 2 Months Strategy:"})," Based on market predictions, you can increase rates by an average of ",n.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[f.toFixed(1),"%"]})," across ",c," properties."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Immediate Action (1 Month):"})," Consider increasing rates by ",n.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[h.toFixed(1),"%"]})," for properties showing upward trends to maximize revenue."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Properties to Focus On:"})," ",o.filter(m=>m.trend==="increasing").map(m=>m.name).join(", ")," show strong growth potential."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Market Timing:"})," The predicted ",f>0?"increase":"decrease"," suggests this is an ",f>0?"optimal":"cautious"," time to adjust rates. Monitor market conditions weekly."]})]})]})]})]})})]})})()]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Application Status Distribution"}),n.jsx(t1,{data:[{label:"Approved",value:a.length,color:"#10b981"},{label:"Pending",value:s.length,color:"#f59e0b"},{label:"Rejected",value:r.filter(o=>o.status==="Rejected").length,color:"#ef4444"}],size:200})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Lead Status Distribution"}),n.jsx(t1,{data:[{label:"New Leads",value:t.filter(o=>o.status==="New Lead").length,color:"#3b82f6"},{label:"In Progress",value:t.filter(o=>o.status==="In Progress").length,color:"#f59e0b"},{label:"Approved",value:t.filter(o=>o.status==="Approved").length,color:"#10b981"}],size:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Property Performance Comparison"}),n.jsx(r1,{data:[{label:"Modern Downtown",value:45,color:"#FF6B35"},{label:"Luxury Condo",value:38,color:"#3b82f6"},{label:"Spacious Penthouse",value:52,color:"#10b981"}],title:"Property Views",height:200})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Applications by Property"}),n.jsx(r1,{data:[{label:"Modern Downtown",value:12,color:"#8b5cf6"},{label:"Luxury Condo",value:8,color:"#f59e0b"},{label:"Spacious Penthouse",value:15,color:"#ef4444"}],title:"Applications Received",height:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Revenue Trend (Line Chart)"}),n.jsx(X0,{data:[{label:"Jan",value:15e3},{label:"Feb",value:18e3},{label:"Mar",value:22e3},{label:"Apr",value:25e3},{label:"May",value:28e3},{label:"Jun",value:32e3}],height:200,color:"#FF6B35"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Property Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Views"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applications"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Conversion"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:[{property:"Modern Downtown Apartment",views:45,applications:12,conversionRate:26.7},{property:"Luxury Condo with City View",views:38,applications:8,conversionRate:21.1},{property:"Spacious Penthouse",views:52,applications:15,conversionRate:28.8}].map((o,l)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.property}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.views}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.applications}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${o.conversionRate}%`}})}),n.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[o.conversionRate,"%"]})]})})]},l))})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Lead Analytic"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"247"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:e.length||120})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"14.7%"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Passed"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"36"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Monthly Applications Trend"}),n.jsx(X0,{data:[{label:"Jan",value:8},{label:"Feb",value:12},{label:"Mar",value:15},{label:"Apr",value:18},{label:"May",value:22},{label:"Jun",value:25}],height:200,color:"#3b82f6"})]})]})]})},Bie=()=>{const[e,t]=C.useState("Current Month"),r=[{id:"1",invoiceId:"INV-2025-001",property:"Modern Downtown Apartment",project:"Property Management",amount:"$2,500.00",status:"Paid",date:"2025-01-10"},{id:"2",invoiceId:"INV-2025-002",property:"Luxury Condo with City View",project:"Property Management",amount:"$3,200.00",status:"Pending",date:"2025-01-12"},{id:"3",invoiceId:"INV-2025-003",property:"Spacious Penthouse",project:"Property Management",amount:"$1,000.00",status:"Overdue",date:"2025-01-05"},{id:"4",invoiceId:"INV-2025-004",property:"Modern Downtown Apartment",project:"Property Management",amount:"$2,500.00",status:"Paid",date:"2025-01-08"}];return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"page-title text-gray-800 dark:text-white mb-1",children:"Billing & Payments"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white",children:"Revenue Overview"}),n.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 dark:bg-black dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{children:"Current Month"}),n.jsx("option",{children:"Last Month"}),n.jsx("option",{children:"Last 3 Months"}),n.jsx("option",{children:"Last 6 Months"}),n.jsx("option",{children:"This Year"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Tl,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-green-700 dark:text-green-400 mb-1",children:"$2,500.00"}),n.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Total Revenue"})]}),n.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 border border-primary/20 dark:border-primary/40 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(Tl,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-primary dark:text-orange-400 mb-1",children:"$3,200.00"}),n.jsx("p",{className:"text-sm text-primary/80 dark:text-orange-300",children:"Pending Payments"})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(Tl,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-red-700 dark:text-red-400 mb-1",children:"$1,000.00"}),n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"section-heading text-gray-800 dark:text-white",children:["Invoices (",r.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-black",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Invoice ID"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Project"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:r.map(a=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:a.invoiceId})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:a.property})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:a.project})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:a.amount})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.status==="Paid"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap body-text font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",title:"Download",children:n.jsx(Es,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})]})},zie=()=>{const e=br(),{user:t,profile:r,loading:a,profileLoading:s,error:i,isAuthenticated:o,isSupabaseConfigured:l,updateProfile:c,signOut:u,getDisplayName:h,getRole:f,getAvatarUrl:m}=J1(),[g,y]=C.useState(!1),[x,N]=C.useState(!1),[b,w]=C.useState(!1),[k,S]=C.useState(!1),[B,H]=C.useState(null),[F,D]=C.useState(!1),[P,G]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[I,q]=C.useState({full_name:"",email:"",phone:"",location:"",bio:"",company_name:"",role:"user",avatar_url:"",is_verified:!1,created_at:""});C.useEffect(()=>{var K,A,z,O;r?q({full_name:r.full_name||"",email:r.email||(t==null?void 0:t.email)||"",phone:r.phone||"",location:r.location||"",bio:r.bio||"",company_name:r.company_name||"",role:r.role||"user",avatar_url:r.avatar_url||"",is_verified:r.is_verified||!1,created_at:r.created_at||""}):t&&q({full_name:((K=t.user_metadata)==null?void 0:K.full_name)||"",email:t.email||"",phone:((A=t.user_metadata)==null?void 0:A.phone)||"",location:"",bio:"",company_name:"",role:((z=t.user_metadata)==null?void 0:z.role)||"user",avatar_url:((O=t.user_metadata)==null?void 0:O.avatar_url)||"",is_verified:!1,created_at:t.created_at||""})},[r,t]);const Y=(K,A)=>{q(z=>({...z,[K]:A})),H(null),D(!1)},ee=async()=>{S(!0),H(null),D(!1);try{const K=await c({full_name:I.full_name,phone:I.phone,location:I.location,bio:I.bio,company_name:I.company_name});K.error?H(K.error):(D(!0),y(!1),setTimeout(()=>D(!1),3e3))}catch(K){H(K.message||"Failed to save profile")}finally{S(!1)}},ue=()=>{y(!1),H(null),r&&q({full_name:r.full_name||"",email:r.email||(t==null?void 0:t.email)||"",phone:r.phone||"",location:r.location||"",bio:r.bio||"",company_name:r.company_name||"",role:r.role||"user",avatar_url:r.avatar_url||"",is_verified:r.is_verified||!1,created_at:r.created_at||""})},le=K=>{if(K.preventDefault(),P.newPassword!==P.confirmPassword){alert("New passwords do not match");return}if(P.newPassword.length<8){alert("Password must be at least 8 characters long");return}console.log("Changing password..."),N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully")},xe=()=>{b?window.confirm("Are you sure you want to disable Two-Factor Authentication?")&&(w(!1),alert("Two-Factor Authentication disabled")):window.confirm("This will enable Two-Factor Authentication. Do you want to continue?")&&(w(!0),alert("Two-Factor Authentication enabled successfully"))},oe=async()=>{window.confirm("Are you sure you want to sign out?")&&(await u(),e("/auth/login"))},fe=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Se=K=>({user:"User",manager:"Property Manager",admin:"Administrator"})[K]||K;return a?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ni,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})]})}):o?l?n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Profile"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your profile information and settings"})]}),F&&n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-3",children:[n.jsx(Z0,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),n.jsx("span",{className:"text-green-700 dark:text-green-300",children:"Profile updated successfully!"})]}),(B||i)&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3",children:[n.jsx(ba,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),n.jsx("span",{className:"text-red-700 dark:text-red-300",children:B||i})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-primary to-orange-600 p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center overflow-hidden",children:m()?n.jsx("img",{src:m()||void 0,alt:h(),className:"w-full h-full object-cover"}):n.jsx(kn,{className:"w-16 h-16 text-primary"})}),g&&n.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white hover:bg-primary-dark transition-colors",children:n.jsx(Ky,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[n.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[n.jsx("h2",{className:"text-2xl font-bold",children:h()}),I.is_verified&&n.jsx(Z0,{className:"w-6 h-6 text-white"})]}),n.jsx("p",{className:"text-orange-100",children:Se(f())}),n.jsx("p",{className:"text-sm text-orange-100 mt-1",children:t==null?void 0:t.email}),n.jsxs("p",{className:"text-sm text-orange-100 mt-1",children:["Member since ",fe(I.created_at||(t==null?void 0:t.created_at)||void 0)]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[g?n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:ue,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors disabled:opacity-50",children:[n.jsx(yr,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]}),n.jsxs("button",{onClick:ee,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-white text-primary rounded-lg hover:bg-orange-50 transition-colors disabled:opacity-50",children:[k?n.jsx(Ni,{className:"w-4 h-4 animate-spin"}):n.jsx(iq,{className:"w-4 h-4"}),n.jsx("span",{children:k?"Saving...":"Save"})]})]}):n.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-primary rounded-lg hover:bg-orange-50 transition-colors",children:[n.jsx($o,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit Profile"})]}),n.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors",children:[n.jsx(Jy,{className:"w-4 h-4"}),n.jsx("span",{children:"Sign Out"})]})]})]})}),n.jsx("div",{className:"p-6",children:s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ni,{className:"w-8 h-8 animate-spin text-primary"})}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Personal Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),g?n.jsx("input",{type:"text",value:I.full_name,onChange:K=>Y("full_name",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter your full name"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(kn,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:I.full_name||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(_n,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:(t==null?void 0:t.email)||I.email})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed here"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),g?n.jsx("input",{type:"tel",value:I.phone,onChange:K=>Y("phone",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"+1 (555) 000-0000"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(od,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:I.phone||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(Z0,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:Se(I.role)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),g?n.jsx("input",{type:"text",value:I.location,onChange:K=>Y("location",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"City, Country"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(aa,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:I.location||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),g?n.jsx("input",{type:"text",value:I.company_name,onChange:K=>Y("company_name",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Your company or agency"}):n.jsx("div",{className:"text-gray-900 dark:text-white",children:I.company_name||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),g?n.jsx("textarea",{value:I.bio,onChange:K=>Y("bio",K.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Tell us about yourself..."}):n.jsx("div",{className:"text-gray-900 dark:text-white",children:I.bio||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Member Since"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(wi,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:fe(I.created_at||(t==null?void 0:t.created_at)||void 0)})]})]})]})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Account Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your password to keep your account secure"})]}),n.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Change Password"})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b?"Enabled":"Add an extra layer of security to your account"})]}),n.jsx("button",{onClick:xe,className:`px-4 py-2 rounded-lg transition-colors ${b?"bg-green-600 hover:bg-green-700 text-white":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b?"Disable":"Enable"})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanently delete your account and all data"})]}),n.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Change Password"}),n.jsx("button",{onClick:()=>{N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:le,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password *"}),n.jsx("input",{type:"password",value:P.currentPassword,onChange:K=>G({...P,currentPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password *"}),n.jsx("input",{type:"password",value:P.newPassword,onChange:K=>G({...P,newPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:8}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Must be at least 8 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password *"}),n.jsx("input",{type:"password",value:P.confirmPassword,onChange:K=>G({...P,confirmPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Change Password"})]})]})]})})]}):n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(ba,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Configuration Required"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Supabase is not configured. Please check your environment variables."})]})}):n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(ba,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Not Signed In"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please sign in to view your profile."}),n.jsx("button",{onClick:()=>e("/auth/login"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Sign In"})]})})},Uie=()=>{const[e,t]=C.useState("search"),[r,a]=C.useState(!1),[s,i]=C.useState({name:"",email:"",subject:"",message:""}),[o,l]=C.useState({title:"",description:"",priority:"Medium",category:"General"}),c=[{id:"1",title:"Issue with property application",status:"Pending",date:"2025-01-10"},{id:"2",title:"Payment processing question",status:"Resolved",date:"2025-01-08"},{id:"3",title:"Account access problem",status:"Pending",date:"2025-01-12"}],u=[{id:"1",title:"New Booking Request",description:"You have a new booking request for Modern Downtown Apartment",timestamp:"2 hours ago"},{id:"2",title:"Upcoming Appointment",description:"Reminder: Appointment with Sarah Johnson tomorrow at 10:00 AM",timestamp:"5 hours ago"},{id:"3",title:"Payment Received",description:"Payment of $2,500.00 received for Luxury Condo with City View",timestamp:"1 day ago"}],h=m=>{m.preventDefault(),console.log("Form submitted:",s),i({name:"",email:"",subject:"",message:""}),alert("Message sent successfully!")},f=m=>{m.preventDefault(),console.log("New ticket:",o),a(!1),l({title:"",description:"",priority:"Medium",category:"General"}),alert("Ticket created successfully!")};return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(pc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Help & Support"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ya,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"24/7"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Available"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(bn,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"+20%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Response Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Ar,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"98%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Satisfaction Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(Or,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Report"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Tickets"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>t("search"),className:`px-4 py-2 rounded-lg transition-colors ${e==="search"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Search"}),n.jsx("button",{onClick:()=>t("contact"),className:`px-4 py-2 rounded-lg transition-colors ${e==="contact"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact Us"}),n.jsx("button",{onClick:()=>t("tickets"),className:`px-4 py-2 rounded-lg transition-colors ${e==="tickets"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"My Tickets"}),n.jsx("button",{onClick:()=>t("notifications"),className:`px-4 py-2 rounded-lg transition-colors ${e==="notifications"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Notifications"})]})}),e==="search"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"How can we help you?"}),n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search our knowledge base or guides",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Do you have any specific questions?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Or,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Help Center"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Vo,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Live Chat"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Dj,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Micro Support"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(_n,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Email Support"})]})]})]})]}),e==="contact"&&n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Send us a Message"}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),n.jsx("input",{type:"text",value:s.name,onChange:m=>i({...s,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:s.email,onChange:m=>i({...s,email:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:s.subject,onChange:m=>i({...s,subject:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),n.jsx("textarea",{value:s.message,onChange:m=>i({...s,message:m.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Send Message"})]})]}),e==="tickets"&&n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Support Ticket"}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"New Ticket"})]})]}),n.jsx("div",{className:"space-y-4",children:c.map(m=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-1",children:m.title}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.date).toLocaleDateString()})]}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${m.status==="Resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:m.status})]})},m.id))})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Create New Ticket"}),n.jsx("button",{onClick:()=>{a(!1),l({title:"",description:"",priority:"Medium",category:"General"})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(yr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticket Title *"}),n.jsx("input",{type:"text",value:o.title,onChange:m=>l({...o,title:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),n.jsxs("select",{value:o.category,onChange:m=>l({...o,category:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"General",children:"General"}),n.jsx("option",{value:"Technical",children:"Technical"}),n.jsx("option",{value:"Billing",children:"Billing"}),n.jsx("option",{value:"Feature Request",children:"Feature Request"}),n.jsx("option",{value:"Bug Report",children:"Bug Report"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority *"}),n.jsxs("select",{value:o.priority,onChange:m=>l({...o,priority:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),n.jsx("textarea",{value:o.description,onChange:m=>l({...o,description:m.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{a(!1),l({title:"",description:"",priority:"Medium",category:"General"})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Create Ticket"})]})]})]})}),e==="notifications"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Notification"}),n.jsx("div",{className:"space-y-4",children:u.map(m=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(uu,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-1",children:m.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:m.description}),n.jsx("p",{className:"text-xs text-gray-400",children:m.timestamp})]})]})},m.id))})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"How can we help you?"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search our knowledge base or guides",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Or,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Help Center"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Vo,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Live Chat"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Dj,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Micro Support"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(_n,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Email Support"})]})]})]})]})]})},X9=C.createContext(),Vie=({children:e})=>{const[t,r]=C.useState(!1),a=()=>r(!0),s=()=>r(!1),i=()=>r(o=>!o);return n.jsx(X9.Provider,{value:{isChatOpen:t,openChat:a,closeChat:s,toggleChat:i},children:e})},J9=()=>{const e=C.useContext(X9);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},iN="/assets/logo-icon-zLgN4gJ7.png",qie=()=>{const[e,t]=C.useState(!1),[r,a]=C.useState(!1),[s,i]=C.useState(!1),o=C.useRef(null),{closeChat:l}=J9(),{isAuthenticated:c,profile:u,getDisplayName:h,getAvatarUrl:f,getRole:m,signOut:g}=J1(),y=br();C.useEffect(()=>{const k=S=>{o.current&&!o.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const x=async()=>{await g(),i(!1),y("/")},N=()=>{i(!1),w(),y("/manager/dashboard")},b=()=>{i(!1),w(),y("/manager/dashboard/profile")};C.useEffect(()=>{let k=!1;const S=()=>{k||(window.requestAnimationFrame(()=>{window.scrollY>100?t(!0):t(!1),k=!1}),k=!0)};return S(),window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[]);const w=()=>{l(),a(!1)};return n.jsx("header",{className:`fixed w-full z-50 transition-all duration-1000 ease-in-out ${e?"bg-primary shadow-xl py-2":"bg-primary/0 py-4"}`,children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("a",{href:"/",className:"text-2xl font-bold flex items-center gap-2",onClick:w,children:[n.jsx("img",{src:iN,alt:"Estospaces Logo",className:`h-8 w-auto object-contain transition-all duration-1000 ${e?"brightness-0 invert":""}`}),n.jsx("span",{className:"text-white font-bold text-xl",children:"Estospaces"})]})}),n.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:["Features","How It Works","FAQ","Join Waitlist"].map(k=>n.jsx("a",{href:`#${k.toLowerCase().replace(/\s+/g,"-")}`,onClick:w,className:`text-sm font-medium transition-colors duration-300 ${e?"text-white hover:text-gray-200":"text-white hover:text-primary"}`,children:k},k))}),n.jsx("div",{className:"hidden md:flex items-center space-x-3",children:c?n.jsxs("div",{className:"relative",ref:o,children:[n.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 ${e?"hover:bg-white/10":"hover:bg-white/20"}`,children:[f()?n.jsx("img",{src:f(),alt:h(),className:"w-8 h-8 rounded-full object-cover border-2 border-white/50"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/50",children:n.jsx(kn,{size:16,className:"text-white"})}),n.jsx("span",{className:"text-white font-medium text-sm max-w-[120px] truncate",children:h()}),n.jsx(yh,{size:16,className:`text-white transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:h()}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:m()})]}),n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:N,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Ig,{size:18,className:"text-gray-400"}),"Dashboard"]}),n.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx($c,{size:18,className:"text-gray-400"}),"Profile Settings"]})]}),n.jsx("div",{className:"border-t border-gray-100 pt-1",children:n.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(Jy,{size:18}),"Sign Out"]})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>y("/auth/login"),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 flex items-center gap-2 ${e?"text-white hover:bg-white/10":"text-white hover:bg-white/20"}`,children:[n.jsx(Fj,{size:18}),"Login"]}),n.jsxs("button",{onClick:()=>y("/auth/signup"),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl ${e?"bg-white text-primary hover:bg-gray-100":"bg-primary text-white hover:bg-opacity-90"}`,children:[n.jsx(Ow,{size:18}),"Sign Up"]})]})}),n.jsx("button",{className:`md:hidden ${e?"text-white":"text-primary"}`,onClick:()=>a(!r),children:r?n.jsx(yr,{size:24}):n.jsx(MV,{size:24})})]}),r&&n.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white dark:bg-gray-900 shadow-lg dark:shadow-gray-800/50 py-4 px-4 flex flex-col space-y-4 border-t border-gray-100 dark:border-gray-800",children:[["Features","How It Works","FAQ","Join Waitlist"].map(k=>n.jsx("a",{href:`#${k.toLowerCase().replace(/\s+/g,"-")}`,className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:w,children:k},k)),c?n.jsxs("div",{className:"flex flex-col gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[f()?n.jsx("img",{src:f(),alt:h(),className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(kn,{size:20,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:h()}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:m()})]})]}),n.jsxs("button",{onClick:()=>{w(),y("/manager/dashboard")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx(Ig,{size:18}),"Dashboard"]}),n.jsxs("button",{onClick:()=>{w(),y("/manager/dashboard/profile")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx($c,{size:18}),"Profile Settings"]}),n.jsxs("button",{onClick:()=>{w(),x()},className:"text-red-600 font-medium hover:text-red-700 flex items-center gap-2 py-2",children:[n.jsx(Jy,{size:18}),"Sign Out"]})]}):n.jsxs("div",{className:"flex flex-col gap-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("button",{onClick:()=>{w(),y("/auth/login")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx(Fj,{size:18}),"Login"]}),n.jsxs("button",{onClick:()=>{w(),y("/auth/signup")},className:"bg-primary text-white px-6 py-3 rounded-full font-medium w-full flex items-center justify-center gap-2 hover:bg-opacity-90 transition-all",children:[n.jsx(Ow,{size:18}),"Sign Up"]})]})]})]})})},$ie=(e=.5)=>{const[t,r]=C.useState(0);return C.useEffect(()=>{const a=()=>{requestAnimationFrame(()=>{r(window.scrollY*e)})};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),t},Hie="/assets/hero-section-video-BscMj0bT.mp4",Wie=()=>{const[e,t]=C.useState("buy"),r=$ie(.5);return n.jsxs("div",{className:"relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0 will-change-transform",style:{transform:`translateY(${r}px)`},children:[n.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:n.jsx("source",{src:Hie,type:"video/mp4"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})]}),n.jsxs("div",{className:"relative z-10 container mx-auto px-4 pt-20",children:[n.jsxs("div",{className:"text-center text-white mb-12",children:[n.jsxs("h1",{className:"text-6xl md:text-8xl font-medium mb-6 animate-fade-in-up leading-none font-serif tracking-tighter",children:[n.jsx("span",{className:"text-white drop-shadow-lg",children:"Discover your"}),n.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-primary via-amber-400 to-orange-600 font-bold italic pr-4 pb-2",children:"Dream Home"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-white max-w-3xl mx-auto animate-fade-in-up delay-100 font-light leading-relaxed drop-shadow-lg",children:"Experience properties like never before with immersive virtual tours and verified listings"})]}),n.jsxs("div",{className:"max-w-5xl mx-auto bg-white bg-opacity-10 backdrop-blur-md rounded-lg p-1 animate-fade-in-up delay-200",children:[n.jsxs("div",{className:"inline-flex p-1 bg-white/10 backdrop-blur-sm rounded-t-xl border border-white/20 border-b-0",children:[n.jsxs("button",{className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-sm tracking-wide transition-all duration-300 ${e==="buy"?"bg-primary text-white shadow-lg shadow-primary/30 scale-[1.02]":"text-white/80 hover:text-white hover:bg-white/10"}`,onClick:()=>t("buy"),children:[n.jsx(mV,{size:18,className:e==="buy"?"animate-pulse":""}),"Buy"]}),n.jsxs("button",{className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-sm tracking-wide transition-all duration-300 ${e==="rent"?"bg-primary text-white shadow-lg shadow-primary/30 scale-[1.02]":"text-white/80 hover:text-white hover:bg-white/10"}`,onClick:()=>t("rent"),children:[n.jsx(dc,{size:18,className:e==="rent"?"animate-pulse":""}),"Rent"]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-b-xl rounded-tr-xl shadow-2xl grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Keyword"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(us,{size:18,className:"text-primary mr-2"}),n.jsx("input",{type:"text",placeholder:"Enter Keyword...",className:"w-full outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-900"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Location"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(aa,{size:18,className:"text-primary mr-2"}),n.jsxs("select",{className:"w-full outline-none text-gray-900 dark:text-gray-100 bg-transparent dark:bg-gray-900 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Countries"}),n.jsx("option",{value:"india",children:"India"}),n.jsx("option",{value:"usa",children:"United States"}),n.jsx("option",{value:"uk",children:"United Kingdom"}),n.jsx("option",{value:"canada",children:"Canada"}),n.jsx("option",{value:"australia",children:"Australia"}),n.jsx("option",{value:"uae",children:"United Arab Emirates"}),n.jsx("option",{value:"singapore",children:"Singapore"})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Type"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(gr,{size:18,className:"text-primary mr-2"}),n.jsxs("select",{className:"w-full outline-none text-gray-900 dark:text-gray-100 bg-transparent dark:bg-gray-900 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"apartment",children:"Apartment"}),n.jsx("option",{value:"villa",children:"Villa"}),n.jsx("option",{value:"office",children:"Office"})]})]})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors",title:"Advanced Search",children:n.jsx($c,{size:20})}),n.jsxs("button",{className:"flex-1 bg-primary text-white py-3 rounded font-bold hover:bg-opacity-90 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[n.jsx(us,{size:20}),"Search"]})]})]})]})]})]})},Gie=()=>{const e=[{icon:n.jsx(fa,{className:"text-primary"}),title:"Virtual Property Tours",description:"Explore properties from anywhere with immersive 3D walkthroughs."},{icon:n.jsx(su,{className:"text-primary"}),title:"Verified Listings",description:"Every property is verified. No fake listings, no wasted time."},{icon:n.jsx(wf,{className:"text-primary"}),title:"Seamless Journey",description:"From discovery to closingeverything in one smooth experience."},{icon:n.jsx(qV,{className:"text-primary"}),title:"Broker Network",description:"Connect with trusted, verified brokers across the platform."}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{id:"features",className:"py-24 bg-gray-50 dark:bg-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-96 h-96 bg-gray-800/5 dark:bg-gray-600/5 rounded-full blur-3xl"})]}),n.jsxs(Kt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs(Kt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["Real Estate, ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Reimagined."})]}),n.jsx(Kt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},className:"text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:"Estospaces is a virtual-first platform that transforms how you discover, explore, and secure properties."})]}),n.jsx(Kt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((a,s)=>n.jsxs(Kt.div,{variants:r,className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-2 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-primary to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(Kt.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:s*.5},className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-6 group-hover:bg-primary group-hover:text-white transition-colors duration-300",children:lc.cloneElement(a.icon,{className:"text-primary group-hover:text-white transition-colors duration-300",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 group-hover:text-primary transition-colors duration-300",children:a.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:a.description})]},s))})]})]})},Yie=()=>{const[e,t]=C.useState(!1),[r,a]=C.useState(null),[s,i]=C.useState(!1);return{submitToWaitlist:async c=>{if(t(!0),a(null),i(!1),!He)return a("Waitlist feature is not configured yet. Please contact support."),t(!1),{success:!1,error:"Supabase not configured"};try{const{error:u}=await He.from("waitlist").insert([{user_type:c.userType,name:c.name,email:c.email,phone:c.phone||null,location:c.location,looking_for:c.lookingFor}]);if(u)throw u.code==="23505"?new Error("This email is already registered on our waitlist."):u;return i(!0),{success:!0}}catch(u){const h=u.message||"Failed to join waitlist. Please try again.";return a(h),{success:!1,error:h}}finally{t(!1)}},loading:e,error:r,success:s,resetState:()=>{a(null),i(!1),t(!1)}}},Kie=({message:e,type:t="success",isVisible:r,onClose:a,duration:s=5e3})=>{C.useEffect(()=>{if(r&&s){const c=setTimeout(()=>{a()},s);return()=>clearTimeout(c)}},[r,s,a]);const i={success:{bg:"bg-green-500",icon:Ar,iconColor:"text-white"},error:{bg:"bg-red-500",icon:As,iconColor:"text-white"}},o=i[t]||i.success,l=o.icon;return n.jsx($s,{children:r&&n.jsxs(Kt.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:`fixed top-6 left-1/2 z-[100] ${o.bg} text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 min-w-[300px] max-w-[500px]`,children:[n.jsx(l,{className:o.iconColor,size:24}),n.jsx("p",{className:"flex-1 font-medium",children:e}),n.jsx("button",{onClick:a,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(yr,{size:18})})]})})},oN=({isOpen:e,onClose:t})=>{const{submitToWaitlist:r,loading:a,error:s,success:i}=Yie(),[o,l]=C.useState({userType:"",name:"",email:"",phone:"",location:"",lookingFor:""}),[c,u]=C.useState({}),[h,f]=C.useState({isVisible:!1,message:"",type:"success"}),m=(w,k="success")=>{f({isVisible:!0,message:w,type:k})},g=()=>{f({...h,isVisible:!1})},y=[{value:"buyer",label:"Buyer",icon:gr,description:"Looking to buy a property"},{value:"renter",label:"Renter",icon:kn,description:"Looking to rent a property"},{value:"seller",label:"Seller",icon:Hs,description:"Want to list a property"}],x=()=>{const w={};return o.userType||(w.userType="Please select a user type"),o.name.trim()||(w.name="Name is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(w.email="Please enter a valid email"):w.email="Email is required",o.location.trim()||(w.location="Location is required"),o.lookingFor.trim()||(w.lookingFor="Please tell us what you're looking for"),u(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),!x())return;const k=await r(o);k.success?(m(" Welcome to Estospaces! You've successfully joined our waitlist.","success"),setTimeout(()=>{l({userType:"",name:"",email:"",phone:"",location:"",lookingFor:""}),u({}),t()},2e3)):k.error&&m(k.error,"error")},b=(w,k)=>{l(S=>({...S,[w]:k})),c[w]&&u(S=>({...S,[w]:""}))};return n.jsxs(n.Fragment,{children:[n.jsx(Kie,{message:h.message,type:h.type,isVisible:h.isVisible,onClose:g,duration:5e3}),n.jsx($s,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),n.jsxs(Kt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"relative w-full max-w-lg max-h-[90vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors z-10",children:n.jsx(yr,{size:24,className:"text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto max-h-[90vh] scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-3 font-serif",children:["Join the ",n.jsx("span",{className:"text-primary",children:"Waitlist"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Be among the first to experience the future of real estate"})]}),i&&n.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-4 p-6 bg-green-50 border border-green-200 rounded-xl text-center",children:[n.jsx(Ar,{className:"text-green-600 mx-auto mb-2",size:28}),n.jsx("p",{className:"text-green-700 font-medium",children:"Success! Closing..."})]}),s&&n.jsxs(Kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-6 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[n.jsx(ba,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-red-900 mb-1",children:"Oops!"}),n.jsx("p",{className:"text-red-700",children:s})]})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-3",children:["I am a... ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(w=>{const k=w.icon;return n.jsxs("button",{type:"button",onClick:()=>b("userType",w.value),className:`p-4 rounded-2xl border-2 transition-all duration-300 text-left ${o.userType===w.value?"border-primary bg-primary/5 dark:bg-primary/10 shadow-lg":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(k,{className:`mb-2 ${o.userType===w.value?"text-primary":"text-gray-400"}`,size:28}),n.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100 mb-1",children:w.label}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.description})]},w.value)})}),c.userType&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.userType})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(kn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"text",value:o.name,onChange:w=>b("name",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.name?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"John Doe"})]}),c.name&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(_n,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"email",value:o.email,onChange:w=>b("email",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.email?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"john@example.com"})]}),c.email&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.email})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Phone Number ",n.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:"(Optional)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(od,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"tel",value:o.phone,onChange:w=>b("phone",w.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"+1 (555) 000-0000"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Location/City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"text",value:o.location,onChange:w=>b("location",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.location?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"New York, NY"})]}),c.location&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.location})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["What are you looking for? ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Vo,{className:"absolute left-4 top-4 text-gray-400 pointer-events-none",size:20}),n.jsx("textarea",{value:o.lookingFor,onChange:w=>b("lookingFor",w.target.value),rows:4,className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.lookingFor?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"Tell us about your ideal property, budget, preferences, etc."})]}),c.lookingFor&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.lookingFor})]}),n.jsx("button",{type:"submit",disabled:a||i,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 ${a||i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary to-orange-600 text-white hover:shadow-xl transform hover:scale-[1.02]"}`,children:a?"Joining...":i?"Joined!":"Reserve Your Spot"})]})]})]})]})})]})},Zie=()=>{const[e,t]=C.useState(!1),r=[{icon:n.jsx(fa,{size:24}),text:"Virtual Tours"},{icon:n.jsx(BV,{size:24}),text:"Verified Brokers"},{icon:n.jsx(KV,{size:24}),text:"Seamless Connections"}];return n.jsxs("section",{className:"py-32 bg-gradient-to-b from-white dark:from-gray-900 via-gray-50 dark:via-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[10%] right-[5%] w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[10%] left-[5%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-gray-100 mb-8 tracking-tight leading-tight",children:["Experience Properties",n.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-500 to-orange-600",children:"Like Never Before"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-12 leading-relaxed max-w-3xl mx-auto",children:"Virtual tours. Verified brokers. Seamless connections. Estospaces brings it all together in one powerful platform built for modern property seekers."}),n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:r.map((a,s)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-3 rounded-full shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 flex items-center gap-2 group hover:-translate-y-1",children:[n.jsx("div",{className:"text-primary group-hover:scale-110 transition-transform",children:a.icon}),n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:a.text})]},s))}),n.jsxs("div",{className:"relative inline-block group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-orange-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),n.jsxs("button",{onClick:()=>t(!0),className:"relative bg-gradient-to-r from-primary to-orange-600 text-white px-12 py-5 rounded-full font-bold text-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 mx-auto transform group-hover:scale-105 border border-white/20",children:["Join the Waitlist",n.jsx(gh,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})]}),n.jsx("p",{className:"mt-8 text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase",children:"Be among the first  No commitment required"})]})}),n.jsx(oN,{isOpen:e,onClose:()=>t(!1)})]})},Q9="/assets/modern-apartment-B4mh49G1.png",Xie=()=>{const e=C.useRef(null),{scrollYProgress:t}=wie({target:e,offset:["start end","end start"]}),r=kie(t,[0,1],["-20%","20%"]);return n.jsxs("section",{ref:e,className:"py-32 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:n.jsx(Kt.div,{style:{y:r,backgroundImage:`url(${Q9})`},className:"absolute inset-0 w-full h-[120%] -top-[10%] bg-cover bg-center"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/80 via-black/70 to-black/80 z-0"}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-10 leading-tight drop-shadow-lg",children:["Real Estate Shouldn't Be ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500",children:"This Hard."})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed max-w-3xl mx-auto font-light",children:"Endless property visits drain your time and money. Limited broker visibility means you miss great options. Fake listings destroy trust. And outdated, flat images don't show you what you really need to see."}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-12 rounded-3xl shadow-2xl transform hover:scale-[1.02] transition-all duration-500 hover:shadow-[0_20px_50px_-10px_rgba(0,0,0,0.5)] group relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-orange-400 to-primary opacity-50"}),n.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-md group-hover:text-primary transition-colors duration-300",children:"Estospaces changes everything."}),n.jsx("p",{className:"text-lg md:text-xl text-gray-300 group-hover:text-white transition-colors duration-300",children:"A virtual-first platform built for trust, transparency, and a seamless property journey."})]})]})})]})},Jie=()=>{const e=[{icon:n.jsx(ey,{className:"text-white",size:32}),number:"01",title:"Brokers Verify & Create",description:"Verified brokers create immersive virtual tours of their properties."},{icon:n.jsx(fa,{className:"text-white",size:32}),number:"02",title:"You Explore Virtually",description:"Discover and tour properties from anywhereno travel required."},{icon:n.jsx(hu,{className:"text-white",size:32}),number:"03",title:"Connect & Close",description:"Reach out to brokers, finalize details, and close deals seamlessly."}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return n.jsxs("section",{id:"how-it-works",className:"py-32 bg-gradient-to-b from-gray-50 dark:from-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[15%] left-[5%] w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[15%] right-[5%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs(Kt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs(Kt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["How ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Estospaces"})," Works"]}),n.jsx(Kt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},className:"text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:"A simple, transparent process powered by verified brokers and virtual technology."})]}),n.jsx(Kt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl mx-auto",children:e.map((a,s)=>n.jsxs(Kt.div,{variants:r,className:"relative group",children:[s<e.length-1&&n.jsxs("div",{className:"hidden md:flex absolute top-20 left-[60%] w-[80%] items-center justify-center z-0",children:[n.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-primary/30 to-transparent"}),n.jsx(gh,{className:"text-primary/30 absolute right-0",size:24})]}),n.jsxs("div",{className:"relative z-10 text-center bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 h-full flex flex-col items-center",children:[n.jsxs(Kt.div,{animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:s*1},className:"inline-flex items-center justify-center w-28 h-28 bg-gradient-to-br from-primary to-orange-600 rounded-2xl mb-6 shadow-xl relative",children:[a.icon,n.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center border-2 border-primary/20 dark:border-primary/40",children:n.jsx("span",{className:"text-primary font-bold text-lg",children:a.number})})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 group-hover:text-primary transition-colors duration-300",children:a.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:a.description}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-b-3xl"})]})]},s))}),n.jsxs(Kt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:1,duration:1},className:"text-center mt-16",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase mb-4",children:"Simple  Transparent  Effective"}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"w-2 h-2 bg-primary/30 rounded-full animate-bounce delay-200"})]})]})]})})]})},Qie=()=>{const e=[{icon:n.jsx(dc,{className:"text-white",size:36}),value:"Virtual First",label:"Platform"},{icon:n.jsx(NC,{className:"text-white",size:36}),value:"Verified",label:"Brokers & Listings"},{icon:n.jsx(hu,{className:"text-white",size:36}),value:"Trusted",label:"Broker Network"}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{className:"py-32 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] left-[10%] w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"})]}),n.jsxs(Kt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-4xl mx-auto",children:[n.jsxs(Kt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,ease:[.2,.8,.2,1]},className:"text-5xl md:text-6xl font-bold mb-6 tracking-tight leading-tight",children:[n.jsx("span",{className:"text-white",children:"Built for the Future of"})," ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-400 to-orange-600",children:"Real Estate"})]}),n.jsx(Kt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,delay:.2,ease:[.2,.8,.2,1]},className:"text-xl text-gray-200 leading-relaxed",children:"Estospaces brings together cutting-edge virtual technology, verified brokers, and a trusted ecosystem."})]}),n.jsx(Kt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:e.map((a,s)=>n.jsxs(Kt.div,{variants:r,className:"bg-white/5 backdrop-blur-sm border border-white/10 p-10 rounded-3xl text-center hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl group",children:[n.jsx(Kt.div,{animate:{y:[0,-8,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:s*.5},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-orange-600 rounded-2xl mb-6 shadow-xl group-hover:scale-110 transition-transform duration-300",children:a.icon}),n.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-3 text-white",children:a.value}),n.jsx("div",{className:"text-lg text-gray-100",children:a.label})]},s))})]})]})},v2=({className:e,testimonials:t,duration:r=10})=>n.jsx("div",{className:e,children:n.jsx(Kt.div,{animate:{translateY:"-50%"},transition:{duration:r,repeat:1/0,ease:"linear",repeatType:"loop"},className:"flex flex-col gap-6 pb-6",children:[...new Array(2)].map((a,s)=>n.jsx(lc.Fragment,{children:t.map(({content:i,image:o,name:l,role:c},u)=>n.jsxs("div",{className:"p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-lg bg-white dark:bg-gray-800 max-w-xs w-full",children:[n.jsxs("div",{className:"text-gray-600 dark:text-gray-300 leading-relaxed italic",children:['"',i,'"']}),n.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[n.jsx("img",{width:40,height:40,src:o,alt:l,className:"h-10 w-10 rounded-full object-cover border border-gray-200 dark:border-gray-600"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:l}),n.jsx("div",{className:"text-xs text-primary font-medium",children:c})]})]})]},u))},s))})}),lN=[{name:"Sarah Jenkins",role:"Homebuyer",content:"Estospaces completely changed how I looked for a home. The virtual tours felt so real that I only visited two properties in person before buying one!",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Michael Chen",role:"Real Estate Investor",content:"The verified broker network is a game-changer. I've wasted so much time with fake listings on other platforms. Estospaces is pure efficiency.",image:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Priya Patel",role:"Tenant",content:"Found my dream apartment in Mumbai without leaving my couch in Bangalore. The 3D walkthroughs gave me the confidence to book instantly.",image:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"David Wilson",role:"Property Manager",content:"Listing our properties here has reduced our site visit overhead by 70%. We only meet serious buyers now. Highly recommended!",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Emily Rodriguez",role:"First-time Buyer",content:"I was overwhelmed by the process until I found Estospaces. The transparency and ease of use made buying my first condo a breeze.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"James Carter",role:"Broker",content:"Finally, a platform that values professional brokers. The leads I get here are high-quality and actually ready to transact.",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Anita Roy",role:"Architect",content:"The visual fidelity of the 3D tours is impressive. It captures the architectural details that usually get lost in standard photos.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Robert Fox",role:"Developer",content:"We launched our latest project exclusively on Estospaces and sold out 40% of units within the first week. The platform works.",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Lisa Wang",role:"Interior Designer",content:"I use Estospaces to show clients potential layouts. The immersive experience helps them visualize the potential of a space immediately.",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}],eoe=lN.slice(0,3),toe=lN.slice(3,6),roe=lN.slice(6,9),aoe=()=>n.jsx("section",{id:"reviews",className:"bg-gray-50 dark:bg-gray-900 py-24 relative overflow-hidden",children:n.jsxs("div",{className:"container z-10 mx-auto px-4",children:[n.jsxs(Kt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.1,ease:[.16,1,.3,1]},viewport:{once:!0},className:"flex flex-col items-center justify-center max-w-3xl mx-auto mb-16",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"border border-primary/30 bg-primary/5 text-primary py-1 px-4 rounded-full text-sm font-medium",children:"Testimonials"})}),n.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4 font-serif text-center",children:["Loved by ",n.jsx("span",{className:"text-primary",children:"Thousands"})]}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 text-center max-w-2xl",children:"See what buyers, renters, and brokers are saying about their experience with Estospaces."})]}),n.jsxs("div",{className:"flex justify-center gap-6 [mask-image:linear-gradient(to_bottom,transparent,black_10%,black_90%,transparent)] max-h-[400px] overflow-hidden",children:[n.jsx(v2,{testimonials:eoe,duration:40}),n.jsx(v2,{testimonials:toe,className:"hidden md:block",duration:50}),n.jsx(v2,{testimonials:roe,className:"hidden lg:block",duration:45})]})]})}),noe=()=>{const[e,t]=C.useState(!1),r=[{icon:n.jsx(fa,{className:"text-primary",size:24}),text:"First access to virtual property tours"},{icon:n.jsx(su,{className:"text-primary",size:24}),text:"Exclusive verified listings before public launch"},{icon:n.jsx(uu,{className:"text-primary",size:24}),text:"Early notifications for new properties"},{icon:n.jsx(wf,{className:"text-primary",size:24}),text:"Influence platform features as a founding user"},{icon:n.jsx(NC,{className:"text-primary",size:24}),text:"Founding member perks and priority support"}],a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},s={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{id:"join-waitlist",className:"relative py-32 overflow-hidden min-h-[800px] flex items-center",children:[n.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${Q9})`,backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"cover"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/90 via-black/70 to-black/90 z-10"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)] z-10 pointer-events-none"}),n.jsx(Kt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-20",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("div",{className:"mb-20 animate-fade-in-up",children:[n.jsxs(Kt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,ease:[.2,.8,.2,1]},className:"text-5xl md:text-7xl font-bold mb-6 text-white tracking-tight drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)]",children:["Join the ",n.jsxs("span",{className:"text-primary relative inline-block",children:["Waitlist",n.jsx("span",{className:"absolute bottom-0 left-0 w-full h-2 bg-primary/30 blur-sm"})]})]}),n.jsx(Kt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,delay:.2,ease:[.2,.8,.2,1]},className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto font-light drop-shadow-md",children:"Be among the first to experience the future of real estate with exclusive access to virtual tours and verified listings."})]}),n.jsx(Kt.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20 perspective-1000",children:r.slice(0,3).map((i,o)=>n.jsxs(Kt.div,{variants:s,className:"bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl hover:bg-white/10 transition-all duration-500 group hover:-translate-y-4 hover:shadow-[0_10px_25px_-10px_rgba(249,115,22,0.2)] relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsx(Kt.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:o*.5},className:"w-16 h-16 bg-gradient-to-br from-primary to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-md group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:lc.cloneElement(i.icon,{className:"text-white w-8 h-8"})}),n.jsx("p",{className:"text-xl font-medium text-white relative z-10",children:i.text})]},o))}),n.jsxs("div",{className:"animate-fade-in-up delay-200 relative z-30",children:[n.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full transform scale-150 opacity-0 hover:opacity-100 transition-opacity duration-700"}),n.jsxs("button",{onClick:()=>t(!0),className:"relative bg-gradient-to-r from-primary to-orange-600 text-white px-12 py-6 rounded-full font-bold text-xl hover:shadow-[0_0_30px_rgba(249,115,22,0.4)] transform hover:scale-105 transition-all duration-300 flex items-center gap-3 mx-auto border border-white/20",children:["Reserve Your Spot",n.jsx(wf,{size:24,className:"fill-current animate-pulse"})]}),n.jsx("p",{className:"mt-8 text-gray-400 text-sm tracking-[0.2em] uppercase font-medium",children:"Limited Spots Available  No Commitment"})]})]})}),n.jsx(oN,{isOpen:e,onClose:()=>t(!1)})]})},soe=()=>n.jsxs("section",{className:"py-32 bg-gradient-to-br from-primary/5 via-orange-50 dark:via-gray-900 to-primary/10 dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] left-[10%] w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-80 h-80 bg-orange-300/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight",children:[n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"We're Launching "}),n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-500 to-orange-600",children:"Soon."})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed mb-12 max-w-3xl mx-auto",children:"Stay tuned for new updates, exclusive invites, and launch details. Be part of the revolution in real estate."}),n.jsxs("div",{className:"inline-block relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-orange-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),n.jsx("div",{className:"relative bg-white dark:bg-gray-800 px-10 py-5 rounded-full border-2 border-primary/20 dark:border-primary/40 shadow-xl transform group-hover:-translate-y-1 transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rq,{className:"text-primary",size:28}),n.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600 font-bold text-2xl",children:"Launching Q1 2026"})]})})]}),n.jsxs("div",{className:"mt-12",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase mb-4",children:"Join the waitlist to get early access"}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce delay-200"})]})]})]})})]}),ioe=()=>{const[e,t]=C.useState(null),r=[{question:"What is Estospaces?",answer:"Estospaces is a virtual-first real estate platform that lets you explore properties through immersive 3D tours, connect with verified brokers, and complete your property journeyall online."},{question:"When will Estospaces launch?",answer:"We're launching soon! Join the waitlist to get notified first and receive early access."},{question:"Is the waitlist free?",answer:"Yes, joining the waitlist is completely free with no commitment required."},{question:"How are listings verified?",answer:"Every listing on Estospaces is created by verified brokers. We ensure authenticity so you never waste time on fake posts."}];return n.jsxs("section",{id:"faq",className:"py-32 bg-gradient-to-b from-white dark:from-gray-900 via-gray-50 dark:via-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] right-[10%] w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["Frequently Asked ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Questions"})]}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Everything you need to know about Estospaces"})]}),n.jsx("div",{className:"max-w-4xl mx-auto space-y-5",children:r.map((a,s)=>n.jsxs("div",{className:`bg-white dark:bg-gray-800 border-2 rounded-2xl overflow-hidden transition-all duration-300 shadow-md hover:shadow-xl ${e===s?"border-primary shadow-lg":"border-gray-100 dark:border-gray-700"}`,children:[n.jsxs("button",{className:"w-full px-8 py-6 text-left flex justify-between items-center transition-all duration-300 group",onClick:()=>t(e===s?null:s),children:[n.jsx("span",{className:`font-bold text-xl pr-8 transition-colors ${e===s?"text-primary":"text-gray-900 dark:text-gray-100 group-hover:text-primary"}`,children:a.question}),n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e===s?"bg-primary rotate-180":"bg-gray-100 dark:bg-gray-700 group-hover:bg-primary/10"}`,children:n.jsx(yh,{className:`transition-colors ${e===s?"text-white":"text-primary"}`,size:24})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===s?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"px-8 py-6 bg-gradient-to-br from-gray-50 dark:from-gray-800 to-white dark:to-gray-900 border-t border-gray-100 dark:border-gray-700",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:a.answer})})})]},s))}),n.jsx("div",{id:"contact",className:"text-center mt-16 max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-orange-50 p-8 rounded-3xl border border-primary/10 shadow-lg",children:[n.jsx(_n,{className:"text-primary mx-auto mb-4",size:32}),n.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-lg mb-4",children:"Still have questions? We're here to help!"}),n.jsxs("a",{href:"mailto:contact@estospaces.com",className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary to-orange-600 text-white px-8 py-3 rounded-full font-semibold hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Contact Us",n.jsx(_n,{size:18})]})]})})]})]})},ooe=()=>{const[e,t]=C.useState(!1),r=()=>{t(!0)},a=["Early access to platform","Exclusive launch offers","Priority support"];return n.jsxs("section",{className:"py-32 bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[10%] left-[5%] w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-[10%] right-[5%] w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight leading-tight",children:["The Future of ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-400 to-orange-600",children:"Real Estate"}),n.jsx("span",{className:"block mt-2",children:"Starts Here"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Join the waitlist and be part of the virtual-first revolution in property discovery."}),n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:a.map((s,i)=>n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm px-5 py-2 rounded-full border border-white/20 flex items-center gap-2 hover:bg-white/20 transition-all duration-300",children:[n.jsx(CU,{className:"text-primary",size:18}),n.jsx("span",{className:"text-sm font-medium text-white dark:text-gray-100",children:s})]},i))}),n.jsx("div",{className:"max-w-2xl mx-auto mb-10",children:n.jsxs("button",{onClick:r,type:"button",className:"w-full bg-gradient-to-r from-primary to-orange-600 text-white px-10 py-5 rounded-full font-bold text-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:["Join Waitlist",n.jsx(gh,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})}),n.jsx("p",{className:"text-sm text-gray-400 mb-12",children:" No spam. Unsubscribe anytime. We respect your privacy."}),n.jsx("div",{className:"max-w-md mx-auto mb-8",children:n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"})}),n.jsx("div",{className:"text-gray-400",children:n.jsxs("p",{className:"text-lg",children:["Questions? Reach us at"," ",n.jsxs("a",{href:"mailto:contact@estospaces.com",className:"text-primary hover:text-orange-400 font-semibold transition-colors inline-flex items-center gap-1 group",children:["contact@estospaces.com",n.jsx(_n,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})})]})}),n.jsx(oN,{isOpen:e,onClose:()=>t(!1)})]})},loe=()=>{const{closeChat:e}=J9(),[t,r]=C.useState(""),[a,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState(""),u=async()=>{if(!t.trim()||!t.includes("@")){c("Please enter a valid email address");return}o(!0),c("");try{if(!He)throw new Error("Newsletter feature is not configured yet.");const{error:f}=await He.from("newsletter_subscribers").insert([{email:t.trim().toLowerCase(),subscribed_at:new Date().toISOString(),source:"footer"}]);if(f)throw f.code==="23505"?new Error("This email is already subscribed!"):f;console.log("Email saved to Supabase:",t),s(!0),r(""),setTimeout(()=>{s(!1)},3e3)}catch(f){console.error("Error saving email:",f),c(f.message||"Failed to subscribe. Please try again."),setTimeout(()=>{c("")},3e3)}finally{o(!1)}},h=f=>{f.key==="Enter"&&u()};return n.jsxs("footer",{className:"bg-gray-900 text-white",children:[n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("img",{src:iN,alt:"Estospaces",className:"w-10 h-10 object-contain"}),n.jsx("span",{className:"font-bold text-xl",children:"Estospaces"})]}),n.jsx("p",{className:"text-gray-400 mb-4 max-w-sm",children:"A virtual-first real estate platform connecting buyers and renters with verified brokers through immersive 3D property tours."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("a",{href:"https://x.com/ESTOSPACES",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(RC,{size:18})}),n.jsx("a",{href:"https://www.instagram.com/estospaces/",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(AC,{size:18})}),n.jsx("a",{href:"https://www.linkedin.com/company/estospaces-solutions-private-limited",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(TC,{size:18})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Pages"}),n.jsx("ul",{className:"space-y-2",children:[{name:"Home",link:"/"},{name:"Features",link:"#features"},{name:"Reviews",link:"#reviews"},{name:"Waitlist",link:"#join-waitlist"},{name:"About Us",link:"/about"},{name:"Contact",link:"#contact"}].map(f=>n.jsx("li",{children:n.jsx("a",{href:f.link,onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:f.name})},f.name))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Platform"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("a",{href:"#faq",onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:"FAQ"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms",onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:"Terms & Conditions"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stay Updated"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Get launch updates and early access."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"email",placeholder:"Your email",value:t,onChange:f=>r(f.target.value),onKeyDown:h,disabled:i,className:"flex-1 px-4 py-2 rounded bg-white bg-opacity-10 border border-gray-600 outline-none focus:border-primary transition-colors placeholder-gray-400 text-white disabled:opacity-50"}),n.jsx("button",{onClick:u,disabled:i,className:"bg-primary p-2 rounded hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsx(Ni,{size:20,className:"animate-spin"}):n.jsx(Ch,{size:20})})]}),a&&n.jsx("p",{className:"text-green-400 text-sm mt-2 animate-fade-in",children:" Subscribed! We'll keep you updated."}),l&&n.jsxs("p",{className:"text-red-400 text-sm mt-2 animate-fade-in",children:[" ",l]})]})]})}),n.jsx("div",{className:"border-t border-gray-700",children:n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 Estospaces. All rights reserved."}),n.jsxs("div",{className:"flex gap-6 text-sm",children:[n.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-primary transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-primary transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-primary transition-colors",children:"Cookie Policy"})]})]})})})]})},es=[];for(let e=0;e<256;++e)es.push((e+256).toString(16).slice(1));function coe(e,t=0){return(es[e[t+0]]+es[e[t+1]]+es[e[t+2]]+es[e[t+3]]+"-"+es[e[t+4]]+es[e[t+5]]+"-"+es[e[t+6]]+es[e[t+7]]+"-"+es[e[t+8]]+es[e[t+9]]+"-"+es[e[t+10]]+es[e[t+11]]+es[e[t+12]]+es[e[t+13]]+es[e[t+14]]+es[e[t+15]]).toLowerCase()}let b2;const doe=new Uint8Array(16);function uoe(){if(!b2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b2=crypto.getRandomValues.bind(crypto)}return b2(doe)}const hoe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_A={randomUUID:hoe};function foe(e,t,r){var s;e=e||{};const a=e.random??((s=e.rng)==null?void 0:s.call(e))??uoe();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,coe(a)}function moe(e,t,r){return _A.randomUUID&&!e?_A.randomUUID():foe(e)}const goe=()=>{let e=localStorage.getItem("visitor_id");return e||(e=moe(),localStorage.setItem("visitor_id",e)),e},poe=()=>{const[e,t]=C.useState(null),[r,a]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(null),c=goe(),u=C.useCallback(async()=>{if(He){i(!0),l(null);try{const{data:g,error:y}=await He.from("conversations").select("*").eq("visitor_id",c).single();if(y&&y.code!=="PGRST116")throw y;g&&t(g)}catch{}finally{i(!1)}}},[c]),h=async({name:g=null,email:y=null}={})=>{if(!He){l("Chat is disabled: Missing Supabase configuration");return}if(!e){i(!0),l(null);try{const{data:x,error:N}=await He.from("conversations").insert([{visitor_id:c,visitor_name:g,visitor_email:y}]).select().single();if(N){if(N.code==="23505"){const{data:b}=await He.from("conversations").select("*").eq("visitor_id",c).single();t(b);return}throw N}if(t(x),x){const b=` Hi ${g}! Welcome to Estospaces.

Thank you for reaching out! How can we help you today?

Our team will respond to your message shortly.`,{data:w}=await He.from("messages").insert([{conversation_id:x.id,sender_type:"admin",message:b}]).select().single();w&&a([w]);try{console.log(" Sending admin notification email...");const{data:k,error:S}=await He.functions.invoke("send-chat-notification",{body:{name:g,email:y,conversationId:x.id,visitorId:c}});S?console.error(" Failed to invoke notification function:",S):console.log(" Admin notification sent successfully. Response:",k)}catch(k){console.error(" Error sending notification:",k)}}}catch(x){l(x.message||"Failed to start conversation")}finally{i(!1)}}},f=async g=>{if(!He){l("Chat is disabled: Missing Supabase configuration");return}if(!e)return;l(null);const y=`temp-${Date.now()}-${Math.random()}`,x={id:y,conversation_id:e.id,sender_type:"visitor",message:g,created_at:new Date().toISOString(),_isOptimistic:!0};a(N=>[...N,x]);try{const{data:N,error:b}=await He.from("messages").insert([{conversation_id:e.id,sender_type:"visitor",message:g}]).select().single();if(b)throw b;a(w=>w.map(k=>k.id===y?{...N,_skipRealtime:!0}:k))}catch(N){a(b=>b.filter(w=>w.id!==y)),l(N.message||"Failed to send message")}};return C.useEffect(()=>{if(!He||!e)return;console.log(" Setting up realtime subscription for conversation:",e.id),(async()=>{i(!0);const{data:N,error:b}=await He.from("messages").select("*").eq("conversation_id",e.id).order("created_at",{ascending:!0});b?console.error(" Error loading messages:",b):(console.log(" Loaded",N.length,"existing messages"),a(N)),i(!1)})();const y=`messages:${e.id}`;console.log(" Creating channel:",y);const x=He.channel(y).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e.id}`},N=>{if(console.log(" Realtime message received (visitor):",N.new),N.new.sender_type==="visitor"){console.log(" Skipping visitor message (handled by optimistic update)");return}a(b=>b.some(k=>k.id===N.new.id)?(console.log(" Message already exists, skipping"),b):(console.log(" Adding admin message to list"),[...b,N.new]))}).subscribe((N,b)=>{console.log(" Realtime subscription status (visitor):",N),b&&console.error(" Subscription error:",b),N==="SUBSCRIBED"&&console.log(" Successfully subscribed to realtime updates!"),N==="CHANNEL_ERROR"&&console.error(" Channel error - realtime may not work"),N==="TIMED_OUT"&&console.error(" Subscription timed out")});return()=>{console.log(" Unsubscribing from channel:",y),He.removeChannel(x)}},[e]),C.useEffect(()=>{u()},[u]),{conversation:e,messages:r,loading:s,error:o,startConversation:h,sendMessage:f,isConversationReady:!!e}},Ox=43200,NA=1440,kA=Symbol.for("constructDateFrom");function cN(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&kA in e?e[kA](t):e instanceof Date?new e.constructor(t):new Date(t)}function yu(e,t){return cN(e,e)}let xoe={};function yoe(){return xoe}function jA(e){const t=yu(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function dN(e,...t){const r=cN.bind(null,e||t.find(a=>typeof a=="object"));return t.map(r)}function my(e,t){const r=+yu(e)-+yu(t);return r<0?-1:r>0?1:r}function voe(e){return cN(e,Date.now())}function boe(e,t,r){const[a,s]=dN(r==null?void 0:r.in,e,t),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function woe(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function _oe(e,t){return+yu(e)-+yu(t)}function Noe(e,t){const r=yu(e);return r.setHours(23,59,59,999),r}function koe(e,t){const r=yu(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function joe(e,t){const r=yu(e);return+Noe(r)==+koe(r)}function Soe(e,t,r){const[a,s,i]=dN(r==null?void 0:r.in,e,e,t),o=my(s,i),l=Math.abs(boe(s,i));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*l);let c=my(s,i)===-o;joe(a)&&l===1&&my(a,i)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function Aoe(e,t,r){const a=_oe(e,t)/1e3;return woe(r==null?void 0:r.roundingMethod)(a)}const Eoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Toe=(e,t,r)=>{let a;const s=Eoe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function w2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Coe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Loe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Poe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Moe={date:w2({formats:Coe,defaultWidth:"full"}),time:w2({formats:Loe,defaultWidth:"full"}),dateTime:w2({formats:Poe,defaultWidth:"full"})},Roe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ooe=(e,t,r,a)=>Roe[e];function km(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Doe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ioe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Foe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Boe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Voe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qoe={ordinalNumber:Voe,era:km({values:Doe,defaultWidth:"wide"}),quarter:km({values:Ioe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:km({values:Foe,defaultWidth:"wide"}),day:km({values:Boe,defaultWidth:"wide"}),dayPeriod:km({values:zoe,defaultWidth:"wide",formattingValues:Uoe,defaultFormattingWidth:"wide"})};function jm(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Hoe(l,f=>f.test(o)):$oe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function $oe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Hoe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Woe(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Goe=/^(\d+)(th|st|nd|rd)?/i,Yoe=/\d+/i,Koe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zoe={any:[/^b/i,/^(a|c)/i]},Xoe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Joe={any:[/1/i,/2/i,/3/i,/4/i]},Qoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ele={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ale={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sle={ordinalNumber:Woe({matchPattern:Goe,parsePattern:Yoe,valueCallback:e=>parseInt(e,10)}),era:jm({matchPatterns:Koe,defaultMatchWidth:"wide",parsePatterns:Zoe,defaultParseWidth:"any"}),quarter:jm({matchPatterns:Xoe,defaultMatchWidth:"wide",parsePatterns:Joe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jm({matchPatterns:Qoe,defaultMatchWidth:"wide",parsePatterns:ele,defaultParseWidth:"any"}),day:jm({matchPatterns:tle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any"}),dayPeriod:jm({matchPatterns:ale,defaultMatchWidth:"any",parsePatterns:nle,defaultParseWidth:"any"})},ile={code:"en-US",formatDistance:Toe,formatLong:Moe,formatRelative:Ooe,localize:qoe,match:sle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ole(e,t,r){const a=yoe(),s=(r==null?void 0:r.locale)??a.locale??ile,i=2520,o=my(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=dN(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),h=Aoe(u,c),f=(jA(u)-jA(c))/1e3,m=Math.round((h-f)/60);let g;if(m<2)return r!=null&&r.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<NA){const y=Math.round(m/60);return s.formatDistance("aboutXHours",y,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<Ox){const y=Math.round(m/NA);return s.formatDistance("xDays",y,l)}else if(m<Ox*2)return g=Math.round(m/Ox),s.formatDistance("aboutXMonths",g,l)}if(g=Soe(u,c),g<12){const y=Math.round(m/Ox);return s.formatDistance("xMonths",y,l)}else{const y=g%12,x=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function lle(e,t){return ole(e,voe(e),t)}const cle=({message:e,isVisitor:t})=>{const r=e.sender_type==="visitor";return n.jsx("div",{className:`flex w-full ${r?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`flex max-w-[80%] ${r?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-orange-100 dark:bg-orange-900/30 text-orange-600":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:r?n.jsx(kn,{size:16}):n.jsx(eg,{size:16})}),n.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"}`,children:[n.jsx("div",{className:`px-4 py-2 rounded-2xl text-sm ${r?"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-bl-none"}`,children:e.message}),n.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1 px-1",children:e.created_at&&lle(new Date(e.created_at),{addSuffix:!0})})]})]})})},dle=({onSubmit:e,loading:t,error:r})=>{const[a,s]=C.useState(""),[i,o]=C.useState(""),l=c=>{c.preventDefault(),e({name:a.trim(),email:i.trim()})};return n.jsxs("form",{onSubmit:l,className:"space-y-4 p-4",children:[n.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"Start Chat"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"John Doe",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",disabled:t,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:i,onChange:c=>o(c.target.value),placeholder:"john@example.com",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",disabled:t,required:!0})]}),r&&n.jsx("p",{className:"text-red-500 text-sm",children:r}),n.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t||!a.trim()||!i.trim(),children:t?"Starting Chat...":"Start Chat"})]})},ule=({onClose:e})=>{const{messages:t,loading:r,error:a,startConversation:s,sendMessage:i,isConversationReady:o}=poe(),[l,c]=C.useState(""),u=C.useRef(null),h=()=>{var m;(m=u.current)==null||m.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{h()},[t]);const f=async m=>{m.preventDefault(),l.trim()&&(await i(l),c(""))};return n.jsxs("div",{className:"flex flex-col h-[500px] bg-white dark:bg-gray-900",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx(Nl,{size:20,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"Intelligent Assistant"})]})]}),n.jsx("button",{onClick:e,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(yr,{size:20})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800 custom-scrollbar",children:[o?n.jsx(n.Fragment,{children:r&&t.length===0?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):n.jsxs(n.Fragment,{children:[t.map(m=>n.jsx(cle,{message:m,isVisitor:m.sender_type==="visitor"},m.id)),n.jsx("div",{ref:u})]})}):n.jsx(dle,{onSubmit:s,loading:r,error:a}),a&&n.jsx("div",{className:"text-red-500 text-xs text-center mt-2",children:a})]}),o&&n.jsx("form",{onSubmit:f,className:"p-3 border-t dark:border-gray-700 bg-white dark:bg-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-full focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),n.jsx("button",{type:"submit",disabled:!l.trim()||r,className:"p-2 bg-primary text-white rounded-full hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Ch,{size:18})})]})})]})},hle=()=>{const[e,t]=C.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105","aria-label":"Ask Lakshmi",children:[n.jsx(Nl,{size:20,className:"flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:"Ask Lakshmi"})]}),n.jsx($s,{children:e&&n.jsx(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-24 right-6 z-50 w-80 max-w-full bg-white dark:bg-gray-900 rounded-xl shadow-2xl overflow-hidden",children:n.jsx(ule,{onClose:()=>t(!1)})})})]})},fle=()=>n.jsx(Vie,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx(qie,{}),n.jsx(Wie,{}),n.jsx(Gie,{}),n.jsx(Zie,{}),n.jsx(Xie,{}),n.jsx(Jie,{}),n.jsx(Qie,{}),n.jsx(aoe,{}),n.jsx(noe,{}),n.jsx(soe,{}),n.jsx(ioe,{}),n.jsx(ooe,{}),n.jsx(loe,{}),n.jsx(hle,{})]})}),mle=()=>{var y;const e=Wn(),t=br(),{user:r,profile:a,getDisplayName:s,signOut:i}=J1();e.pathname.startsWith("/user/dashboard");const[o,l]=C.useState(!1),[c,u]=C.useState(!1),h=lc.useRef(null),f=s?s():((y=r==null?void 0:r.email)==null?void 0:y.split("@")[0])||"User",m=(r==null?void 0:r.email)||"",g=[{id:1,title:"New property available",message:"A new property matches your criteria",time:"2m ago"},{id:2,title:"Payment received",message:"Your payment has been processed",time:"1h ago"},{id:3,title:"Contract updated",message:"Your contract has been updated",time:"3h ago"}];return n.jsx("header",{className:"h-16 bg-primary dark:bg-[#0a0a0a] sticky top-0 z-30 shadow-sm border-b border-primary/80 dark:border-gray-800",children:n.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>t("/user/dashboard"),className:"flex items-center gap-1.5 hover:opacity-90 transition-opacity duration-200 cursor-pointer","aria-label":"Navigate to dashboard",children:[n.jsx("img",{ref:h,src:iN,alt:"Estospaces Logo",className:"h-8 w-auto object-contain transition-all duration-300",style:{filter:"brightness(0) saturate(100%) invert(77%) sepia(95%) saturate(2500%) hue-rotate(345deg) brightness(1.6) contrast(1.2) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2))",WebkitFilter:"brightness(0) saturate(100%) invert(77%) sepia(95%) saturate(2500%) hue-rotate(345deg) brightness(1.6) contrast(1.2) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2))"}}),n.jsx("span",{className:"text-xl font-bold text-white dark:text-orange-500 transition-colors duration-300",style:{fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:"Estospaces"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:x=>x.currentTarget.style.backgroundColor="transparent",children:[n.jsx(uu,{size:20,className:"text-white dark:text-gray-200"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-primary"})]}),o&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:g.map(x=>n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:x.title}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:x.message}),n.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:x.time})]},x.id))}),n.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{className:"w-full text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:"View all notifications"})})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:x=>x.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{className:"w-8 h-8 bg-white/20 dark:bg-gray-700 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 dark:border-gray-600",children:n.jsx(kn,{size:18,className:"text-white dark:text-gray-200"})}),n.jsx(yh,{size:16,className:`text-white dark:text-gray-200 transition-transform ${c?"rotate-180":""}`})]}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:f}),n.jsx("div",{className:"px-3 py-1 text-xs text-gray-500 dark:text-gray-400",children:m})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:[n.jsx("button",{onClick:()=>{u(!1),t("/user/dashboard/settings")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:"Account Settings"}),n.jsx("button",{onClick:()=>{u(!1),t("/user/dashboard/help")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:"Help & Support"}),n.jsx("button",{onClick:async()=>{u(!1);try{i?await i():Ra()&&await He.auth.signOut(),t("/")}catch(x){console.error("Error signing out:",x),t("/")}},className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors cursor-pointer",children:"Log Out"})]})]})]})]})]})]})})},u0=({count:e})=>e===0?null:n.jsx("span",{className:"ml-1.5 bg-orange-500 text-white text-xs font-medium rounded-full min-w-[18px] h-5 px-1.5 flex items-center justify-center",children:e>99?"99+":e}),gle=()=>{const e=Wn(),t=br(),{totalUnreadCount:r}=Bf(),{activeTab:a,setActiveTab:s}=U_(),{savedProperties:i}=zf(),[o,l]=C.useState(null),c=[{icon:Ig,label:"Dashboard",path:"/user/dashboard"},{icon:td,label:"Saved Properties",path:"/user/dashboard/saved",showBadge:!0,badgeCount:(i==null?void 0:i.length)||0},{icon:Or,label:"My Applications",path:"/user/dashboard/applications"},{icon:wi,label:"Viewings",path:"/user/dashboard/viewings"},{icon:Vo,label:"Messages",path:"/user/dashboard/messages",showBadge:!0,badgeCount:r},{icon:Q1,label:"Payments",path:"/user/dashboard/payments"},{icon:Or,label:"Contracts",path:"/user/dashboard/contracts"},{icon:kn,label:"Profile",path:"/user/dashboard/profile"},{icon:kC,label:"Help & Support",path:"/user/dashboard/help"}],u=b=>b==="/user/dashboard"?e.pathname===b:e.pathname.startsWith(b),h=()=>e.pathname==="/user/dashboard/discover"?new URLSearchParams(e.search).get("type")==="buy":!1,f=()=>e.pathname==="/user/dashboard/discover"?new URLSearchParams(e.search).get("type")==="rent":!1,m=b=>{b==null||b.preventDefault(),s("buy"),t("/user/dashboard/discover?type=buy")},g=b=>{b==null||b.preventDefault(),s("rent"),t("/user/dashboard/discover?type=rent")},y=b=>{l(b),setTimeout(()=>l(null),300)},x=b=>{b==null||b.preventDefault(),l("buy"),m(b),setTimeout(()=>l(null),300)},N=b=>{b==null||b.preventDefault(),l("rent"),g(b),setTimeout(()=>l(null),300)};return n.jsx("nav",{className:"bg-white dark:bg-[#0a0a0a] border-b border-gray-200 dark:border-gray-800 sticky top-16 z-20 shadow-sm",role:"navigation","aria-label":"Main navigation",children:n.jsxs("div",{className:"px-4 lg:px-6",children:[n.jsxs("div",{className:"hidden md:flex items-center justify-center gap-1 overflow-x-auto scrollbar-hide -mx-4 px-4 lg:mx-0 lg:px-0",children:[c.slice(0,1).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)}),n.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[n.jsxs("button",{onClick:x,className:`
                relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                border-b-2 border-transparent
                ${h()?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                ${o==="buy"?"scale-95 transform active:scale-90":"scale-100"}
                whitespace-nowrap cursor-pointer
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
              `,"aria-label":"Filter by Buy",children:[n.jsx(Bj,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${h()?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o==="buy"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:"Buy"})]}),n.jsxs("button",{onClick:N,className:`
                relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                border-b-2 border-transparent
                ${f()?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                ${o==="rent"?"scale-95 transform active:scale-90":"scale-100"}
                whitespace-nowrap cursor-pointer
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
              `,"aria-label":"Filter by Rent",children:[n.jsx(gr,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${f()?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o==="rent"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:"Rent"})]})]}),c.slice(1,2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)}),c.slice(2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)})]}),n.jsxs("div",{className:"md:hidden flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide py-3 -mx-4 px-4",children:[c.slice(0,1).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)}),n.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[n.jsxs("button",{onClick:x,className:`
                relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                flex-shrink-0 cursor-pointer
                ${h()?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                ${o==="buy"?"scale-95 transform active:scale-90":"scale-100"}
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
              `,"aria-label":"Filter by Buy",children:[n.jsx(Bj,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o==="buy"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:"Buy"})]}),n.jsxs("button",{onClick:N,className:`
                relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                flex-shrink-0 cursor-pointer
                ${f()?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                ${o==="rent"?"scale-95 transform active:scale-90":"scale-100"}
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
              `,"aria-label":"Filter by Rent",children:[n.jsx(gr,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o==="rent"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:"Rent"})]})]}),c.slice(1,2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)}),c.slice(2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(ec,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(u0,{count:b.badgeCount})]},b.path)})]})]})})},ple=async({status:e="online",country:t="UK",propertyType:r=null,city:a=null,postcode:s=null,minPrice:i=null,maxPrice:o=null,minBedrooms:l=null,maxBedrooms:c=null,minBathrooms:u=null,limit:h=20,offset:f=0,orderBy:m="created_at",orderDirection:g="desc",userId:y=null}={})=>{try{if(!He)return{data:null,error:{message:"Supabase client not initialized"},count:0};let x=He.from("properties").select("*",{count:"exact"}).eq("country",t);e==="online"||e==="active"?x=x.or("status.eq.online,status.eq.active"):e&&(x=x.eq("status",e)),x=x.order(m,{ascending:g==="asc"}).range(f,f+h-1),r&&(x=x.eq("property_type",r)),a&&(x=x.ilike("city",`%${a}%`)),s&&(x=x.ilike("postcode",`%${s}%`)),i!==null&&(x=x.gte("price",i)),o!==null&&(x=x.lte("price",o)),l!==null&&(x=x.gte("bedrooms",l)),c!==null&&(x=x.lte("bedrooms",c)),u!==null&&(x=x.gte("bathrooms",u));const{data:N,error:b,count:w}=await x;if(b){const k=b.message||b.toString()||"";if(k.includes("relation")||k.includes("does not exist")||k.includes("schema cache")||k.includes("properties"))return{data:null,error:{message:"Properties table not found. Please run the SQL schema in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details.",code:"TABLE_NOT_FOUND",originalError:b},count:0};throw b}return y&&N?{data:await hc(N,y),error:null,count:w}:{data:N,error:null,count:w}}catch(x){return console.error("Error fetching UK properties:",x),{data:null,error:x,count:0}}},xle=async({searchQuery:e,country:t="UK",status:r="online",limit:a=20,offset:s=0,userId:i=null}={})=>{try{let o=He.from("properties").select("*").eq("country",t).eq("status",r).or(`title.ilike.%${e}%,description.ilike.%${e}%,city.ilike.%${e}%,postcode.ilike.%${e}%`).order("created_at",{ascending:!1}).range(s,s+a-1);const{data:l,error:c}=await o;if(c)throw c;return i&&l?{data:await hc(l,i),error:null}:{data:l,error:null}}catch(o){return console.error("Error searching properties:",o),{data:null,error:o}}},hc=async(e,t)=>{var u,h,f;if(!e||e.length===0)return e;const r=e.map(m=>m.id),[a,s,i]=await Promise.all([He.from("saved_properties").select("property_id").eq("user_id",t).in("property_id",r),He.from("applied_properties").select("property_id, status").eq("user_id",t).in("property_id",r),He.from("viewed_properties").select("property_id, view_count").eq("user_id",t).in("property_id",r)]),o=new Set(((u=a.data)==null?void 0:u.map(m=>m.property_id))||[]),l=new Map(((h=s.data)==null?void 0:h.map(m=>[m.property_id,m.status]))||[]),c=new Map(((f=i.data)==null?void 0:f.map(m=>[m.property_id,m.view_count]))||[]);return e.map(m=>({...m,is_saved:o.has(m.id),is_applied:l.has(m.id),application_status:l.get(m.id)||null,view_count:c.get(m.id)||0}))},yle=async(e,t)=>{try{const{data:r,error:a}=await He.from("saved_properties").insert({user_id:t,property_id:e}).select().single();if(a)throw a;return{data:r,error:null}}catch(r){return console.error("Error saving property:",r),{data:null,error:r}}},vle=async(e,t)=>{try{const{error:r}=await He.from("saved_properties").delete().eq("user_id",t).eq("property_id",e);if(r)throw r;return{data:{success:!0},error:null}}catch(r){return console.error("Error unsaving property:",r),{data:null,error:r}}},ble=async(e,t,r={})=>{try{const{data:a,error:s}=await He.from("applied_properties").insert({user_id:t,property_id:e,status:"pending",application_data:r}).select().single();if(s)throw s;return{data:a,error:null}}catch(a){return console.error("Error applying to property:",a),{data:null,error:a}}},wle=async(e,t)=>{try{const{error:r}=await He.from("viewed_properties").upsert({user_id:t,property_id:e,viewed_at:new Date().toISOString()},{onConflict:"user_id,property_id"});if(r)throw r;return{success:!0}}catch(r){return console.error("Error tracking property view:",r),{success:!1,error:r}}},_le=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await He.from("saved_properties").select(`
        property_id,
        created_at,
        properties (*)
      `).eq("user_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,saved_at:o.created_at})))||[],error:null}}catch(a){return console.error("Error fetching saved properties:",a),{data:null,error:a}}},Nle=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await He.from("applied_properties").select(`
        property_id,
        status,
        application_data,
        created_at,
        updated_at,
        properties (*)
      `).eq("user_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,application_status:o.status,application_data:o.application_data,applied_at:o.created_at,updated_at:o.updated_at})))||[],error:null}}catch(a){return console.error("Error fetching applied properties:",a),{data:null,error:a}}},kle=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await He.from("viewed_properties").select(`
        property_id,
        viewed_at,
        view_count,
        properties (*)
      `).eq("user_id",e).order("viewed_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,viewed_at:o.viewed_at,view_count:o.view_count})))||[],error:null}}catch(a){return console.error("Error fetching viewed properties:",a),{data:null,error:a}}},eM=C.createContext(),Zf=()=>{const e=C.useContext(eM);if(!e)throw new Error("useProperties must be used within a PropertiesProvider");return e},jle=({children:e})=>{const[t,r]=C.useState([]),[a,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,h]=C.useState(null),[f,m]=C.useState(!1),[g,y]=C.useState(null),[x,N]=C.useState({country:"UK",status:"online",propertyType:null,city:null,postcode:null,minPrice:null,maxPrice:null,minBedrooms:null,maxBedrooms:null,minBathrooms:null}),[b,w]=C.useState({page:1,limit:20,total:0,hasMore:!0});C.useEffect(()=>{(async()=>{const{data:{session:ue}}=await He.auth.getSession();h((ue==null?void 0:ue.user)||null)})();const{data:{subscription:ee}}=He.auth.onAuthStateChange((ue,le)=>{h((le==null?void 0:le.user)||null)});return()=>ee.unsubscribe()},[]);const k=C.useCallback(async(Y=!1)=>{if(!He){y("Supabase not configured");return}m(!0),y(null);try{const ee=Y?0:(b.page-1)*b.limit,ue=await ple({...x,limit:b.limit,offset:ee,userId:(u==null?void 0:u.id)||null});if(ue.error){ue.error.code==="TABLE_NOT_FOUND"||ue.error.message&&ue.error.message.includes("relation")&&ue.error.message.includes("does not exist")?y("Properties table not found. Please run the SQL schema setup in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details."):y(ue.error.message||"Failed to fetch properties"),r([]),w(le=>({...le,total:0,hasMore:!1})),m(!1);return}r(Y?ue.data||[]:le=>[...le,...ue.data||[]]),w(le=>{var xe;return{...le,total:ue.count||0,hasMore:(((xe=ue.data)==null?void 0:xe.length)||0)===b.limit}})}catch(ee){console.error("Error fetching properties:",ee),ee.message&&(ee.message.includes("relation")||ee.message.includes("does not exist"))?y("Properties table not found. Please run the SQL schema setup in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details."):y(ee.message||"Failed to fetch properties"),r([]),w(ue=>({...ue,total:0,hasMore:!1}))}finally{m(!1)}},[x,b.page,b.limit,u]),S=C.useCallback(async Y=>{if(!He){y("Supabase not configured");return}if(!Y.trim()){k(!0);return}m(!0),y(null);try{const ee=await xle({searchQuery:Y,country:x.country,status:x.status,limit:b.limit,offset:0,userId:(u==null?void 0:u.id)||null});if(ee.error)throw ee.error;r(ee.data||[]),w(ue=>{var le;return{...ue,page:1,total:((le=ee.data)==null?void 0:le.length)||0,hasMore:!1}})}catch(ee){console.error("Error searching properties:",ee),y(ee.message||"Failed to search properties")}finally{m(!1)}},[x,b.limit,u]),B=C.useCallback(async()=>{if(!u){s([]);return}try{const Y=await _le(u.id);if(Y.error)throw Y.error;s(Y.data||[])}catch(Y){console.error("Error fetching saved properties:",Y)}},[u]),H=C.useCallback(async()=>{if(!u){o([]);return}try{const Y=await Nle(u.id);if(Y.error)throw Y.error;o(Y.data||[])}catch(Y){console.error("Error fetching applied properties:",Y)}},[u]),F=C.useCallback(async()=>{if(!u){c([]);return}try{const Y=await kle(u.id);if(Y.error)throw Y.error;c(Y.data||[])}catch(Y){console.error("Error fetching viewed properties:",Y)}},[u]),D=C.useCallback(async Y=>{if(!u)return y("Please log in to save properties"),{success:!1};try{const ee=await yle(Y,u.id);if(ee.error)throw ee.error;return r(ue=>ue.map(le=>le.id===Y?{...le,is_saved:!0}:le)),await B(),{success:!0}}catch(ee){return console.error("Error saving property:",ee),y(ee.message||"Failed to save property"),{success:!1,error:ee}}},[u,B]),P=C.useCallback(async Y=>{if(!u)return{success:!1};try{const ee=await vle(Y,u.id);if(ee.error)throw ee.error;return r(ue=>ue.map(le=>le.id===Y?{...le,is_saved:!1}:le)),await B(),{success:!0}}catch(ee){return console.error("Error unsaving property:",ee),{success:!1,error:ee}}},[u,B]),G=C.useCallback(async(Y,ee={})=>{if(!u)return y("Please log in to apply to properties"),{success:!1};try{const ue=await ble(Y,u.id,ee);if(ue.error)throw ue.error;return r(le=>le.map(xe=>xe.id===Y?{...xe,is_applied:!0,application_status:"pending"}:xe)),await H(),{success:!0,data:ue.data}}catch(ue){return console.error("Error applying to property:",ue),y(ue.message||"Failed to apply to property"),{success:!1,error:ue}}},[u,H]),I=C.useCallback(async Y=>{if(u)try{await wle(Y,u.id),await F()}catch(ee){console.error("Error tracking property view:",ee)}},[u,F]);C.useEffect(()=>{u&&(B(),H(),F())},[u,B,H,F]),C.useEffect(()=>{k(!0)},[x]);const q={properties:t,savedProperties:a,appliedProperties:i,viewedProperties:l,currentUser:u,loading:f,error:g,filters:x,pagination:b,setFilters:N,fetchProperties:k,searchProperties:S,saveProperty:D,unsaveProperty:P,applyToProperty:G,trackPropertyView:I,fetchSavedProperties:B,fetchAppliedProperties:H,fetchViewedProperties:F,setPagination:w,setError:y};return n.jsx(eM.Provider,{value:q,children:e})},Sle=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{e({latitude:r.coords.latitude,longitude:r.coords.longitude,accuracy:r.coords.accuracy})},r=>{t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),SA=async(e,t)=>{try{const r=await fetch(`https://api.postcodes.io/postcodes?lon=${t}&lat=${e}`);if(!r.ok)throw new Error("Failed to get postcode from coordinates");const a=await r.json();return a.result&&a.result.length>0?a.result[0].postcode:null}catch(r){return console.error("Error getting postcode from coordinates:",r),null}},tM=e=>{if(!e)return null;const t=e.replace(/\s+/g,"").toUpperCase();return/^[A-Z]{1,2}[0-9][A-Z0-9]?[0-9][A-Z]{2}$/.test(t)?t.slice(0,-3)+" "+t.slice(-3):null},AA=async e=>{try{const t=tM(e);if(!t)throw new Error("Invalid UK postcode format");const r=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(t)}`);if(!r.ok)throw new Error("Failed to get coordinates from postcode");const a=await r.json();return a.result?{latitude:a.result.latitude,longitude:a.result.longitude,postcode:a.result.postcode,city:a.result.admin_district||a.result.region||""}:null}catch(t){return console.error("Error getting coordinates from postcode:",t),null}},Ale=e=>{if(!e)return null;const t=/\b([A-Z]{1,2}[0-9][A-Z0-9]?[0-9][A-Z]{2})\b/i,r=e.match(t);return r?tM(r[1]):null},EA=async({searchInput:e=null,profileLocation:t=null,useGeolocation:r=!0})=>{let a=null;if(e){const s=Ale(e)||e,i=await AA(s);if(i)return a={type:"search",postcode:i.postcode,latitude:i.latitude,longitude:i.longitude,city:i.city,source:"search_input"},a}if(t){if(t.postcode){const s=await AA(t.postcode);if(s)return a={type:"profile",postcode:s.postcode,latitude:s.latitude,longitude:s.longitude,city:s.city,source:"profile"},a}else if(t.latitude&&t.longitude)return a={type:"profile",postcode:await SA(t.latitude,t.longitude),latitude:t.latitude,longitude:t.longitude,city:t.city||"",source:"profile"},a}if(r)try{const s=await Sle();return a={type:"geolocation",postcode:await SA(s.latitude,s.longitude),latitude:s.latitude,longitude:s.longitude,city:"",source:"browser_geolocation"},a}catch(s){console.warn("Geolocation not available:",s)}return{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"}},Ele=(e,t,r,a)=>{const i=(r-e)*Math.PI/180,o=(a-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 3959*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},rM=C.createContext(),aM=()=>{const e=C.useContext(rM);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e},Tle=({children:e})=>{const[t,r]=C.useState(null),[a,s]=C.useState(null),[i,o]=C.useState(null),[l,c]=C.useState(!0),[u,h]=C.useState(null);C.useEffect(()=>{(async()=>{const{data:{session:b}}=await He.auth.getSession();o((b==null?void 0:b.user)||null)})();const{data:{subscription:N}}=He.auth.onAuthStateChange((b,w)=>{o((w==null?void 0:w.user)||null)});return()=>N.unsubscribe()},[]);const f=C.useCallback(async()=>{if(!i)return null;try{const{data:x,error:N}=await He.from("profiles").select("location, postcode, city, latitude, longitude").eq("id",i.id).single();return N&&N.code!=="PGRST116"?(console.error("Error fetching profile location:",N),null):x}catch(x){return console.error("Error getting profile location:",x),null}},[i]);C.useEffect(()=>{(async()=>{c(!0),h(null);try{const N=await f(),b=await EA({profileLocation:N,useGeolocation:!0});r(b)}catch(N){console.error("Error detecting location:",N),h(N.message),r({type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"})}finally{c(!1)}})()},[f]);const m=C.useCallback(async x=>{c(!0),h(null);try{const N=await EA({searchInput:x,profileLocation:await f(),useGeolocation:!1});return s(N),N}catch(N){return console.error("Error updating location from search:",N),h(N.message),null}finally{c(!1)}},[f]),g=C.useCallback(()=>a||t||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},[a,t]),y={userLocation:t||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},searchLocation:a,activeLocation:g(),loading:l,error:u,updateLocationFromSearch:m,clearSearchLocation:()=>s(null)};return n.jsx(rM.Provider,{value:y,children:e})},k5=async({location:e,radius:t=5,listingStatus:r="both",...a})=>{try{const s=new URLSearchParams;e!=null&&e.postcode?s.append("postcode",e.postcode):e!=null&&e.city&&s.append("city",e.city),e!=null&&e.latitude&&(e!=null&&e.longitude)&&(s.append("lat",e.latitude.toString()),s.append("lng",e.longitude.toString())),s.append("radius",t.toString()),s.append("type",r),s.append("page","1"),s.append("limit","20"),a.minPrice&&s.append("min_price",a.minPrice.toString()),a.maxPrice&&s.append("max_price",a.maxPrice.toString()),a.minBedrooms&&s.append("bedrooms",a.minBedrooms.toString());const i=await fetch(`/api/properties/global?${s.toString()}`);if(!i.ok)throw new Error(`API error: ${i.status} ${i.statusText}`);const o=await i.json();return{properties:o.properties||[],totalResults:o.totalResults||0,source:o.source||"supabase",fallbackUsed:o.fallbackUsed||!1,error:o.error}}catch(s){return{properties:[],totalResults:0,source:"error",fallbackUsed:!0,error:s.message}}},uN=async({location:e,limit:t=10,userId:r=null})=>{try{if(!He)return{properties:[],error:"Supabase not configured"};let a=He.from("viewed_properties").select(`
        property_id,
        view_count,
        properties (*)
      `).order("view_count",{ascending:!1}).limit(t);const{data:s,error:i}=await a;if(i)throw i;let o=(s||[]).map(l=>({...l.properties,view_count:l.view_count||0})).filter(l=>l&&l.status==="online"&&l.country==="UK");if(e!=null&&e.postcode){const l=o.filter(c=>{var u;return(u=c.postcode)==null?void 0:u.toLowerCase().includes(e.postcode.toLowerCase())});l.length>0?o=l:o=o.slice(0,t)}return r&&o.length>0&&(o=await hc(o,r)),{properties:o,error:null}}catch(a){return{properties:[],error:a.message}}},Cle=async({location:e,limit:t=6,userId:r=null})=>{try{if(He){let i=He.from("properties").select("*").eq("country","UK").eq("status","online").order("created_at",{ascending:!1}).limit(t*2);e!=null&&e.postcode?i=i.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(i=i.ilike("city",`%${e.city}%`));const{data:o,error:l}=await i;if(!l&&o&&o.length>0){let c=o.sort((u,h)=>u.featured&&!h.featured?-1:!u.featured&&h.featured?1:u.price>h.price?-1:u.price<h.price?1:new Date(h.created_at)-new Date(u.created_at)).slice(0,t);return r&&c.length>0&&(c=await hc(c,r)),{properties:c,source:"supabase",error:null}}}const a=await k5({location:e,radius:e?5:10,listingStatus:"both",pageSize:t});return{properties:a.properties.sort((i,o)=>i.price>o.price?-1:i.price<o.price?1:new Date(o.created_at)-new Date(i.created_at)).slice(0,t),source:"zoopla",error:a.error}}catch(a){return{properties:[],source:"error",error:a.message}}},nM=async({location:e,radius:t=5,maxRadius:r=20,listingStatus:a="both",...s})=>{let i=t,o=null,l=!1;if(e!=null&&e.postcode&&(o=await k5({location:{...e,postcode:e.postcode},radius:0,listingStatus:a,...s}),o.properties.length>0))return l=!0,{...o,isExactMatch:l,radius:0};for(;i<=r&&(!o||o.properties.length===0)&&(o=await k5({location:e,radius:i,listingStatus:a,...s}),!(o.properties.length>0));)i+=5;return{...o,isExactMatch:l,radius:i,message:l?null:i>t?`No properties found in ${(e==null?void 0:e.postcode)||(e==null?void 0:e.city)||"your area"}. Showing properties within ${i} miles.`:null}},Lle=async(e,t=null)=>{try{if(He){const{data:r,error:a}=await He.from("properties").select("*").eq("id",e).single();if(!a&&r)return t?{data:(await hc([r],t))[0],error:null}:{data:r,error:null}}try{const r=await zooplaService.getPropertyDetails(e);if(r){const a=zooplaService.transformZooplaProperty(r);return t?{data:(await hc([a],t))[0],error:null}:{data:a,error:null}}}catch{}return{data:null,error:{message:"Property not found"}}}catch(r){return{data:null,error:{message:r.message||"Failed to fetch property"}}}},Ple=async(e,t)=>{if(!(!t||!He))try{const{data:r}=await He.from("viewed_properties").select("*").eq("user_id",t).eq("property_id",e).single();r?await He.from("viewed_properties").update({view_count:(r.view_count||1)+1,viewed_at:new Date().toISOString()}).eq("user_id",t).eq("property_id",e):await He.from("viewed_properties").insert({user_id:t,property_id:e,view_count:1,viewed_at:new Date().toISOString()})}catch{}},sM=async({location:e,limit:t=6,userId:r=null,timeWindowDays:a=7})=>{try{if(!He)return{properties:[],error:"Supabase not configured"};const s=new Date;s.setDate(s.getDate()-a);let i=He.from("viewed_properties").select(`
        property_id,
        view_count,
        viewed_at,
        properties (*)
      `).gte("viewed_at",s.toISOString()).order("view_count",{ascending:!1}).order("viewed_at",{ascending:!1});const{data:o,error:l}=await i;if(l)throw l;const{data:c}=await He.from("saved_properties").select("property_id, created_at").gte("created_at",s.toISOString()),{data:u}=await He.from("applied_properties").select("property_id, created_at").gte("created_at",s.toISOString()),h=new Map;(o||[]).forEach(m=>{if(!m.properties)return;const g=m.property_id;h.has(g)||h.set(g,{property:m.properties,viewCount:0,recentViews:0,saves:0,applications:0,trendingScore:0});const y=h.get(g);y.viewCount+=m.view_count||0,y.recentViews+=1}),(c||[]).forEach(m=>{h.has(m.property_id)&&(h.get(m.property_id).saves+=1)}),(u||[]).forEach(m=>{h.has(m.property_id)&&(h.get(m.property_id).applications+=1)}),h.forEach((m,g)=>{m.trendingScore=m.recentViews*1+m.saves*2+m.applications*3});let f=Array.from(h.values()).filter(m=>m.property&&m.property.status==="online"&&m.property.country==="UK").sort((m,g)=>g.trendingScore-m.trendingScore).slice(0,t*2).map(m=>({...m.property,view_count:m.viewCount,recent_views:m.recentViews,saves_count:m.saves,applications_count:m.applications,trending_score:m.trendingScore,trending:!0}));if(e!=null&&e.postcode){const m=f.filter(g=>{var y;return(y=g.postcode)==null?void 0:y.toLowerCase().includes(e.postcode.toLowerCase())});m.length>0&&(f=m)}else if(e!=null&&e.city){const m=f.filter(g=>{var y;return(y=g.city)==null?void 0:y.toLowerCase().includes(e.city.toLowerCase())});m.length>0&&(f=m)}return f=f.slice(0,t),r&&f.length>0&&(f=await hc(f,r)),{properties:f,error:null}}catch(s){return{properties:[],error:s.message}}},hN=async({location:e,limit:t=6,userId:r=null,days:a=30})=>{try{if(!He)return{properties:[],error:"Supabase not configured"};const s=new Date;s.setDate(s.getDate()-a);let i=He.from("properties").select("*").eq("country","UK").eq("status","online").gte("created_at",s.toISOString()).order("created_at",{ascending:!1}).limit(t*2);e!=null&&e.postcode?i=i.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(i=i.ilike("city",`%${e.city}%`));const{data:o,error:l}=await i;if(l)throw l;let c=(o||[]).slice(0,t);return c=c.map(u=>({...u,recently_added:!0,days_since_listed:Math.floor((new Date-new Date(u.created_at))/(1e3*60*60*24))})),r&&c.length>0&&(c=await hc(c,r)),{properties:c,error:null}}catch(s){return{properties:[],error:s.message}}},iM=async({location:e,limit:t=6,userId:r=null})=>{try{if(!He)return{properties:[],error:"Supabase not configured"};let a=He.from("properties").select("*").eq("country","UK").eq("status","online").limit(t*3);e!=null&&e.postcode?a=a.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(a=a.ilike("city",`%${e.city}%`));const{data:s,error:i}=await a;if(i)throw i;if(!s||s.length===0)return{properties:[],error:null};const o=s.map(y=>y.id),{data:l}=await He.from("applied_properties").select("property_id").in("property_id",o),{data:c}=await He.from("saved_properties").select("property_id").in("property_id",o),{data:u}=await He.from("viewed_properties").select("property_id, view_count").in("property_id",o),h={};(l||[]).forEach(y=>{h[y.property_id]=(h[y.property_id]||0)+1});const f={};(c||[]).forEach(y=>{f[y.property_id]=(f[y.property_id]||0)+1});const m={};(u||[]).forEach(y=>{m[y.property_id]=(m[y.property_id]||0)+(y.view_count||1)});let g=s.map(y=>{const x=h[y.id]||0,N=f[y.id]||0,b=m[y.id]||0,w=b>0?N/b:0,k=x*3+N*2+w*100;return{...y,applications_count:x,saves_count:N,view_count:b,save_to_view_ratio:w,demand_score:k,high_demand:k>=5}});return g=g.sort((y,x)=>x.demand_score-y.demand_score).filter(y=>y.high_demand||y.applications_count>0).slice(0,t),r&&g.length>0&&(g=await hc(g,r)),{properties:g,error:null}}catch(a){return{properties:[],error:a.message}}},Mle=async({location:e,limit:t=8,userId:r=null})=>{try{const[a,s,i]=await Promise.all([Cle({location:e,limit:t/3,userId:r}),uN({location:e,limit:t/3,userId:r}),hN({location:e,limit:t/3,userId:r})]),o=new Map;(a.properties||[]).forEach(c=>{c&&c.id&&o.set(c.id,{...c,priority:1})}),(s.properties||[]).forEach(c=>{c&&c.id&&!o.has(c.id)&&o.set(c.id,{...c,priority:2})}),(i.properties||[]).forEach(c=>{c&&c.id&&!o.has(c.id)&&o.set(c.id,{...c,priority:3})});let l=Array.from(o.values()).sort((c,u)=>c.priority-u.priority).slice(0,t);if(l.length<t&&He){const c=t-l.length,u=new Set(l.map(m=>m.id));let h=He.from("properties").select("*").eq("country","UK").eq("status","online").not("id","in",`(${Array.from(u).join(",")})`).order("created_at",{ascending:!1}).limit(c);e!=null&&e.postcode?h=h.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(h=h.ilike("city",`%${e.city}%`));const{data:f}=await h;if(f&&f.length>0){let m=f;r&&(m=await hc(f,r)),l=[...l,...m]}}return{properties:l,error:null}}catch(a){return{properties:[],error:a.message}}},Rle=()=>{const e=br(),{currentUser:t,viewedProperties:r,savedProperties:a,appliedProperties:s}=Zf(),{activeLocation:i}=aM(),{savedProperties:o}=zf(),[l,c]=C.useState(!1),[u,h]=C.useState([]),[f,m]=C.useState(""),[g,y]=C.useState(!1),[x,N]=C.useState(!1),[b,w]=C.useState(!0),[k,S]=C.useState(!1),[B,H]=C.useState([]),[F,D]=C.useState(!1),P=C.useRef(null),G=C.useRef(null),I=C.useRef(null),q=[{text:"Looking for properties near you?",query:"Show me properties near me"},{text:"Find trending properties in your area",query:"Show trending properties"},{text:"Check most viewed homes near your postcode",query:"Show most viewed properties"},{text:"Help me apply for a property",query:"How do I apply for a property?"},{text:"Show rentals under 1500",query:"Find rentals under 1500"}];C.useEffect(()=>{(async()=>{if(t)try{const{data:ne}=await He.from("user_preferences").select("lakshmi_onboarding_completed").eq("user_id",t.id).single();ne!=null&&ne.lakshmi_onboarding_completed?(S(!0),w(!1),D(!1)):(w(!0),D(!0),setTimeout(()=>{D(!1)},6e3))}catch{w(!0),D(!0),setTimeout(()=>{D(!1)},6e3)}else w(!0),D(!0),setTimeout(()=>{D(!1)},6e3);h([])})()},[t]),C.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const X=window.SpeechRecognition||window.webkitSpeechRecognition;G.current=new X,G.current.continuous=!1,G.current.interimResults=!1,G.current.lang="en-GB",G.current.onresult=ne=>{const re=ne.results[0][0].transcript;m(re),N(!1),setTimeout(()=>{K(re)},300)},G.current.onerror=ne=>{console.error("Speech recognition error:",ne.error),N(!1)},G.current.onend=()=>{N(!1)}}return()=>{G.current&&G.current.stop()}},[]),C.useEffect(()=>{Y()},[u]),C.useEffect(()=>{if(!l||!t||u.length===0)return;const ne=setTimeout(()=>{const re=[];r&&r.length>0&&re.push({text:"Find similar properties nearby",query:"Show me similar properties",icon:bn}),o&&o.length>0&&re.push({text:"View my saved properties",query:"Show my saved properties",icon:td}),s&&s.length>0&&re.push({text:"Check my applications",query:"Show my applications",icon:Or}),i!=null&&i.postcode&&re.push({text:`Properties near ${i.postcode}`,query:`Show properties near ${i.postcode}`,icon:aa}),H(re.slice(0,3))},3e3);return()=>clearTimeout(ne)},[l,t,u.length,r,o,s,i]);const Y=()=>{var X;(X=P.current)==null||X.scrollIntoView({behavior:"smooth"})},ee=async()=>{if(t)try{const{error:X}=await He.from("user_preferences").upsert({user_id:t.id,lakshmi_onboarding_completed:!0,updated_at:new Date().toISOString()},{onConflict:"user_id"});X&&X.code!=="42P01"&&console.error("Error saving onboarding status:",X)}catch{console.warn("User preferences table not found")}},ue=X=>{const ne=X.toLowerCase(),re={location:null,bedrooms:null,bathrooms:null,minPrice:null,maxPrice:null,propertyType:null,searchType:null},Z=ne.match(/\b([a-z]{1,2}\d{1,2}[a-z]?\s?\d[a-z]{2})\b/i),ke=ne.match(/\b(london|manchester|birmingham|leeds|edinburgh|glasgow|liverpool|bristol|sheffield|newcastle|cardiff|belfast)\b/),Le=ne.match(/\b(near me|nearby|close to me|in my area)\b/);Z?re.location=Z[1].toUpperCase().replace(/\s/g,""):ke?re.location=ke[1].charAt(0).toUpperCase()+ke[1].slice(1):Le&&i&&(re.location=i.postcode||i.city||"near you");const Oe=ne.match(/\b(\d+)\s*(bed|bedroom|bedrooms|br)\b/);Oe&&(re.bedrooms=parseInt(Oe[1]));const Ge=ne.match(/\b(\d+)\s*(bath|bathroom|bathrooms)\b/);Ge&&(re.bathrooms=parseInt(Ge[1]));const de=ne.match(/\b(under|below|less than|max|maximum)\s*[$]?(\d+[k]?)\b/),Ae=ne.match(/\b(over|above|more than|min|minimum)\s*[$]?(\d+[k]?)\b/),je=ne.match(/\b[$]?(\d+[k]?)\s*(to|-|and)\s*[$]?(\d+[k]?)\b/);if(de){let et=de[2].replace("k","000");re.maxPrice=parseInt(et)}else if(Ae){let et=Ae[2].replace("k","000");re.minPrice=parseInt(et)}else if(je){let et=je[1].replace("k","000"),ae=je[3].replace("k","000");re.minPrice=parseInt(et),re.maxPrice=parseInt(ae)}return ne.match(/\b(rent|rental|renting|to rent|for rent)\b/)?re.propertyType="rent":ne.match(/\b(buy|purchase|sale|for sale|to buy)\b/)&&(re.propertyType="sale"),ne.match(/\b(trending|popular|hot)\b/)?re.searchType="trending":ne.match(/\b(most viewed|most popular|viewed)\b/)?re.searchType="most-viewed":ne.match(/\b(recent|new|newly added|latest)\b/)?re.searchType="recent":ne.match(/\b(high demand|in demand|demand)\b/)&&(re.searchType="high-demand"),re},le=C.useCallback(async()=>{if(!t)return null;try{return{viewedCount:(r==null?void 0:r.length)||0,savedCount:(o==null?void 0:o.length)||0,appliedCount:(s==null?void 0:s.length)||0,location:(i==null?void 0:i.postcode)||(i==null?void 0:i.city)||null,recentViews:(r==null?void 0:r.slice(0,3))||[]}}catch(X){return console.error("Error getting user context:",X),{viewedCount:(r==null?void 0:r.length)||0,savedCount:(o==null?void 0:o.length)||0,appliedCount:(s==null?void 0:s.length)||0,location:(i==null?void 0:i.postcode)||(i==null?void 0:i.city)||null,recentViews:[]}}},[t,r,o,s,i]),xe=async(X,ne)=>{y(!0);try{let re=[],Z="Here are some properties I found:";if(ne.searchType==="trending")re=(await sM({location:ne.location?{postcode:ne.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],Z="Here are trending properties:";else if(ne.searchType==="most-viewed")re=(await uN({location:ne.location?{postcode:ne.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],Z="Here are the most viewed properties:";else if(ne.searchType==="recent")re=(await hN({location:ne.location?{postcode:ne.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],Z="Here are recently added properties:";else if(ne.searchType==="high-demand")re=(await iM({location:ne.location?{postcode:ne.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],Z="Here are high demand properties:";else{const ke=ne.location?{postcode:ne.location}:i||{postcode:"SW1A 1AA"};re=(await nM({location:ke,radius:5,maxRadius:20,listingStatus:ne.propertyType||"both",userId:t==null?void 0:t.id,limit:6})).properties||[],ne.bedrooms&&(re=re.filter(Oe=>Oe.bedrooms>=ne.bedrooms)),ne.bathrooms&&(re=re.filter(Oe=>Oe.bathrooms>=ne.bathrooms)),ne.minPrice&&(re=re.filter(Oe=>Oe.price>=ne.minPrice)),ne.maxPrice&&(re=re.filter(Oe=>Oe.price<=ne.maxPrice))}Se("bot",Z,re.length>0?{type:"properties",properties:re.slice(0,6)}:null),re.length===0&&Se("bot","I couldn't find properties matching your criteria. Try adjusting your search or browse all properties.")}catch(re){console.error("Error searching properties:",re),Se("bot","I encountered an error while searching. Please try again or browse properties manually.")}finally{y(!1)}},oe=async X=>{const ne=X.toLowerCase(),re=await le();if(ne.match(/\b(my|recent|viewed|saved|applied)\b/)){if(ne.match(/\b(viewed|recent|recently viewed)\b/)&&(re==null?void 0:re.viewedCount)>0)return`You've recently viewed ${re.viewedCount} ${re.viewedCount===1?"property":"properties"}. Would you like me to show you similar properties or help you find more?`;if(ne.match(/\b(saved|favorites|favourites)\b/)&&(re==null?void 0:re.savedCount)>0)return`You have ${re.savedCount} saved ${re.savedCount===1?"property":"properties"}. I can help you view them or find similar ones.`;if(ne.match(/\b(applied|applications)\b/)&&(re==null?void 0:re.appliedCount)>0)return`You have ${re.appliedCount} active ${re.appliedCount===1?"application":"applications"}. Would you like to check their status?`}return ne.match(/\b(near me|nearby|in my area|local)\b/)&&(re!=null&&re.location)?`I see you're looking near ${re.location}. Let me find properties in that area for you.`:null},fe=async X=>{const ne=X.toLowerCase().trim();if(b&&!k&&(w(!1),await ee()),ne.match(/\b(hello|hi|hey|greetings|good morning|good afternoon|good evening)\b/)){const Le=await le();let Oe="Hello! How can I help you today?";Le!=null&&Le.location&&(Oe=`Hello! I can help you find properties near ${Le.location} or answer any questions. What would you like to explore?`),Se("bot",Oe);return}const re=await oe(X);if(re){Se("bot",re);return}if(["property","properties","house","flat","apartment","rent","buy","sale","find","search","show","listings","homes"].some(Le=>ne.includes(Le))){const Le=ue(X);await xe(X,Le);return}const ke={dashboard:"/user/dashboard",discover:"/user/dashboard/discover",properties:"/user/dashboard/discover",browse:"/user/dashboard/discover",messages:"/user/dashboard/messages",payments:"/user/dashboard/payments",contracts:"/user/dashboard/contracts",profile:"/user/dashboard/profile",settings:"/user/dashboard/settings",help:"/user/dashboard/help",applications:"/user/dashboard/applications",saved:"/user/dashboard/saved"};for(const[Le,Oe]of Object.entries(ke))if(ne.includes(Le)){setTimeout(()=>e(Oe),500),Se("bot",`I'll take you to ${Le==="properties"||Le==="browse"?"Discover Properties":Le.charAt(0).toUpperCase()+Le.slice(1)} now.`);return}if(ne.includes("how do i apply")){Se("bot",`To apply for a property:
1. Browse properties on the Discover page
2. Click 'View Details' on a property you like
3. Click 'Apply Now' or 'Buy Now'
4. Fill out the application form

I can help you find properties to apply for!`);return}if(ne.includes("how do i save")){Se("bot",`To save a property:
1. Find a property you like
2. Click the heart icon on the property card
3. View all saved properties in the 'Saved' section

Would you like me to show you properties to save?`);return}Se("bot","I can help you search for properties, navigate the platform, or answer questions. Try asking me to find properties, show trending listings, or help with applications. What would you like to do?")},Se=(X,ne,re=null)=>{const Z={id:Date.now()+Math.random(),type:X,text:ne,data:re,timestamp:new Date};h(ke=>[...ke,Z])},K=async(X=null)=>{const ne=X||f.trim();!ne||g||(Se("user",ne),m(""),y(!0),await fe(ne),y(!1))},A=X=>{X.preventDefault(),K()},z=async X=>{w(!1),await ee(),m(X.query),await K(X.query)},O=X=>{H([]),m(X.query),K(X.query)},R=()=>{if(!G.current){Se("bot","Voice input is not available in your browser. Please type your message instead.");return}x?(G.current.stop(),N(!1)):(G.current.start(),N(!0),Se("bot"," Listening... Please speak your query."))},W=X=>{if(!X)return null;let ne=[];if(X.image_urls){if(Array.isArray(X.image_urls))ne=X.image_urls;else if(typeof X.image_urls=="string")try{ne=JSON.parse(X.image_urls)}catch{ne=[]}}const re=[X.address_line_1,X.city,X.postcode].filter(Boolean),Z=re.length>0?re.join(", "):"UK";return{id:X.id,title:X.title||"Property",location:Z,price:X.price||0,type:X.property_type==="rent"?"Rent":X.property_type==="sale"?"Sale":"Property",property_type:X.property_type,beds:X.bedrooms||0,baths:X.bathrooms||0,area:X.property_size_sqm||null,image:ne[0]||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",images:ne.length>0?ne:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"],description:X.description||"",is_saved:X.is_saved||!1,is_applied:X.is_applied||!1,application_status:X.application_status||null,view_count:X.view_count||0,latitude:X.latitude,longitude:X.longitude,listedDate:X.created_at?new Date(X.created_at):new Date,featured:X.featured||!1}};return n.jsxs(n.Fragment,{children:[F&&!l&&n.jsx("div",{className:"fixed bottom-28 right-6 z-50 animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border-2 border-orange-300 dark:border-orange-600 p-4 max-w-xs animate-bounce-subtle",children:[n.jsx("div",{className:"absolute bottom-[-12px] right-8 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[12px] border-t-white dark:border-t-gray-800"}),n.jsx("div",{className:"absolute bottom-[-14px] right-8 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[12px] border-t-orange-300 dark:border-t-orange-600"}),n.jsx("button",{onClick:()=>D(!1),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Dismiss welcome",children:n.jsx(yr,{size:16,className:"text-gray-400 dark:text-gray-500"})}),n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex items-center justify-center animate-pulse-slow",children:n.jsx(kn,{size:24,className:"text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800 animate-ping"})]}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"hi, welcome to the estospaces"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"I'm Lakshmi, your property assistant. Click below to get started!"})]})]}),n.jsxs("button",{onClick:()=>{D(!1),c(!0)},className:"w-full mt-3 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[n.jsx(Nl,{size:16}),n.jsx("span",{children:"Start Chatting"})]})]})}),!l&&n.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:n.jsxs("button",{onClick:()=>{D(!1),c(!0)},className:"px-4 py-3 bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 flex items-center gap-2 relative","aria-label":"Ask Lakshmi",children:[n.jsx(Nl,{size:20,className:"flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:"Ask Lakshmi"}),F&&n.jsx("span",{className:"absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-ping"})]})}),l&&n.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-2xl flex flex-col z-40 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-t-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx(Nl,{size:20,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white text-sm",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"Intelligent Assistant"})]})]}),n.jsx("button",{onClick:()=>c(!1),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close chat",children:n.jsx(yr,{size:20,className:"text-white"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[u.map(X=>{var ne;return n.jsx("div",{className:`flex ${X.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${X.type==="user"?"bg-orange-500 dark:bg-orange-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-600"}`,children:[X.type==="bot"&&n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Nl,{size:14,className:"text-orange-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Ask Lakshmi"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.text}),((ne=X.data)==null?void 0:ne.type)==="properties"&&X.data.properties&&n.jsxs("div",{className:"mt-3 space-y-2",children:[X.data.properties.map(re=>{const Z=W(re);return Z?n.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-2 bg-gray-50 dark:bg-gray-800",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("img",{src:Z.image,alt:Z.title,className:"w-16 h-16 object-cover rounded",onError:ke=>{ke.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 truncate",children:Z.title}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:Z.location}),n.jsxs("p",{className:"text-xs font-bold text-orange-600 dark:text-orange-400 mt-1",children:["",((Z.price||0)/1e3).toFixed(0),"k",Z.type==="Rent"?"/mo":""]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[Z.beds>0&&n.jsxs("span",{children:[Z.beds," bed"]}),Z.baths>0&&n.jsxs("span",{children:[Z.baths," bath"]})]}),n.jsx("button",{onClick:()=>e(`/user/dashboard/property/${re.id}`),className:"mt-2 text-xs text-orange-600 dark:text-orange-400 hover:underline font-medium",children:"View Details "})]})]})},re.id):null}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs("button",{onClick:()=>e("/user/dashboard/discover"),className:"flex-1 text-xs px-3 py-1.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1",children:[n.jsx(vf,{size:12}),"Browse All"]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/discover?view=map"),className:"flex-1 text-xs px-3 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors flex items-center justify-center gap-1",children:[n.jsx(aa,{size:12}),"View on Map"]})]})]})]})},X.id)}),b&&!k&&u.length===0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Try asking:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:q.map((X,ne)=>n.jsx("button",{onClick:()=>z(X),className:"px-3 py-1.5 bg-white dark:bg-gray-800 hover:bg-orange-50 dark:hover:bg-orange-900/20 border border-gray-200 dark:border-gray-700 hover:border-orange-300 dark:hover:border-orange-700 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors",children:X.text},ne))})]}),B.length>0&&u.length>2&&n.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(MC,{size:12}),n.jsx("span",{children:"Suggestions:"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.map((X,ne)=>{const re=X.icon;return n.jsxs("button",{onClick:()=>O(X),className:"px-3 py-1.5 bg-white dark:bg-gray-800 hover:bg-orange-50 dark:hover:bg-orange-900/20 border border-gray-200 dark:border-gray-700 hover:border-orange-300 dark:hover:border-orange-700 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors flex items-center gap-1.5",children:[n.jsx(re,{size:12}),X.text]},ne)}),n.jsx("button",{onClick:()=>H([]),className:"px-2 py-1.5 text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"Dismiss"})]})]}),g&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nl,{size:14,className:"text-orange-500"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),x&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rw,{size:14,className:"text-red-500 animate-pulse"}),n.jsx("span",{className:"text-xs text-red-700 dark:text-red-400",children:"Listening..."})]})})}),n.jsx("div",{ref:P})]}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 rounded-b-lg",children:n.jsxs("form",{onSubmit:A,className:"flex gap-2",children:[n.jsx("input",{ref:I,type:"text",value:f,onChange:X=>m(X.target.value),placeholder:"Ask me anything...",disabled:g,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Type your message to Ask Lakshmi"}),(window.SpeechRecognition||window.webkitSpeechRecognition)&&n.jsx("button",{type:"button",onClick:R,disabled:g,className:`p-2 rounded-lg transition-colors ${x?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":x?"Stop listening":"Start voice input",children:x?n.jsx(CC,{size:18}):n.jsx(Rw,{size:18})}),n.jsx("button",{type:"submit",disabled:!f.trim()||g,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Send message",children:g?n.jsx(Ni,{size:18,className:"animate-spin"}):n.jsx(Ch,{size:18})})]})})]})]})},yi=({children:e})=>{const t=Wn();return n.jsx(Tle,{children:n.jsx(jle,{children:n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-[#0a0a0a] overflow-hidden",children:[n.jsx(mle,{}),n.jsx(gle,{}),n.jsx("main",{className:"flex-1 overflow-y-auto dark:bg-[#0a0a0a]",children:n.jsx($s,{mode:"wait",children:n.jsx(Kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"h-full",children:e},t.pathname)})}),n.jsx(Rle,{})]})})})},Ole=({property:e,onClose:t})=>{const r=e.virtualTourUrl||e.virtualTour,a=!!r;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Virtual Tour"}),n.jsx("p",{className:"text-sm text-gray-600",children:e.title})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yr,{size:24,className:"text-gray-600"})})]}),n.jsx("div",{className:"flex-1 overflow-auto p-4",children:a?n.jsx("div",{className:"aspect-video w-full bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("iframe",{src:r,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Virtual Tour"})}):n.jsx("div",{className:"aspect-video w-full bg-gray-100 rounded-lg flex flex-col items-center justify-center p-8",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Virtual Tour Not Available"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This property doesn't have a virtual tour available at the moment. Please contact us for more information or schedule a viewing."}),n.jsx("button",{onClick:t,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Close"})]})})})]})})},TA=e=>typeof e=="number"?`${e.toLocaleString("en-GB")}`:e||"Price on request",Dle=({property:e,onClose:t})=>{const[r,a]=C.useState(!1),s=`${window.location.origin}/user/dashboard/property/${e.id}`,i=`Check out this property: ${e.title} - ${TA(e.price)}`,o=async()=>{try{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)}catch(u){console.error("Failed to copy:",u)}},l=()=>{const u=encodeURIComponent(`Property: ${e.title}`),h=encodeURIComponent(`${i}

View details: ${s}`);window.location.href=`mailto:?subject=${u}&body=${h}`},c=()=>{const u=encodeURIComponent(`${i}

${s}`);window.open(`https://wa.me/?text=${u}`,"_blank")};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Share Property"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:n.jsx(yr,{size:20})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(_n,{className:"text-blue-600 dark:text-blue-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Share via Email"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send property details via email"})]})]}),n.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(eg,{className:"text-green-600 dark:text-green-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Share via WhatsApp"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share with WhatsApp contacts"})]})]}),n.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r?n.jsx(xh,{className:"text-green-600 dark:text-green-400",size:20}):n.jsx(yV,{className:"text-purple-600 dark:text-purple-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r?"Link Copied!":"Copy Link"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:s})]})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Property Details:"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.location}),n.jsx("p",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 mt-1",children:TA(e.price)})]})]})})},oM=({property:e,onViewDetails:t})=>{const[r,a]=C.useState(0),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(!1),{toggleProperty:h,isPropertySaved:f}=zf(),{saveProperty:m,unsaveProperty:g,applyToProperty:y,trackPropertyView:x,currentUser:N}=Zf(),b=br(),w=e.is_saved!==void 0?e.is_saved:f(e.id),k=e.is_applied||!1,S=e.application_status||null,B=e.view_count||0,H=ue=>{ue==null||ue.stopPropagation(),N&&x(e.id),t?t(e):b(`/user/dashboard/property/${e.id}`)},F=async ue=>{ue.stopPropagation(),N&&(u(!0),w?(await g(e.id),h(e)):(await m(e.id),h(e)),u(!1))},D=async ue=>{ue.stopPropagation(),N&&b(`/user/dashboard/property/${e.id}?action=buy`)},P=e.images||[e.image].filter(Boolean).slice(0,4),G=P.length>1,I=ue=>{ue.stopPropagation(),a(le=>(le+1)%P.length)},q=ue=>{ue.stopPropagation(),a(le=>(le-1+P.length)%P.length)},Y=ue=>{var le;if(typeof ue=="number"){const xe=`${ue.toLocaleString("en-GB")}`;return e.property_type==="rent"||((le=e.type)==null?void 0:le.toLowerCase())==="rent"?`${xe}/month`:xe}return ue},ee=ue=>{if(!ue)return"";const le=Math.floor((new Date-new Date(ue))/(1e3*60*60*24));return le===0?"Listed today":le===1?"Listed 1 day ago":le<7?`Listed ${le} days ago`:le<14?"Listed 1 week ago":`Listed ${Math.floor(le/7)} weeks ago`};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 dark:border-gray-300 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"relative h-56 bg-gray-200 overflow-hidden",children:[P.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:P[r],alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:ue=>{ue.target.src="https://via.placeholder.com/400x300?text=Property+Image"}}),G&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:q,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:n.jsx(ic,{size:16,className:"text-gray-700"})}),n.jsx("button",{onClick:I,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:n.jsx(El,{size:16,className:"text-gray-700"})}),n.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5",children:P.map((ue,le)=>n.jsx("button",{onClick:xe=>{xe.stopPropagation(),a(le)},className:`h-1.5 rounded-full transition-all ${le===r?"bg-white w-4":"bg-white/50 w-1.5 hover:bg-white/75"}`},le))})]})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No Image"})}),e.type&&n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-800 px-2.5 py-1 rounded-md text-sm font-medium",children:e.type})}),n.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[n.jsx("button",{onClick:F,disabled:c,className:`p-2 rounded-full backdrop-blur-sm transition-all ${w?"bg-red-500 text-white":"bg-white/90 dark:bg-white/90 text-gray-700 dark:text-gray-800 hover:bg-white dark:hover:bg-white"} ${c?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from saved":"Save property",title:w?"Saved":"Save property",children:n.jsx(td,{size:16,className:w?"fill-current":""})}),k&&n.jsx("button",{className:"p-2 rounded-full backdrop-blur-sm bg-green-500 text-white",title:`Applied - ${S}`,children:n.jsx(Ar,{size:16,className:"fill-current"})}),B>0&&n.jsxs("div",{className:"p-2 rounded-full backdrop-blur-sm bg-blue-500 text-white flex items-center gap-1",title:`Viewed ${B} time${B>1?"s":""}`,children:[n.jsx(fa,{size:14}),n.jsx("span",{className:"text-xs font-medium",children:B})]})]}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsx("span",{className:"bg-white/95 backdrop-blur-sm text-gray-900 px-3 py-1.5 rounded-md font-semibold text-lg",children:Y(e.price)})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-900 mb-1 line-clamp-1",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-700 mb-3 flex items-center gap-1",children:[n.jsx(aa,{size:14,className:"text-gray-400 dark:text-gray-600"}),n.jsx("span",{className:"line-clamp-1",children:e.location})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-700 mb-3",children:[e.beds&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(du,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.beds," Bed",e.beds>1?"s":""]})]}),e.baths&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ph,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.baths," Bath",e.baths>1?"room":""]})]}),e.area&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(bf,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.area," sqft"]})]})]}),e.rating&&n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jl,{size:14,className:"text-yellow-400 fill-yellow-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-900",children:e.rating})]}),e.reviews&&n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-700",children:["(",e.reviews,")"]}),e.listedDate&&n.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-600 ml-auto",children:ee(e.listedDate)})]}),e.tags&&e.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:e.tags.slice(0,3).map((ue,le)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-200 text-gray-700 dark:text-gray-800 text-xs rounded-md",children:ue},le))}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:H,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:"View Details"}),!k&&n.jsx("button",{onClick:D,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Buy Now"}),k&&n.jsx("button",{onClick:()=>b("/user/dashboard/applications"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors",children:"View Application"}),n.jsx("button",{onClick:ue=>{ue.stopPropagation(),i(!0)},className:"px-4 py-2 border border-gray-300 dark:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-100 text-gray-700 dark:text-gray-800 rounded-lg text-sm font-medium transition-colors",children:"Virtual Tour"}),n.jsx("button",{onClick:ue=>{ue.stopPropagation(),l(!0)},className:"p-2 border border-gray-300 dark:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-100 text-gray-700 dark:text-gray-800 rounded-lg transition-colors",title:"Share property",children:n.jsx(Fo,{size:16})})]})]})]}),s&&n.jsx(Ole,{property:e,onClose:()=>i(!1)}),o&&n.jsx(Dle,{property:e,onClose:()=>l(!1)})]})},Ile=()=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 animate-pulse",children:[n.jsx("div",{className:"h-56 bg-gray-300"}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-18"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("div",{className:"h-10 bg-gray-200 rounded flex-1"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-28"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-10"})]})]})]}),Fle=({properties:e=[],userLocation:t=null,onPropertyClick:r=null})=>{var k;const a=br(),[s,i]=C.useState(null),o={lat:51.5074,lng:-.1278},[l,c]=C.useState(()=>{try{return t&&t.latitude&&t.longitude?{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)}:o}catch(S){return console.error("Error setting map center:",S),o}}),[u,h]=C.useState(12),f=C.useMemo(()=>{try{return!e||!Array.isArray(e)||e.length===0?[]:!t||!t.latitude||!t.longitude?e.map(S=>({...S,distance:null,category:"other"})):e.map(S=>{if(!S||!S.latitude||!S.longitude)return{...S,distance:null,category:"other"};try{const B=Ele(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(S.latitude),parseFloat(S.longitude));let H="other";return B<=1?H="very-near":B<=3?H="near":B<=5?H="moderate":H="far",{...S,distance:Math.round(B*10)/10,category:H}}catch(B){return console.error("Error calculating distance:",B),{...S,distance:null,category:"other"}}})}catch(S){return console.error("Error processing properties:",S),e||[]}},[e,t]),g=C.useMemo(()=>[...f].sort((S,B)=>S.distance===null?1:B.distance===null?-1:S.distance-B.distance),[f]).filter(S=>S.latitude&&S.longitude),y=C.useMemo(()=>{if(g.length===0)return null;const S=g.map(H=>parseFloat(H.latitude)),B=g.map(H=>parseFloat(H.longitude));return{minLat:Math.min(...S),maxLat:Math.max(...S),minLng:Math.min(...B),maxLng:Math.max(...B)}},[g]);lc.useEffect(()=>{if(y&&g.length>0){const S=(y.minLat+y.maxLat)/2,B=(y.minLng+y.maxLng)/2;c({lat:S,lng:B})}else t&&t.latitude&&c({lat:t.latitude,lng:t.longitude})},[y,t,g.length]);const x=S=>{i(S),r&&r(S)},N=S=>{a(`/user/dashboard/property/${S.id}`)},b=S=>{switch(S){case"very-near":return"bg-green-500";case"near":return"bg-orange-500";case"moderate":return"bg-yellow-500";case"far":return"bg-gray-400";default:return"bg-blue-500"}},w=(S,B,H)=>{if(!H){const I=(S-l.lat)*100/.1;return{left:`${50+(B-l.lng)*100/.1}%`,top:`${50-I}%`}}const F=H.maxLat-H.minLat||.1,D=H.maxLng-H.minLng||.1,P=(B-H.minLng)/D*100,G=(H.maxLat-S)/F*100;return{left:`${Math.max(5,Math.min(95,P))}%`,top:`${Math.max(5,Math.min(95,G))}%`}};return n.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"relative w-full h-full bg-gradient-to-br from-blue-50 via-green-50 to-blue-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800",children:[n.jsx("div",{className:"absolute inset-0 opacity-20 dark:opacity-10",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle, #3b82f6 1px, transparent 1px)",backgroundSize:`${40/u}px ${40/u}px`}})}),t&&t.latitude&&n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-20",style:w(t.latitude,t.longitude,y),children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center animate-pulse",children:n.jsx(UV,{size:14,className:"text-white"})}),n.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Your Location"})]})}),g.map(S=>{var H;const B=w(parseFloat(S.latitude),parseFloat(S.longitude),y);return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:B,children:n.jsxs("button",{onClick:()=>x(S),className:"relative group",children:[n.jsx("div",{className:`w-10 h-10 ${b(S.category)} rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer`,children:n.jsx(gr,{size:20,className:"text-white"})}),S.distance!==null&&n.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 whitespace-nowrap bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:[S.distance," mi"]}),(s==null?void 0:s.id)===S.id&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 z-30 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm mb-1",children:S.title||"Property"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:S.address_line_1||S.city||"UK"}),n.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["",(H=S.price)==null?void 0:H.toLocaleString(),S.property_type==="rent"&&"/month"]}),S.distance!==null&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[S.distance," miles away"]})]}),n.jsx("button",{onClick:F=>{F.stopPropagation(),i(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 ml-2",children:n.jsx(yr,{size:16})})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400 mb-3",children:[S.bedrooms>0&&n.jsxs("span",{children:[S.bedrooms," Bed",S.bedrooms!==1?"s":""]}),S.bathrooms>0&&n.jsxs("span",{children:[S.bathrooms," Bath",S.bathrooms!==1?"s":""]})]}),n.jsx("button",{onClick:()=>N(S),className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"View Details"})]})]})},S.id)}),n.jsxs("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-gray-200 dark:border-gray-700 z-20",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Distance"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Very Near (<1 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Near (1-3 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Moderate (3-5 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Far (5+ mi)"})]})]})]}),n.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 z-20",children:[n.jsx("button",{onClick:()=>h(S=>Math.min(20,S+1)),className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(Hq,{size:20,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>h(S=>Math.max(5,S-1)),className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(Gq,{size:20,className:"text-gray-700 dark:text-gray-300"})})]}),n.jsx("div",{className:"absolute top-4 left-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg px-4 py-2 border border-gray-200 dark:border-gray-700 z-20",children:n.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[g.length," ",g.length===1?"Property":"Properties"," Nearby"]})})]}),s&&n.jsxs("div",{className:"absolute top-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 z-30 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Property Details"}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(yr,{size:20})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.address_line_1}),n.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["",(k=s.price)==null?void 0:k.toLocaleString(),s.property_type==="rent"&&"/month"]}),s.distance!==null&&n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.distance," miles away"]})]})]})]})},Ble=()=>n.jsxs("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:[n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"ESTOSPACES.COM"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Contact Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/find-agent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Find an Agent"})}),n.jsx("li",{children:n.jsx("a",{href:"/sitemap",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Sitemap"})}),n.jsx("li",{children:n.jsx("a",{href:"/careers",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Careers"})}),n.jsx("li",{children:n.jsx("a",{href:"/faq",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"FAQ"})}),n.jsx("li",{children:n.jsx("a",{href:"/mobile-apps",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Mobile Apps"})}),n.jsx("li",{children:n.jsx("a",{href:"/promote-property",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Promote Your Property"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-settings",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Change privacy settings"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"Search"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/search-homes-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search homes for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/search-homes-for-rent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search homes for rent"})}),n.jsx("li",{children:n.jsx("a",{href:"/commercial-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Commercial for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/commercial-to-rent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Commercial to rent"})}),n.jsx("li",{children:n.jsx("a",{href:"/overseas-homes-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Overseas homes for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/search-sold-house-prices",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search sold house prices"})}),n.jsx("li",{children:n.jsx("a",{href:"/find-agent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Find an agent"})}),n.jsx("li",{children:n.jsx("a",{href:"/student-accommodation",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Student accommodation"})}),n.jsx("li",{children:n.jsx("a",{href:"/retirement-homes",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Retirement homes"})}),n.jsx("li",{children:n.jsx("a",{href:"/new-homes",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"New homes"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"Locations"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/locations/major-towns-cities-uk",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Major towns and cities in the UK"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/london",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"London"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/cornwall",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Cornwall"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/glasgow",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Glasgow"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/cardiff",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Cardiff"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/edinburgh",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Edinburgh"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/spain",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Spain"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/france",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"France"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/portugal",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Portugal"})})]})]})]})}),n.jsx("div",{className:"border-t border-gray-300",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"2026 Copyright Reserved"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[n.jsx("a",{href:"/privacy",className:"hover:text-orange-600 transition-colors",children:"Privacy Policy"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/cookies",className:"hover:text-orange-600 transition-colors",children:"Cookie Policy"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/terms",className:"hover:text-orange-600 transition-colors",children:"Terms & Conditions"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/hosting-terms",className:"hover:text-orange-600 transition-colors",children:"Hosting Terms"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:"https://www.facebook.com/estospaces",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"Facebook",children:n.jsx("span",{className:"text-lg font-bold",children:"f"})}),n.jsx("a",{href:"https://x.com/ESTOSPACES",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"X (Twitter)",children:n.jsx(RC,{size:18})}),n.jsx("a",{href:"https://www.instagram.com/estospaces/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"Instagram",children:n.jsx(AC,{size:18})}),n.jsx("a",{href:"https://www.linkedin.com/company/estospaces-solutions-private-limited",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"LinkedIn",children:n.jsx(TC,{size:18})})]})]})})})]}),CA=()=>{const e=br(),[t,r]=R_(),{savedProperties:a}=zf(),{activeLocation:s,loading:i,updateLocationFromSearch:o}=aM(),{currentUser:l,fetchProperties:c}=Zf(),{activeTab:u,setActiveTab:h}=U_();C.useEffect(()=>{const je=window.location.pathname;je.startsWith("/user/dashboard/")&&je!=="/user/dashboard"&&!je.match(/^\/user\/dashboard\/(discover|saved|applications|viewings|messages|reviews|payments|contracts|settings|help|profile|property\/[^/]+)$/)&&e("/user/dashboard",{replace:!0})},[e]);const[f,m]=C.useState(()=>t.get("location")||""),[g,y]=C.useState(()=>{const je=t.get("type");return je==="buy"||je==="rent"||je==="sold"?je:"sold"});C.useEffect(()=>{const je=t.get("type");je==="buy"||je==="rent"||je==="sold"?y(je):je||y("sold")},[t]);const[x,N]=C.useState([]),[b,w]=C.useState([]),[k,S]=C.useState([]),[B,H]=C.useState([]),[F,D]=C.useState([]),[P,G]=C.useState(!0),[I,q]=C.useState(!1),[Y,ee]=C.useState(!1),[ue,le]=C.useState(!1),[xe,oe]=C.useState(!1),[fe,Se]=C.useState(!1),[K,A]=C.useState(null),[z,O]=C.useState(null),[R,W]=C.useState({totalProperties:0,savedCount:0,applicationsCount:0}),X=C.useCallback(async(je,et=!0)=>{var ae,De,Ke,at,yt;if(je){et&&(G(!0),q(!0),ee(!0),le(!0),oe(!0),Se(!0)),A(null),O(null);try{const[wt,it,jt,Et,Te]=await Promise.all([Mle({location:je,limit:8,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),uN({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),sM({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),hN({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),iM({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message}))]);N(wt.properties||[]),w(it.properties||[]),S(jt.properties||[]),H(Et.properties||[]),D(Te.properties||[]);const st=(((ae=wt.properties)==null?void 0:ae.length)||0)+(((De=it.properties)==null?void 0:De.length)||0)+(((Ke=jt.properties)==null?void 0:Ke.length)||0)+(((at=Et.properties)==null?void 0:at.length)||0)+(((yt=Te.properties)==null?void 0:yt.length)||0);if(W(gt=>({...gt,totalProperties:st})),st===0){const gt=await nM({location:je,radius:5,maxRadius:20,listingStatus:"both",userId:l==null?void 0:l.id});if(gt.properties&&gt.properties.length>0){const _t=gt.properties;N(_t.slice(0,8)),w(_t.slice(0,6)),S(_t.slice(0,6)),H(_t.slice(0,6)),D(_t.slice(0,6)),O(gt.message||"Showing similar properties near your search area."),W(wr=>({...wr,totalProperties:_t.length}))}else O("No properties found in this area or nearby. Please try a different location.")}}catch(wt){A(wt.message||"Failed to load properties. Please check your connection and try again.")}finally{et&&(G(!1),q(!1),ee(!1),le(!1),oe(!1),Se(!1))}}},[l]),[ne,re]=C.useState(!1),[Z,ke]=C.useState(()=>t.get("filter")||null);C.useEffect(()=>{const je=t.get("type");je==="buy"||je==="rent"||je==="sold"?y(je):(!je||window.location.pathname==="/user/dashboard")&&y("sold")},[t]),C.useEffect(()=>{const je=t.get("filter");ke(je||null)},[t]),C.useEffect(()=>{const je=et=>{ne&&!et.target.closest(".filter-dropdown-container")&&re(!1)};return document.addEventListener("mousedown",je),()=>document.removeEventListener("mousedown",je)},[ne]),C.useEffect(()=>{if(i)return;const je=t.get("location");if(je&&je.trim())return;X(s||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},!0)},[s,i,t,X]),C.useEffect(()=>{W(je=>({...je,savedCount:a.length}))},[a]);const Le=C.useCallback(async(je,et=null)=>{je==null||je.preventDefault();const ae=(et||f||"").trim();if(!ae){A("Please enter a postcode, street name, or address to search.");return}G(!0),A(null),O(null);try{const De=await o(ae);De?(r({location:ae}),et&&m(et),await X(De,!1)):A("Could not find location. Please check the postcode, street name, or address and try again.")}catch(De){console.error("Error searching location:",De),A(De.message||"Failed to search location. Please check your connection and try again.")}finally{G(!1)}},[f,o,r,X]);C.useEffect(()=>{const je=et=>{const{query:ae}=et.detail;ae&&(m(ae),setTimeout(()=>{Le({preventDefault:()=>{}},ae)},100))};return window.addEventListener("headerLocationSearch",je),()=>{window.removeEventListener("headerLocationSearch",je)}},[Le]);const Oe=C.useMemo(()=>{try{return[...x||[],...b||[],...k||[],...B||[],...F||[]].filter((ae,De,Ke)=>ae&&ae.id&&De===Ke.findIndex(at=>at&&at.id===ae.id))}catch(je){return console.error("Error combining properties:",je),[]}},[x,b,k,B,F]),Ge=C.useMemo(()=>{try{return Oe.filter(je=>je&&je.latitude&&je.longitude).map(je=>({id:je.id,name:je.title||"Property",lat:parseFloat(je.latitude),lng:parseFloat(je.longitude),price:`${((je.price||0)/1e3).toFixed(0)}k`,address:je.address_line_1||je.city||"UK"}))}catch(je){return console.error("Error formatting map properties:",je),[]}},[Oe]),de=async je=>{l&&je.id&&await Ple(je.id,l.id),e(`/user/dashboard/property/${je.id}`)},Ae=s||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"};return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen",children:[n.jsxs("div",{className:"relative rounded-xl shadow-2xl overflow-hidden min-h-[500px] lg:min-h-[600px] flex flex-col items-center justify-center mb-8",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1549517045-bc93de075e53?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/70"}),n.jsxs("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 text-center z-10 w-full px-4",children:[n.jsx("p",{className:"text-4xl lg:text-5xl font-bold mb-3 text-orange-500",children:"Your complete property journey, simplified."}),n.jsx("p",{className:"text-xl lg:text-2xl text-white font-medium",children:"Search, rent, buy, manage properties, and pay bills  all from one intelligent platform."})]}),n.jsx("div",{className:"relative z-10 w-full max-w-4xl mx-auto px-4 mt-32",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 lg:p-8 shadow-2xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/20 pb-4",children:[n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("buy"),r({type:"buy"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${g==="buy"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Buy"}),n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("rent"),r({type:"rent"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${g==="rent"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Rent"}),n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("sold"),r({type:"sold"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${g==="sold"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Sold"}),n.jsxs("div",{className:"relative ml-auto filter-dropdown-container",children:[n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),re(!ne)},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium flex items-center gap-2 ${Z?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20 border border-white/30"}`,children:[n.jsx(Io,{size:16}),n.jsx("span",{children:"Filter"}),n.jsx(yh,{size:16,className:`transition-transform duration-200 ${ne?"rotate-180":""}`})]}),ne&&n.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-2xl z-50 overflow-hidden",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke(null);const et=new URLSearchParams(t);et.delete("filter"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${Z?"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium"}`,children:"All Properties"}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("most-viewed");const et=new URLSearchParams(t);et.set("filter","most-viewed"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${Z==="most-viewed"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(fa,{size:14,className:Z==="most-viewed"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Most Viewed"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("trending");const et=new URLSearchParams(t);et.set("filter","trending"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${Z==="trending"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(bn,{size:14,className:Z==="trending"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Trending"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("high-demand");const et=new URLSearchParams(t);et.set("filter","high-demand"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${Z==="high-demand"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(wf,{size:14,className:Z==="high-demand"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"High Demand"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("budget-friendly");const et=new URLSearchParams(t);et.set("filter","budget-friendly"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${Z==="budget-friendly"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(Tl,{size:14,className:Z==="budget-friendly"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Budget Friendly"]})]})})]})]}),n.jsxs("p",{className:"text-white text-sm mb-4",children:[g==="buy"&&"Search properties for sale",g==="rent"&&"Search properties for rent",g==="sold"&&"Search sold house prices"]}),n.jsxs("form",{onSubmit:Le,className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:n.jsx(us,{className:"text-gray-400",size:20})}),n.jsx("input",{type:"text",value:f,onChange:je=>m(je.target.value),placeholder:"School Road, SW4 7DD or York",className:"w-full pl-12 pr-4 py-4 text-base bg-white/95 backdrop-blur-sm text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 border border-white/30 placeholder-gray-400",disabled:P,"aria-label":"Search for properties by location"}),f.trim()&&n.jsx("button",{type:"button",onClick:()=>{m(""),r({}),A(null),O(null)},className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Clear search",children:n.jsx(yr,{size:18})})]}),n.jsx("button",{type:"submit",disabled:P,onClick:je=>{var ae;je.preventDefault(),je.stopPropagation();const et=f.trim();if(et&&!P)Le(je);else if(!et){A("Please enter a postcode, street name, or address to search.");const De=(ae=je.target.closest("form"))==null?void 0:ae.querySelector('input[type="text"]');De&&De.focus()}},className:"px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[140px] shadow-lg hover:shadow-xl","aria-label":"Search for properties",children:P?n.jsxs(n.Fragment,{children:[n.jsx(Ni,{className:"animate-spin",size:20}),n.jsx("span",{className:"hidden sm:inline",children:"Searching..."})]}):n.jsx("span",{children:"Search"})})]})]})})]}),n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-white dark:to-white rounded-xl shadow-lg border-2 border-orange-200 dark:border-orange-300 p-6 lg:p-8 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(MC,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:["Welcome back",l!=null&&l.email?`, ${l.email.split("@")[0]}`:"","!"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),n.jsx("p",{className:"text-gray-700 text-sm lg:text-base mb-4",children:"Discover your perfect property or manage your existing ones. Use the search above to find properties by location, or explore nearby listings on the map."}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:()=>e("/user/dashboard/discover?type=buy"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(gr,{size:16}),n.jsx("span",{children:"Browse Properties"}),n.jsx(gh,{size:14})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/saved"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(td,{size:16}),n.jsxs("span",{children:["Saved (",a.length||0,")"]})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/applications"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(Or,{size:16}),n.jsx("span",{children:"My Applications"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:w-auto",children:[n.jsx("div",{className:"bg-white/80 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(gr,{size:20,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Oe.length||0}),n.jsx("p",{className:"text-xs text-gray-600",children:"Properties Available"})]})]})}),n.jsx("div",{className:"bg-white/80 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(aa,{size:20,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(s==null?void 0:s.city)||"London"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Current Location"})]})]})})]})]})}),K&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:K}),n.jsx("button",{onClick:()=>A(null),className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Dismiss"})]})]}),z&&!K&&n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(ba,{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:z}),n.jsx("button",{onClick:()=>O(null),className:"mt-2 text-xs text-yellow-600 dark:text-yellow-400 hover:underline",children:"Dismiss"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vf,{className:"text-orange-500",size:20}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500",children:"Nearby Properties"})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Explore properties on the map - click markers to view details"})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/discover"),className:"flex items-center gap-2 px-4 py-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium transition-colors",children:[n.jsx("span",{children:"Browse All Properties"}),n.jsx(gh,{size:16})]})]}),P||i?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ni,{className:"animate-spin mx-auto mb-4 text-orange-500",size:48}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading nearby properties..."})]})})}):K?n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[n.jsx(ba,{className:"mx-auto mb-4 text-red-600 dark:text-red-400",size:48}),n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:K}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Retry"})]}):Oe&&Oe.length===0?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(aa,{className:"mx-auto mb-4 text-gray-400",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No properties found"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Try searching for a different location or browse all properties."}),n.jsx("button",{onClick:()=>e("/user/dashboard/discover"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse All Properties"})]})})}):n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px]",children:n.jsx(Fle,{properties:Ge||[],userLocation:Ae,onPropertyClick:de})})})]}),n.jsx(Ble,{})]})},zle=({houses:e=[],agencies:t=[]})=>{const[r,a]=C.useState(null),s=e.length>0?e:[{id:1,name:"Modern Downtown Apartment",lat:37.7749,lng:-122.4194,price:"$450k",address:"123 Main St"},{id:2,name:"Luxury Condo",lat:37.7849,lng:-122.4094,price:"$675k",address:"456 Ocean Ave"},{id:3,name:"Spacious Family Home",lat:37.7649,lng:-122.4294,price:"$520k",address:"789 Park Blvd"}],i=t.length>0?t:[{id:1,name:"Prime Realty Group",lat:37.7799,lng:-122.4144,address:"100 Market St"},{id:2,name:"Elite Properties",lat:37.7699,lng:-122.4244,address:"200 Broadway"},{id:3,name:"City View Realty",lat:37.7599,lng:-122.4344,address:"300 Mission St"}],o=(c,u)=>{a({...c,type:u})},l=()=>{a(null)};return n.jsx("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:n.jsxs("div",{className:"relative w-full h-full bg-gradient-to-br from-blue-50 via-green-50 to-blue-50",children:[n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle, #3b82f6 1px, transparent 1px)",backgroundSize:"40px 40px"}})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm px-6 py-4 rounded-lg shadow-lg",children:[n.jsx(aa,{size:48,className:"mx-auto mb-2 text-orange-500"}),n.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"Interactive Map View"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click markers to view details"})]})}),n.jsxs("div",{className:"absolute inset-0",children:[s.map((c,u)=>{const h=[{left:"25%",top:"35%"},{left:"65%",top:"45%"},{left:"45%",top:"65%"}],f=h[u]||h[0];return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:f,children:n.jsxs("button",{onClick:()=>o(c,"house"),className:"relative group",children:[n.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",children:n.jsx(gr,{size:20,className:"text-white"})}),(r==null?void 0:r.id)===c.id&&(r==null?void 0:r.type)==="house"&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-56 bg-white rounded-lg shadow-xl p-4 z-20 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.name}),n.jsx("button",{onClick:m=>{m.stopPropagation(),l()},className:"text-gray-400 hover:text-gray-600 ml-2",children:n.jsx(yr,{size:16})})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:c.address}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.price})]})]})},`house-${c.id}`)}),i.map((c,u)=>{const h=[{left:"50%",top:"30%"},{left:"30%",top:"60%"},{left:"70%",top:"55%"}],f=h[u]||h[0];return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:f,children:n.jsxs("button",{onClick:()=>o(c,"agency"),className:"relative group",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",children:n.jsx(dc,{size:20,className:"text-white"})}),(r==null?void 0:r.id)===c.id&&(r==null?void 0:r.type)==="agency"&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-56 bg-white rounded-lg shadow-xl p-4 z-20 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.name}),n.jsx("button",{onClick:m=>{m.stopPropagation(),l()},className:"text-gray-400 hover:text-gray-600 ml-2",children:n.jsx(yr,{size:16})})]}),n.jsx("p",{className:"text-xs text-gray-600",children:c.address})]})]})},`agency-${c.id}`)})]}),n.jsx("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3 border border-gray-200 z-10",children:n.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Properties"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Agencies"})]})]})}),r&&n.jsx("div",{className:"absolute inset-0 z-0",onClick:l})]})})},Ule=async e=>{if(!e||e.length<2)return[];try{const t=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(e)}/autocomplete`);if(!t.ok)return _2(e);const r=await t.json();return r.result&&r.result.length>0?r.result.slice(0,10):_2(e)}catch(t){return console.warn("Postcode API error, using mock suggestions:",t),_2(e)}},_2=e=>{const t=e.toLowerCase();return["SW1A 1AA","SW1A 2AA","SW1E 5DJ","SW1H 0TL","SW1P 3BT","SW1W 0DT","SW2 1AA","SW3 1AA","SW4 1AA","SW5 1AA","SW6 1AA","SW7 1AA","SW8 1AA","SW9 1AA","SW10 1AA","W1A 1AA","W1B 1AA","W1C 1AA","W1D 1AA","W1F 1AA","W1G 1AA","W1H 1AA","W1J 1AA","W1K 1AA","W1S 1AA","W1T 1AA","W1U 1AA","W1W 1AA","W2 1AA","W3 1AA","W4 1AA","W5 1AA","W6 1AA","W7 1AA","W8 1AA","W9 1AA","W10 1AA","W11 1AA","W12 1AA","W14 1AA","EC1A 1BB","EC1M 1AA","EC1N 1AA","EC1R 1AA","EC1V 1AA","EC2A 1AA","EC2M 1AA","EC2N 1AA","EC2P 1AA","EC2R 1AA","EC2V 1AA","EC3A 1AA","EC3M 1AA","EC3N 1AA","EC3P 1AA","EC3R 1AA","EC3V 1AA","EC4A 1AA","EC4M 1AA","EC4N 1AA","EC4P 1AA","EC4R 1AA","EC4V 1AA","EC4Y 1AA","N1 1AA","N2 1AA","N3 1AA","N4 1AA","N5 1AA","N6 1AA","N7 1AA","N8 1AA","N9 1AA","N10 1AA","E1 1AA","E2 1AA","E3 1AA","E4 1AA","E5 1AA","E6 1AA","E7 1AA","E8 1AA","E9 1AA","E10 1AA","SE1 1AA","SE2 1AA","SE3 1AA","SE4 1AA","SE5 1AA","SE6 1AA","SE7 1AA","SE8 1AA","SE9 1AA","SE10 1AA","NW1 1AA","NW2 1AA","NW3 1AA","NW4 1AA","NW5 1AA","NW6 1AA","NW7 1AA","NW8 1AA","NW9 1AA","NW10 1AA","NW11 1AA","M1 1AA","M2 1AA","M3 1AA","M4 1AA","M5 1AA","M6 1AA","M7 1AA","M8 1AA","M9 1AA","M10 1AA","M11 1AA","M12 1AA","M13 1AA","M14 1AA","M15 1AA","M16 1AA","M17 1AA","M18 1AA","M19 1AA","M20 1AA","B1 1AA","B2 1AA","B3 1AA","B4 1AA","B5 1AA","B6 1AA","B7 1AA","B8 1AA","B9 1AA","B10 1AA","B11 1AA","B12 1AA","B13 1AA","B14 1AA","B15 1AA","L1 1AA","L2 1AA","L3 1AA","L4 1AA","L5 1AA","L6 1AA","L7 1AA","L8 1AA","L9 1AA","L10 1AA","LS1 1AA","LS2 1AA","LS3 1AA","LS4 1AA","LS5 1AA","LS6 1AA","LS7 1AA","LS8 1AA","LS9 1AA","LS10 1AA","EH1 1AA","EH2 1AA","EH3 1AA","EH4 1AA","EH5 1AA","EH6 1AA","EH7 1AA","EH8 1AA","EH9 1AA","EH10 1AA","G1 1AA","G2 1AA","G3 1AA","G4 1AA","G5 1AA","G11 1AA","G12 1AA","G13 1AA","G14 1AA","G15 1AA","BS1 1AA","BS2 1AA","BS3 1AA","BS4 1AA","BS5 1AA","BS6 1AA","BS7 1AA","BS8 1AA","BS9 1AA","BS10 1AA","PR1 1AA","PR2 1AA","PR3 1AA","PR4 1AA","PR5 1AA","PR6 1AA","PR7 1AA","PR8 1AA","PR9 1AA","PR25 1AA","OX1 1AA","OX2 1AA","OX3 1AA","OX4 1AA","OX5 1AA","CV1 1AA","CV2 1AA","CV3 1AA","CV4 1AA","CV5 1AA","NG1 1AA","NG2 1AA","NG3 1AA","NG4 1AA","NG5 1AA","S1 1AA","S2 1AA","S3 1AA","S4 1AA","S5 1AA","BD1 1AA","BD2 1AA","BD3 1AA","BD4 1AA","BD5 1AA"].filter(s=>s.toLowerCase().startsWith(t)).slice(0,10)},Vle=async e=>{if(!e||e.length<5)return[];try{const r=e.replace(/\s+/g,"").toUpperCase().replace(/^([A-Z]{1,2}[0-9][A-Z0-9]?)([0-9][A-Z]{2})$/,"$1 $2"),a=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(r)}`);if(!a.ok)return $le(r);const s=await a.json();if(s.result){const i={line1:s.result.thoroughfare||"",line2:s.result.dependent_thoroughfare||"",city:s.result.post_town||s.result.admin_district||"",county:s.result.admin_county||s.result.admin_district||"",postcode:s.result.postcode,fullAddress:qle(s.result)};try{const o=await fetch(`https://api.getAddress.io/find/${encodeURIComponent(r)}?api-key=YOUR_API_KEY`)}catch{return gy(r)}return[i]}return gy(r)}catch(t){return console.warn("Postcode address API error, using mock addresses:",t),gy(e)}},qle=e=>{const t=[];return e.thoroughfare&&t.push(e.thoroughfare),e.dependent_thoroughfare&&t.push(e.dependent_thoroughfare),e.post_town&&t.push(e.post_town),e.postcode&&t.push(e.postcode),t.join(", ")},$le=async e=>gy(e),gy=e=>{const t=e.toUpperCase().replace(/\s+/g," "),r=t.split(" ")[0],a=[],s=["High Street","Main Road","Church Lane","Park Avenue","Station Road","Victoria Road","King Street","Queen Street"],i=Array.from({length:50},(o,l)=>l+1);for(let o=0;o<Math.min(8,s.length);o++){const l=i[Math.floor(Math.random()*i.length)],c=s[o];a.push({line1:`${l} ${c}`,line2:"",city:LA(r),county:Hle(r),postcode:t,fullAddress:`${l} ${c}, ${LA(r)}, ${t}`})}return a},LA=e=>({SW1:"London",SW2:"London",SW3:"London",SW4:"London",SW5:"London",SW6:"London",SW7:"London",SW8:"London",SW9:"London",SW10:"London",W1:"London",W2:"London",W3:"London",W4:"London",W5:"London",W6:"London",W7:"London",W8:"London",W9:"London",W10:"London",W11:"London",W12:"London",W14:"London",EC1:"London",EC2:"London",EC3:"London",EC4:"London",N1:"London",N2:"London",N3:"London",N4:"London",N5:"London",E1:"London",E2:"London",E3:"London",E4:"London",E5:"London",SE1:"London",SE2:"London",SE3:"London",SE4:"London",SE5:"London",NW1:"London",NW2:"London",NW3:"London",NW4:"London",NW5:"London",M1:"Manchester",M2:"Manchester",M3:"Manchester",M4:"Manchester",B1:"Birmingham",B2:"Birmingham",B3:"Birmingham",B4:"Birmingham",L1:"Liverpool",L2:"Liverpool",L3:"Liverpool",L4:"Liverpool",LS1:"Leeds",LS2:"Leeds",LS3:"Leeds",LS4:"Leeds",PR1:"Preston",PR2:"Preston",PR3:"Preston",PR4:"Preston",PR5:"Preston"})[e]||"UK",Hle=e=>e.startsWith("SW")||e.startsWith("W")||e.startsWith("EC")||e.startsWith("N")||e.startsWith("E")||e.startsWith("SE")||e.startsWith("NW")?"Greater London":e.startsWith("M")?"Greater Manchester":e.startsWith("B")?"West Midlands":e.startsWith("L")?"Merseyside":e.startsWith("LS")?"West Yorkshire":e.startsWith("PR")?"Lancashire":"UK",PA=e=>e?/^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i.test(e.trim()):!1,Wle=()=>{const e=br(),[t,r]=R_(),{activeTab:a,getApiType:s,setActiveTab:i}=U_(),{properties:o,loading:l,error:c,filters:u,setFilters:h,pagination:f,setPagination:m,fetchProperties:g,searchProperties:y}=Zf(),[x,N]=C.useState([]),[b,w]=C.useState(!1),[k,S]=C.useState(null),[B,H]=C.useState(0),[F,D]=C.useState(""),[P,G]=C.useState(""),[I,q]=C.useState("all"),[Y,ee]=C.useState({min:null,max:null}),[ue,le]=C.useState(null),[xe,oe]=C.useState(null),[fe,Se]=C.useState("grid"),[K,A]=C.useState(null),[z,O]=C.useState([]),[R,W]=C.useState(!1),[X,ne]=C.useState(null);C.useEffect(()=>{K&&clearTimeout(K);const Ae=setTimeout(()=>{F.trim()?y(F):g(!0)},500);return A(Ae),()=>{K&&clearTimeout(K)}},[F]);const re=C.useCallback(async(Ae="all",je=!0)=>{var et;w(!0),S(null);try{const ae=new URLSearchParams({page:"1",limit:"20",country:"UK"});Ae==="buy"||Ae==="sale"?ae.append("type","buy"):Ae==="rent"&&ae.append("type","rent"),P&&ae.append("postcode",P);const De=`/api/properties?${ae.toString()}`,Ke=await fetch(De,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ke.ok)throw new Error(`API error: ${Ke.status} ${Ke.statusText}`);const at=await Ke.json();if(at.error)throw new Error(at.error.message||"Failed to fetch properties");N(at.data||[]),H(((et=at.pagination)==null?void 0:et.total)||0)}catch(ae){S(ae.message||"Failed to fetch properties. Please try again."),N([]),H(0)}finally{w(!1)}},[P]);C.useEffect(()=>{re(a,!0)},[a,re]),C.useEffect(()=>{q(a==="buy"?"sale":a==="rent"?"rent":"all")},[a]),C.useEffect(()=>{const Ae=async()=>{if(P.length>=2){const et=await Ule(P);O(et),W(!0)}else O([]),W(!1)};X&&clearTimeout(X);const je=setTimeout(()=>{Ae()},300);return ne(je),()=>{je&&clearTimeout(je)}},[P]);const Z=Ae=>{G(Ae),W(!1),O([])},ke=Ae=>{const je=Ae.image_urls?Array.isArray(Ae.image_urls)?Ae.image_urls:JSON.parse(Ae.image_urls||"[]"):[];return{id:Ae.id,title:Ae.title,location:Ae.address_line_1||`${Ae.city||""} ${Ae.postcode||""}`.trim()||"UK",price:Ae.price,type:Ae.property_type==="rent"?"Rent":Ae.property_type==="sale"?"Sale":"Property",property_type:Ae.property_type,beds:Ae.bedrooms,baths:Ae.bathrooms,image:je[0]||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",images:je.length>0?je:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"],description:Ae.description,is_saved:Ae.is_saved||!1,is_applied:Ae.is_applied||!1,application_status:Ae.application_status||null,view_count:Ae.view_count||0,latitude:Ae.latitude,longitude:Ae.longitude,listedDate:Ae.created_at?new Date(Ae.created_at):new Date}},Le=x.filter(Ae=>Ae.latitude&&Ae.longitude).map(Ae=>({id:Ae.id,name:Ae.title,lat:parseFloat(Ae.latitude),lng:parseFloat(Ae.longitude),price:`${(Ae.price/1e3).toFixed(0)}k`,address:Ae.address_line_1||Ae.city||"UK"})),Oe=()=>{D(""),G(""),q("all"),ee({min:null,max:null}),le(null),oe(null),W(!1),O([])},Ge=Ae=>{m(je=>({...je,page:Ae})),g(!1),window.scrollTo({top:0,behavior:"smooth"})};x.length>0;const de=Math.ceil(f.total/f.limit);return n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Discover Properties"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Find your perfect UK property"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b?"Loading...":`${B} ${B===1?"property":"properties"} found`})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Se("grid"),className:`p-2 rounded-lg transition-colors ${fe==="grid"?"bg-orange-500 text-white":"bg-white dark:bg-white border border-gray-300 dark:border-gray-300 text-gray-700 dark:text-gray-800"}`,children:n.jsx(W_,{size:20})}),n.jsx("button",{onClick:()=>Se("map"),className:`p-2 rounded-lg transition-colors ${fe==="map"?"bg-orange-500 text-white":"bg-white dark:bg-white border border-gray-300 dark:border-gray-300 text-gray-700 dark:text-gray-800"}`,children:n.jsx(vf,{size:20})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-4 lg:p-6 mb-6",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",value:F,onChange:Ae=>D(Ae.target.value),placeholder:"Search by postcode, street, address, keyword, or property title...",className:"w-full pl-10 pr-4 py-3 border border-orange-300 dark:border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-base bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:P,onChange:Ae=>{G(Ae.target.value),Ae.target.value.length>=2?W(!0):W(!1)},onFocus:()=>{P.length>=2&&z.length>0&&W(!0)},onBlur:()=>{setTimeout(()=>W(!1),200)},placeholder:"Postcode, street, or address",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-white text-gray-900 dark:text-gray-900"}),R&&z.length>0&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-white border border-gray-300 dark:border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:z.map((Ae,je)=>n.jsxs("button",{type:"button",onClick:()=>Z(Ae),className:"w-full text-left px-4 py-2 hover:bg-orange-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors flex items-center gap-2",children:[n.jsx(aa,{size:14,className:"text-orange-500"}),n.jsx("span",{className:"font-medium",children:Ae})]},je))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{value:I,onChange:Ae=>{const je=Ae.target.value;q(je),je==="all"?t.delete("type"):t.set("type",je),r(t,{replace:!0})},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"rent",children:"For Rent"}),n.jsx("option",{value:"sale",children:"For Sale"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),n.jsxs("div",{className:"relative flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tl,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",value:Y.min||"",onChange:Ae=>ee({...Y,min:Ae.target.value?parseInt(Ae.target.value):null}),placeholder:"Min ",className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]}),n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tl,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",value:Y.max||"",onChange:Ae=>ee({...Y,max:Ae.target.value?parseInt(Ae.target.value):null}),placeholder:"Max ",className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beds"}),n.jsxs("div",{className:"relative",children:[n.jsx(du,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{value:ue||"",onChange:Ae=>le(Ae.target.value?Ae.target.value:null),className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"",children:"Any"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"}),n.jsx("option",{value:"5",children:"5+"})]})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Baths"}),n.jsxs("div",{className:"relative",children:[n.jsx(ph,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{value:xe||"",onChange:Ae=>oe(Ae.target.value?Ae.target.value:null),className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"",children:"Any"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"})]})]})]})]})]})]}),fe==="map"?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px]",children:Le.length>0?n.jsx(zle,{houses:Le}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-100",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No properties with location data available"})})})}):n.jsx(n.Fragment,{children:b?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(Ae=>n.jsx(Ile,{},Ae))}):k?n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:k}),n.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Retry"})]}):x.length===0?n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-12 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-100 mb-4",children:n.jsx(ba,{className:"text-gray-400",size:32})}),n.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-orange-500 mb-2",children:["No properties found for ",a==="buy"?"Buy":a==="rent"?"Rent":"this category"]}),n.jsx("p",{className:"text-gray-500 dark:text-orange-400 mb-4",children:a==="buy"?"We couldn't find any properties for sale. Try switching to 'Rent' or 'Browse Properties' to see all available listings.":a==="rent"?"We couldn't find any rental properties. Try switching to 'Buy' or 'Browse Properties' to see all available listings.":"Try adjusting your search or filters to find what you're looking for."}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[a!=="all"&&n.jsx("button",{onClick:()=>i("all"),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse All Properties"}),n.jsx("button",{onClick:Oe,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Clear Filters"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:x.map(Ae=>{const je=ke(Ae);return je?n.jsx(oM,{property:je,onViewDetails:et=>e(`/user/dashboard/property/${et.id}`)},Ae.id):null})}),de>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(f.page-1)*f.limit+1," to ",Math.min(f.page*f.limit,f.total)," of ",f.total," properties"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Ge(f.page-1),disabled:f.page===1,className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(ic,{size:20})}),n.jsxs("span",{className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",f.page," of ",de]}),n.jsx("button",{onClick:()=>Ge(f.page+1),disabled:f.page>=de||!f.hasMore,className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(El,{size:20})})]})]})]})})]})},Gle=({onSelectConversation:e,selectedConversationId:t})=>{const{conversations:r,filter:a,setFilter:s,searchQuery:i,setSearchQuery:o,totalUnreadCount:l}=Bf(),c=h=>{const f=new Date(h),g=new Date-f,y=Math.floor(g/6e4),x=Math.floor(g/36e5),N=Math.floor(g/864e5);return y<1?"Just now":y<60?`${y}m ago`:x<24?`${x}h ago`:N<7?`${N}d ago`:f.toLocaleDateString("en-US",{month:"short",day:"numeric"})},u=[{id:"all",label:"All",icon:Ij},{id:"unread",label:"Unread",icon:jC,count:l},{id:"archived",label:"Archived",icon:_C}];return n.jsxs("div",{className:"w-full md:w-80 lg:w-96 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Messages"}),n.jsxs("div",{className:"relative mb-3",children:[n.jsx(us,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search conversations...",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white text-sm"})]}),n.jsx("div",{className:"flex gap-2",children:u.map(h=>{const f=h.icon,m=a===h.id;return n.jsxs("button",{onClick:()=>s(h.id),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${m?"bg-orange-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[n.jsx(f,{size:14}),n.jsx("span",{children:h.label}),h.count!==void 0&&h.count>0&&n.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-xs ${m?"bg-white/20 text-white":"bg-orange-500 text-white"}`,children:h.count})]},h.id)})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ij,{size:24,className:"text-gray-400"})}),n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:i?"No conversations found":a==="archived"?"No archived conversations":a==="unread"?"No unread messages":"No conversations yet"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i?"Try adjusting your search terms":a==="archived"?"Archived conversations will appear here":a==="unread"?"All caught up!":"Start a conversation by contacting an agent"})]}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(h=>{const f=t===h.id,m=h.messages[h.messages.length-1];return n.jsx("button",{onClick:()=>e(h.id),className:`w-full p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${f?"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[h.agentAvatar?n.jsx("img",{src:h.agentAvatar,alt:h.agentName,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:h.agentName.charAt(0).toUpperCase()}),n.jsx("div",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white dark:border-gray-800 ${h.isOnline?"bg-green-500":"bg-gray-400"}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate text-sm",children:h.agentName}),m&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:c(m.timestamp)})]}),h.propertyTitle&&n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mb-1 truncate",children:h.propertyTitle}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:(m==null?void 0:m.text)||"No messages yet"}),h.unreadCount>0&&n.jsx("span",{className:"flex-shrink-0 ml-2 bg-orange-500 text-white text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:h.unreadCount})]}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.agentAgency})})]})]})},h.id)})})})]})},Yle=({property:e})=>{const t=br();if(!e||!e.propertyId)return null;const r=s=>s?`$${s.toLocaleString()}`:"Price on request",a=()=>{e.propertyId&&t(`/user/dashboard/property/${e.propertyId}`)};return n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex gap-3",children:[e.propertyImage&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.propertyImage,alt:e.propertyTitle||"Property",className:"w-20 h-20 rounded-lg object-cover",onError:s=>{s.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm mb-1 truncate",children:e.propertyTitle||"Property"}),e.propertyAddress&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:12}),n.jsx("span",{className:"truncate",children:e.propertyAddress})]}),e.propertyPrice&&n.jsx("p",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 mb-2",children:r(e.propertyPrice)}),n.jsxs("button",{onClick:a,className:"flex items-center gap-1 text-xs font-medium text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 transition-colors",children:[n.jsx("span",{children:"View Details"}),n.jsx($_,{size:12})]})]})]})})},Kle=({message:e,isUser:t,showAvatar:r,agentName:a,agentAvatar:s})=>{const i=l=>new Date(l).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),o=l=>l.type.startsWith("image/")?n.jsx("div",{className:"mt-2 rounded-lg overflow-hidden",children:n.jsx("img",{src:l.url,alt:l.name,className:"max-w-full h-auto max-h-64 object-cover"})}):l.type==="application/pdf"?n.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx(Or,{size:20,className:"text-gray-600 dark:text-gray-400"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:l.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.size?`${(l.size/1024).toFixed(1)} KB`:"PDF Document"})]}),n.jsx("a",{href:l.url,download:l.name,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:n.jsx(Es,{size:16})})]}):n.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx(Or,{size:20,className:"text-gray-600 dark:text-gray-400"}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:l.name})}),n.jsx("a",{href:l.url,download:l.name,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:n.jsx(Es,{size:16})})]});return n.jsxs("div",{className:`flex items-end gap-2 ${t?"justify-end":"justify-start"}`,children:[!t&&r&&n.jsx("div",{className:"flex-shrink-0",children:s?n.jsx("img",{src:s,alt:a,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:a.charAt(0).toUpperCase()})}),n.jsxs("div",{className:`max-w-[70%] lg:max-w-[60%] rounded-lg px-4 py-2 ${t?"bg-orange-500 text-white rounded-br-sm":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-bl-sm"}`,children:[e.text&&n.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.text}),e.attachments&&e.attachments.length>0&&n.jsx("div",{children:e.attachments.map(l=>n.jsx("div",{children:o(l)},l.id))}),n.jsxs("div",{className:`flex items-center gap-1.5 mt-1 ${t?"justify-end":"justify-start"}`,children:[n.jsx("span",{className:`text-xs ${t?"text-orange-100":"text-gray-500 dark:text-gray-400"}`,children:i(e.timestamp)}),t&&n.jsx("span",{className:"text-orange-100",children:e.read?n.jsx(Oj,{size:14,className:"text-blue-300"}):e.delivered?n.jsx(Oj,{size:14}):n.jsx(xh,{size:14})})]})]}),!t&&!r&&n.jsx("div",{className:"w-8"})]})},Zle=({conversationId:e})=>{const{getConversation:t,markAsRead:r,archiveConversation:a,muteConversation:s,unmuteConversation:i,deleteConversation:o}=Bf(),l=t(e),c=C.useRef(null),[u,h]=C.useState(!1);C.useEffect(()=>{l&&l.unreadCount>0&&r(e)},[e,l,r]),C.useEffect(()=>{f()},[l==null?void 0:l.messages]);const f=()=>{var w;(w=c.current)==null||w.scrollIntoView({behavior:"smooth"})};if(!l)return n.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Conversation not found"})})});const m=w=>{const k=new Date(w),S=new Date,B=new Date(S);return B.setDate(B.getDate()-1),k.toDateString()===S.toDateString()?"Today":k.toDateString()===B.toDateString()?"Yesterday":k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},g=w=>{const k=[];let S=null;return w.forEach(B=>{const H=new Date(B.timestamp).toDateString();!S||S.date!==H?(S&&k.push(S),S={date:H,formattedDate:m(B.timestamp),messages:[B]}):S.messages.push(B)}),S&&k.push(S),k},y=l.messages.length>0?g(l.messages):[],x=()=>{a(e),h(!1)},N=()=>{l.isMuted?i(e):s(e),h(!1)},b=()=>{window.confirm("Are you sure you want to delete this conversation?")&&o(e),h(!1)};return n.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800 h-full",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[l.agentAvatar?n.jsx("img",{src:l.agentAvatar,alt:l.agentName,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:l.agentName.charAt(0).toUpperCase()}),n.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white dark:border-gray-800 ${l.isOnline?"bg-green-500":"bg-gray-400"}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:l.agentName}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[l.isOnline?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]}):"Offline",l.agentAgency&&`  ${l.agentAgency}`]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("button",{onClick:()=>h(!u),className:"p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(Xy,{size:20})}),u&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20 py-1",children:[n.jsxs("button",{onClick:x,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(_C,{size:16}),n.jsx("span",{children:"Archive"})]}),n.jsx("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.isMuted?n.jsxs(n.Fragment,{children:[n.jsx(uu,{size:16}),n.jsx("span",{children:"Unmute"})]}):n.jsxs(n.Fragment,{children:[n.jsx(iU,{size:16}),n.jsx("span",{children:"Mute"})]})}),n.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(Ss,{size:16}),n.jsx("span",{children:"Delete"})]})]})]})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[(l.propertyId||l.propertyTitle)&&n.jsx(Yle,{property:l}),y.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No messages yet. Start the conversation!"})})}):n.jsx("div",{className:"space-y-6",children:y.map((w,k)=>n.jsxs("div",{children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:w.formattedDate})}),n.jsx("div",{className:"space-y-3",children:w.messages.map((S,B)=>{const H=S.senderType==="user",F=!H&&(B===0||w.messages[B-1].senderType!=="agent");return n.jsx(Kle,{message:S,isUser:H,showAvatar:F,agentName:l.agentName,agentAvatar:l.agentAvatar},S.id)})})]},w.date))}),n.jsx("div",{ref:c})]})]})},Xle=({conversationId:e,onSend:t})=>{const{quickReplyTemplates:r}=Bf(),[a,s]=C.useState(""),[i,o]=C.useState([]),[l,c]=C.useState(!1),[u,h]=C.useState(!1),f=C.useRef(null),m=C.useRef(null);C.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=`${f.current.scrollHeight}px`)},[a]);const g=S=>{S==null||S.preventDefault(),(a.trim()||i.length>0)&&e&&(t(e,a.trim(),i),s(""),o([]),f.current&&(f.current.style.height="auto"))},y=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),g())},x=S=>{const F=Array.from(S.target.files).filter(D=>D.size>10485760?(alert(`File ${D.name} is too large. Maximum size is 10MB.`),!1):!0).map(D=>({name:D.name,type:D.type,file:D,size:D.size}));o(D=>[...D,...F]),S.target.value=""},N=S=>{o(B=>B.filter((H,F)=>F!==S))},b=S=>{var B;s(S),c(!1),(B=f.current)==null||B.focus()},w=S=>S.startsWith("image/")?n.jsx(G_,{size:16}):S==="application/pdf"?n.jsx(Or,{size:16}):n.jsx(Or,{size:16}),k=S=>S<1024?S+" B":S<1024*1024?(S/1024).toFixed(1)+" KB":(S/(1024*1024)).toFixed(1)+" MB";return e?n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:[l&&n.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Quick Replies"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(yr,{size:16})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((S,B)=>n.jsx("button",{onClick:()=>b(S),className:"px-3 py-1.5 text-xs bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:border-orange-300 dark:hover:border-orange-700 text-gray-700 dark:text-gray-300 transition-colors",children:S},B))})]}),i.length>0&&n.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((S,B)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg",children:[w(S.type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate",children:S.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k(S.size)})]}),n.jsx("button",{onClick:()=>N(B),className:"p-1 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors",children:n.jsx(yr,{size:14})})]},B))})}),n.jsxs("form",{onSubmit:g,className:"p-4",children:[n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},className:"p-2 text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:n.jsx(LC,{size:20})}),n.jsx("input",{ref:m,type:"file",multiple:!0,accept:"image/*,.pdf",onChange:x,className:"hidden"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:`p-2 rounded-lg transition-colors flex-shrink-0 ${l?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"Quick replies",children:n.jsx(PC,{size:20})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx("textarea",{ref:f,value:a,onChange:S=>s(S.target.value),onKeyDown:y,placeholder:"Type a message... (Press Enter to send, Shift+Enter for new line)",rows:1,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white resize-none overflow-hidden max-h-32 text-sm"})}),n.jsx("button",{type:"submit",disabled:!a.trim()&&i.length===0,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",title:"Send message",children:n.jsx(Ch,{size:20})})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Press ",n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"Enter"})," to send,"," ",n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"Shift+Enter"})," for new line"]})]})]}):null},Jle=()=>n.jsxs("div",{className:"w-full md:w-80 lg:w-96 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-3 animate-pulse"}),n.jsx("div",{className:"h-10 w-full bg-gray-200 dark:bg-gray-700 rounded-lg mb-3 animate-pulse"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:[1,2,3,4,5].map(e=>n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]})},e))})]}),Qle=()=>n.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800 h-full",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3,4,5].map(e=>n.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${e%2===0?"bg-orange-200 dark:bg-orange-900/30":"bg-gray-200 dark:bg-gray-700"} animate-pulse`,children:[n.jsx("div",{className:"h-4 w-48 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),n.jsx("div",{className:"h-3 w-16 bg-gray-300 dark:bg-gray-600 rounded"})]})},e))}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0",children:n.jsx("div",{className:"h-10 w-full bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})})]}),ece=()=>{const[e,t]=C.useState(600),[r,a]=C.useState("waiting"),[s,i]=C.useState(!1),o={name:"Sarah Johnson",agency:"Prime Realty Group",distance:"0.8 miles"};C.useEffect(()=>{if(r==="waiting"&&!s){const u=setInterval(()=>{t(h=>h<=1?(i(!0),0):h-1)},1e3);return()=>clearInterval(u)}},[r,s]);const l=u=>{const h=Math.floor(u/60),f=u%60;return`${h}:${f.toString().padStart(2,"0")}`},c=(600-e)/600*100;return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1 text-sm",children:"Nearest Broker"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Based on your location"})]}),n.jsx(aa,{className:"text-orange-500 dark:text-orange-400",size:20})]}),n.jsxs("div",{className:"mb-3 p-2.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:o.name.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm truncate",children:o.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:o.agency})]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx(aa,{size:12}),n.jsxs("span",{children:[o.distance," away"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-1.5",children:r==="responded"?n.jsxs(n.Fragment,{children:[n.jsx(Ar,{className:"text-green-500 dark:text-green-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:"Responded"})]}):s?n.jsxs(n.Fragment,{children:[n.jsx(ba,{className:"text-red-500 dark:text-red-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-400",children:"Time Expired"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ya,{className:"text-orange-500 dark:text-orange-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-400",children:"Waiting for response"})]})}),r==="waiting"&&!s&&n.jsxs("div",{className:"flex items-center gap-1.5 bg-orange-50 dark:bg-orange-900/30 px-2 py-0.5 rounded-full",children:[n.jsx(ya,{size:12,className:"text-orange-600 dark:text-orange-400"}),n.jsx("span",{className:"text-xs font-semibold text-orange-700 dark:text-orange-400",children:l(e)})]})]}),r==="waiting"&&n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:n.jsx("div",{className:`h-1.5 rounded-full transition-all duration-1000 ${s?"bg-red-500 dark:bg-red-400":"bg-orange-500 dark:bg-orange-400"}`,style:{width:`${c}%`}})}),n.jsxs("div",{className:"flex flex-col gap-1.5 pt-1",children:[r==="waiting"&&!s&&n.jsx("button",{onClick:()=>a("responded"),className:"w-full px-3 py-1.5 bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-700 text-white rounded-lg font-medium text-xs transition-colors",children:"Mark as Responded"}),n.jsx("button",{className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium text-xs transition-colors",children:"Contact"})]})]})]})},tce=()=>{const{conversations:e,selectedConversationId:t,setSelectedConversationId:r,isLoading:a,sendMessage:s}=Bf(),[i,o]=C.useState(null),[l,c]=C.useState(!1);C.useEffect(()=>{const f=()=>{c(window.innerWidth<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const u=f=>{r(f)},h=(f,m,g)=>{try{s(f,m,g),o(null)}catch(y){o("Failed to send message. Please try again."),console.error("Error sending message:",y)}};return n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Messages"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Chat with brokers and property agencies"})]}),i&&n.jsxs("div",{className:"mx-4 lg:mx-6 mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-sm text-red-700 dark:text-red-400",children:[n.jsx(ba,{size:16}),n.jsx("span",{children:i}),n.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-0 h-full",children:[n.jsxs("div",{className:"lg:col-span-3 flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden h-full",children:[a?n.jsx(Jle,{}):n.jsx(Gle,{onSelectConversation:u,selectedConversationId:t}),n.jsx("div",{className:"flex-1 flex flex-col border-l border-gray-200 dark:border-gray-700",children:a?n.jsx(Qle,{}):t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx(Zle,{conversationId:t})}),n.jsx(Xle,{conversationId:t,onSend:h})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx(Vo,{size:64,className:"mx-auto mb-4 text-gray-300 dark:text-gray-600"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium mb-2",children:"Select a conversation to start messaging"}),n.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Choose a conversation from the list to view messages and reply"})]})})})]}),n.jsx("div",{className:"lg:col-span-1 hidden lg:block",children:n.jsx("div",{className:"h-full p-4 lg:p-6",children:n.jsx(ece,{})})})]})})]})},rce=()=>{const[e,t]=C.useState(!1),[r,a]=C.useState(null),s=[{id:1,type:"Rent",property:"Modern Downtown Apartment",amount:2450,dueDate:"2024-01-15",status:"due_soon"},{id:2,type:"Utility Bill",property:"Electricity",amount:125,dueDate:"2024-01-20",status:"upcoming"},{id:3,type:"Utility Bill",property:"Water",amount:85,dueDate:"2024-01-25",status:"upcoming"}],i=[{id:1,date:"2024-01-01",type:"Rent",property:"Modern Downtown Apartment",amount:2450,status:"paid",transactionId:"TXN-001234"},{id:2,date:"2023-12-15",type:"Utility Bill",property:"Electricity",amount:120,status:"paid",transactionId:"TXN-001233"},{id:3,date:"2023-12-10",type:"Rent",property:"Modern Downtown Apartment",amount:2450,status:"paid",transactionId:"TXN-001232"},{id:4,date:"2023-12-01",type:"Utility Bill",property:"Water",amount:80,status:"pending",transactionId:"TXN-001231"}],o=f=>{a(f),t(!0)},l=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),c=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=f=>{const m=new Date,y=new Date(f)-m;return Math.ceil(y/(1e3*60*60*24))},h=f=>{switch(f){case"paid":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[n.jsx(Ar,{size:14}),"Paid"]});case"pending":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[n.jsx(ya,{size:14}),"Pending"]});case"due_soon":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[n.jsx(ba,{size:14}),"Due Soon"]});default:return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[n.jsx(ya,{size:14}),"Upcoming"]})}};return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Payments"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your rent and utility bill payments"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),n.jsx(Ar,{className:"text-green-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$5,120"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx(ya,{className:"text-yellow-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$2,450"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Due in 5 days"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),n.jsx(wi,{className:"text-blue-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$210"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Next 2 weeks"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(Q1,{className:"text-orange-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pay Rent"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monthly rent payment"})]})]}),n.jsx("div",{className:"space-y-4",children:s.filter(f=>f.type==="Rent").map(f=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due ",c(f.dueDate)]})]}),h(f.status)]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(f.amount)}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]}),f.status==="due_soon"&&n.jsxs("p",{className:"text-xs text-red-600 mt-2",children:["Due in ",u(f.dueDate)," days"]})]},f.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(JV,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pay Utility Bills"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Electricity, water, and more"})]})]}),n.jsx("div",{className:"space-y-4",children:s.filter(f=>f.type==="Utility Bill").map(f=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due ",c(f.dueDate)]})]}),h(f.status)]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(f.amount)}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]})]},f.id))})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Upcoming Payments"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Payments due in the next 30 days"})]}),n.jsx(wi,{className:"text-orange-600",size:24})]}),n.jsx("div",{className:"space-y-3",children:s.map(f=>{const m=u(f.dueDate);return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-orange-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-700 rounded",children:f.type})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due ",c(f.dueDate),"  ",m," days remaining"]})]}),n.jsx("div",{className:"text-right mr-4",children:n.jsx("p",{className:"font-semibold text-gray-900",children:l(f.amount)})}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]},f.id)})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property/Service"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(f.date)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.type}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.property}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:l(f.amount)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h(f.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:f.transactionId})]},f.id))})]})})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r&&l(r.amount)})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"For"}),n.jsx("p",{className:"font-medium text-gray-900",children:r==null?void 0:r.property})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Stripe Payment Integration"}),n.jsx("p",{className:"text-xs text-gray-500",children:"This is a placeholder. In production, Stripe checkout would be integrated here."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-2 border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{alert("Payment processed (mock)"),t(!1)},className:"flex-1 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Process Payment"})]})]})]})})]})},Dx=async(e,t,r)=>{try{if(!He)throw new Error("Supabase client not initialized");if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(e.type))throw new Error("Invalid file type. Please upload JPG, PNG, or PDF files only.");const s=10*1024*1024;if(e.size>s)throw new Error("File size must be less than 10MB.");const i=e.name.split(".").pop(),l=`verification-documents/${`${t}/${r}-${Date.now()}.${i}`}`,{data:c,error:u}=await He.storage.from("verification-documents").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw console.error("Upload error:",u),new Error(`Failed to upload document: ${u.message}`);const{data:{publicUrl:h}}=He.storage.from("verification-documents").getPublicUrl(l);return{url:h,path:l,error:null}}catch(a){return console.error("Error uploading verification document:",a),{url:null,path:null,error:a.message}}},ace=async({userId:e,documentType:t,documentUrl:r,documentName:a,documentNumber:s=null,metadata:i={}})=>{try{if(!He)throw new Error("Supabase client not initialized");const{data:o,error:l}=await He.from("user_verification_documents").upsert({user_id:e,document_type:t,document_url:r,document_name:a,document_number:s,verification_status:"pending",metadata:i,submitted_at:new Date().toISOString()},{onConflict:"user_id,document_type"}).select().single();if(l)throw l;return{data:o,error:null}}catch(o){return console.error("Error submitting verification document:",o),{data:null,error:o.message}}},nce=async e=>{try{if(!He)return{data:[],error:"Supabase client not initialized"};const{data:t,error:r}=await He.from("user_verification_documents").select("*").eq("user_id",e).order("submitted_at",{ascending:!1});if(r){const a=r.message||r.toString()||"";if(a.includes("relation")||a.includes("does not exist"))return{data:[],error:"Verification documents table not found. Please run the SQL schema in Supabase."};throw r}return{data:t||[],error:null}}catch(t){console.error("Error fetching verification documents:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:[],error:"Verification documents table not found. Please run the SQL schema in Supabase."}:{data:[],error:t.message||"Failed to fetch verification documents"}}},sce=async({userId:e,fullName:t,email:r,phone:a,dateOfBirth:s,relationshipToTenant:i,addressLine1:o,addressLine2:l,city:c,postcode:u,country:h="UK",employmentStatus:f,employerName:m,annualIncome:g,idDocumentUrl:y,proofOfAddressUrl:x,proofOfIncomeUrl:N,notes:b})=>{try{if(!He)throw new Error("Supabase client not initialized");const{data:w,error:k}=await He.from("guarantor_information").upsert({user_id:e,full_name:t,email:r,phone:a,date_of_birth:s,relationship_to_tenant:i,address_line_1:o,address_line_2:l,city:c,postcode:u,country:h,employment_status:f,employer_name:m,annual_income:g,id_document_url:y,proof_of_address_url:x,proof_of_income_url:N,notes:b,verification_status:"pending",submitted_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(k)throw k;return{data:w,error:null}}catch(w){return console.error("Error submitting guarantor information:",w),{data:null,error:w.message}}},ice=async e=>{try{if(!He)return{data:null,error:"Supabase client not initialized"};const{data:t,error:r}=await He.from("guarantor_information").select("*").eq("user_id",e).single();if(r&&r.code==="PGRST116")return{data:null,error:null};if(r){const a=r.message||r.toString()||"";if(a.includes("relation")||a.includes("does not exist"))return{data:null,error:"Guarantor information table not found. Please run the SQL schema in Supabase."};throw r}return{data:t||null,error:null}}catch(t){console.error("Error fetching guarantor information:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:null,error:"Guarantor information table not found. Please run the SQL schema in Supabase."}:{data:null,error:t.message||"Failed to fetch guarantor information"}}},oce=async e=>{try{if(!He)return{data:null,error:"Supabase client not initialized"};let{data:t,error:r}=await He.from("user_verification_status").select("*").eq("user_id",e).single();if(r&&r.code==="PGRST116")return{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:null};if(r){const i=r.message||r.toString()||"";if(i.includes("relation")||i.includes("does not exist"))return{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:"Verification tables not found. Please run the SQL schema in Supabase."};throw r}let a=[];try{const{data:i}=await He.from("user_verification_documents").select("document_type, verification_status, verified_at, rejection_reason").eq("user_id",e);a=i||[]}catch(i){console.warn("Error fetching documents:",i),a=[]}let s=null;try{const{data:i}=await He.from("guarantor_information").select("verification_status, verified_at, rejection_reason").eq("user_id",e).single();s=i||null}catch(i){i.code!=="PGRST116"&&console.warn("Error fetching guarantor info:",i),s=null}return{data:{...t,documents:a||[],guarantor:s||null},error:null}}catch(t){console.error("Error fetching verification status:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:"Verification tables not found. Please run the SQL schema in Supabase."}:{data:null,error:t.message||"Failed to fetch verification status"}}},lce=({userId:e,currentUser:t})=>{const[r,a]=C.useState(null),[s,i]=C.useState([]),[o,l]=C.useState(null),[c,u]=C.useState(!0),[h,f]=C.useState({}),[m,g]=C.useState("status"),[y,x]=C.useState(!1),[N,b]=C.useState(null),[w,k]=C.useState(null),S=C.useRef(null),B=C.useRef(null),H=C.useRef(null),F=C.useRef(null),D=C.useRef(null),P=C.useRef(null),[G,I]=C.useState({fullName:"",email:"",phone:"",dateOfBirth:"",relationshipToTenant:"",addressLine1:"",addressLine2:"",city:"",postcode:"",country:"UK",employmentStatus:"",employerName:"",annualIncome:"",notes:""});C.useEffect(()=>{e&&q()},[e]);const q=async()=>{u(!0),b(null);try{const[O,R,W]=await Promise.allSettled([oce(e),nce(e),ice(e)]);O.status==="fulfilled"&&!O.value.error?a(O.value.data):O.status==="fulfilled"&&O.value.error?O.value.error.includes("relation")||O.value.error.includes("does not exist")?(a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1}),console.warn("Verification tables not found. Please run the SQL schema in Supabase.")):b(O.value.error):(console.error("Error loading verification status:",O.reason),a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1})),R.status==="fulfilled"&&!R.value.error?i(R.value.data||[]):R.status==="fulfilled"&&R.value.error?(!R.value.error.includes("relation")&&!R.value.error.includes("does not exist")&&console.warn("Error loading documents:",R.value.error),i([])):i([]),W.status==="fulfilled"&&!W.value.error&&W.value.data?(l(W.value.data),I(X=>({...X,fullName:W.value.data.full_name||"",email:W.value.data.email||"",phone:W.value.data.phone||"",dateOfBirth:W.value.data.date_of_birth||"",relationshipToTenant:W.value.data.relationship_to_tenant||"",addressLine1:W.value.data.address_line_1||"",addressLine2:W.value.data.address_line_2||"",city:W.value.data.city||"",postcode:W.value.data.postcode||"",country:W.value.data.country||"UK",employmentStatus:W.value.data.employment_status||"",employerName:W.value.data.employer_name||"",annualIncome:W.value.data.annual_income||"",notes:W.value.data.notes||""}))):l(null)}catch(O){console.error("Error loading verification status:",O),a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1}),i([]),l(null),(!O.message||!O.message.includes("relation")&&!O.message.includes("does not exist"))&&b(O.message||"Failed to load verification status")}finally{u(!1)}},Y=async(O,R,W=null)=>{if(!(!R||!e)){f(X=>({...X,[O]:!0})),b(null),k(null);try{const X=await Dx(R,e,O);if(X.error)throw new Error(X.error);const ne=await ace({userId:e,documentType:O,documentUrl:X.url,documentName:R.name,documentNumber:W,metadata:{}});if(ne.error)throw new Error(ne.error);k(`${O==="brp"?"BRP":O==="passport"?"Passport":"Utility Bill"} uploaded successfully!`),await q()}catch(X){console.error("Error uploading document:",X),b(X.message||"Failed to upload document")}finally{f(X=>({...X,[O]:!1}))}}},ee=async O=>{var R,W,X,ne,re,Z;if(O.preventDefault(),!!e){f(ke=>({...ke,guarantor:!0})),b(null),k(null);try{let ke=null,Le=null,Oe=null;if((W=(R=F.current)==null?void 0:R.files)!=null&&W[0]){const de=await Dx(F.current.files[0],e,"guarantor_id");if(de.error)throw new Error(de.error);ke=de.url}if((ne=(X=D.current)==null?void 0:X.files)!=null&&ne[0]){const de=await Dx(D.current.files[0],e,"guarantor_address");if(de.error)throw new Error(de.error);Le=de.url}if((Z=(re=P.current)==null?void 0:re.files)!=null&&Z[0]){const de=await Dx(P.current.files[0],e,"guarantor_income");if(de.error)throw new Error(de.error);Oe=de.url}const Ge=await sce({userId:e,fullName:G.fullName,email:G.email,phone:G.phone,dateOfBirth:G.dateOfBirth||null,relationshipToTenant:G.relationshipToTenant,addressLine1:G.addressLine1,addressLine2:G.addressLine2||null,city:G.city,postcode:G.postcode,country:G.country,employmentStatus:G.employmentStatus||null,employerName:G.employerName||null,annualIncome:G.annualIncome?parseFloat(G.annualIncome):null,idDocumentUrl:ke,proofOfAddressUrl:Le,proofOfIncomeUrl:Oe,notes:G.notes||null});if(Ge.error)throw new Error(Ge.error);k("Guarantor information submitted successfully!"),x(!1),await q()}catch(ke){console.error("Error submitting guarantor information:",ke),b(ke.message||"Failed to submit guarantor information")}finally{f(ke=>({...ke,guarantor:!1}))}}},ue=O=>{const R=s.find(W=>W.document_type===O);if(!R)return{status:"not_submitted",icon:ya,color:"gray"};switch(R.verification_status){case"verified":return{status:"verified",icon:Ar,color:"green",verifiedAt:R.verified_at};case"under_review":return{status:"under_review",icon:ya,color:"yellow",submittedAt:R.submitted_at};case"rejected":return{status:"rejected",icon:As,color:"red",rejectionReason:R.rejection_reason};default:return{status:"pending",icon:ya,color:"gray",submittedAt:R.submitted_at}}},le=()=>{if(!o)return{status:"not_submitted",icon:ya,color:"gray"};switch(o.verification_status){case"verified":return{status:"verified",icon:Ar,color:"green",verifiedAt:o.verified_at};case"under_review":return{status:"under_review",icon:ya,color:"yellow",submittedAt:o.submitted_at};case"rejected":return{status:"rejected",icon:As,color:"red",rejectionReason:o.rejection_reason};default:return{status:"pending",icon:ya,color:"gray",submittedAt:o.submitted_at}}},xe=({title:O,description:R,documentType:W,icon:X,documentNumberLabel:ne=null})=>{const re=ue(W),Z=re.icon,ke={green:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",red:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",gray:"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-700"},[Le,Oe]=C.useState("");return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx(X,{className:"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:O}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R})]})]}),n.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium border ${ke[re.color]}`,children:[n.jsx(Z,{size:14}),n.jsx("span",{className:"capitalize",children:re.status.replace("_"," ")})]})]}),re.status==="rejected"&&re.rejectionReason&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[n.jsx("strong",{children:"Rejection Reason:"})," ",re.rejectionReason]})}),re.status==="verified"&&re.verifiedAt&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Verified on ",new Date(re.verifiedAt).toLocaleDateString()]})}),re.status!=="verified"&&n.jsxs("div",{className:"space-y-4",children:[ne&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:ne}),n.jsx("input",{type:"text",value:Le,onChange:Ge=>Oe(Ge.target.value),placeholder:`Enter ${ne.toLowerCase()}`,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsx("input",{ref:W==="brp"?S:W==="passport"?B:H,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:Ge=>{var Ae;const de=(Ae=Ge.target.files)==null?void 0:Ae[0];de&&Y(W,de,Le||null)},id:`${W}-upload`}),n.jsx("label",{htmlFor:`${W}-upload`,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${h[W]?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:h[W]?n.jsxs(n.Fragment,{children:[n.jsx(Ni,{className:"animate-spin",size:18}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(fp,{size:18}),n.jsx("span",{children:re.status==="not_submitted"?"Upload Document":"Replace Document"})]})}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Accepted formats: JPG, PNG, PDF (Max 10MB)"})]})]})};if(c&&!r)return n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Ni,{className:"animate-spin text-orange-500",size:32}),n.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading verification status..."})]})});const oe=r||{is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1},fe=le(),Se=fe.icon,K={green:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",red:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",gray:"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-700"},A=(oe==null?void 0:oe.is_verified)||!1,z=(oe==null?void 0:oe.verification_level)||"none";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(su,{className:"text-orange-600 dark:text-orange-400",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Verification Status"})]}),n.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${A?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:A?"Fully Verified":z==="partial"?"Partially Verified":z==="basic"?"Basic Verification":"Not Verified"})]}),A?n.jsxs("div",{className:"flex items-center gap-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:24,className:"flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"All verification documents have been approved!"}),(oe==null?void 0:oe.verified_at)&&n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:["Verified on ",new Date(oe.verified_at).toLocaleDateString()]})]})]}):n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(cV,{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Complete all required documents to become verified:"}),n.jsxs("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"BRP or Passport (Identity Document)"}),n.jsx("li",{children:"Utility Bill (Proof of Address)"}),n.jsx("li",{children:"Guarantor Information & Documents"})]})]})]})}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx("span",{children:"Verification Progress"}),n.jsxs("span",{children:[[(oe==null?void 0:oe.brp_verified)||(oe==null?void 0:oe.passport_verified),oe==null?void 0:oe.utility_bill_verified,oe==null?void 0:oe.guarantor_verified].filter(Boolean).length," / 3 Required Documents"]})]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${A?"bg-green-500":"bg-orange-500"}`,style:{width:`${[(oe==null?void 0:oe.brp_verified)||(oe==null?void 0:oe.passport_verified),oe==null?void 0:oe.utility_bill_verified,oe==null?void 0:oe.guarantor_verified].filter(Boolean).length/3*100}%`}})})]})]}),N&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:N}),n.jsx("button",{onClick:()=>b(null),className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Dismiss"})]})]}),w&&n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ar,{className:"text-green-600 dark:text-green-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:w}),n.jsx("button",{onClick:()=>k(null),className:"mt-2 text-xs text-green-600 dark:text-green-400 hover:underline",children:"Dismiss"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Required Documents"}),n.jsx(xe,{title:"BRP (Biometric Residence Permit)",description:"Upload a clear photo or scan of your BRP card",documentType:"brp",icon:Or,documentNumberLabel:"BRP Number"}),n.jsx(xe,{title:"Passport",description:"Upload a clear photo or scan of your passport (if you don't have a BRP)",documentType:"passport",icon:Or,documentNumberLabel:"Passport Number"}),n.jsx(xe,{title:"Utility Bill (Proof of Address)",description:"Upload a recent utility bill (gas, electricity, water) dated within the last 3 months",documentType:"utility_bill",icon:gr})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(kn,{className:"text-orange-600 dark:text-orange-400",size:24}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Guarantor Information"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Provide details of your guarantor who can vouch for you"})]})]}),n.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium border ${K[fe.color]}`,children:[n.jsx(Se,{size:14}),n.jsx("span",{className:"capitalize",children:fe.status.replace("_"," ")})]})]}),fe.status==="rejected"&&fe.rejectionReason&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[n.jsx("strong",{children:"Rejection Reason:"})," ",fe.rejectionReason]})}),fe.status==="verified"&&fe.verifiedAt&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Verified on ",new Date(fe.verifiedAt).toLocaleDateString()]})}),o&&!y&&n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Full Name"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.full_name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.phone})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Relationship"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.relationship_to_tenant||"N/A"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Address"}),n.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[o.address_line_1,", ",o.city,", ",o.postcode]})]})]}),fe.status!=="verified"&&n.jsx("button",{onClick:()=>x(!0),className:"mt-4 text-sm text-orange-600 dark:text-orange-400 hover:underline",children:"Update Information"})]}),(y||!o)&&fe.status!=="verified"&&n.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:G.fullName,onChange:O=>I(R=>({...R,fullName:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:G.email,onChange:O=>I(R=>({...R,email:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),n.jsx("input",{type:"tel",required:!0,value:G.phone,onChange:O=>I(R=>({...R,phone:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date of Birth"}),n.jsx("input",{type:"date",value:G.dateOfBirth,onChange:O=>I(R=>({...R,dateOfBirth:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Relationship to Tenant *"}),n.jsxs("select",{required:!0,value:G.relationshipToTenant,onChange:O=>I(R=>({...R,relationshipToTenant:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"",children:"Select relationship"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Sibling",children:"Sibling"}),n.jsx("option",{value:"Friend",children:"Friend"}),n.jsx("option",{value:"Employer",children:"Employer"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employment Status"}),n.jsxs("select",{value:G.employmentStatus,onChange:O=>I(R=>({...R,employmentStatus:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"employed",children:"Employed"}),n.jsx("option",{value:"self_employed",children:"Self-Employed"}),n.jsx("option",{value:"retired",children:"Retired"}),n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employer Name"}),n.jsx("input",{type:"text",value:G.employerName,onChange:O=>I(R=>({...R,employerName:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Annual Income ()"}),n.jsx("input",{type:"number",step:"0.01",value:G.annualIncome,onChange:O=>I(R=>({...R,annualIncome:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 1 *"}),n.jsx("input",{type:"text",required:!0,value:G.addressLine1,onChange:O=>I(R=>({...R,addressLine1:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 2"}),n.jsx("input",{type:"text",value:G.addressLine2,onChange:O=>I(R=>({...R,addressLine2:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:G.city,onChange:O=>I(R=>({...R,city:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postcode *"}),n.jsx("input",{type:"text",required:!0,value:G.postcode,onChange:O=>I(R=>({...R,postcode:O.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Supporting Documents"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ID Document (Passport or Driving License)"}),n.jsx("input",{ref:F,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Proof of Address (Utility Bill or Bank Statement)"}),n.jsx("input",{ref:D,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Proof of Income (Payslip or Bank Statement)"}),n.jsx("input",{ref:P,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"submit",disabled:h.guarantor,className:"flex-1 flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.guarantor?n.jsxs(n.Fragment,{children:[n.jsx(Ni,{className:"animate-spin",size:18}),n.jsx("span",{children:"Submitting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ar,{size:18}),n.jsx("span",{children:"Submit Guarantor Information"})]})}),y&&n.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})]})},cce=()=>{const e=br(),{currentUser:t}=Zf(),r=C.useRef(null),[a,s]=C.useState(!1),[i,o]=C.useState({fullName:"Thomas Anderson",email:"thomas@example.com",phone:"+1 (555) 123-4567",address:"123 Main St, San Francisco, CA 94102",postcode:""}),[l,c]=C.useState(null),[u,h]=C.useState(null),[f,m]=C.useState(!1),[g,y]=C.useState([]),[x,N]=C.useState(!1),[b,w]=C.useState(!1),[k,S]=C.useState(null);C.useEffect(()=>{const I=async()=>{let Y=i.postcode;if(!Y&&i.address){const ee=i.address.match(/\b([A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2})\b/i);ee&&(Y=ee[1])}if(Y&&PA(Y)){w(!0);try{const ee=await Vle(Y);y(ee),N(ee.length>0)}catch(ee){console.error("Error fetching addresses:",ee),y([]),N(!1)}finally{w(!1)}}else y([]),N(!1)};k&&clearTimeout(k);const q=setTimeout(()=>{I()},500);return S(q),()=>{q&&clearTimeout(q)}},[i.postcode,i.address]);const B=I=>{const{name:q,value:Y}=I.target;o(ee=>({...ee,[q]:Y}))},H=I=>{o(q=>({...q,address:I.fullAddress,postcode:I.postcode})),N(!1),y([])};C.useEffect(()=>{(async()=>{var q;if(t)try{const{data:{user:Y}}=await He.auth.getUser();if(Y){(q=Y.user_metadata)!=null&&q.avatar_url&&h(Y.user_metadata.avatar_url);const{data:ee}=await He.from("profiles").select("*").eq("id",Y.id).single();ee&&(o(ue=>({...ue,fullName:ee.full_name||ue.fullName,email:Y.email||ue.email,phone:ee.phone||ue.phone,address:ee.address||ue.address,postcode:ee.postcode||ue.postcode})),ee.avatar_url&&h(ee.avatar_url))}}catch(Y){console.error("Error loading profile:",Y)}})()},[t]);const F=I=>{var ee;const q=(ee=I.target.files)==null?void 0:ee[0];if(!q)return;if(!q.type.startsWith("image/")){alert("Please select an image file");return}if(q.size>5*1024*1024){alert("Image size must be less than 5MB");return}c(q);const Y=new FileReader;Y.onloadend=()=>{h(Y.result)},Y.readAsDataURL(q)},D=async()=>{if(!l||!t){alert("Please select an image first");return}m(!0);try{const I=l.name.split(".").pop(),Y=`avatars/${`${t.id}-${Date.now()}.${I}`}`,{error:ee}=await He.storage.from("avatars").upload(Y,l,{cacheControl:"3600",upsert:!0});if(ee)throw console.error("Upload error:",ee),ee;const{data:{publicUrl:ue}}=He.storage.from("avatars").getPublicUrl(Y);if(ue)try{const{error:le}=await He.from("profiles").upsert({id:t.id,avatar_url:ue,updated_at:new Date().toISOString()});if(le){const{error:xe}=await He.auth.updateUser({data:{avatar_url:ue}});xe&&console.warn("Could not update profile image in database:",xe)}}catch(le){console.warn("Error updating profile:",le)}h(ue),c(null),alert("Profile image uploaded successfully!")}catch(I){console.error("Error uploading image:",I),alert("Failed to upload image. Please try again.")}finally{m(!1)}},P=()=>{c(null),h(null),r.current&&(r.current.value="")},G=async()=>{if(!t){alert("Please log in to save your profile");return}try{const{error:I}=await He.from("profiles").upsert({id:t.id,full_name:i.fullName,phone:i.phone,address:i.address,postcode:i.postcode,updated_at:new Date().toISOString()});if(I){console.error("Error saving profile:",I),alert("Failed to save profile. Please try again.");return}l&&await D(),s(!1),alert("Profile updated successfully!")}catch(I){console.error("Error saving profile:",I),alert("Failed to save profile. Please try again.")}};return n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("button",{onClick:()=>e(-1),className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-orange-600 transition-colors",children:[n.jsx(cc,{size:20}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Profile"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your personal information"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Personal Information"}),n.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300 font-medium",children:[n.jsx($o,{size:18}),a?"Cancel":"Edit"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:i.email,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Postcode",n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:"(Enter postcode to find addresses)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",name:"postcode",value:i.postcode,onChange:B,disabled:!a,placeholder:"e.g., PR1 1AA, SW1A 1AA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),b&&n.jsx(Ni,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 animate-spin text-orange-500",size:18})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",name:"address",value:i.address,onChange:B,disabled:!a,onFocus:()=>{g.length>0&&N(!0)},onBlur:()=>{setTimeout(()=>N(!1),200)},placeholder:"Enter postcode above to see address options",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),x&&g.length>0&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:[n.jsx("div",{className:"p-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:"Select an address:"}),g.map((I,q)=>n.jsx("button",{type:"button",onClick:()=>H(I),className:"w-full text-left px-4 py-3 hover:bg-orange-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(gr,{size:16,className:"text-orange-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:I.line1}),I.line2&&n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:I.line2}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[I.city,", ",I.postcode]})]})]})},q))]})]}),i.postcode&&!b&&g.length===0&&PA(i.postcode)&&n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"No addresses found for this postcode. You can still enter your address manually."})]}),a&&n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{onClick:G,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-sm",children:"Save Changes"})})]})]}),n.jsx(lce,{userId:t==null?void 0:t.id,currentUser:t})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"relative mb-4",children:u?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-orange-500"}),a&&n.jsx("button",{onClick:P,className:"absolute -top-1 -right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-colors",title:"Remove image",children:n.jsx(yr,{size:16})})]}):n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center border-4 border-orange-500",children:n.jsx(kn,{size:48,className:"text-white"})})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-1",children:i.fullName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Member since Jan 2024"}),a&&n.jsxs("div",{className:"w-full space-y-2",children:[n.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:F,className:"hidden",id:"profile-image-upload"}),n.jsx("label",{htmlFor:"profile-image-upload",className:"w-full flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer",children:f?n.jsxs(n.Fragment,{children:[n.jsx(Ni,{className:"animate-spin",size:18}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(fp,{size:18}),n.jsx("span",{children:"Upload Photo"})]})}),n.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Choose from device or gallery (mobile: tap to access camera)"}),l&&!f&&n.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[n.jsx(Ar,{size:18}),n.jsx("span",{children:"Save Image"})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Account Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"12"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contracts"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"8"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Messages"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"24"})]})]})]})]})]})]})},dce=({contract:e,onClose:t})=>{const[r,a]=C.useState(!0),s=e.pdfUrl||`data:application/pdf;base64,${btoa("Mock PDF Content")}`;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Or,{className:"text-orange-600",size:24}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.name||e.property}),n.jsx("p",{className:"text-sm text-gray-600",children:e.type||"Lease Agreement"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>window.open(s,"_blank"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Open in new tab",children:n.jsx($_,{size:20,className:"text-gray-600"})}),n.jsx("button",{onClick:()=>{const i=document.createElement("a");i.href=s,i.download=`${e.name||"contract"}.pdf`,i.click()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Download",children:n.jsx(Es,{size:20,className:"text-gray-600"})}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yr,{size:24,className:"text-gray-600"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-100",children:[r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading document..."})]})}),n.jsx("iframe",{src:s,className:"w-full h-full border-0",title:"Contract PDF",onLoad:()=>a(!1),style:{display:r?"none":"block"}})]})]})})},uce=({contract:e,onClose:t,onSign:r})=>{const[a,s]=C.useState(""),[i,o]=C.useState(!1),l=C.useRef(null),[c,u]=C.useState(!1),h=N=>{const b=l.current,w=b.getBoundingClientRect(),k=b.width/w.width,S=b.height/w.height;return N.touches&&N.touches[0]?{x:(N.touches[0].clientX-w.left)*k,y:(N.touches[0].clientY-w.top)*S}:{x:(N.clientX-w.left)*k,y:(N.clientY-w.top)*S}},f=N=>{N.preventDefault(),o(!0);const w=l.current.getContext("2d"),k=h(N);w.beginPath(),w.moveTo(k.x,k.y)},m=N=>{if(N.preventDefault(),!i)return;const w=l.current.getContext("2d"),k=h(N);w.lineWidth=2,w.lineCap="round",w.lineJoin="round",w.strokeStyle="#1f2937",w.lineTo(k.x,k.y),w.stroke()},g=N=>{if(N.preventDefault(),!i)return;o(!1);const b=l.current;if(b){const w=b.toDataURL();b.getContext("2d").getImageData(0,0,b.width,b.height).data.some((H,F)=>F%4!==3&&H!==255&&H!==0)&&s(w)}},y=()=>{const N=l.current;N.getContext("2d").clearRect(0,0,N.width,N.height),s("")},x=()=>{if(!a){alert("Please provide your signature");return}const N=JSON.parse(localStorage.getItem("signedContracts")||"[]");N.push({contractId:e.id,signedAt:new Date().toISOString(),signature:a}),localStorage.setItem("signedContracts",JSON.stringify(N)),u(!0),setTimeout(()=>{r(e.id,a),t()},1500)};return lc.useEffect(()=>{const N=l.current;if(N){const b=N.getContext("2d");b.strokeStyle="#1f2937",b.lineWidth=2,b.lineCap="round",b.lineJoin="round";const w=N.getBoundingClientRect();N.width=w.width,N.height=w.height}},[]),n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sign Contract"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(e==null?void 0:e.name)||(e==null?void 0:e.property)})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yr,{size:24,className:"text-gray-600"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(xh,{size:32,className:"text-green-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Contract Signed!"}),n.jsx("p",{className:"text-gray-600 text-center",children:"Your signature has been recorded and the contract is now active."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500",required:!0}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"I agree to the terms and conditions of this contract"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"By signing, I acknowledge that I have read and understood all the terms."})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Signature"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[n.jsx("canvas",{ref:l,className:"w-full h-48 bg-white rounded border border-gray-200 cursor-crosshair touch-none",onMouseDown:f,onMouseMove:m,onMouseUp:g,onMouseLeave:g,onTouchStart:f,onTouchMove:m,onTouchEnd:g}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Draw your signature above"}),n.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(nq,{size:16}),"Clear"]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or Type Your Name"}),n.jsx("input",{type:"text",placeholder:"Type your full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",onChange:N=>{N.target.value&&(y(),s(N.target.value))}})]})]})}),!c&&n.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:x,disabled:!a,className:"flex-1 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n.jsx(xh,{size:18}),"Accept & Sign"]})]})]})})},hce=()=>{const e=br(),[t,r]=C.useState(null),[a,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState(!1),[u,h]=C.useState([]),[f,m]=C.useState("list"),[g,y]=C.useState(""),[x,N]=C.useState("all"),[b,w]=C.useState("all"),[k,S]=C.useState("date"),[B,H]=C.useState("desc"),[F,D]=C.useState(!1),[P,G]=C.useState(null);C.useEffect(()=>{const Z=JSON.parse(localStorage.getItem("signedContracts")||"[]");h(Z)},[]);const I=[{id:1,name:"Lease Agreement - Modern Downtown Apartment",property:"Modern Downtown Apartment",propertyId:"prop-1",type:"Lease Agreement",category:"lease",date:"2024-01-10",expirationDate:"2025-01-10",status:"pending",priority:"high",amount:1500,currency:"GBP",duration:"12 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"London, UK",agentName:"John Smith",agentEmail:"john.smith@estospaces.com",agentPhone:"+44 20 1234 5678",description:"Standard lease agreement for a modern downtown apartment",requiresAction:!0,daysUntilExpiration:300},{id:2,name:"Lease Agreement - Luxury Condo",property:"Luxury Condo with Ocean View",propertyId:"prop-2",type:"Lease Agreement",category:"lease",date:"2023-12-15",expirationDate:"2024-12-15",status:"pending",priority:"medium",amount:2500,currency:"GBP",duration:"12 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"Brighton, UK",agentName:"Sarah Johnson",agentEmail:"sarah.j@estospaces.com",agentPhone:"+44 1273 987654",description:"Premium lease agreement with ocean view amenities",requiresAction:!0,daysUntilExpiration:345},{id:3,name:"Lease Agreement - Spacious Family Home",property:"Spacious Family Home",propertyId:"prop-3",type:"Lease Agreement",category:"lease",date:"2023-11-20",signedDate:"2024-01-03",expirationDate:"2025-11-20",status:"signed",priority:"low",amount:1800,currency:"GBP",duration:"24 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"Manchester, UK",agentName:"Michael Brown",agentEmail:"m.brown@estospaces.com",agentPhone:"+44 161 5551234",description:"Long-term lease for family-friendly spacious home",requiresAction:!1,daysUntilExpiration:600}],q=Z=>{var ke;return u.some(Le=>Le.contractId===Z)||((ke=I.find(Le=>Le.id===Z))==null?void 0:ke.signedDate)},Y=Z=>{if(q(Z.id)||Z.signedDate)return{label:"Signed",icon:Ar,color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",bgColor:"bg-green-50 dark:bg-green-900/20"};if(Z.status==="pending"||Z.status==="pending_signature"){const ke=Z.daysUntilExpiration&&Z.daysUntilExpiration<7;return{label:ke?"Urgent - Signature Required":"Pending Signature",icon:ya,color:ke?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",bgColor:ke?"bg-red-50 dark:bg-red-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}}return Z.status==="expired"?{label:"Expired",icon:ba,color:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-600",bgColor:"bg-gray-50 dark:bg-gray-800"}:{label:"Active",icon:Xm,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",bgColor:"bg-blue-50 dark:bg-blue-900/20"}},ee=C.useMemo(()=>{let Z=I.filter(ke=>{var Le,Oe,Ge,de;if(g){const Ae=g.toLowerCase();if(!(((Le=ke.property)==null?void 0:Le.toLowerCase().includes(Ae))||((Oe=ke.name)==null?void 0:Oe.toLowerCase().includes(Ae))||((Ge=ke.type)==null?void 0:Ge.toLowerCase().includes(Ae))||((de=ke.location)==null?void 0:de.toLowerCase().includes(Ae))))return!1}return!(x!=="all"&&(x==="signed"&&!q(ke.id)&&!ke.signedDate||x==="pending"&&(q(ke.id)||ke.signedDate||ke.status!=="pending")||x==="expired"&&ke.status!=="expired")||b!=="all"&&ke.category!==b)});return Z.sort((ke,Le)=>{let Oe=0;switch(k){case"name":Oe=(ke.property||"").localeCompare(Le.property||"");break;case"status":const Ge=Y(ke).label,de=Y(Le).label;Oe=Ge.localeCompare(de);break;case"date":default:Oe=new Date(Le.date)-new Date(ke.date);break}return B==="asc"?-Oe:Oe}),Z},[I,g,x,b,k,B,u]),ue=Z=>{r(Z),s(!0)},le=Z=>{r(Z),o(!0)},xe=(Z,ke)=>{const Le=[...u,{contractId:Z,signedAt:new Date().toISOString(),signature:ke}];h(Le);const Oe=JSON.parse(localStorage.getItem("signedContracts")||"[]");h(Oe)},oe=Z=>Z?new Date(Z).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}):"N/A",fe=(Z,ke="GBP")=>new Intl.NumberFormat("en-GB",{style:"currency",currency:ke,minimumFractionDigits:0,maximumFractionDigits:0}).format(Z),Se=Z=>{const ke=I.find(Oe=>Oe.id===Z);if(ke!=null&&ke.signedDate)return oe(ke.signedDate);const Le=u.find(Oe=>Oe.contractId===Z);return Le?oe(Le.signedAt):null},K=(Z,ke)=>{const Le=I.find(Oe=>Oe.id===Z);if(Le){switch(ke){case"view":ue(Le);break;case"details":r(Le),c(!0);break;case"download":z(Le);break;case"sign":le(Le);break;case"share":O(Le);break;case"copy":R(Le);break;case"property":Le.propertyId&&e(`/user/dashboard/property/${Le.propertyId}`);break}G(null)}},A=Z=>{r(Z),c(!0)},z=Z=>{const ke=document.createElement("a");ke.href=Z.pdfUrl||"#",ke.download=`${Z.name||Z.property}.pdf`,ke.target="_blank",ke.click()},O=Z=>{const ke=`${window.location.origin}/user/dashboard/contracts?contract=${Z.id}`;navigator.share?navigator.share({title:Z.name||Z.property,text:`Check out this contract: ${Z.property}`,url:ke}).catch(Le=>console.log("Error sharing:",Le)):(navigator.clipboard.writeText(ke),alert("Contract link copied to clipboard!"))},R=Z=>{const ke=`${window.location.origin}/user/dashboard/contracts?contract=${Z.id}`;navigator.clipboard.writeText(ke),alert("Contract link copied to clipboard!")},W=Z=>{k===Z?H(B==="asc"?"desc":"asc"):(S(Z),H("desc"))},X=ee.filter(Z=>!q(Z.id)&&!Z.signedDate&&Z.status==="pending").length,ne=ee.filter(Z=>q(Z.id)||Z.signedDate).length,re=ee.filter(Z=>!q(Z.id)&&!Z.signedDate&&Z.daysUntilExpiration&&Z.daysUntilExpiration<7).length;return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Digital Contracts"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"View, review, and sign your property contracts"})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded transition-colors ${f==="list"?"bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,title:"List View",children:n.jsx(Y_,{size:18})}),n.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded transition-colors ${f==="grid"?"bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,title:"Grid View",children:n.jsx(W_,{size:18})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Contracts"}),n.jsx(Or,{className:"text-blue-500 dark:text-blue-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:I.length})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Signed"}),n.jsx(Ar,{className:"text-green-500 dark:text-green-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:ne})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),n.jsx(ya,{className:"text-yellow-500 dark:text-yellow-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:X})]}),re>0&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg shadow-sm border border-red-200 dark:border-red-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"Urgent"}),n.jsx(ba,{className:"text-red-500 dark:text-red-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:re}),n.jsx("p",{className:"text-xs text-red-600 dark:text-red-500 mt-1",children:"Requires immediate action"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20}),n.jsx("input",{type:"text",value:g,onChange:Z=>y(Z.target.value),placeholder:"Search contracts by property, type, or location...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("button",{onClick:()=>D(!F),className:`flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition-colors ${F||x!=="all"||b!=="all"?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(Io,{size:18}),"Filters",(x!=="all"||b!=="all")&&n.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(x!=="all"?1:0)+(b!=="all"?1:0)})]}),n.jsxs("button",{onClick:()=>W("date"),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors",children:[B==="asc"?n.jsx(eU,{size:18}):n.jsx(Yz,{size:18}),n.jsx("span",{className:"hidden sm:inline",children:"Sort"})]})]}),F&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:x,onChange:Z=>N(Z.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"signed",children:"Signed"}),n.jsx("option",{value:"pending",children:"Pending Signature"}),n.jsx("option",{value:"expired",children:"Expired"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Type"}),n.jsxs("select",{value:b,onChange:Z=>w(Z.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"lease",children:"Lease Agreement"}),n.jsx("option",{value:"purchase",children:"Purchase Agreement"}),n.jsx("option",{value:"other",children:"Other"})]})]})]})]}),ee.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[n.jsx(Or,{className:"mx-auto mb-4 text-gray-400 dark:text-gray-500",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No contracts found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g||x!=="all"||b!=="all"?"Try adjusting your filters or search terms.":"You don't have any contracts yet. Contracts will appear here once you apply for properties."}),(g||x!=="all"||b!=="all")&&n.jsx("button",{onClick:()=>{y(""),N("all"),w("all")},className:"px-4 py-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:"Clear Filters"})]}):n.jsx("div",{className:`${f==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}`,children:ee.map(Z=>{const ke=Y(Z),Le=ke.icon,Oe=q(Z.id),Ge=Se(Z.id),de=Z.daysUntilExpiration&&Z.daysUntilExpiration<7&&!Oe;return f==="grid"?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow relative",onClick:()=>A(Z),children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Z.requiresAction&&!Oe&&n.jsx(uu,{className:"text-orange-500 dark:text-orange-400 animate-pulse",size:16}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 truncate",children:Z.property})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Z.type}),Z.location&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:12}),n.jsx("span",{children:Z.location})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),G(P===Z.id?null:Z.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors flex-shrink-0",children:n.jsx(Xy,{size:18,className:"text-gray-400 dark:text-gray-500"})}),P===Z.id&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(null)}),n.jsxs("div",{className:"absolute top-8 right-0 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20 min-w-[180px]",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"details")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700 rounded-t-lg",children:[n.jsx(Or,{size:16}),"View Details"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"view")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(fa,{size:16}),"View PDF"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"download")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(Es,{size:16}),"Download PDF"]}),Z.propertyId&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"property")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(aa,{size:16}),"View Property"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"share")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(Fo,{size:16}),"Share Contract"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(Z.id,"copy")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm rounded-b-lg",children:[n.jsx(Zy,{size:16}),"Copy Link"]})]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${ke.color}`,children:[n.jsx(Le,{size:12}),ke.label]})}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[Z.amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[fe(Z.amount,Z.currency),"/month"]})]}),Z.duration&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:Z.duration})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:oe(Z.date)})]}),Ge&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Signed:"}),n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:Ge})]}),Z.expirationDate&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Expires:"}),n.jsx("span",{className:`font-medium ${de?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:oe(Z.expirationDate)})]})]}),de&&n.jsx("div",{className:"mb-4 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:[" ",Z.daysUntilExpiration," days remaining to sign"]})}),n.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",onClick:Ae=>Ae.stopPropagation(),children:[Oe?n.jsxs("div",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:16}),"Signed"]}):n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),le(Z)},className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${de?"bg-red-600 hover:bg-red-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:[n.jsx(Xm,{size:16}),de?"Sign Urgently":"Accept & Sign"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),ue(Z)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(fa,{size:14}),"View"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),z(Z)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(Es,{size:14}),"Download"]})]})]})]})},Z.id):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover:shadow-md transition-all cursor-pointer",onClick:()=>A(Z),children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${de?"bg-red-100 dark:bg-red-900/30":"bg-orange-50 dark:bg-orange-900/30"}`,children:n.jsx(Or,{className:de?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Z.requiresAction&&!Oe&&n.jsx(uu,{className:"text-orange-500 dark:text-orange-400 animate-pulse flex-shrink-0",size:16}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 truncate",children:Z.property}),de&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium border border-red-200 dark:border-red-800",children:[n.jsx(ba,{size:10}),"Urgent"]})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Z.type}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wi,{size:12}),"Created ",oe(Z.date)]}),Z.location&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(aa,{size:12}),Z.location]}),Z.amount&&n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[fe(Z.amount,Z.currency),"/month"]}),Ge&&n.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium",children:[n.jsx(Ar,{size:12}),"Signed ",Ge]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border whitespace-nowrap ${ke.color}`,children:[n.jsx(Le,{size:14}),ke.label]}),n.jsx("button",{onClick:()=>G(P===Z.id?null:Z.id),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors relative",children:n.jsx(Xy,{size:18,className:"text-gray-400 dark:text-gray-500"})})]})]}),de&&n.jsx("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400 font-medium",children:[" This contract expires in ",Z.daysUntilExpiration," days. Please sign immediately to avoid expiration."]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",onClick:Ae=>Ae.stopPropagation(),children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),ue(Z)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(fa,{size:16}),"View PDF"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),z(Z)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(Es,{size:16}),"Download"]}),Z.propertyId&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),e(`/user/dashboard/property/${Z.propertyId}`)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(aa,{size:16}),"View Property"]}),!Oe&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),le(Z)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${de?"bg-red-600 hover:bg-red-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:[n.jsx(Xm,{size:16}),de?"Sign Urgently":"Accept & Sign"]}),Oe&&n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg text-sm font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:16}),"Signed"]})]})]})]})},Z.id)})}),a&&t&&n.jsx(dce,{contract:t,onClose:()=>{s(!1),r(null)}}),i&&t&&n.jsx(uce,{contract:t,onClose:()=>{o(!1),r(null)},onSign:xe}),l&&t&&n.jsx(fce,{contract:t,isSigned:q(t.id),signedDate:Se(t.id),onClose:()=>{c(!1),r(null)},onSign:()=>{c(!1),le(t)},onViewProperty:()=>{t.propertyId&&e(`/user/dashboard/property/${t.propertyId}`)}}),P&&n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(null)})]})},fce=({contract:e,isSigned:t,signedDate:r,onClose:a,onSign:s,onViewProperty:i})=>{const o=u=>u?new Date(u).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}):"N/A",l=(u,h="GBP")=>new Intl.NumberFormat("en-GB",{style:"currency",currency:h,minimumFractionDigits:0,maximumFractionDigits:0}).format(u),c=e.daysUntilExpiration&&e.daysUntilExpiration<7&&!t;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:n.jsx(Or,{className:"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500",children:e.property}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]})]}),n.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(yr,{size:24,className:"text-gray-600 dark:text-gray-400"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-800 dark:text-red-300 mb-1",children:"Urgent Action Required"}),n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:["This contract expires in ",e.daysUntilExpiration," days. Please sign immediately to avoid expiration."]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Contract Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.property}),e.propertyId&&n.jsxs("button",{onClick:i,className:"mt-1 text-sm text-orange-600 dark:text-orange-400 hover:underline flex items-center gap-1",children:[n.jsx(aa,{size:14}),"View Property Details"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Contract Type"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.type})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Location"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.location||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:o(e.date)})]}),t&&r&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-600 dark:text-green-400 mb-1",children:"Signed Date"}),n.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:r})]}),e.expirationDate&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Expiration Date"}),n.jsx("p",{className:`font-medium ${c?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:o(e.expirationDate)}),e.daysUntilExpiration&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.daysUntilExpiration," days remaining"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Financial Details"}),e.amount&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Monthly Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l(e.amount,e.currency)})]}),e.duration&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Duration"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.duration})]}),e.description&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-sm",children:e.description})]}),(e.agentName||e.agentEmail||e.agentPhone)&&n.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Agent Contact"}),e.agentName&&n.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 mb-1",children:e.agentName}),e.agentEmail&&n.jsx("a",{href:`mailto:${e.agentEmail}`,className:"text-sm text-orange-600 dark:text-orange-400 hover:underline block mb-1",children:e.agentEmail}),e.agentPhone&&n.jsx("a",{href:`tel:${e.agentPhone}`,className:"text-sm text-orange-600 dark:text-orange-400 hover:underline block",children:e.agentPhone})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row gap-3",children:[n.jsxs("button",{onClick:()=>{const u=document.createElement("a");u.href=e.pdfUrl||"#",u.download=`${e.name||e.property}.pdf`,u.target="_blank",u.click()},className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:[n.jsx(Es,{size:18}),"Download PDF"]}),n.jsxs("button",{onClick:()=>{a(),document.querySelector("[data-contract-viewer]"),window.open(e.pdfUrl||"#","_blank")},className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:[n.jsx(fa,{size:18}),"View Contract"]}),!t&&n.jsxs("button",{onClick:s,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors text-white ${c?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"}`,children:[n.jsx(Xm,{size:18}),c?"Sign Urgently":"Accept & Sign"]}),t&&n.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:18}),"Contract Signed"]})]})]})})},mce=C.createContext(),lM=()=>{const e=C.useContext(mce);if(!e)throw new Error("useApplications must be used within an ApplicationsProvider");return e},xr={DRAFT:"draft",SUBMITTED:"submitted",UNDER_REVIEW:"under_review",DOCUMENTS_REQUESTED:"documents_requested",APPROVED:"approved",REJECTED:"rejected",WITHDRAWN:"withdrawn"};xr.UNDER_REVIEW,new Date(Date.now()-7*24*60*60*1e3).toISOString(),new Date(Date.now()-2*24*60*60*1e3).toISOString(),new Date(Date.now()+5*24*60*60*1e3).toISOString(),new Date(Date.now()-5*24*60*60*1e3).toISOString(),new Date(Date.now()-2*24*60*60*1e3).toISOString(),xr.DOCUMENTS_REQUESTED,new Date(Date.now()-10*24*60*60*1e3).toISOString(),new Date(Date.now()-1*24*60*60*1e3).toISOString(),new Date(Date.now()+3*24*60*60*1e3).toISOString(),new Date(Date.now()-3*24*60*60*1e3).toISOString(),xr.SUBMITTED,new Date(Date.now()-3*24*60*60*1e3).toISOString(),new Date(Date.now()-3*24*60*60*1e3).toISOString();const gce=({application:e,onClick:t})=>{const r=br(),{createConversation:a}=Bf(),s=g=>{switch(g){case xr.DRAFT:return{label:"Draft",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:$o};case xr.SUBMITTED:return{label:"Submitted",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:Or};case xr.UNDER_REVIEW:return{label:"Under Review",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",icon:ya};case xr.DOCUMENTS_REQUESTED:return{label:"Documents Requested",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",icon:fp};case xr.APPROVED:return{label:"Approved",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",icon:Ar};case xr.REJECTED:return{label:"Rejected",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",icon:As};case xr.WITHDRAWN:return{label:"Withdrawn",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:As};default:return{label:g,color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:Or}}},i=()=>{switch(e.status){case xr.DRAFT:return{label:"Complete Application",action:"edit"};case xr.DOCUMENTS_REQUESTED:return{label:"Upload Documents",action:"upload"};case xr.UNDER_REVIEW:return{label:"View Details",action:"view"};default:return{label:"View Details",action:"view"}}},o=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",l=g=>{if(!g)return"N/A";const y=new Date(g),N=new Date-y,b=Math.floor(N/(1e3*60*60*24));return b===0?"Today":b===1?"Yesterday":b<7?`${b} days ago`:o(g)},c=()=>{if(!e.deadline)return!1;const g=new Date(e.deadline),y=new Date,x=new Date(y.getTime()+3*24*60*60*1e3);return g<=x&&g>y},u=s(e.status),h=i(),f=u.icon,m=g=>{g.stopPropagation(),e.conversationId||a({id:e.agentId,name:e.agentName,agency:e.agentAgency,email:e.agentEmail},{id:e.propertyId,title:e.propertyTitle,address:e.propertyAddress,image:e.propertyImage,price:e.propertyPrice}),r("/user/dashboard/messages")};return n.jsx("div",{onClick:t,className:`bg-white dark:bg-gray-800 rounded-lg border ${e.requiresAction?"border-orange-300 dark:border-orange-700 shadow-md":"border-gray-200 dark:border-gray-700"} hover:shadow-lg transition-all cursor-pointer ${e.requiresAction?"ring-2 ring-orange-200 dark:ring-orange-900/50":""}`,children:n.jsx("div",{className:"p-4 lg:p-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.propertyImage,alt:e.propertyTitle,className:"w-20 h-20 lg:w-24 lg:h-24 rounded-lg object-cover",onError:g=>{g.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg mb-1 truncate",children:e.propertyTitle}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:14}),n.jsx("span",{className:"truncate",children:e.propertyAddress})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[e.requiresAction&&n.jsxs("div",{className:"relative",children:[n.jsx(ba,{size:18,className:"text-orange-500 dark:text-orange-400",title:"Action Required"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse"})]}),c()&&n.jsx("div",{className:"relative",children:n.jsx(ya,{size:18,className:"text-red-500 dark:text-red-400",title:"Deadline Approaching"})}),n.jsx(El,{size:20,className:"text-gray-400"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[n.jsx(kn,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[e.agentName,e.agentAgency&&`  ${e.agentAgency}`]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Reference ID:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.referenceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Last Updated:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:l(e.lastUpdated)})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{size:16}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${u.color}`,children:u.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.conversationId&&n.jsx("button",{onClick:m,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Message Agent",children:n.jsx(Vo,{size:16})}),n.jsx("button",{onClick:g=>{g.stopPropagation(),t()},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium rounded-lg transition-colors",children:h.label})]})]}),c()&&n.jsx("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400",children:[n.jsx(ya,{size:12,className:"inline mr-1"}),"Deadline: ",o(e.deadline)]})})]})]})})})},pce=({status:e})=>{const t=[{key:xr.DRAFT,label:"Draft",description:"Application is being prepared"},{key:xr.SUBMITTED,label:"Submitted",description:"Application has been submitted"},{key:xr.UNDER_REVIEW,label:"Under Review",description:"Application is being reviewed"},{key:xr.DOCUMENTS_REQUESTED,label:"Documents Requested",description:"Additional documents needed"},{key:xr.APPROVED,label:"Approved",description:"Application has been approved"}],a=(c=>{const u=t.findIndex(h=>h.key===c);return u===-1?c===xr.REJECTED||c===xr.WITHDRAWN?t.length:0:u})(e),s=e===xr.REJECTED,i=e===xr.WITHDRAWN,o=c=>s||i?"error":c<a?"completed":c===a?"current":"pending",l=c=>{switch(c){case"completed":return n.jsx(Ar,{size:20,className:"text-green-500"});case"current":return n.jsx(ya,{size:20,className:"text-orange-500"});case"error":return n.jsx(As,{size:20,className:"text-red-500"});default:return n.jsx(jC,{size:20,className:"text-gray-300 dark:text-gray-600"})}};return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6",children:"Application Status"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"space-y-6",children:t.map((c,u)=>{const h=o(u),f=u===t.length-1;return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${h==="completed"?"bg-green-50 dark:bg-green-900/20 border-green-500":h==="current"?"bg-orange-50 dark:bg-orange-900/20 border-orange-500":"bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600"}`,children:l(h)})}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("div",{className:`font-medium mb-1 ${h==="completed"?"text-green-700 dark:text-green-400":h==="current"?"text-orange-700 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}`,children:c.label}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.description})]})]}),!f&&n.jsx("div",{className:`absolute left-5 top-10 w-0.5 h-6 ${h==="completed"?"bg-green-500":h==="current"?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`})]},c.key)})}),(s||i)&&n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 bg-red-50 dark:bg-red-900/20 border-red-500",children:n.jsx(As,{size:20,className:"text-red-500"})})}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("div",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:s?"Rejected":"Withdrawn"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?"Application has been rejected":"Application has been withdrawn"})]})]})})]})]})},xce=({documents:e=[],onUpload:t,onDelete:r,onReplace:a,maxSize:s=10*1024*1024})=>{const[i,o]=C.useState(!1),l=C.useRef(null),c=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?o(!0):N.type==="dragleave"&&o(!1)},u=N=>{N.preventDefault(),N.stopPropagation(),o(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&f(Array.from(N.dataTransfer.files))},h=N=>{N.target.files&&N.target.files[0]&&f(Array.from(N.target.files))},f=N=>{N.filter(w=>w.size>s?(alert(`File ${w.name} is too large. Maximum size is ${(s/1048576).toFixed(0)}MB.`),!1):["application/pdf","image/jpeg","image/png","image/jpg"].includes(w.type)?!0:(alert(`File ${w.name} has an invalid type. Please upload PDF or image files.`),!1)).forEach(w=>{const k={id:`doc-${Date.now()}-${Math.random()}`,name:w.name,type:w.type,size:w.size,file:w,status:"pending",uploadedAt:new Date().toISOString(),url:URL.createObjectURL(w)};t(k)})},m=N=>{switch(N){case"approved":return n.jsx(Ar,{size:16,className:"text-green-500"});case"rejected":return n.jsx(As,{size:16,className:"text-red-500"});default:return n.jsx(ya,{size:16,className:"text-yellow-500"})}},g=N=>{switch(N){case"approved":return"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800";case"rejected":return"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"}},y=N=>N<1024?N+" B":N<1024*1024?(N/1024).toFixed(1)+" KB":(N/(1024*1024)).toFixed(1)+" MB",x=N=>N.startsWith("image/")?n.jsx(G_,{size:20,className:"text-gray-500"}):n.jsx(Or,{size:20,className:"text-gray-500"});return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Documents"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload required documents. Accepted formats: PDF, JPG, PNG (Max 10MB)"})]}),n.jsxs("div",{onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:u,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"}`,children:[n.jsx(fp,{size:48,className:`mx-auto mb-4 ${i?"text-orange-500":"text-gray-400"}`}),n.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Drag and drop files here, or"," ",n.jsx("button",{onClick:()=>{var N;return(N=l.current)==null?void 0:N.click()},className:"text-orange-600 dark:text-orange-400 hover:underline",children:"browse"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF, JPG, PNG up to 10MB"}),n.jsx("input",{ref:l,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:h,className:"hidden"})]}),e.length>0&&n.jsx("div",{className:"space-y-3",children:e.map(N=>n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${g(N.status)}`,children:[n.jsx("div",{className:"flex-shrink-0",children:x(N.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:N.name}),m(N.status)]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:y(N.size||0)}),n.jsx("span",{children:N.status==="approved"?"Approved":N.status==="rejected"?"Rejected":"Pending Review"}),N.rejectionReason&&n.jsx("span",{className:"text-red-600 dark:text-red-400",children:N.rejectionReason})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[N.url&&n.jsx("a",{href:N.url,download:N.name,className:"p-2 text-gray-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",title:"Download",children:n.jsx(Es,{size:16})}),N.status==="rejected"&&n.jsx("button",{onClick:()=>a(N.id),className:"p-2 text-gray-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",title:"Replace",children:n.jsx($o,{size:16})}),n.jsx("button",{onClick:()=>r(N.id),className:"p-2 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors",title:"Delete",children:n.jsx(Ss,{size:16})})]})]},N.id))})]})},yce=({applicationId:e,onClose:t})=>{var P,G,I,q,Y,ee;const r=br(),{getApplication:a,updateApplication:s,submitApplication:i,withdrawApplication:o,addDocument:l,updateDocument:c,deleteDocument:u}=lM(),{createConversation:h}=useMessages(),f=a(e),[m,g]=C.useState(!1),[y,x]=C.useState(!1);if(!f)return n.jsx("div",{className:"p-6 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Application not found"})});const N=f.status===xr.DRAFT||f.status===xr.DOCUMENTS_REQUESTED,b=()=>{f.conversationId||h({id:f.agentId,name:f.agentName,agency:f.agentAgency,email:f.agentEmail},{id:f.propertyId,title:f.propertyTitle,address:f.propertyAddress,image:f.propertyImage,price:f.propertyPrice}),r("/user/dashboard/messages")},w=()=>{window.confirm("Are you sure you want to submit this application? You won't be able to edit it after submission.")&&(i(e),g(!1))},k=()=>{o(e),x(!1),t==null||t()},S=ue=>{l(e,ue)},B=ue=>{window.confirm("Are you sure you want to delete this document?")&&u(e,ue)},H=ue=>{u(e,ue)},F=ue=>ue?`$${ue.toLocaleString()}`:"Price on request",D=()=>{switch(f.status){case xr.DRAFT:return["Complete all required information","Upload required documents","Review and submit your application"];case xr.DOCUMENTS_REQUESTED:return["Upload the requested documents","Ensure documents are clear and readable","Wait for document review"];case xr.UNDER_REVIEW:return["Your application is being reviewed","You will be notified of any updates","Check back regularly for status changes"];case xr.APPROVED:return["Congratulations! Your application has been approved","Contact the agent to proceed with next steps","Review and sign any required documents"];default:return[]}};return n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 lg:p-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[n.jsx(cc,{size:20}),n.jsx("span",{children:"Back to Applications"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[N&&n.jsxs("button",{onClick:()=>g(!m),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx($o,{size:16,className:"inline mr-2"}),m?"Cancel Edit":"Edit"]}),f.status!==xr.WITHDRAWN&&f.status!==xr.APPROVED&&f.status!==xr.REJECTED&&n.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-red-300 dark:border-red-700 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(As,{size:16,className:"inline mr-2"}),"Withdraw"]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:f.propertyTitle}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Reference: ",f.referenceId]})]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx(pce,{status:f.status}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Property Details"}),n.jsxs("button",{onClick:()=>r(`/user/dashboard/property/${f.propertyId}`),className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium",children:[n.jsx("span",{children:"View Property"}),n.jsx($_,{size:16})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("img",{src:f.propertyImage,alt:f.propertyTitle,className:"w-24 h-24 rounded-lg object-cover",onError:ue=>{ue.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:f.propertyTitle}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:14}),n.jsx("span",{children:f.propertyAddress})]}),n.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:F(f.propertyPrice)})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Application Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Personal Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Full Name:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((P=f.personalInfo)==null?void 0:P.fullName)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((G=f.personalInfo)==null?void 0:G.email)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((I=f.personalInfo)==null?void 0:I.phone)||"Not provided"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Financial Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Annual Income:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(q=f.financialInfo)!=null&&q.annualIncome?`$${f.financialInfo.annualIncome.toLocaleString()}`:"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Employment Status:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((Y=f.financialInfo)==null?void 0:Y.employmentStatus)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Employer:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((ee=f.financialInfo)==null?void 0:ee.employer)||"Not provided"})]})]})]})]}),f.notes&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes:"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 mt-1",children:f.notes})]})]}),(N||f.documents.length>0)&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx(xce,{documents:f.documents,onUpload:S,onDelete:B,onReplace:H})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Agent Information"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:f.agentName.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:f.agentName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.agentAgency})]})]}),n.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Vo,{size:16}),n.jsx("span",{children:"Message Agent"})]})]})]}),D().length>0&&n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Next Steps"}),n.jsx("ul",{className:"space-y-2",children:D().map((ue,le)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx(Ar,{size:16,className:"text-orange-500 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:ue})]},le))})]}),f.status===xr.DRAFT&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx("button",{onClick:w,className:"w-full px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors",children:"Submit Application"})})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Withdraw Application"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to withdraw this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Withdraw Application"})]})]})})]})},vce=({searchQuery:e,setSearchQuery:t,statusFilter:r,setStatusFilter:a,propertyTypeFilter:s,setPropertyTypeFilter:i,dateRangeFilter:o,setDateRangeFilter:l})=>{const[c,u]=C.useState(!1),h=[{value:"all",label:"All Statuses"},{value:xr.DRAFT,label:"Draft"},{value:xr.SUBMITTED,label:"Submitted"},{value:xr.UNDER_REVIEW,label:"Under Review"},{value:xr.DOCUMENTS_REQUESTED,label:"Documents Requested"},{value:xr.APPROVED,label:"Approved"},{value:xr.REJECTED,label:"Rejected"},{value:xr.WITHDRAWN,label:"Withdrawn"}],f=[{value:"all",label:"All Types"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"house",label:"House"},{value:"townhouse",label:"Townhouse"}],m=r!=="all"||s!=="all"||o.start||o.end,g=()=>{a("all"),i("all"),l({start:null,end:null})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(us,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by property name, location, or application ID...",value:e,onChange:y=>t(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Io,{size:16}),n.jsx("span",{children:"Filters"}),m&&n.jsx("span",{className:"ml-1 px-2 py-0.5 bg-orange-500 text-white text-xs rounded-full",children:"Active"})]}),m&&n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[n.jsx(yr,{size:16}),n.jsx("span",{children:"Clear Filters"})]})]}),c&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsx("select",{value:r,onChange:y=>a(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white",children:h.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type"}),n.jsx("select",{value:s,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white",children:f.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:o.start||"",onChange:y=>l({...o,start:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:o.end||"",onChange:y=>l({...o,end:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]})]})]})]})]})},bce=()=>n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 lg:p-6 animate-pulse",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsx("div",{className:"h-5 w-3/4 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsx("div",{className:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"}),n.jsx("div",{className:"h-8 w-32 bg-gray-200 dark:bg-gray-700 rounded-lg"})]})]})]})}),wce=()=>{const{applications:e,selectedApplicationId:t,setSelectedApplicationId:r,searchQuery:a,setSearchQuery:s,statusFilter:i,setStatusFilter:o,propertyTypeFilter:l,setPropertyTypeFilter:c,dateRangeFilter:u,setDateRangeFilter:h,isLoading:f,getApplicationsRequiringAction:m,getApplicationsWithDeadlineWarnings:g}=lM(),[y,x]=C.useState("list"),N=m(),b=g(),w=S=>{r(S),x("detail")},k=()=>{x("list"),r(null)};return y==="detail"&&t?n.jsx(yce,{applicationId:t,onClose:k}):n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 lg:p-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"My Applications"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Track your property applications"})]}),n.jsxs("button",{onClick:()=>{window.location.href="/user/dashboard/discover"},className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Ll,{size:20}),n.jsx("span",{className:"hidden sm:inline",children:"New Application"})]})]}),N.length>0&&n.jsx("div",{className:"mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-700 dark:text-orange-400",children:[n.jsx(ba,{size:16}),n.jsxs("span",{children:[N.length," application",N.length!==1?"s":""," require",N.length===1?"s":""," your action"]})]})}),b.length>0&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700 dark:text-red-400",children:[n.jsx(ya,{size:16}),n.jsxs("span",{children:[b.length," application",b.length!==1?"s":""," ",b.length===1?"has":"have"," an approaching deadline"]})]})}),n.jsx(vce,{searchQuery:a,setSearchQuery:s,statusFilter:i,setStatusFilter:o,propertyTypeFilter:l,setPropertyTypeFilter:c,dateRangeFilter:u,setDateRangeFilter:h})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:f?n.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:[1,2,3].map(S=>n.jsx(bce,{},S))}):e.length===0?n.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Or,{size:48,className:"text-gray-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No applications found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a||i!=="all"||l!=="all"?"Try adjusting your filters to see more results.":"You haven't submitted any applications yet. Start by browsing properties and applying for ones you're interested in."}),!a&&i==="all"&&l==="all"&&n.jsxs("button",{onClick:()=>{window.location.href="/user/dashboard/discover"},className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Ll,{size:20}),n.jsx("span",{children:"Browse Properties"})]})]}):n.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:e.map(S=>n.jsx(gce,{application:S,onClick:()=>w(S.id)},S.id))})})]})},_ce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Viewings"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Schedule and manage property viewings"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[n.jsx(wi,{size:48,className:"mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No viewings scheduled"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Schedule a viewing for properties you're interested in"}),n.jsx("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})]}),Nce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Reviews"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Share your experience with properties"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[n.jsx(jl,{size:48,className:"mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Review properties you've visited or rented"}),n.jsx("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"View Properties"})]})]}),kce=()=>{const{savedProperties:e,removeProperty:t}=zf(),r=br(),a=s=>{r(`/user/dashboard/property/${s.id}`)};return e.length===0?n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-gray-900 min-h-screen",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:n.jsx(td,{size:48,className:"text-gray-400 dark:text-gray-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"No Saved Properties"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-6 text-center max-w-md",children:"Start exploring properties and save your favorites to see them here."}),n.jsx("a",{href:"/user/dashboard/discover",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})}):n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-gray-900",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500",children:"Saved Properties"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-orange-400 mt-1",children:[e.length," ",e.length===1?"property":"properties"," saved"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(s=>n.jsx(oM,{property:s,onViewDetails:a},s.id))})]})},jce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your account settings and preferences"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(uu,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"Email notifications"}),n.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"Push notifications"}),n.jsx("input",{type:"checkbox",className:"rounded"})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"SMS notifications"}),n.jsx("input",{type:"checkbox",className:"rounded"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(SV,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Security"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Change Password"}),n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Two-Factor Authentication"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Q1,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Payment Methods"})]}),n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Manage Payment Methods"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(H_,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Preferences"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{children:"English"}),n.jsx("option",{children:"Spanish"}),n.jsx("option",{children:"French"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{children:"UTC-8 (Pacific Time)"}),n.jsx("option",{children:"UTC-5 (Eastern Time)"}),n.jsx("option",{children:"UTC+0 (GMT)"})]})]})]})]})]})]}),Sce=()=>{br();const[e,t]=C.useState(!1),[r,a]=C.useState({subject:"",category:"General Inquiry",message:""}),s=[{icon:ym,title:"Documentation",description:"Browse our comprehensive guides",action:()=>t(!0)},{icon:Vo,title:"Live Chat",description:"Chat with our support team",action:()=>window.location.href="mailto:support@estospaces.com?subject=Live Chat Request"},{icon:_n,title:"Email Support",description:"Send us an email at support@estospaces.com",action:()=>window.location.href="mailto:support@estospaces.com"}],i=[{question:"How do I add a new property?",answer:"Go to Discover Properties and use the search filters..."},{question:"How do I make a payment?",answer:"Navigate to the Payments section and click Make Payment..."},{question:"How do I view my contracts?",answer:"All your contracts are available in the Contracts section..."}],o=l=>{l.preventDefault();const c=`mailto:contact@estospaces.com?subject=[${r.category}] ${encodeURIComponent(r.subject)}&body=${encodeURIComponent(r.message)}`;window.location.href=c};return n.jsxs("div",{className:"p-4 lg:p-6 relative",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Help & Support"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Get help with your account and properties"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:s.map((l,c)=>{const u=l.icon;return n.jsxs("div",{onClick:l.action,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer hover:bg-gray-50",children:[n.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center mb-4",children:n.jsx(u,{className:"text-red-600",size:24})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-2",children:l.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:l.description})]},c)})}),e&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-orange-500",children:"Help & Support Guides"}),n.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(yr,{size:20,className:"text-gray-500"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-gray-600",children:"Explore our comprehensive resources to get the most out of EstoSpaces:"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-blue-50 rounded text-blue-600",children:n.jsx(ym,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Getting Started"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Learn how to set up your profile and preferences."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-green-50 rounded text-green-600",children:n.jsx(ym,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Property Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Step-by-step guides on listing and managing properties."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-purple-50 rounded text-purple-600",children:n.jsx(ym,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Financials"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Understanding payments, invoices, and contracts."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-orange-50 rounded text-orange-600",children:n.jsx(ym,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Troubleshooting"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Common issues and how to resolve them."})]})]})]})]}),n.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end",children:n.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Close"})})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(_n,{className:"text-orange-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-orange-500",children:"Raise a Ticket"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:"Submit a support request and we'll get back to you shortly"})]})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4 max-w-2xl",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",placeholder:"Brief description of the issue",value:r.subject,onChange:l=>a({...r,subject:l.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all bg-white",value:r.category,onChange:l=>a({...r,category:l.target.value}),children:[n.jsx("option",{children:"General Inquiry"}),n.jsx("option",{children:"Technical Issue"}),n.jsx("option",{children:"Billing & Payments"}),n.jsx("option",{children:"Property Listing"}),n.jsx("option",{children:"Account Support"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{required:!0,rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all resize-none",placeholder:"Describe your issue in detail...",value:r.message,onChange:l=>a({...r,message:l.target.value})})]}),n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-2.5 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors duration-200",children:[n.jsx(Ch,{size:18}),"Submit Ticket"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-4",children:i.map((l,c)=>n.jsxs("div",{className:"border-b border-gray-200 last:border-0 pb-4 last:pb-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-orange-500 mb-2",children:l.question}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:l.answer})]},c))})]})]})},Ace=()=>{var le;const{id:e}=T_(),[t]=R_(),r=br(),{toggleProperty:a,isPropertySaved:s}=zf(),{currentUser:i,saveProperty:o,unsaveProperty:l,trackPropertyView:c}=Zf(),[u,h]=C.useState(0),[f,m]=C.useState(null),[g,y]=C.useState(!0),[x,N]=C.useState(null),[b,w]=C.useState(!1),[k,S]=C.useState(!1);if(C.useEffect(()=>{(async()=>{if(!e){N("Property ID is required"),y(!1);return}y(!0),N(null);try{const oe=await Lle(e,i==null?void 0:i.id);if(oe.error){N(oe.error.message||"Failed to load property"),y(!1);return}oe.data?m(oe.data):N("Property not found")}catch(oe){console.error("Error fetching property:",oe),N(oe.message||"Failed to load property")}finally{y(!1)}})()},[e,i]),C.useEffect(()=>{t.get("action")==="buy"&&f&&S(!0)},[t,f]),g)return n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ni,{className:"animate-spin mx-auto mb-4 text-orange-500",size:48}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading property details..."})]})});if(x||!f)return n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center max-w-md",children:[n.jsx(ba,{className:"mx-auto mb-4 text-red-600 dark:text-red-400",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Property Not Found"}),n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:x||"The property you are looking for does not exist."}),n.jsx("button",{onClick:()=>r("/user/dashboard/discover"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})});const B=f.image_urls?Array.isArray(f.image_urls)?f.image_urls:JSON.parse(f.image_urls||"[]"):[],H=B.length>1,F=s(f.id),D=f.property_features?Array.isArray(f.property_features)?f.property_features:JSON.parse(f.property_features||"[]"):[],G=(()=>{const xe=parseFloat(f.price)||0,oe=xe*.004,fe=oe*12,Se=xe>0?(fe/xe*100).toFixed(2):0,K={low:xe*.85,med:xe,high:xe*1.15};return{monthlyRent:oe.toFixed(0),annualRent:fe.toFixed(0),grossYield:parseFloat(Se),estimatedValue:K}})(),I=()=>{h(xe=>(xe+1)%B.length)},q=()=>{h(xe=>(xe-1+B.length)%B.length)},Y=xe=>typeof xe=="number"?`${xe.toLocaleString("en-GB")}`:xe||"Price on request",ee=async()=>{i&&(F?(await l(f.id),a(f)):(await o(f.id),a(f)))},ue=()=>{if(!i){r("/user/dashboard/profile");return}S(!0)};return n.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a]",children:[n.jsxs("button",{onClick:()=>r(-1),className:"mb-4 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[n.jsx(cc,{size:20}),n.jsx("span",{children:"Back"})]}),n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6 mb-6",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500",children:f.title||"Property"}),n.jsx("button",{onClick:ee,className:`p-2 rounded-full transition-all ${F?"bg-red-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:F?"Remove from saved":"Save property",children:n.jsx(td,{size:20,className:F?"fill-current":""})}),n.jsx("button",{onClick:()=>w(!0),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all",title:"Share property",children:n.jsx(Fo,{size:20})})]}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-2",children:f.address_line_1||f.address||`${f.city||""} ${f.postcode||""}`.trim()||"UK"}),n.jsx("p",{className:"text-xl font-semibold text-orange-600 dark:text-orange-400 mb-4",children:f.property_type==="rent"?`${Y(f.price)}/month`:Y(f.price)}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(du,{size:18}),n.jsxs("span",{children:[f.bedrooms||0," Beds"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ph,{size:18}),n.jsxs("span",{children:[f.bathrooms||0," Baths"]})]}),f.property_size_sqm&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bf,{size:18}),n.jsxs("span",{children:[f.property_size_sqm," sqm"]})]}),f.year_built&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gr,{size:18}),n.jsxs("span",{children:["Built ",f.year_built]})]})]})]}),(f.property_type==="sale"||((le=f.type)==null?void 0:le.toLowerCase())==="sale")&&n.jsxs("button",{onClick:ue,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold flex items-center gap-2 transition-colors",children:["PURCHASE THIS PROPERTY",n.jsx("span",{children:""})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"relative h-96 lg:h-[500px] bg-gray-200 dark:bg-gray-200",children:B.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:B[u],alt:f.title,className:"w-full h-full object-cover",onError:xe=>{xe.target.src="https://via.placeholder.com/800x600?text=Property+Image"}}),H&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:q,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-[#0a0a0a]/70 hover:bg-white dark:hover:bg-gray-900 p-2 rounded-full shadow-lg transition-all",children:n.jsx(ic,{size:24,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:I,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-[#0a0a0a]/70 hover:bg-white dark:hover:bg-gray-900 p-2 rounded-full shadow-lg transition-all",children:n.jsx(El,{size:24,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:B.map((xe,oe)=>n.jsx("button",{onClick:()=>h(oe),className:`h-2 rounded-full transition-all ${oe===u?"bg-white w-8":"bg-white/50 w-2 hover:bg-white/75"}`},oe))})]})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No Image"})})})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500 mb-3",children:"Property Description"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 leading-relaxed",children:f.description||"No description available for this property."}),D.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-3",children:"Property Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((xe,oe)=>n.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(Ar,{size:14,className:"text-orange-600 dark:text-orange-400"}),xe]},oe))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.energy_rating&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Energy Rating"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.energy_rating})]}),f.council_tax_band&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Council Tax Band"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.council_tax_band})]}),f.deposit_amount&&f.property_type==="rent"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Deposit"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.deposit_amount)})]}),f.viewing_available&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Viewing Available"}),n.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Yes"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Financial Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Property Price"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.price)})]}),f.property_type==="rent"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Rent"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[Y(f.price),"/month"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Annual Rent"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.price*12)})]})]}),f.property_type==="sale"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Monthly Rent"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(parseFloat(G.monthlyRent))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Potential Gross Yield"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[G.grossYield,"%"]})]})]}),f.created_at&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Listed"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[Math.floor((new Date-new Date(f.created_at))/(1e3*60*60*24))," days ago"]})]})]})]}),f.property_type==="sale"&&n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Estimated Property Value"}),n.jsx("span",{className:"inline-block px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-sm font-medium mb-4",children:"Market Estimate"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low Estimate"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Y(G.estimatedValue.low)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Value"}),n.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:Y(G.estimatedValue.med)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High Estimate"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Y(G.estimatedValue.high)})]})]})]}),(f.agent_name||f.agent_email||f.agent_phone||f.agent_company)&&n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Contact Agent"}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center text-xl font-semibold text-orange-600 dark:text-orange-400",children:f.agent_name?f.agent_name.charAt(0).toUpperCase():n.jsx(kn,{size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:f.agent_name||"Agent"}),f.agent_company&&n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[n.jsx(dc,{size:14}),f.agent_company]})]})]}),n.jsxs("div",{className:"space-y-3",children:[f.agent_phone&&n.jsxs("a",{href:`tel:${f.agent_phone}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsx(od,{className:"text-orange-600 dark:text-orange-400",size:20}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.agent_phone})]}),f.agent_email&&n.jsxs("a",{href:`mailto:${f.agent_email}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsx(_n,{className:"text-orange-600 dark:text-orange-400",size:20}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.agent_email})]}),n.jsx("button",{onClick:()=>r(`/user/dashboard/messages?property=${f.id}`),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors mt-2",children:"Message Agent"})]})]})]})]})]})},jf=({image:e,children:t})=>n.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"hidden md:block w-0 md:w-1/2 min-h-screen bg-cover bg-center bg-no-repeat relative",style:{backgroundImage:`url(${e})`},children:n.jsx("div",{className:"absolute inset-0 bg-black/10"})}),n.jsx("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center px-6 py-12 md:px-16 bg-white dark:bg-gray-900 min-h-screen",children:n.jsx("div",{className:"w-full max-w-sm",children:t})})]}),Sf="/assets/logo-Dg5wEp4E.jpg",Af="/assets/building-B8GyIMhF.jpg",Ece=()=>{var g,y,x;const e=br(),t=Wn(),[r,a]=C.useState("google"),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(!0),h=(y=(g=t.state)==null?void 0:g.from)==null?void 0:y.pathname;(x=t.state)==null||x.intendedRole,C.useEffect(()=>{(async()=>{var b,w;if(!Ra()){u(!1);return}try{const{data:{session:k}}=await He.auth.getSession();if(k){let B=(w=(b=k.user)==null?void 0:b.user_metadata)==null?void 0:w.role;if(!B){const{data:H}=await He.from("profiles").select("role").eq("id",k.user.id).single();B=(H==null?void 0:H.role)||"user"}h?e(h,{replace:!0}):B==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})}}catch(k){console.error("Error checking session:",k)}finally{u(!1)}})()},[e,h]);const f=async()=>{if(!Ra()){l("Authentication service is not configured. Please contact support.");return}a("google"),i(!0),l("");try{const{error:N}=await He.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});N&&l(N.message)}catch(N){console.error("Google sign-in error:",N),l("Failed to sign in with Google. Please try again.")}finally{i(!1)}},m=()=>{a("email"),e("/auth/sign-in-email")};return n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign in to Estospaces"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Welcome back! Please sign in to continue"}),n.jsx("button",{onClick:f,disabled:s,className:`w-full py-3 px-6 rounded-md font-medium text-sm transition-all duration-200 mb-3 border ${r==="google"?"bg-primary text-white border-primary":"bg-orange-50 dark:bg-orange-900/20 text-primary border-primary hover:bg-orange-100 dark:hover:bg-orange-900/30"} disabled:opacity-50 disabled:cursor-not-allowed`,children:n.jsxs("span",{className:"flex items-center justify-center gap-3",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),n.jsx("button",{onClick:m,className:`w-full py-3 px-6 rounded-md font-medium text-sm transition-all duration-200 mb-4 border ${r==="email"?"bg-primary text-white border-primary":"bg-orange-50 dark:bg-orange-900/20 text-primary border-primary hover:bg-orange-100 dark:hover:bg-orange-900/30"}`,children:"Sign in with Email"}),o&&n.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center gap-2",children:[n.jsx(ba,{className:"text-red-500 flex-shrink-0",size:18}),n.jsx("p",{className:"text-red-600 text-sm",children:o})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/signup"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign Up"})]}),n.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-12 text-center leading-relaxed",children:["By continuing you agree to Estospaces",n.jsx("br",{}),n.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:"terms & conditions"}),"  ",n.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:"privacy policy"})]})]})})},Tce=()=>{var F,D;const e=br(),t=Wn(),[r,a]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[h,f]=C.useState(!0),[m,g]=C.useState(""),[y,x]=C.useState(""),[N,b]=C.useState(""),w=(D=(F=t.state)==null?void 0:F.from)==null?void 0:D.pathname;C.useEffect(()=>{(async()=>{if(!Ra()){f(!1);return}try{const{data:{session:G}}=await He.auth.getSession();G&&await k(G.user)}catch(G){console.error("Error checking session:",G)}finally{f(!1)}})()},[]);const k=async P=>{var q;let I=(q=P==null?void 0:P.user_metadata)==null?void 0:q.role;if(!I)try{const{data:Y}=await He.from("profiles").select("role").eq("id",P.id).single();I=(Y==null?void 0:Y.role)||"user"}catch{I="user"}w?e(w,{replace:!0}):I==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})},S=P=>P?/^\S+@\S+\.\S+$/.test(P)?"":"Enter a valid email":"Email is required",B=P=>P?P.length<6?"Password must be at least 6 characters":"":"Password is required",H=async P=>{if(P.preventDefault(),!Ra()){b("Authentication service is not configured. Please contact support.");return}const G=S(r),I=B(s);if(g(G),x(I),b(""),!(G||I)){u(!0);try{const{data:q,error:Y}=await He.auth.signInWithPassword({email:r,password:s});if(Y){const ee=Y.message.toLowerCase();ee.includes("email")&&!ee.includes("credentials")?g(Y.message):ee.includes("password")||ee.includes("credentials")||ee.includes("invalid")?x("Invalid email or password"):b(Y.message)}else q.session&&await k(q.session.user)}catch(q){console.error("Login error:",q),b("An unexpected error occurred. Please try again.")}finally{u(!1)}}};return n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign in to continue"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Enter your email and password"}),n.jsxs("form",{onSubmit:H,className:"w-full",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:P=>{a(P.target.value),g("")},className:`w-full px-4 py-3 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${m?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),m&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",placeholder:"Enter your password",value:s,onChange:P=>{i(P.target.value),x("")},className:`w-full px-4 py-3 pr-12 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${y?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?n.jsx(SC,{size:20}):n.jsx(fa,{size:20})})]}),y&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y})]}),n.jsx("div",{className:"text-right mb-6",children:n.jsx("span",{onClick:()=>e("/auth/reset-password"),className:"text-primary text-sm font-medium cursor-pointer hover:underline",children:"Forgot Password?"})}),n.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),N&&n.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:N}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-6",children:["Don't have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/signup"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign Up"})]}),n.jsxs("button",{onClick:()=>e("/auth/login"),className:"flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500 mt-8 hover:text-primary transition-colors",children:[n.jsx(cc,{size:16}),"Back to Login options"]})]})})},Cce=()=>{const e=br(),[t,r]=C.useState(""),[a,s]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState("user"),[u,h]=C.useState(!1),[f,m]=C.useState(!1),[g,y]=C.useState(""),[x,N]=C.useState(!1),b={length:i.length>=8,upper:/[A-Z]/.test(i),lower:/[a-z]/.test(i),number:/[0-9]/.test(i),symbol:/[^A-Za-z0-9]/.test(i)},w=Object.values(b).every(Boolean),k=async S=>{if(S.preventDefault(),!Ra()){y("Authentication service is not configured. Please contact support.");return}if(!t.trim()){y("Please enter your name");return}if(!a.trim()||!/^\S+@\S+\.\S+$/.test(a)){y("Please enter a valid email");return}if(!w){y("Please meet all password requirements");return}m(!0),y("");try{const{data:B,error:H}=await He.auth.signUp({email:a,password:i,options:{data:{full_name:t,role:l},emailRedirectTo:`${window.location.origin}/auth/callback`}});H?H.message.includes("already registered")?y("This email is already registered. Please sign in instead."):H.message.includes("not authorized")?y("Email service is not configured. Please contact support or try Google sign-in."):H.message.includes("rate limit")?y("Too many attempts. Please try again later."):y(H.message):B.user&&(B.user.identities&&B.user.identities.length===0?y("This email is already registered but not confirmed. Please check your email or try signing in."):B.session?e(l==="manager"?"/manager/dashboard":"/user/dashboard"):N(!0))}catch(B){console.error("Signup error:",B),y("An unexpected error occurred. Please try again.")}finally{m(!1)}};return x?n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:n.jsx(xh,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Check your email"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:["We've sent a confirmation link to",n.jsx("br",{}),n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:a})]}),n.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg px-4 py-2 mb-4",children:n.jsxs("p",{className:"text-primary text-sm font-medium",children:["Signed up as: ",l==="manager"?"Property Manager":"User"]})}),n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg px-4 py-3 mb-8 text-left",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs font-medium mb-2",children:"Didn't receive the email?"}),n.jsxs("ul",{className:"text-gray-500 dark:text-gray-400 text-xs space-y-1",children:[n.jsx("li",{children:" Check your spam or junk folder"}),n.jsx("li",{children:" Wait a few minutes and refresh"}),n.jsx("li",{children:" Try signing up with Google instead"})]})]}),n.jsx("button",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium hover:underline text-sm",children:"Back to Sign In"})]})}):n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign up for Estospaces"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Create your account to get started"}),n.jsxs("form",{onSubmit:k,className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"I am a"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>c("user"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${l==="user"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx(kn,{size:24,className:l==="user"?"text-primary":"text-gray-400"}),n.jsx("span",{className:"mt-2 font-medium text-sm",children:"User"}),n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Looking for property"})]}),n.jsxs("button",{type:"button",onClick:()=>c("manager"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${l==="manager"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx(fU,{size:24,className:l==="manager"?"text-primary":"text-gray-400"}),n.jsx("span",{className:"mt-2 font-medium text-sm",children:"Manager"}),n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Managing properties"})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:t,onChange:S=>r(S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:a,onChange:S=>s(S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:u?"text":"password",placeholder:"Create a password",value:i,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),n.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?n.jsx(SC,{size:20}):n.jsx(fa,{size:20})})]})]}),n.jsx("ul",{className:"mb-6 space-y-1",children:[{key:"length",text:"At least 8 characters"},{key:"upper",text:"One uppercase letter"},{key:"lower",text:"One lowercase letter"},{key:"number",text:"One number"},{key:"symbol",text:"One special symbol"}].map(({key:S,text:B})=>n.jsxs("li",{className:`flex items-center gap-2 text-xs ${b[S]?"text-green-600":"text-gray-400"}`,children:[b[S]?n.jsx(xh,{size:14}):n.jsx(yr,{size:14}),B]},S))}),g&&n.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:g}),n.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating account...":"Sign Up"})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-6",children:["Already have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign in"})]})]})})},Lce=()=>{const e=br(),[t,r]=C.useState(""),[a,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState(""),u=async h=>{if(h.preventDefault(),!Ra()){c("Authentication service is not configured. Please contact support.");return}if(!t.trim()||!/^\S+@\S+\.\S+$/.test(t)){c("Please enter a valid email");return}s(!0),c("");try{const{error:f}=await He.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/update-password`});f?c(f.message):o(!0)}catch(f){console.error("Password reset error:",f),c("An unexpected error occurred. Please try again.")}finally{s(!1)}};return i?n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:n.jsx(xh,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Check your email"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8",children:["Password reset link sent to",n.jsx("br",{}),n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:t})]}),n.jsx("button",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium hover:underline text-sm",children:"Back to Sign In"})]})}):n.jsx(jf,{image:Af,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:Sf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Reset Your Password"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),n.jsxs("form",{onSubmit:u,className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:h=>{r(h.target.value),c("")},className:`w-full px-4 py-3 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${l?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),l&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]}),n.jsxs("button",{onClick:()=>e("/auth/sign-in-email"),className:"flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500 mt-8 hover:text-primary transition-colors",children:[n.jsx(cc,{size:16}),"Back to Sign In"]})]})})},Pce=()=>{const e=br(),[t,r]=C.useState("");return C.useEffect(()=>{(async()=>{var s,i;if(!Ra()){r("Authentication service is not configured."),setTimeout(()=>e("/auth/login"),2e3);return}try{const{data:{session:o},error:l}=await He.auth.getSession();if(l){console.error("Session error:",l),r("Authentication failed. Please try again."),setTimeout(()=>e("/auth/login"),2e3);return}if(!o){e("/auth/login",{replace:!0});return}let u=(i=(s=o.user)==null?void 0:s.user_metadata)==null?void 0:i.role;if(!u)try{const{data:h}=await He.from("profiles").select("role").eq("id",o.user.id).single();u=(h==null?void 0:h.role)||"user"}catch{u="user"}u==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),r("An error occurred. Redirecting to login..."),setTimeout(()=>e("/auth/login"),2e3)}})()},[e]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"text-center",children:t?n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:t})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Completing sign in..."})]})})})};function Mce(){return n.jsx(Oz,{children:n.jsx(Dz,{children:n.jsx(Pz,{children:n.jsx(Mz,{children:n.jsx(Fz,{children:n.jsx(zz,{children:n.jsx(VI,{children:n.jsx(Bz,{children:n.jsxs(yI,{children:[n.jsx(Lr,{path:"/",element:n.jsx(fle,{})}),n.jsx(Lr,{path:"/auth/login",element:n.jsx(Ece,{})}),n.jsx(Lr,{path:"/auth/sign-in-email",element:n.jsx(Tce,{})}),n.jsx(Lr,{path:"/auth/signup",element:n.jsx(Cce,{})}),n.jsx(Lr,{path:"/auth/reset-password",element:n.jsx(Lce,{})}),n.jsx(Lr,{path:"/auth/callback",element:n.jsx(Pce,{})}),n.jsx(Lr,{path:"/manager/dashboard",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(ZS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Eie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/add",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(JS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/edit/:id",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(JS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/:id",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Tie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/leads",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Lie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/application",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Pie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/appointment",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Oie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/messages",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Iie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/analytics",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Fie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/billing",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Bie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/profile",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(zie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/help",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(Uie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/*",element:n.jsx(pi,{children:n.jsx(gi,{children:n.jsx(ZS,{})})})}),n.jsx(Lr,{path:"/user/dashboard",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(CA,{})})})}),n.jsx(Lr,{path:"/user/dashboard/discover",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(Wle,{})})})}),n.jsx(Lr,{path:"/user/dashboard/saved",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(kce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/property/:id",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(Ace,{})})})}),n.jsx(Lr,{path:"/user/dashboard/applications",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(wce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/viewings",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(_ce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/messages",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(tce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/payments",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(rce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/contracts",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(hce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/reviews",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(Nce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/settings",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(jce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/help",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(Sce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/profile",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(cce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/*",element:n.jsx(xi,{children:n.jsx(yi,{children:n.jsx(CA,{})})})})]})})})})})})})})})}AD.createRoot(document.getElementById("root")).render(n.jsx(Mce,{}));export{ta as _,h0 as c,MA as g};
