var SM=Object.defineProperty;var AM=(e,t,r)=>t in e?SM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xr=(e,t,r)=>AM(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var CA={exports:{}},S1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=Symbol.for("react.transitional.element"),TM=Symbol.for("react.fragment");function LA(e,t,r){var a=null;if(r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),"key"in t){r={};for(var s in t)s!=="key"&&(r[s]=t[s])}else r=t;return t=r.ref,{$$typeof:EM,type:e,key:a,ref:t!==void 0?t:null,props:r}}S1.Fragment=TM;S1.jsx=LA;S1.jsxs=LA;CA.exports=S1;var n=CA.exports,PA={exports:{}},A1={},MA={exports:{}},RA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(de,xe){var oe=de.length;de.push(xe);e:for(;0<oe;){var fe=oe-1>>>1,Se=de[fe];if(0<s(Se,xe))de[fe]=xe,de[oe]=Se,oe=fe;else break e}}function r(de){return de.length===0?null:de[0]}function a(de){if(de.length===0)return null;var xe=de[0],oe=de.pop();if(oe!==xe){de[0]=oe;e:for(var fe=0,Se=de.length,K=Se>>>1;fe<K;){var A=2*(fe+1)-1,q=de[A],F=A+1,R=de[F];if(0>s(q,oe))F<Se&&0>s(R,q)?(de[fe]=R,de[F]=oe,fe=F):(de[fe]=q,de[A]=oe,fe=A);else if(F<Se&&0>s(R,oe))de[fe]=R,de[F]=oe,fe=F;else break e}}return xe}function s(de,xe){var oe=de.sortIndex-xe.sortIndex;return oe!==0?oe:de.id-xe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,g=3,m=!1,y=!1,x=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function S(de){for(var xe=r(u);xe!==null;){if(xe.callback===null)a(u);else if(xe.startTime<=de)a(u),xe.sortIndex=xe.expirationTime,t(c,xe);else break;xe=r(u)}}function B(de){if(x=!1,S(de),!y)if(r(c)!==null)y=!0,H||(H=!0,V());else{var xe=r(u);xe!==null&&he(B,xe.startTime-de)}}var H=!1,I=-1,D=5,C=-1;function G(){return N?!0:!(e.unstable_now()-C<D)}function O(){if(N=!1,H){var de=e.unstable_now();C=de;var xe=!0;try{e:{y=!1,x&&(x=!1,w(I),I=-1),m=!0;var oe=g;try{t:{for(S(de),f=r(c);f!==null&&!(f.expirationTime>de&&G());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,g=f.priorityLevel;var Se=fe(f.expirationTime<=de);if(de=e.unstable_now(),typeof Se=="function"){f.callback=Se,S(de),xe=!0;break t}f===r(c)&&a(c),S(de)}else a(c);f=r(c)}if(f!==null)xe=!0;else{var K=r(u);K!==null&&he(B,K.startTime-de),xe=!1}}break e}finally{f=null,g=oe,m=!1}xe=void 0}}finally{xe?V():H=!1}}}var V;if(typeof k=="function")V=function(){k(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=O,V=function(){ee.postMessage(null)}}else V=function(){b(O,0)};function he(de,xe){I=b(function(){de(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(de){de.callback=null},e.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<de?Math.floor(1e3/de):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(de){switch(g){case 1:case 2:case 3:var xe=3;break;default:xe=g}var oe=g;g=xe;try{return de()}finally{g=oe}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(de,xe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var oe=g;g=de;try{return xe()}finally{g=oe}},e.unstable_scheduleCallback=function(de,xe,oe){var fe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,de){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=oe+Se,de={id:h++,callback:xe,priorityLevel:de,startTime:oe,expirationTime:Se,sortIndex:-1},oe>fe?(de.sortIndex=oe,t(u,de),r(c)===null&&de===r(u)&&(x?(w(I),I=-1):x=!0,he(B,oe-fe))):(de.sortIndex=Se,t(c,de),y||m||(y=!0,H||(H=!0,V()))),de},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(de){var xe=g;return function(){var oe=g;g=xe;try{return de.apply(this,arguments)}finally{g=oe}}}})(RA);MA.exports=RA;var CM=MA.exports,OA={exports:{}},or={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5=Symbol.for("react.transitional.element"),LM=Symbol.for("react.portal"),PM=Symbol.for("react.fragment"),MM=Symbol.for("react.strict_mode"),RM=Symbol.for("react.profiler"),OM=Symbol.for("react.consumer"),DM=Symbol.for("react.context"),IM=Symbol.for("react.forward_ref"),FM=Symbol.for("react.suspense"),BM=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),zM=Symbol.for("react.activity"),NN=Symbol.iterator;function UM(e){return e===null||typeof e!="object"?null:(e=NN&&e[NN]||e["@@iterator"],typeof e=="function"?e:null)}var IA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FA=Object.assign,BA={};function Af(e,t,r){this.props=e,this.context=t,this.refs=BA,this.updater=r||IA}Af.prototype.isReactComponent={};Af.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Af.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zA(){}zA.prototype=Af.prototype;function _5(e,t,r){this.props=e,this.context=t,this.refs=BA,this.updater=r||IA}var N5=_5.prototype=new zA;N5.constructor=_5;FA(N5,Af.prototype);N5.isPureReactComponent=!0;var kN=Array.isArray;function b2(){}var Sa={H:null,A:null,T:null,S:null},UA=Object.prototype.hasOwnProperty;function k5(e,t,r){var a=r.ref;return{$$typeof:w5,type:e,key:t,ref:a!==void 0?a:null,props:r}}function VM(e,t){return k5(e.type,t,e.props)}function j5(e){return typeof e=="object"&&e!==null&&e.$$typeof===w5}function qM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jN=/\/+/g;function Av(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qM(""+e.key):t.toString(36)}function $M(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(b2,b2):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function u0(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case w5:case LM:o=!0;break;case DA:return o=e._init,u0(o(e._payload),t,r,a,s)}}if(o)return s=s(e),o=a===""?"."+Av(e,0):a,kN(s)?(r="",o!=null&&(r=o.replace(jN,"$&/")+"/"),u0(s,t,r,"",function(u){return u})):s!=null&&(j5(s)&&(s=VM(s,r+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(jN,"$&/")+"/")+o)),t.push(s)),1;o=0;var l=a===""?".":a+":";if(kN(e))for(var c=0;c<e.length;c++)a=e[c],i=l+Av(a,c),o+=u0(a,t,r,i,s);else if(c=UM(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,i=l+Av(a,c++),o+=u0(a,t,r,i,s);else if(i==="object"){if(typeof e.then=="function")return u0($M(e),t,r,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function qp(e,t,r){if(e==null)return e;var a=[],s=0;return u0(e,a,"","",function(i){return t.call(r,i,s++)}),a}function HM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var SN=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},WM={map:qp,forEach:function(e,t,r){qp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qp(e,function(){t++}),t},toArray:function(e){return qp(e,function(t){return t})||[]},only:function(e){if(!j5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};or.Activity=zM;or.Children=WM;or.Component=Af;or.Fragment=PM;or.Profiler=RM;or.PureComponent=_5;or.StrictMode=MM;or.Suspense=FM;or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Sa;or.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Sa.H.useMemoCache(e)}};or.cache=function(e){return function(){return e.apply(null,arguments)}};or.cacheSignal=function(){return null};or.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=FA({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!UA.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}return k5(e.type,s,a)};or.createContext=function(e){return e={$$typeof:DM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:OM,_context:e},e};or.createElement=function(e,t,r){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)UA.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)s[a]===void 0&&(s[a]=o[a]);return k5(e,i,s)};or.createRef=function(){return{current:null}};or.forwardRef=function(e){return{$$typeof:IM,render:e}};or.isValidElement=j5;or.lazy=function(e){return{$$typeof:DA,_payload:{_status:-1,_result:e},_init:HM}};or.memo=function(e,t){return{$$typeof:BM,type:e,compare:t===void 0?null:t}};or.startTransition=function(e){var t=Sa.T,r={};Sa.T=r;try{var a=e(),s=Sa.S;s!==null&&s(r,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(b2,SN)}catch(i){SN(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Sa.T=t}};or.unstable_useCacheRefresh=function(){return Sa.H.useCacheRefresh()};or.use=function(e){return Sa.H.use(e)};or.useActionState=function(e,t,r){return Sa.H.useActionState(e,t,r)};or.useCallback=function(e,t){return Sa.H.useCallback(e,t)};or.useContext=function(e){return Sa.H.useContext(e)};or.useDebugValue=function(){};or.useDeferredValue=function(e,t){return Sa.H.useDeferredValue(e,t)};or.useEffect=function(e,t){return Sa.H.useEffect(e,t)};or.useEffectEvent=function(e){return Sa.H.useEffectEvent(e)};or.useId=function(){return Sa.H.useId()};or.useImperativeHandle=function(e,t,r){return Sa.H.useImperativeHandle(e,t,r)};or.useInsertionEffect=function(e,t){return Sa.H.useInsertionEffect(e,t)};or.useLayoutEffect=function(e,t){return Sa.H.useLayoutEffect(e,t)};or.useMemo=function(e,t){return Sa.H.useMemo(e,t)};or.useOptimistic=function(e,t){return Sa.H.useOptimistic(e,t)};or.useReducer=function(e,t,r){return Sa.H.useReducer(e,t,r)};or.useRef=function(e){return Sa.H.useRef(e)};or.useState=function(e){return Sa.H.useState(e)};or.useSyncExternalStore=function(e,t,r){return Sa.H.useSyncExternalStore(e,t,r)};or.useTransition=function(){return Sa.H.useTransition()};or.version="19.2.0";OA.exports=or;var P=OA.exports;const oc=TA(P);var VA={exports:{}},Xs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM=P;function qA(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sd(){}var Gs={d:{f:Sd,r:function(){throw Error(qA(522))},D:Sd,C:Sd,L:Sd,m:Sd,X:Sd,S:Sd,M:Sd},p:0,findDOMNode:null},YM=Symbol.for("react.portal");function KM(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:YM,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}var Rm=GM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E1(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gs;Xs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(qA(299));return KM(e,t,null,r)};Xs.flushSync=function(e){var t=Rm.T,r=Gs.p;try{if(Rm.T=null,Gs.p=2,e)return e()}finally{Rm.T=t,Gs.p=r,Gs.d.f()}};Xs.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Gs.d.C(e,t))};Xs.prefetchDNS=function(e){typeof e=="string"&&Gs.d.D(e)};Xs.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,a=E1(r,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Gs.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):r==="script"&&Gs.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xs.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=E1(t.as,t.crossOrigin);Gs.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Gs.d.M(e)};Xs.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,a=E1(r,t.crossOrigin);Gs.d.L(e,r,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xs.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=E1(t.as,t.crossOrigin);Gs.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Gs.d.m(e)};Xs.requestFormReset=function(e){Gs.d.r(e)};Xs.unstable_batchedUpdates=function(e,t){return e(t)};Xs.useFormState=function(e,t,r){return Rm.H.useFormState(e,t,r)};Xs.useFormStatus=function(){return Rm.H.useHostTransitionStatus()};Xs.version="19.2.0";function $A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($A)}catch(e){console.error(e)}}$A(),VA.exports=Xs;var HA=VA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=CM,WA=P,ZM=HA;function st(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function GA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xg(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function YA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KA(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AN(e){if(Xg(e)!==e)throw Error(st(188))}function XM(e){var t=e.alternate;if(!t){if(t=Xg(e),t===null)throw Error(st(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return AN(s),e;if(i===a)return AN(s),t;i=i.sibling}throw Error(st(188))}if(r.return!==a.return)r=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o)throw Error(st(189))}}if(r.alternate!==a)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?e:t}function ZA(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ZA(e),t!==null)return t;e=e.sibling}return null}var Aa=Object.assign,JM=Symbol.for("react.element"),$p=Symbol.for("react.transitional.element"),jm=Symbol.for("react.portal"),b0=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),w2=Symbol.for("react.profiler"),JA=Symbol.for("react.consumer"),Dc=Symbol.for("react.context"),S5=Symbol.for("react.forward_ref"),_2=Symbol.for("react.suspense"),N2=Symbol.for("react.suspense_list"),A5=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),k2=Symbol.for("react.activity"),QM=Symbol.for("react.memo_cache_sentinel"),EN=Symbol.iterator;function cm(e){return e===null||typeof e!="object"?null:(e=EN&&e[EN]||e["@@iterator"],typeof e=="function"?e:null)}var eR=Symbol.for("react.client.reference");function j2(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===eR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b0:return"Fragment";case w2:return"Profiler";case XA:return"StrictMode";case _2:return"Suspense";case N2:return"SuspenseList";case k2:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case jm:return"Portal";case Dc:return e.displayName||"Context";case JA:return(e._context.displayName||"Context")+".Consumer";case S5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A5:return t=e.displayName||null,t!==null?t:j2(e.type)||"Memo";case Pd:t=e._payload,e=e._init;try{return j2(e(t))}catch{}}return null}var Sm=Array.isArray,tr=WA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ur=ZM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,th={pending:!1,data:null,method:null,action:null},S2=[],w0=-1;function hc(e){return{current:e}}function Hn(e){0>w0||(e.current=S2[w0],S2[w0]=null,w0--)}function va(e,t){w0++,S2[w0]=e.current,e.current=t}var nc=hc(null),gg=hc(null),Kd=hc(null),my=hc(null);function gy(e,t){switch(va(Kd,t),va(gg,e),va(nc,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rk(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rk(t),e=yT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Hn(nc),va(nc,e)}function sf(){Hn(nc),Hn(gg),Hn(Kd)}function A2(e){e.memoizedState!==null&&va(my,e);var t=nc.current,r=yT(t,e.type);t!==r&&(va(gg,e),va(nc,r))}function py(e){gg.current===e&&(Hn(nc),Hn(gg)),my.current===e&&(Hn(my),Sg._currentValue=th)}var Ev,TN;function Uu(e){if(Ev===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ev=t&&t[1]||"",TN=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ev+e+TN}var Tv=!1;function Cv(e,t){if(!e||Tv)return"";Tv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var g=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){g=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){g=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(s=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===c.length||s===u.length)for(a=c.length-1,s=u.length-1;1<=a&&0<=s&&c[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(c[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||c[a]!==u[s]){var h=`
`+c[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=s);break}}}finally{Tv=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Uu(r):""}function tR(e,t){switch(e.tag){case 26:case 27:case 5:return Uu(e.type);case 16:return Uu("Lazy");case 13:return e.child!==t&&t!==null?Uu("Suspense Fallback"):Uu("Suspense");case 19:return Uu("SuspenseList");case 0:case 15:return Cv(e.type,!1);case 11:return Cv(e.type.render,!1);case 1:return Cv(e.type,!0);case 31:return Uu("Activity");default:return""}}function CN(e){try{var t="",r=null;do t+=tR(e,r),r=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var E2=Object.prototype.hasOwnProperty,E5=On.unstable_scheduleCallback,Lv=On.unstable_cancelCallback,rR=On.unstable_shouldYield,aR=On.unstable_requestPaint,ao=On.unstable_now,nR=On.unstable_getCurrentPriorityLevel,QA=On.unstable_ImmediatePriority,eE=On.unstable_UserBlockingPriority,xy=On.unstable_NormalPriority,sR=On.unstable_LowPriority,tE=On.unstable_IdlePriority,iR=On.log,oR=On.unstable_setDisableYieldValue,Jg=null,no=null;function zd(e){if(typeof iR=="function"&&oR(e),no&&typeof no.setStrictMode=="function")try{no.setStrictMode(Jg,e)}catch{}}var so=Math.clz32?Math.clz32:dR,lR=Math.log,cR=Math.LN2;function dR(e){return e>>>=0,e===0?32:31-(lR(e)/cR|0)|0}var Hp=256,Wp=262144,Gp=4194304;function Vu(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function T1(e,t,r){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=Vu(a):(o&=l,o!==0?s=Vu(o):r||(r=l&~e,r!==0&&(s=Vu(r))))):(l=a&~i,l!==0?s=Vu(l):o!==0?s=Vu(o):r||(r=a&~e,r!==0&&(s=Vu(r)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:s}function Qg(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function uR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rE(){var e=Gp;return Gp<<=1,!(Gp&62914560)&&(Gp=4194304),e}function Pv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ep(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hR(e,t,r,a,s,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var h=31-so(r),f=1<<h;l[h]=0,c[h]=-1;var g=u[h];if(g!==null)for(u[h]=null,h=0;h<g.length;h++){var m=g[h];m!==null&&(m.lane&=-536870913)}r&=~f}a!==0&&aE(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function aE(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-so(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|r&261930}function nE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-so(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}function sE(e,t){var r=t&-t;return r=r&42?1:T5(r),r&(e.suspendedLanes|t)?0:r}function T5(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function C5(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function iE(){var e=Ur.p;return e!==0?e:(e=window.event,e===void 0?32:TT(e.type))}function LN(e,t){var r=Ur.p;try{return Ur.p=e,t()}finally{Ur.p=r}}var yu=Math.random().toString(36).slice(2),ss="__reactFiber$"+yu,ki="__reactProps$"+yu,Ef="__reactContainer$"+yu,T2="__reactEvents$"+yu,fR="__reactListeners$"+yu,mR="__reactHandles$"+yu,PN="__reactResources$"+yu,tp="__reactMarker$"+yu;function L5(e){delete e[ss],delete e[ki],delete e[T2],delete e[fR],delete e[mR]}function _0(e){var t=e[ss];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ef]||r[ss]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bk(e);e!==null;){if(r=e[ss])return r;e=Bk(e)}return t}e=r,r=e.parentNode}return null}function Tf(e){if(e=e[ss]||e[Ef]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Am(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(st(33))}function z0(e){var t=e[PN];return t||(t=e[PN]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zn(e){e[tp]=!0}var oE=new Set,lE={};function _h(e,t){of(e,t),of(e+"Capture",t)}function of(e,t){for(lE[e]=t,e=0;e<t.length;e++)oE.add(t[e])}var gR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),MN={},RN={};function pR(e){return E2.call(RN,e)?!0:E2.call(MN,e)?!1:gR.test(e)?RN[e]=!0:(MN[e]=!0,!1)}function Ox(e,t,r){if(pR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Yp(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function jc(e,t,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+a)}}function Co(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xR(e,t,r){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function C2(e){if(!e._valueTracker){var t=cE(e)?"checked":"value";e._valueTracker=xR(e,t,""+e[t])}}function dE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=cE(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function yy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yR=/[\n"\\]/g;function Mo(e){return e.replace(yR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function L2(e,t,r,a,s,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Co(t)):e.value!==""+Co(t)&&(e.value=""+Co(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?P2(e,o,Co(t)):r!=null?P2(e,o,Co(r)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Co(l):e.removeAttribute("name")}function uE(e,t,r,a,s,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){C2(e);return}r=r!=null?""+Co(r):"",t=t!=null?""+Co(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),C2(e)}function P2(e,t,r){t==="number"&&yy(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function U0(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Co(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hE(e,t,r){if(t!=null&&(t=""+Co(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Co(r):""}function fE(e,t,r,a){if(t==null){if(a!=null){if(r!=null)throw Error(st(92));if(Sm(a)){if(1<a.length)throw Error(st(93));a=a[0]}r=a}r==null&&(r=""),t=r}r=Co(t),e.defaultValue=r,a=e.textContent,a===r&&a!==""&&a!==null&&(e.value=a),C2(e)}function lf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ON(e,t,r){var a=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,r):typeof r!="number"||r===0||vR.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function mE(e,t,r){if(t!=null&&typeof t!="object")throw Error(st(62));if(e=e.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&r[s]!==a&&ON(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&ON(e,i,t[i])}function P5(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dx(e){return wR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ic(){}var M2=null;function M5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N0=null,V0=null;function DN(e){var t=Tf(e);if(t&&(e=t.stateNode)){var r=e[ki]||null;e:switch(e=t.stateNode,t.type){case"input":if(L2(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mo(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=a[ki]||null;if(!s)throw Error(st(90));L2(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<r.length;t++)a=r[t],a.form===e.form&&dE(a)}break e;case"textarea":hE(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&U0(e,!!r.multiple,t,!1)}}}var Mv=!1;function gE(e,t,r){if(Mv)return e(t,r);Mv=!0;try{var a=e(t);return a}finally{if(Mv=!1,(N0!==null||V0!==null)&&(U1(),N0&&(t=N0,e=V0,V0=N0=null,DN(t),e)))for(t=0;t<e.length;t++)DN(e[t])}}function pg(e,t){var r=e.stateNode;if(r===null)return null;var a=r[ki]||null;if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(st(231,t,typeof r));return r}var Yc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R2=!1;if(Yc)try{var dm={};Object.defineProperty(dm,"passive",{get:function(){R2=!0}}),window.addEventListener("test",dm,dm),window.removeEventListener("test",dm,dm)}catch{R2=!1}var Ud=null,R5=null,Ix=null;function pE(){if(Ix)return Ix;var e,t=R5,r=t.length,a,s="value"in Ud?Ud.value:Ud.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[i-a];a++);return Ix=s.slice(e,1<a?1-a:void 0)}function Fx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kp(){return!0}function IN(){return!1}function Ai(e){function t(r,a,s,i,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kp:IN,this.isPropagationStopped=IN,this}return Aa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),t}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=Ai(Nh),rp=Aa({},Nh,{view:0,detail:0}),_R=Ai(rp),Rv,Ov,um,L1=Aa({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==um&&(um&&e.type==="mousemove"?(Rv=e.screenX-um.screenX,Ov=e.screenY-um.screenY):Ov=Rv=0,um=e),Rv)},movementY:function(e){return"movementY"in e?e.movementY:Ov}}),FN=Ai(L1),NR=Aa({},L1,{dataTransfer:0}),kR=Ai(NR),jR=Aa({},rp,{relatedTarget:0}),Dv=Ai(jR),SR=Aa({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=Ai(SR),ER=Aa({},Nh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TR=Ai(ER),CR=Aa({},Nh,{data:0}),BN=Ai(CR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MR[e])?!!t[e]:!1}function O5(){return RR}var OR=Aa({},rp,{key:function(e){if(e.key){var t=LR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O5,charCode:function(e){return e.type==="keypress"?Fx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DR=Ai(OR),IR=Aa({},L1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zN=Ai(IR),FR=Aa({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O5}),BR=Ai(FR),zR=Aa({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=Ai(zR),VR=Aa({},L1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qR=Ai(VR),$R=Aa({},Nh,{newState:0,oldState:0}),HR=Ai($R),WR=[9,13,27,32],D5=Yc&&"CompositionEvent"in window,Om=null;Yc&&"documentMode"in document&&(Om=document.documentMode);var GR=Yc&&"TextEvent"in window&&!Om,xE=Yc&&(!D5||Om&&8<Om&&11>=Om),UN=" ",VN=!1;function yE(e,t){switch(e){case"keyup":return WR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var k0=!1;function YR(e,t){switch(e){case"compositionend":return vE(t);case"keypress":return t.which!==32?null:(VN=!0,UN);case"textInput":return e=t.data,e===UN&&VN?null:e;default:return null}}function KR(e,t){if(k0)return e==="compositionend"||!D5&&yE(e,t)?(e=pE(),Ix=R5=Ud=null,k0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xE&&t.locale!=="ko"?null:t.data;default:return null}}var ZR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZR[e.type]:t==="textarea"}function bE(e,t,r,a){N0?V0?V0.push(a):V0=[a]:N0=a,t=Dy(t,"onChange"),0<t.length&&(r=new C1("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Dm=null,xg=null;function XR(e){gT(e,0)}function P1(e){var t=Am(e);if(dE(t))return e}function $N(e,t){if(e==="change")return t}var wE=!1;if(Yc){var Iv;if(Yc){var Fv="oninput"in document;if(!Fv){var HN=document.createElement("div");HN.setAttribute("oninput","return;"),Fv=typeof HN.oninput=="function"}Iv=Fv}else Iv=!1;wE=Iv&&(!document.documentMode||9<document.documentMode)}function WN(){Dm&&(Dm.detachEvent("onpropertychange",_E),xg=Dm=null)}function _E(e){if(e.propertyName==="value"&&P1(xg)){var t=[];bE(t,xg,e,M5(e)),gE(XR,t)}}function JR(e,t,r){e==="focusin"?(WN(),Dm=t,xg=r,Dm.attachEvent("onpropertychange",_E)):e==="focusout"&&WN()}function QR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return P1(xg)}function eO(e,t){if(e==="click")return P1(t)}function tO(e,t){if(e==="input"||e==="change")return P1(t)}function rO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:rO;function yg(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!E2.call(t,s)||!lo(e[s],t[s]))return!1}return!0}function GN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function YN(e,t){var r=GN(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GN(r)}}function NE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yy(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yy(e.document)}return t}function I5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var aO=Yc&&"documentMode"in document&&11>=document.documentMode,j0=null,O2=null,Im=null,D2=!1;function KN(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;D2||j0==null||j0!==yy(a)||(a=j0,"selectionStart"in a&&I5(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Im&&yg(Im,a)||(Im=a,a=Dy(O2,"onSelect"),0<a.length&&(t=new C1("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=j0)))}function Iu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var S0={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionrun:Iu("Transition","TransitionRun"),transitionstart:Iu("Transition","TransitionStart"),transitioncancel:Iu("Transition","TransitionCancel"),transitionend:Iu("Transition","TransitionEnd")},Bv={},jE={};Yc&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete S0.animationend.animation,delete S0.animationiteration.animation,delete S0.animationstart.animation),"TransitionEvent"in window||delete S0.transitionend.transition);function kh(e){if(Bv[e])return Bv[e];if(!S0[e])return e;var t=S0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jE)return Bv[e]=t[r];return e}var SE=kh("animationend"),AE=kh("animationiteration"),EE=kh("animationstart"),nO=kh("transitionrun"),sO=kh("transitionstart"),iO=kh("transitioncancel"),TE=kh("transitionend"),CE=new Map,I2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");I2.push("scrollEnd");function Rl(e,t){CE.set(e,t),_h(t,[e])}var vy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Eo=[],A0=0,F5=0;function M1(){for(var e=A0,t=F5=A0=0;t<e;){var r=Eo[t];Eo[t++]=null;var a=Eo[t];Eo[t++]=null;var s=Eo[t];Eo[t++]=null;var i=Eo[t];if(Eo[t++]=null,a!==null&&s!==null){var o=a.pending;o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s}i!==0&&LE(r,s,i)}}function R1(e,t,r,a){Eo[A0++]=e,Eo[A0++]=t,Eo[A0++]=r,Eo[A0++]=a,F5|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function B5(e,t,r,a){return R1(e,t,r,a),by(e)}function jh(e,t){return R1(e,null,null,t),by(e)}function LE(e,t,r){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r);for(var s=!1,i=e.return;i!==null;)i.childLanes|=r,a=i.alternate,a!==null&&(a.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-so(r),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=r|536870912),i):null}function by(e){if(50<Wm)throw Wm=0,nw=null,Error(st(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var E0={};function oO(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(e,t,r,a){return new oO(e,t,r,a)}function z5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bc(e,t){var r=e.alternate;return r===null?(r=Ji(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function PE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bx(e,t,r,a,s,i){var o=0;if(a=e,typeof e=="function")z5(e)&&(o=1);else if(typeof e=="string")o=hD(e,r,nc.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k2:return e=Ji(31,r,t,s),e.elementType=k2,e.lanes=i,e;case b0:return rh(r.children,s,i,t);case XA:o=8,s|=24;break;case w2:return e=Ji(12,r,t,s|2),e.elementType=w2,e.lanes=i,e;case _2:return e=Ji(13,r,t,s),e.elementType=_2,e.lanes=i,e;case N2:return e=Ji(19,r,t,s),e.elementType=N2,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dc:o=10;break e;case JA:o=9;break e;case S5:o=11;break e;case A5:o=14;break e;case Pd:o=16,a=null;break e}o=29,r=Error(st(130,e===null?"null":typeof e,"")),a=null}return t=Ji(o,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function rh(e,t,r,a){return e=Ji(7,e,a,t),e.lanes=r,e}function zv(e,t,r){return e=Ji(6,e,null,t),e.lanes=r,e}function ME(e){var t=Ji(18,null,null,0);return t.stateNode=e,t}function Uv(e,t,r){return t=Ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ZN=new WeakMap;function Ro(e,t){if(typeof e=="object"&&e!==null){var r=ZN.get(e);return r!==void 0?r:(t={value:e,source:t,stack:CN(t)},ZN.set(e,t),t)}return{value:e,source:t,stack:CN(t)}}var T0=[],C0=0,wy=null,vg=0,Lo=[],Po=0,su=null,ec=1,tc="";function Mc(e,t){T0[C0++]=vg,T0[C0++]=wy,wy=e,vg=t}function RE(e,t,r){Lo[Po++]=ec,Lo[Po++]=tc,Lo[Po++]=su,su=e;var a=ec;e=tc;var s=32-so(a)-1;a&=~(1<<s),r+=1;var i=32-so(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,ec=1<<32-so(t)+s|r<<s|a,tc=i+e}else ec=1<<i|r<<s|a,tc=e}function U5(e){e.return!==null&&(Mc(e,1),RE(e,1,0))}function V5(e){for(;e===wy;)wy=T0[--C0],T0[C0]=null,vg=T0[--C0],T0[C0]=null;for(;e===su;)su=Lo[--Po],Lo[Po]=null,tc=Lo[--Po],Lo[Po]=null,ec=Lo[--Po],Lo[Po]=null}function OE(e,t){Lo[Po++]=ec,Lo[Po++]=tc,Lo[Po++]=su,ec=t.id,tc=t.overflow,su=e}var is=null,ka=null,Pr=!1,Zd=null,Oo=!1,F2=Error(st(519));function iu(e){var t=Error(st(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bg(Ro(t,e)),F2}function XN(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[ss]=e,t[ki]=a,r){case"dialog":_r("cancel",t),_r("close",t);break;case"iframe":case"object":case"embed":_r("load",t);break;case"video":case"audio":for(r=0;r<kg.length;r++)_r(kg[r],t);break;case"source":_r("error",t);break;case"img":case"image":case"link":_r("error",t),_r("load",t);break;case"details":_r("toggle",t);break;case"input":_r("invalid",t),uE(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":_r("invalid",t);break;case"textarea":_r("invalid",t),fE(t,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||a.suppressHydrationWarning===!0||xT(t.textContent,r)?(a.popover!=null&&(_r("beforetoggle",t),_r("toggle",t)),a.onScroll!=null&&_r("scroll",t),a.onScrollEnd!=null&&_r("scrollend",t),a.onClick!=null&&(t.onclick=Ic),t=!0):t=!1,t||iu(e,!0)}function JN(e){for(is=e.return;is;)switch(is.tag){case 5:case 31:case 13:Oo=!1;return;case 27:case 3:Oo=!0;return;default:is=is.return}}function Kh(e){if(e!==is)return!1;if(!Pr)return JN(e),Pr=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cw(e.type,e.memoizedProps)),r=!r),r&&ka&&iu(e),JN(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));ka=Fk(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));ka=Fk(e)}else t===27?(t=ka,vu(e.type)?(e=fw,fw=null,ka=e):ka=t):ka=is?zo(e.stateNode.nextSibling):null;return!0}function ch(){ka=is=null,Pr=!1}function Vv(){var e=Zd;return e!==null&&(vi===null?vi=e:vi.push.apply(vi,e),Zd=null),e}function bg(e){Zd===null?Zd=[e]:Zd.push(e)}var B2=hc(null),Sh=null,Fc=null;function Od(e,t,r){va(B2,t._currentValue),t._currentValue=r}function zc(e){e._currentValue=B2.current,Hn(B2)}function z2(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function U2(e,t,r,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),z2(i.return,r,e),a||(o=null);break e}i=l.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(st(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),z2(o,r,e),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Cf(e,t,r,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(st(387));if(o=o.memoizedProps,o!==null){var l=s.type;lo(s.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(s===my.current){if(o=s.alternate,o===null)throw Error(st(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Sg):e=[Sg])}s=s.return}e!==null&&U2(t,e,r,a),t.flags|=262144}function _y(e){for(e=e.firstContext;e!==null;){if(!lo(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dh(e){Sh=e,Fc=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cs(e){return DE(Sh,e)}function Zp(e,t){return Sh===null&&dh(e),DE(e,t)}function DE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Fc===null){if(e===null)throw Error(st(308));Fc=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fc=Fc.next=t;return r}var lO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},cO=On.unstable_scheduleCallback,dO=On.unstable_NormalPriority,yn={$$typeof:Dc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function q5(){return{controller:new lO,data:new Map,refCount:0}}function ap(e){e.refCount--,e.refCount===0&&cO(dO,function(){e.controller.abort()})}var Fm=null,V2=0,cf=0,q0=null;function uO(e,t){if(Fm===null){var r=Fm=[];V2=0,cf=m_(),q0={status:"pending",value:void 0,then:function(a){r.push(a)}}}return V2++,t.then(QN,QN),t}function QN(){if(--V2===0&&Fm!==null){q0!==null&&(q0.status="fulfilled");var e=Fm;Fm=null,cf=0,q0=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hO(e,t){var r=[],a={status:"pending",value:null,reason:null,then:function(s){r.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<r.length;s++)(0,r[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<r.length;s++)(0,r[s])(void 0)}),a}var ek=tr.S;tr.S=function(e,t){Z8=ao(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uO(e,t),ek!==null&&ek(e,t)};var ah=hc(null);function $5(){var e=ah.current;return e!==null?e:ma.pooledCache}function zx(e,t){t===null?va(ah,ah.current):va(ah,t.pool)}function IE(){var e=$5();return e===null?null:{parent:yn._currentValue,pool:e}}var Lf=Error(st(460)),H5=Error(st(474)),O1=Error(st(542)),Ny={then:function(){}};function tk(e){return e=e.status,e==="fulfilled"||e==="rejected"}function FE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Ic,Ic),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ak(e),e;default:if(typeof t.status=="string")t.then(Ic,Ic);else{if(e=ma,e!==null&&100<e.shellSuspendCounter)throw Error(st(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ak(e),e}throw nh=t,Lf}}function qu(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(nh=r,Lf):r}}var nh=null;function rk(){if(nh===null)throw Error(st(459));var e=nh;return nh=null,e}function ak(e){if(e===Lf||e===O1)throw Error(st(483))}var $0=null,wg=0;function Xp(e){var t=wg;return wg+=1,$0===null&&($0=[]),FE($0,e,t)}function hm(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jp(e,t){throw t.$$typeof===JM?Error(st(525)):(e=Object.prototype.toString.call(t),Error(st(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function BE(e){function t(b,w){if(e){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function a(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(b,w){return b=Bc(b,w),b.index=0,b.sibling=null,b}function i(b,w,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=67108866,w):k):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,w,k,S){return w===null||w.tag!==6?(w=zv(k,b.mode,S),w.return=b,w):(w=s(w,k),w.return=b,w)}function c(b,w,k,S){var B=k.type;return B===b0?h(b,w,k.props.children,S,k.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Pd&&qu(B)===w.type)?(w=s(w,k.props),hm(w,k),w.return=b,w):(w=Bx(k.type,k.key,k.props,null,b.mode,S),hm(w,k),w.return=b,w)}function u(b,w,k,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Uv(k,b.mode,S),w.return=b,w):(w=s(w,k.children||[]),w.return=b,w)}function h(b,w,k,S,B){return w===null||w.tag!==7?(w=rh(k,b.mode,S,B),w.return=b,w):(w=s(w,k),w.return=b,w)}function f(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=zv(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $p:return k=Bx(w.type,w.key,w.props,null,b.mode,k),hm(k,w),k.return=b,k;case jm:return w=Uv(w,b.mode,k),w.return=b,w;case Pd:return w=qu(w),f(b,w,k)}if(Sm(w)||cm(w))return w=rh(w,b.mode,k,null),w.return=b,w;if(typeof w.then=="function")return f(b,Xp(w),k);if(w.$$typeof===Dc)return f(b,Zp(b,w),k);Jp(b,w)}return null}function g(b,w,k,S){var B=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return B!==null?null:l(b,w,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $p:return k.key===B?c(b,w,k,S):null;case jm:return k.key===B?u(b,w,k,S):null;case Pd:return k=qu(k),g(b,w,k,S)}if(Sm(k)||cm(k))return B!==null?null:h(b,w,k,S,null);if(typeof k.then=="function")return g(b,w,Xp(k),S);if(k.$$typeof===Dc)return g(b,w,Zp(b,k),S);Jp(b,k)}return null}function m(b,w,k,S,B){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(k)||null,l(w,b,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $p:return b=b.get(S.key===null?k:S.key)||null,c(w,b,S,B);case jm:return b=b.get(S.key===null?k:S.key)||null,u(w,b,S,B);case Pd:return S=qu(S),m(b,w,k,S,B)}if(Sm(S)||cm(S))return b=b.get(k)||null,h(w,b,S,B,null);if(typeof S.then=="function")return m(b,w,k,Xp(S),B);if(S.$$typeof===Dc)return m(b,w,k,Zp(w,S),B);Jp(w,S)}return null}function y(b,w,k,S){for(var B=null,H=null,I=w,D=w=0,C=null;I!==null&&D<k.length;D++){I.index>D?(C=I,I=null):C=I.sibling;var G=g(b,I,k[D],S);if(G===null){I===null&&(I=C);break}e&&I&&G.alternate===null&&t(b,I),w=i(G,w,D),H===null?B=G:H.sibling=G,H=G,I=C}if(D===k.length)return r(b,I),Pr&&Mc(b,D),B;if(I===null){for(;D<k.length;D++)I=f(b,k[D],S),I!==null&&(w=i(I,w,D),H===null?B=I:H.sibling=I,H=I);return Pr&&Mc(b,D),B}for(I=a(I);D<k.length;D++)C=m(I,b,D,k[D],S),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?D:C.key),w=i(C,w,D),H===null?B=C:H.sibling=C,H=C);return e&&I.forEach(function(O){return t(b,O)}),Pr&&Mc(b,D),B}function x(b,w,k,S){if(k==null)throw Error(st(151));for(var B=null,H=null,I=w,D=w=0,C=null,G=k.next();I!==null&&!G.done;D++,G=k.next()){I.index>D?(C=I,I=null):C=I.sibling;var O=g(b,I,G.value,S);if(O===null){I===null&&(I=C);break}e&&I&&O.alternate===null&&t(b,I),w=i(O,w,D),H===null?B=O:H.sibling=O,H=O,I=C}if(G.done)return r(b,I),Pr&&Mc(b,D),B;if(I===null){for(;!G.done;D++,G=k.next())G=f(b,G.value,S),G!==null&&(w=i(G,w,D),H===null?B=G:H.sibling=G,H=G);return Pr&&Mc(b,D),B}for(I=a(I);!G.done;D++,G=k.next())G=m(I,b,D,G.value,S),G!==null&&(e&&G.alternate!==null&&I.delete(G.key===null?D:G.key),w=i(G,w,D),H===null?B=G:H.sibling=G,H=G);return e&&I.forEach(function(V){return t(b,V)}),Pr&&Mc(b,D),B}function N(b,w,k,S){if(typeof k=="object"&&k!==null&&k.type===b0&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case $p:e:{for(var B=k.key;w!==null;){if(w.key===B){if(B=k.type,B===b0){if(w.tag===7){r(b,w.sibling),S=s(w,k.props.children),S.return=b,b=S;break e}}else if(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Pd&&qu(B)===w.type){r(b,w.sibling),S=s(w,k.props),hm(S,k),S.return=b,b=S;break e}r(b,w);break}else t(b,w);w=w.sibling}k.type===b0?(S=rh(k.props.children,b.mode,S,k.key),S.return=b,b=S):(S=Bx(k.type,k.key,k.props,null,b.mode,S),hm(S,k),S.return=b,b=S)}return o(b);case jm:e:{for(B=k.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){r(b,w.sibling),S=s(w,k.children||[]),S.return=b,b=S;break e}else{r(b,w);break}else t(b,w);w=w.sibling}S=Uv(k,b.mode,S),S.return=b,b=S}return o(b);case Pd:return k=qu(k),N(b,w,k,S)}if(Sm(k))return y(b,w,k,S);if(cm(k)){if(B=cm(k),typeof B!="function")throw Error(st(150));return k=B.call(k),x(b,w,k,S)}if(typeof k.then=="function")return N(b,w,Xp(k),S);if(k.$$typeof===Dc)return N(b,w,Zp(b,k),S);Jp(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(r(b,w.sibling),S=s(w,k),S.return=b,b=S):(r(b,w),S=zv(k,b.mode,S),S.return=b,b=S),o(b)):r(b,w)}return function(b,w,k,S){try{wg=0;var B=N(b,w,k,S);return $0=null,B}catch(I){if(I===Lf||I===O1)throw I;var H=Ji(29,I,null,b.mode);return H.lanes=S,H.return=b,H}finally{}}}var uh=BE(!0),zE=BE(!1),Md=!1;function W5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xd(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jd(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,zr&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=by(e),LE(e,null,r),t}return R1(e,a,t,r),by(e)}function Bm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,nE(e,r)}}function qv(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var $2=!1;function zm(){if($2){var e=q0;if(e!==null)throw e}}function Um(e,t,r,a){$2=!1;var s=e.updateQueue;Md=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var g=l.lane&-536870913,m=g!==l.lane;if(m?(Sr&g)===g:(a&g)===g){g!==0&&g===cf&&($2=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=e,x=l;g=t;var N=r;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(N,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,g=typeof y=="function"?y.call(N,f,g):y,g==null)break e;f=Aa({},f,g);break e;case 2:Md=!0}}g=l.callback,g!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[g]:m.push(g))}else m={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,i===null&&(s.shared.lanes=0),lu|=o,e.lanes=o,e.memoizedState=f}}function UE(e,t){if(typeof e!="function")throw Error(st(191,e));e.call(t)}function VE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)UE(r[e],t)}var df=hc(null),ky=hc(0);function nk(e,t){e=Jc,va(ky,e),va(df,t),Jc=e|t.baseLanes}function H2(){va(ky,Jc),va(df,df.current)}function G5(){Jc=ky.current,Hn(df),Hn(ky)}var co=hc(null),Bo=null;function Dd(e){var t=e.alternate;va(ln,ln.current&1),va(co,e),Bo===null&&(t===null||df.current!==null||t.memoizedState!==null)&&(Bo=e)}function W2(e){va(ln,ln.current),va(co,e),Bo===null&&(Bo=e)}function qE(e){e.tag===22?(va(ln,ln.current),va(co,e),Bo===null&&(Bo=e)):Id()}function Id(){va(ln,ln.current),va(co,co.current)}function Ki(e){Hn(co),Bo===e&&(Bo=null),Hn(ln)}var ln=hc(0);function jy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||uw(r)||hw(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kc=0,lr=null,la=null,pn=null,Sy=!1,H0=!1,hh=!1,Ay=0,_g=0,W0=null,fO=0;function Wa(){throw Error(st(321))}function Y5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lo(e[r],t[r]))return!1;return!0}function K5(e,t,r,a,s,i){return Kc=i,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tr.H=e===null||e.memoizedState===null?b8:i_,hh=!1,i=r(a,s),hh=!1,H0&&(i=HE(t,r,a,s)),$E(e),i}function $E(e){tr.H=Ng;var t=la!==null&&la.next!==null;if(Kc=0,pn=la=lr=null,Sy=!1,_g=0,W0=null,t)throw Error(st(300));e===null||bn||(e=e.dependencies,e!==null&&_y(e)&&(bn=!0))}function HE(e,t,r,a){lr=e;var s=0;do{if(H0&&(W0=null),_g=0,H0=!1,25<=s)throw Error(st(301));if(s+=1,pn=la=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}tr.H=w8,i=t(r,a)}while(H0);return i}function mO(){var e=tr.H,t=e.useState()[0];return t=typeof t.then=="function"?np(t):t,e=e.useState()[0],(la!==null?la.memoizedState:null)!==e&&(lr.flags|=1024),t}function Z5(){var e=Ay!==0;return Ay=0,e}function X5(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function J5(e){if(Sy){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sy=!1}Kc=0,pn=la=lr=null,H0=!1,_g=Ay=0,W0=null}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?lr.memoizedState=pn=e:pn=pn.next=e,pn}function cn(){if(la===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=la.next;var t=pn===null?lr.memoizedState:pn.next;if(t!==null)pn=t,la=e;else{if(e===null)throw lr.alternate===null?Error(st(467)):Error(st(310));la=e,e={memoizedState:la.memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},pn===null?lr.memoizedState=pn=e:pn=pn.next=e}return pn}function D1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function np(e){var t=_g;return _g+=1,W0===null&&(W0=[]),e=FE(W0,e,t),t=lr,(pn===null?t.memoizedState:pn.next)===null&&(t=t.alternate,tr.H=t===null||t.memoizedState===null?b8:i_),e}function I1(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return np(e);if(e.$$typeof===Dc)return cs(e)}throw Error(st(438,String(e)))}function Q5(e){var t=null,r=lr.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var a=lr.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=D1(),lr.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=QM;return t.index++,r}function Zc(e,t){return typeof t=="function"?t(e):t}function Ux(e){var t=cn();return e_(t,la,e)}function e_(e,t,r){var a=e.queue;if(a===null)throw Error(st(311));a.lastRenderedReducer=r;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=o=null,c=null,u=t,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Sr&f)===f:(Kc&f)===f){var g=u.revertLane;if(g===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===cf&&(h=!0);else if((Kc&g)===g){u=u.next,g===cf&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,lr.lanes|=g,lu|=g;f=u.action,hh&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else g={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=g,o=i):c=c.next=g,lr.lanes|=f,lu|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!lo(i,e.memoizedState)&&(bn=!0,h&&(r=q0,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $v(e){var t=cn(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);lo(i,t.memoizedState)||(bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function WE(e,t,r){var a=lr,s=cn(),i=Pr;if(i){if(r===void 0)throw Error(st(407));r=r()}else r=t();var o=!lo((la||s).memoizedState,r);if(o&&(s.memoizedState=r,bn=!0),s=s.queue,t_(KE.bind(null,a,s,e),[e]),s.getSnapshot!==t||o||pn!==null&&pn.memoizedState.tag&1){if(a.flags|=2048,uf(9,{destroy:void 0},YE.bind(null,a,s,r,t),null),ma===null)throw Error(st(349));i||Kc&127||GE(a,t,r)}return r}function GE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t=D1(),lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YE(e,t,r,a){t.value=r,t.getSnapshot=a,ZE(t)&&XE(e)}function KE(e,t,r){return r(function(){ZE(t)&&XE(e)})}function ZE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lo(e,r)}catch{return!0}}function XE(e){var t=jh(e,2);t!==null&&wi(t,e,2)}function G2(e){var t=Us();if(typeof e=="function"){var r=e;if(e=r(),hh){zd(!0);try{r()}finally{zd(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:e},t}function JE(e,t,r,a){return e.baseState=r,e_(e,la,typeof a=="function"?a:Zc)}function gO(e,t,r,a,s){if(B1(e))throw Error(st(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};tr.T!==null?r(!0):i.isTransition=!1,a(i),r=t.pending,r===null?(i.next=t.pending=i,QE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function QE(e,t){var r=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=tr.T,o={};tr.T=o;try{var l=r(s,a),c=tr.S;c!==null&&c(o,l),sk(e,t,l)}catch(u){Y2(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),tr.T=i}}else try{i=r(s,a),sk(e,t,i)}catch(u){Y2(e,t,u)}}function sk(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){ik(e,t,a)},function(a){return Y2(e,t,a)}):ik(e,t,r)}function ik(e,t,r){t.status="fulfilled",t.value=r,e8(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,QE(e,r)))}function Y2(e,t,r){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=r,e8(t),t=t.next;while(t!==a)}e.action=null}function e8(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function t8(e,t){return t}function ok(e,t){if(Pr){var r=ma.formState;if(r!==null){e:{var a=lr;if(Pr){if(ka){t:{for(var s=ka,i=Oo;s.nodeType!==8;){if(!i){s=null;break t}if(s=zo(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ka=zo(s.nextSibling),a=s.data==="F!";break e}}iu(a)}a=!1}a&&(t=r[0])}}return r=Us(),r.memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t8,lastRenderedState:t},r.queue=a,r=x8.bind(null,lr,a),a.dispatch=r,a=G2(!1),i=s_.bind(null,lr,!1,a.queue),a=Us(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,r=gO.bind(null,lr,s,i,r),s.dispatch=r,a.memoizedState=e,[t,r,!1]}function lk(e){var t=cn();return r8(t,la,e)}function r8(e,t,r){if(t=e_(e,t,t8)[0],e=Ux(Zc)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=np(t)}catch(o){throw o===Lf?O1:o}else a=t;t=cn();var s=t.queue,i=s.dispatch;return r!==t.memoizedState&&(lr.flags|=2048,uf(9,{destroy:void 0},pO.bind(null,s,r),null)),[a,i,e]}function pO(e,t){e.action=t}function ck(e){var t=cn(),r=la;if(r!==null)return r8(t,r,e);cn(),t=t.memoizedState,r=cn();var a=r.queue.dispatch;return r.memoizedState=e,[t,a,!1]}function uf(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},t=lr.updateQueue,t===null&&(t=D1(),lr.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function a8(){return cn().memoizedState}function Vx(e,t,r,a){var s=Us();lr.flags|=e,s.memoizedState=uf(1|t,{destroy:void 0},r,a===void 0?null:a)}function F1(e,t,r,a){var s=cn();a=a===void 0?null:a;var i=s.memoizedState.inst;la!==null&&a!==null&&Y5(a,la.memoizedState.deps)?s.memoizedState=uf(t,i,r,a):(lr.flags|=e,s.memoizedState=uf(1|t,i,r,a))}function dk(e,t){Vx(8390656,8,e,t)}function t_(e,t){F1(2048,8,e,t)}function xO(e){lr.flags|=4;var t=lr.updateQueue;if(t===null)t=D1(),lr.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function n8(e){var t=cn().memoizedState;return xO({ref:t,nextImpl:e}),function(){if(zr&2)throw Error(st(440));return t.impl.apply(void 0,arguments)}}function s8(e,t){return F1(4,2,e,t)}function i8(e,t){return F1(4,4,e,t)}function o8(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l8(e,t,r){r=r!=null?r.concat([e]):null,F1(4,4,o8.bind(null,t,e),r)}function r_(){}function c8(e,t){var r=cn();t=t===void 0?null:t;var a=r.memoizedState;return t!==null&&Y5(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function d8(e,t){var r=cn();t=t===void 0?null:t;var a=r.memoizedState;if(t!==null&&Y5(t,a[1]))return a[0];if(a=e(),hh){zd(!0);try{e()}finally{zd(!1)}}return r.memoizedState=[a,t],a}function a_(e,t,r){return r===void 0||Kc&1073741824&&!(Sr&261930)?e.memoizedState=t:(e.memoizedState=r,e=J8(),lr.lanes|=e,lu|=e,r)}function u8(e,t,r,a){return lo(r,t)?r:df.current!==null?(e=a_(e,r,a),lo(e,t)||(bn=!0),e):!(Kc&42)||Kc&1073741824&&!(Sr&261930)?(bn=!0,e.memoizedState=r):(e=J8(),lr.lanes|=e,lu|=e,t)}function h8(e,t,r,a,s){var i=Ur.p;Ur.p=i!==0&&8>i?i:8;var o=tr.T,l={};tr.T=l,s_(e,!1,t,r);try{var c=s(),u=tr.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=hO(c,a);Vm(e,t,h,io(e))}else Vm(e,t,a,io(e))}catch(f){Vm(e,t,{then:function(){},status:"rejected",reason:f},io())}finally{Ur.p=i,o!==null&&l.types!==null&&(o.types=l.types),tr.T=o}}function yO(){}function K2(e,t,r,a){if(e.tag!==5)throw Error(st(476));var s=f8(e).queue;h8(e,s,t,th,r===null?yO:function(){return m8(e),r(a)})}function f8(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:th,baseState:th,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:th},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function m8(e){var t=f8(e);t.next===null&&(t=e.alternate.memoizedState),Vm(e,t.next.queue,{},io())}function n_(){return cs(Sg)}function g8(){return cn().memoizedState}function p8(){return cn().memoizedState}function vO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=io();e=Xd(r);var a=Jd(t,e,r);a!==null&&(wi(a,t,r),Bm(a,t,r)),t={cache:q5()},e.payload=t;return}t=t.return}}function bO(e,t,r){var a=io();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},B1(e)?y8(t,r):(r=B5(e,t,r,a),r!==null&&(wi(r,e,a),v8(r,t,a)))}function x8(e,t,r){var a=io();Vm(e,t,r,a)}function Vm(e,t,r,a){var s={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(B1(e))y8(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,lo(l,o))return R1(e,t,s,0),ma===null&&M1(),!1}catch{}finally{}if(r=B5(e,t,s,a),r!==null)return wi(r,e,a),v8(r,t,a),!0}return!1}function s_(e,t,r,a){if(a={lane:2,revertLane:m_(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},B1(e)){if(t)throw Error(st(479))}else t=B5(e,r,a,2),t!==null&&wi(t,e,2)}function B1(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function y8(e,t){H0=Sy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v8(e,t,r){if(r&4194048){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,nE(e,r)}}var Ng={readContext:cs,use:I1,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useInsertionEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useSyncExternalStore:Wa,useId:Wa,useHostTransitionStatus:Wa,useFormState:Wa,useActionState:Wa,useOptimistic:Wa,useMemoCache:Wa,useCacheRefresh:Wa};Ng.useEffectEvent=Wa;var b8={readContext:cs,use:I1,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:cs,useEffect:dk,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Vx(4194308,4,o8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vx(4194308,4,e,t)},useInsertionEffect:function(e,t){Vx(4,2,e,t)},useMemo:function(e,t){var r=Us();t=t===void 0?null:t;var a=e();if(hh){zd(!0);try{e()}finally{zd(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=Us();if(r!==void 0){var s=r(t);if(hh){zd(!0);try{r(t)}finally{zd(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=bO.bind(null,lr,e),[a.memoizedState,e]},useRef:function(e){var t=Us();return e={current:e},t.memoizedState=e},useState:function(e){e=G2(e);var t=e.queue,r=x8.bind(null,lr,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:r_,useDeferredValue:function(e,t){var r=Us();return a_(r,e,t)},useTransition:function(){var e=G2(!1);return e=h8.bind(null,lr,e.queue,!0,!1),Us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=lr,s=Us();if(Pr){if(r===void 0)throw Error(st(407));r=r()}else{if(r=t(),ma===null)throw Error(st(349));Sr&127||GE(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,dk(KE.bind(null,a,i,e),[e]),a.flags|=2048,uf(9,{destroy:void 0},YE.bind(null,a,i,r,t),null),r},useId:function(){var e=Us(),t=ma.identifierPrefix;if(Pr){var r=tc,a=ec;r=(a&~(1<<32-so(a)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Ay++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=fO++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:n_,useFormState:ok,useActionState:ok,useOptimistic:function(e){var t=Us();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=s_.bind(null,lr,!0,r),r.dispatch=t,[e,t]},useMemoCache:Q5,useCacheRefresh:function(){return Us().memoizedState=vO.bind(null,lr)},useEffectEvent:function(e){var t=Us(),r={impl:e};return t.memoizedState=r,function(){if(zr&2)throw Error(st(440));return r.impl.apply(void 0,arguments)}}},i_={readContext:cs,use:I1,useCallback:c8,useContext:cs,useEffect:t_,useImperativeHandle:l8,useInsertionEffect:s8,useLayoutEffect:i8,useMemo:d8,useReducer:Ux,useRef:a8,useState:function(){return Ux(Zc)},useDebugValue:r_,useDeferredValue:function(e,t){var r=cn();return u8(r,la.memoizedState,e,t)},useTransition:function(){var e=Ux(Zc)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:np(e),t]},useSyncExternalStore:WE,useId:g8,useHostTransitionStatus:n_,useFormState:lk,useActionState:lk,useOptimistic:function(e,t){var r=cn();return JE(r,la,e,t)},useMemoCache:Q5,useCacheRefresh:p8};i_.useEffectEvent=n8;var w8={readContext:cs,use:I1,useCallback:c8,useContext:cs,useEffect:t_,useImperativeHandle:l8,useInsertionEffect:s8,useLayoutEffect:i8,useMemo:d8,useReducer:$v,useRef:a8,useState:function(){return $v(Zc)},useDebugValue:r_,useDeferredValue:function(e,t){var r=cn();return la===null?a_(r,e,t):u8(r,la.memoizedState,e,t)},useTransition:function(){var e=$v(Zc)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:np(e),t]},useSyncExternalStore:WE,useId:g8,useHostTransitionStatus:n_,useFormState:ck,useActionState:ck,useOptimistic:function(e,t){var r=cn();return la!==null?JE(r,la,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Q5,useCacheRefresh:p8};w8.useEffectEvent=n8;function Hv(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Aa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Z2={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=io(),s=Xd(a);s.payload=t,r!=null&&(s.callback=r),t=Jd(e,s,a),t!==null&&(wi(t,e,a),Bm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=io(),s=Xd(a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Jd(e,s,a),t!==null&&(wi(t,e,a),Bm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=io(),a=Xd(r);a.tag=2,t!=null&&(a.callback=t),t=Jd(e,a,r),t!==null&&(wi(t,e,r),Bm(t,e,r))}};function uk(e,t,r,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!yg(r,a)||!yg(s,i):!0}function hk(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Z2.enqueueReplaceState(t,t.state,null)}function fh(e,t){var r=t;if("ref"in t){r={};for(var a in t)a!=="ref"&&(r[a]=t[a])}if(e=e.defaultProps){r===t&&(r=Aa({},r));for(var s in e)r[s]===void 0&&(r[s]=e[s])}return r}function _8(e){vy(e)}function N8(e){console.error(e)}function k8(e){vy(e)}function Ey(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function fk(e,t,r){try{var a=e.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function X2(e,t,r){return r=Xd(r),r.tag=3,r.payload={element:null},r.callback=function(){Ey(e,t)},r}function j8(e){return e=Xd(e),e.tag=3,e}function S8(e,t,r,a){var s=r.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){fk(t,r,a)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){fk(t,r,a),typeof s!="function"&&(Qd===null?Qd=new Set([this]):Qd.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function wO(e,t,r,a,s){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=r.alternate,t!==null&&Cf(t,r,s,!0),r=co.current,r!==null){switch(r.tag){case 31:case 13:return Bo===null?My():r.alternate===null&&Xa===0&&(Xa=3),r.flags&=-257,r.flags|=65536,r.lanes=s,a===Ny?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([a]):t.add(a),rb(e,a,s)),!1;case 22:return r.flags|=65536,a===Ny?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([a]):r.add(a)),rb(e,a,s)),!1}throw Error(st(435,r.tag))}return rb(e,a,s),My(),!1}if(Pr)return t=co.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==F2&&(e=Error(st(422),{cause:a}),bg(Ro(e,r)))):(a!==F2&&(t=Error(st(423),{cause:a}),bg(Ro(t,r))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Ro(a,r),s=X2(e.stateNode,a,s),qv(e,s),Xa!==4&&(Xa=2)),!1;var i=Error(st(520),{cause:a});if(i=Ro(i,r),Hm===null?Hm=[i]:Hm.push(i),Xa!==4&&(Xa=2),t===null)return!0;a=Ro(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=s&-s,r.lanes|=e,e=X2(r.stateNode,a,e),qv(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Qd===null||!Qd.has(i))))return r.flags|=65536,s&=-s,r.lanes|=s,s=j8(s),S8(s,e,r,a),qv(r,s),!1}r=r.return}while(r!==null);return!1}var o_=Error(st(461)),bn=!1;function as(e,t,r,a){t.child=e===null?zE(t,null,r,a):uh(t,e.child,r,a)}function mk(e,t,r,a,s){r=r.render;var i=t.ref;if("ref"in a){var o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}else o=a;return dh(t),a=K5(e,t,r,o,i,s),l=Z5(),e!==null&&!bn?(X5(e,t,s),Xc(e,t,s)):(Pr&&l&&U5(t),t.flags|=1,as(e,t,a,s),t.child)}function gk(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!z5(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,A8(e,t,i,a,s)):(e=Bx(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!l_(e,s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yg,r(o,a)&&e.ref===t.ref)return Xc(e,t,s)}return t.flags|=1,e=Bc(i,a),e.ref=t.ref,e.return=t,t.child=e}function A8(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(yg(i,a)&&e.ref===t.ref)if(bn=!1,t.pendingProps=a=i,l_(e,s))e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,Xc(e,t,s)}return J2(e,t,r,a,s)}function E8(e,t,r,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return pk(e,t,i,r,a)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zx(t,i!==null?i.cachePool:null),i!==null?nk(t,i):H2(),qE(t);else return a=t.lanes=536870912,pk(e,t,i!==null?i.baseLanes|r:r,r,a)}else i!==null?(zx(t,i.cachePool),nk(t,i),Id(),t.memoizedState=null):(e!==null&&zx(t,null),H2(),Id());return as(e,t,s,r),t.child}function Em(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pk(e,t,r,a,s){var i=$5();return i=i===null?null:{parent:yn._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&zx(t,null),H2(),qE(t),e!==null&&Cf(e,t,a,!0),t.childLanes=s,null}function qx(e,t){return t=Ty({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xk(e,t,r){return uh(t,e.child,null,r),e=qx(t,t.pendingProps),e.flags|=2,Ki(t),t.memoizedState=null,e}function _O(e,t,r){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pr){if(a.mode==="hidden")return e=qx(t,a),t.lanes=536870912,Em(null,e);if(W2(t),(e=ka)?(e=bT(e,Oo),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:su!==null?{id:ec,overflow:tc}:null,retryLane:536870912,hydrationErrors:null},r=ME(e),r.return=t,t.child=r,is=t,ka=null)):e=null,e===null)throw iu(t);return t.lanes=536870912,null}return qx(t,a)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(W2(t),s)if(t.flags&256)t.flags&=-257,t=xk(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(st(558));else if(bn||Cf(e,t,r,!1),s=(r&e.childLanes)!==0,bn||s){if(a=ma,a!==null&&(o=sE(a,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,jh(e,o),wi(a,e,o),o_;My(),t=xk(e,t,r)}else e=i.treeContext,ka=zo(o.nextSibling),is=t,Pr=!0,Zd=null,Oo=!1,e!==null&&OE(t,e),t=qx(t,a),t.flags|=4096;return t}return e=Bc(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $x(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(st(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function J2(e,t,r,a,s){return dh(t),r=K5(e,t,r,a,void 0,s),a=Z5(),e!==null&&!bn?(X5(e,t,s),Xc(e,t,s)):(Pr&&a&&U5(t),t.flags|=1,as(e,t,r,s),t.child)}function yk(e,t,r,a,s,i){return dh(t),t.updateQueue=null,r=HE(t,a,r,s),$E(e),a=Z5(),e!==null&&!bn?(X5(e,t,i),Xc(e,t,i)):(Pr&&a&&U5(t),t.flags|=1,as(e,t,r,i),t.child)}function vk(e,t,r,a,s){if(dh(t),t.stateNode===null){var i=E0,o=r.contextType;typeof o=="object"&&o!==null&&(i=cs(o)),i=new r(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Z2,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},W5(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?cs(o):E0,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Hv(t,r,o,a),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Z2.enqueueReplaceState(i,i.state,null),Um(t,a,i,s),zm(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=fh(r,l);i.props=c;var u=i.context,h=r.contextType;o=E0,typeof h=="object"&&h!==null&&(o=cs(h));var f=r.getDerivedStateFromProps;h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&hk(t,i,a,o),Md=!1;var g=t.memoizedState;i.state=g,Um(t,a,i,s),zm(),u=t.memoizedState,l||g!==u||Md?(typeof f=="function"&&(Hv(t,r,f,a),u=t.memoizedState),(c=Md||uk(t,r,c,a,g,u,o))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=o,a=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,q2(e,t),o=t.memoizedProps,h=fh(r,o),i.props=h,f=t.pendingProps,g=i.context,u=r.contextType,c=E0,typeof u=="object"&&u!==null&&(c=cs(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||g!==c)&&hk(t,i,a,c),Md=!1,g=t.memoizedState,i.state=g,Um(t,a,i,s),zm();var m=t.memoizedState;o!==f||g!==m||Md||e!==null&&e.dependencies!==null&&_y(e.dependencies)?(typeof l=="function"&&(Hv(t,r,l,a),m=t.memoizedState),(h=Md||uk(t,r,h,a,g,m,c)||e!==null&&e.dependencies!==null&&_y(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=c,a=h):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,$x(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=uh(t,e.child,null,s),t.child=uh(t,null,r,s)):as(e,t,r,s),t.memoizedState=i.state,e=t.child):e=Xc(e,t,s),e}function bk(e,t,r,a){return ch(),t.flags|=256,as(e,t,r,a),t.child}var Wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gv(e){return{baseLanes:e,cachePool:IE()}}function Yv(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=to),e}function T8(e,t,r){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),o&&(s=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pr){if(s?Dd(t):Id(),(e=ka)?(e=bT(e,Oo),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:su!==null?{id:ec,overflow:tc}:null,retryLane:536870912,hydrationErrors:null},r=ME(e),r.return=t,t.child=r,is=t,ka=null)):e=null,e===null)throw iu(t);return hw(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Id(),s=t.mode,l=Ty({mode:"hidden",children:l},s),a=rh(a,s,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Gv(r),a.childLanes=Yv(e,o,r),t.memoizedState=Wv,Em(null,a)):(Dd(t),Q2(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Dd(t),t.flags&=-257,t=Kv(e,t,r)):t.memoizedState!==null?(Id(),t.child=e.child,t.flags|=128,t=null):(Id(),l=a.fallback,s=t.mode,a=Ty({mode:"visible",children:a.children},s),l=rh(l,s,r,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,uh(t,e.child,null,r),a=t.child,a.memoizedState=Gv(r),a.childLanes=Yv(e,o,r),t.memoizedState=Wv,t=Em(null,a));else if(Dd(t),hw(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,a=Error(st(419)),a.stack="",a.digest=o,bg({value:a,source:null,stack:null}),t=Kv(e,t,r)}else if(bn||Cf(e,t,r,!1),o=(r&e.childLanes)!==0,bn||o){if(o=ma,o!==null&&(a=sE(o,r),a!==0&&a!==c.retryLane))throw c.retryLane=a,jh(e,a),wi(o,e,a),o_;uw(l)||My(),t=Kv(e,t,r)}else uw(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ka=zo(l.nextSibling),is=t,Pr=!0,Zd=null,Oo=!1,e!==null&&OE(t,e),t=Q2(t,a.children),t.flags|=4096);return t}return s?(Id(),l=a.fallback,s=t.mode,c=e.child,u=c.sibling,a=Bc(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=Bc(u,l):(l=rh(l,s,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Em(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Gv(r):(s=l.cachePool,s!==null?(c=yn._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=IE(),l={baseLanes:l.baseLanes|r,cachePool:s}),a.memoizedState=l,a.childLanes=Yv(e,o,r),t.memoizedState=Wv,Em(e.child,a)):(Dd(t),r=e.child,e=r.sibling,r=Bc(r,{mode:"visible",children:a.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function Q2(e,t){return t=Ty({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ty(e,t){return e=Ji(22,e,null,t),e.lanes=0,e}function Kv(e,t,r){return uh(t,e.child,null,r),e=Q2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wk(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),z2(e.return,t,r)}function Zv(e,t,r,a,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=s,o.treeForkCount=i)}function C8(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var o=ln.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,va(ln,o),as(e,t,a,r),a=Pr?vg:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wk(e,r,t);else if(e.tag===19)wk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jy(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zv(t,!1,s,r,i,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jy(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zv(t,!0,r,null,i,a);break;case"together":Zv(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Xc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lu|=t.lanes,!(r&t.childLanes))if(e!==null){if(Cf(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(st(153));if(t.child!==null){for(e=t.child,r=Bc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l_(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&_y(e)))}function NO(e,t,r){switch(t.tag){case 3:gy(t,t.stateNode.containerInfo),Od(t,yn,e.memoizedState.cache),ch();break;case 27:case 5:A2(t);break;case 4:gy(t,t.stateNode.containerInfo);break;case 10:Od(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,W2(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Dd(t),t.flags|=128,null):r&t.child.childLanes?T8(e,t,r):(Dd(t),e=Xc(e,t,r),e!==null?e.sibling:null);Dd(t);break;case 19:var s=(e.flags&128)!==0;if(a=(r&t.childLanes)!==0,a||(Cf(e,t,r,!1),a=(r&t.childLanes)!==0),s){if(a)return C8(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),va(ln,ln.current),a)break;return null;case 22:return t.lanes=0,E8(e,t,r,t.pendingProps);case 24:Od(t,yn,e.memoizedState.cache)}return Xc(e,t,r)}function L8(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)bn=!0;else{if(!l_(e,r)&&!(t.flags&128))return bn=!1,NO(e,t,r);bn=!!(e.flags&131072)}else bn=!1,Pr&&t.flags&1048576&&RE(t,vg,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=qu(t.elementType),t.type=e,typeof e=="function")z5(e)?(a=fh(e,a),t.tag=1,t=vk(null,t,e,a,r)):(t.tag=0,t=J2(null,t,e,a,r));else{if(e!=null){var s=e.$$typeof;if(s===S5){t.tag=11,t=mk(null,t,e,a,r);break e}else if(s===A5){t.tag=14,t=gk(null,t,e,a,r);break e}}throw t=j2(e)||e,Error(st(306,t,""))}}return t;case 0:return J2(e,t,t.type,t.pendingProps,r);case 1:return a=t.type,s=fh(a,t.pendingProps),vk(e,t,a,s,r);case 3:e:{if(gy(t,t.stateNode.containerInfo),e===null)throw Error(st(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,q2(e,t),Um(t,a,null,r);var o=t.memoizedState;if(a=o.cache,Od(t,yn,a),a!==i.cache&&U2(t,[yn],r,!0),zm(),a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=bk(e,t,a,r);break e}else if(a!==s){s=Ro(Error(st(424)),t),bg(s),t=bk(e,t,a,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ka=zo(e.firstChild),is=t,Pr=!0,Zd=null,Oo=!0,r=zE(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ch(),a===s){t=Xc(e,t,r);break e}as(e,t,a,r)}t=t.child}return t;case 26:return $x(e,t),e===null?(r=Uk(t.type,null,t.pendingProps,null))?t.memoizedState=r:Pr||(r=t.type,e=t.pendingProps,a=Iy(Kd.current).createElement(r),a[ss]=t,a[ki]=e,ds(a,r,e),zn(a),t.stateNode=a):t.memoizedState=Uk(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return A2(t),e===null&&Pr&&(a=t.stateNode=wT(t.type,t.pendingProps,Kd.current),is=t,Oo=!0,s=ka,vu(t.type)?(fw=s,ka=zo(a.firstChild)):ka=s),as(e,t,t.pendingProps.children,r),$x(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pr&&((s=a=ka)&&(a=QO(a,t.type,t.pendingProps,Oo),a!==null?(t.stateNode=a,is=t,ka=zo(a.firstChild),Oo=!1,s=!0):s=!1),s||iu(t)),A2(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,cw(s,i)?a=null:o!==null&&cw(s,o)&&(t.flags|=32),t.memoizedState!==null&&(s=K5(e,t,mO,null,null,r),Sg._currentValue=s),$x(e,t),as(e,t,a,r),t.child;case 6:return e===null&&Pr&&((e=r=ka)&&(r=eD(r,t.pendingProps,Oo),r!==null?(t.stateNode=r,is=t,ka=null,e=!0):e=!1),e||iu(t)),null;case 13:return T8(e,t,r);case 4:return gy(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=uh(t,null,a,r):as(e,t,a,r),t.child;case 11:return mk(e,t,t.type,t.pendingProps,r);case 7:return as(e,t,t.pendingProps,r),t.child;case 8:return as(e,t,t.pendingProps.children,r),t.child;case 12:return as(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,Od(t,t.type,a.value),as(e,t,a.children,r),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,dh(t),s=cs(s),a=a(s),t.flags|=1,as(e,t,a,r),t.child;case 14:return gk(e,t,t.type,t.pendingProps,r);case 15:return A8(e,t,t.type,t.pendingProps,r);case 19:return C8(e,t,r);case 31:return _O(e,t,r);case 22:return E8(e,t,r,t.pendingProps);case 24:return dh(t),a=cs(yn),e===null?(s=$5(),s===null&&(s=ma,i=q5(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=r),s=i),t.memoizedState={parent:a,cache:s},W5(t),Od(t,yn,s)):(e.lanes&r&&(q2(e,t),Um(t,null,null,r),zm()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Od(t,yn,a)):(a=i.cache,Od(t,yn,a),a!==s.cache&&U2(t,[yn],r,!0))),as(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(st(156,t.tag))}function Sc(e){e.flags|=4}function Xv(e,t,r,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(tT())e.flags|=8192;else throw nh=Ny,H5}else e.flags&=-16777217}function _k(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!kT(t))if(tT())e.flags|=8192;else throw nh=Ny,H5}function Qp(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rE():536870912,e.lanes|=t,hf|=t)}function fm(e,t){if(!Pr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Na(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function kO(e,t,r){var a=t.pendingProps;switch(V5(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(t),null;case 1:return Na(t),null;case 3:return r=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),zc(yn),sf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kh(t)?Sc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vv())),Na(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Sc(t),i!==null?(Na(t),_k(t,i)):(Na(t),Xv(t,s,null,a,r))):i?i!==e.memoizedState?(Sc(t),Na(t),_k(t,i)):(Na(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Sc(t),Na(t),Xv(t,s,e,a,r)),null;case 27:if(py(t),r=Kd.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Sc(t);else{if(!a){if(t.stateNode===null)throw Error(st(166));return Na(t),null}e=nc.current,Kh(t)?XN(t):(e=wT(s,a,r),t.stateNode=e,Sc(t))}return Na(t),null;case 5:if(py(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Sc(t);else{if(!a){if(t.stateNode===null)throw Error(st(166));return Na(t),null}if(i=nc.current,Kh(t))XN(t);else{var o=Iy(Kd.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?o.createElement(s,{is:a.is}):o.createElement(s)}}i[ss]=t,i[ki]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(ds(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Sc(t)}}return Na(t),Xv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Sc(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(st(166));if(e=Kd.current,Kh(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,s=is,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[ss]=t,e=!!(e.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||xT(e.nodeValue,r)),e||iu(t,!0)}else e=Iy(e).createTextNode(a),e[ss]=t,t.stateNode=e}return Na(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(a=Kh(t),r!==null){if(e===null){if(!a)throw Error(st(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(557));e[ss]=t}else ch(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Na(t),e=!1}else r=Vv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Ki(t),t):(Ki(t),null);if(t.flags&128)throw Error(st(558))}return Na(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Kh(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(st(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(st(317));s[ss]=t}else ch(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Na(t),s=!1}else s=Vv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ki(t),t):(Ki(t),null)}return Ki(t),t.flags&128?(t.lanes=r,t):(r=a!==null,e=e!==null&&e.memoizedState!==null,r&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Qp(t,t.updateQueue),Na(t),null);case 4:return sf(),e===null&&g_(t.stateNode.containerInfo),Na(t),null;case 10:return zc(t.type),Na(t),null;case 19:if(Hn(ln),a=t.memoizedState,a===null)return Na(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)fm(a,!1);else{if(Xa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=jy(e),i!==null){for(t.flags|=128,fm(a,!1),e=i.updateQueue,t.updateQueue=e,Qp(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)PE(r,e),r=r.sibling;return va(ln,ln.current&1|2),Pr&&Mc(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ao()>Ly&&(t.flags|=128,s=!0,fm(a,!1),t.lanes=4194304)}else{if(!s)if(e=jy(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Qp(t,e),fm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Pr)return Na(t),null}else 2*ao()-a.renderingStartTime>Ly&&r!==536870912&&(t.flags|=128,s=!0,fm(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ao(),e.sibling=null,r=ln.current,va(ln,s?r&1|2:r&1),Pr&&Mc(t,a.treeForkCount),e):(Na(t),null);case 22:case 23:return Ki(t),G5(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?r&536870912&&!(t.flags&128)&&(Na(t),t.subtreeFlags&6&&(t.flags|=8192)):Na(t),r=t.updateQueue,r!==null&&Qp(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),e!==null&&Hn(ah),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),zc(yn),Na(t),null;case 25:return null;case 30:return null}throw Error(st(156,t.tag))}function jO(e,t){switch(V5(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zc(yn),sf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return py(t),null;case 31:if(t.memoizedState!==null){if(Ki(t),t.alternate===null)throw Error(st(340));ch()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ki(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(st(340));ch()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(ln),null;case 4:return sf(),null;case 10:return zc(t.type),null;case 22:case 23:return Ki(t),G5(),e!==null&&Hn(ah),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return zc(yn),null;case 25:return null;default:return null}}function P8(e,t){switch(V5(t),t.tag){case 3:zc(yn),sf();break;case 26:case 27:case 5:py(t);break;case 4:sf();break;case 31:t.memoizedState!==null&&Ki(t);break;case 13:Ki(t);break;case 19:Hn(ln);break;case 10:zc(t.type);break;case 22:case 23:Ki(t),G5(),e!==null&&Hn(ah);break;case 24:zc(yn)}}function sp(e,t){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var s=a.next;r=s;do{if((r.tag&e)===e){a=void 0;var i=r.create,o=r.inst;a=i(),o.destroy=a}r=r.next}while(r!==s)}}catch(l){ra(t,t.return,l)}}function ou(e,t,r){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var o=a.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,s=t;var c=r,u=l;try{u()}catch(h){ra(s,c,h)}}}a=a.next}while(a!==i)}}catch(h){ra(t,t.return,h)}}function M8(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{VE(t,r)}catch(a){ra(e,e.return,a)}}}function R8(e,t,r){r.props=fh(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){ra(e,t,a)}}function qm(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof r=="function"?e.refCleanup=r(a):r.current=a}}catch(s){ra(e,t,s)}}function rc(e,t){var r=e.ref,a=e.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(s){ra(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(s){ra(e,t,s)}else r.current=null}function O8(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(s){ra(e,e.return,s)}}function Jv(e,t,r){try{var a=e.stateNode;GO(a,e.type,r,t),a[ki]=t}catch(s){ra(e,e.return,s)}}function D8(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vu(e.type)||e.tag===4}function Qv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vu(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ew(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ic));else if(a!==4&&(a===27&&vu(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(ew(e,t,r),e=e.sibling;e!==null;)ew(e,t,r),e=e.sibling}function Cy(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(a===27&&vu(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Cy(e,t,r),e=e.sibling;e!==null;)Cy(e,t,r),e=e.sibling}function I8(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ds(t,a,r),t[ss]=e,t[ki]=r}catch(i){ra(e,e.return,i)}}var Oc=!1,xn=!1,eb=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function SO(e,t){if(e=e.containerInfo,ow=Uy,e=kE(e),I5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=e,g=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||a!==0&&f.nodeType!==3||(c=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===r&&++u===s&&(l=o),g===i&&++h===a&&(c=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lw={focusedElem:e,selectionRange:r},Uy=!1,Fn=t;Fn!==null;)if(t=Fn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fn=e;else for(;Fn!==null;){switch(t=Fn,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)s=e[r],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,s=i.memoizedProps,i=i.memoizedState,a=r.stateNode;try{var y=fh(r.type,s);e=a.getSnapshotBeforeUpdate(y,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){ra(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)dw(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dw(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(st(163))}if(e=t.sibling,e!==null){e.return=t.return,Fn=e;break}Fn=t.return}}function F8(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Ec(e,r),a&4&&sp(5,r);break;case 1:if(Ec(e,r),a&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){ra(r,r.return,o)}else{var s=fh(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ra(r,r.return,o)}}a&64&&M8(r),a&512&&qm(r,r.return);break;case 3:if(Ec(e,r),a&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{VE(e,t)}catch(o){ra(r,r.return,o)}}break;case 27:t===null&&a&4&&I8(r);case 26:case 5:Ec(e,r),t===null&&a&4&&O8(r),a&512&&qm(r,r.return);break;case 12:Ec(e,r);break;case 31:Ec(e,r),a&4&&U8(e,r);break;case 13:Ec(e,r),a&4&&V8(e,r),a&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=OO.bind(null,r),tD(e,r))));break;case 22:if(a=r.memoizedState!==null||Oc,!a){t=t!==null&&t.memoizedState!==null||xn,s=Oc;var i=xn;Oc=a,(xn=t)&&!i?Lc(e,r,(r.subtreeFlags&8772)!==0):Ec(e,r),Oc=s,xn=i}break;case 30:break;default:Ec(e,r)}}function B8(e){var t=e.alternate;t!==null&&(e.alternate=null,B8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&L5(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pa=null,yi=!1;function Ac(e,t,r){for(r=r.child;r!==null;)z8(e,t,r),r=r.sibling}function z8(e,t,r){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(Jg,r)}catch{}switch(r.tag){case 26:xn||rc(r,t),Ac(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xn||rc(r,t);var a=Pa,s=yi;vu(r.type)&&(Pa=r.stateNode,yi=!1),Ac(e,t,r),Gm(r.stateNode),Pa=a,yi=s;break;case 5:xn||rc(r,t);case 6:if(a=Pa,s=yi,Pa=null,Ac(e,t,r),Pa=a,yi=s,Pa!==null)if(yi)try{(Pa.nodeType===9?Pa.body:Pa.nodeName==="HTML"?Pa.ownerDocument.body:Pa).removeChild(r.stateNode)}catch(i){ra(r,t,i)}else try{Pa.removeChild(r.stateNode)}catch(i){ra(r,t,i)}break;case 18:Pa!==null&&(yi?(e=Pa,Dk(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),pf(e)):Dk(Pa,r.stateNode));break;case 4:a=Pa,s=yi,Pa=r.stateNode.containerInfo,yi=!0,Ac(e,t,r),Pa=a,yi=s;break;case 0:case 11:case 14:case 15:ou(2,r,t),xn||ou(4,r,t),Ac(e,t,r);break;case 1:xn||(rc(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"&&R8(r,t,a)),Ac(e,t,r);break;case 21:Ac(e,t,r);break;case 22:xn=(a=xn)||r.memoizedState!==null,Ac(e,t,r),xn=a;break;default:Ac(e,t,r)}}function U8(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pf(e)}catch(r){ra(t,t.return,r)}}}function V8(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pf(e)}catch(r){ra(t,t.return,r)}}function AO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nk),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nk),t;default:throw Error(st(435,e.tag))}}function ex(e,t){var r=AO(e);t.forEach(function(a){if(!r.has(a)){r.add(a);var s=DO.bind(null,e,a);a.then(s,s)}})}function hi(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(vu(l.type)){Pa=l.stateNode,yi=!1;break e}break;case 5:Pa=l.stateNode,yi=!1;break e;case 3:case 4:Pa=l.stateNode.containerInfo,yi=!0;break e}l=l.return}if(Pa===null)throw Error(st(160));z8(i,o,s),Pa=null,yi=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)q8(t,e),t=t.sibling}var bl=null;function q8(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hi(t,e),fi(e),a&4&&(ou(3,e,e.return),sp(3,e),ou(5,e,e.return));break;case 1:hi(t,e),fi(e),a&512&&(xn||r===null||rc(r,r.return)),a&64&&Oc&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var s=bl;if(hi(t,e),fi(e),a&512&&(xn||r===null||rc(r,r.return)),a&4){var i=r!==null?r.memoizedState:null;if(a=e.memoizedState,r===null)if(a===null)if(e.stateNode===null){e:{a=e.type,r=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[tp]||i[ss]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),ds(i,a,r),i[ss]=e,zn(i),a=i;break e;case"link":var o=qk("link","href",s).get(a+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=s.createElement(a),ds(i,a,r),s.head.appendChild(i);break;case"meta":if(o=qk("meta","content",s).get(a+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=s.createElement(a),ds(i,a,r),s.head.appendChild(i);break;default:throw Error(st(468,a))}i[ss]=e,zn(i),a=i}e.stateNode=a}else $k(s,e.type,e.stateNode);else e.stateNode=Vk(s,a,e.memoizedProps);else i!==a?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,a===null?$k(s,e.type,e.stateNode):Vk(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Jv(e,e.memoizedProps,r.memoizedProps)}break;case 27:hi(t,e),fi(e),a&512&&(xn||r===null||rc(r,r.return)),r!==null&&a&4&&Jv(e,e.memoizedProps,r.memoizedProps);break;case 5:if(hi(t,e),fi(e),a&512&&(xn||r===null||rc(r,r.return)),e.flags&32){s=e.stateNode;try{lf(s,"")}catch(y){ra(e,e.return,y)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Jv(e,s,r!==null?r.memoizedProps:s)),a&1024&&(eb=!0);break;case 6:if(hi(t,e),fi(e),a&4){if(e.stateNode===null)throw Error(st(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(y){ra(e,e.return,y)}}break;case 3:if(Gx=null,s=bl,bl=Fy(t.containerInfo),hi(t,e),bl=s,fi(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{pf(t.containerInfo)}catch(y){ra(e,e.return,y)}eb&&(eb=!1,$8(e));break;case 4:a=bl,bl=Fy(e.stateNode.containerInfo),hi(t,e),fi(e),bl=a;break;case 12:hi(t,e),fi(e);break;case 31:hi(t,e),fi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ex(e,a)));break;case 13:hi(t,e),fi(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(z1=ao()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ex(e,a)));break;case 22:s=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Oc,h=xn;if(Oc=u||s,xn=h||c,hi(t,e),xn=h,Oc=u,fi(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(r===null||c||Oc||xn||$u(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,g=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(y){ra(c,c.return,y)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(y){ra(c,c.return,y)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;s?Ik(m,!0):Ik(c.stateNode,!1)}catch(y){ra(c,c.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,ex(e,r))));break;case 19:hi(t,e),fi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ex(e,a)));break;case 30:break;case 21:break;default:hi(t,e),fi(e)}}function fi(e){var t=e.flags;if(t&2){try{for(var r,a=e.return;a!==null;){if(D8(a)){r=a;break}a=a.return}if(r==null)throw Error(st(160));switch(r.tag){case 27:var s=r.stateNode,i=Qv(e);Cy(e,i,s);break;case 5:var o=r.stateNode;r.flags&32&&(lf(o,""),r.flags&=-33);var l=Qv(e);Cy(e,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Qv(e);ew(e,u,c);break;default:throw Error(st(161))}}catch(h){ra(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $8(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$8(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ec(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)F8(e,t.alternate,t),t=t.sibling}function $u(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ou(4,t,t.return),$u(t);break;case 1:rc(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&R8(t,t.return,r),$u(t);break;case 27:Gm(t.stateNode);case 26:case 5:rc(t,t.return),$u(t);break;case 22:t.memoizedState===null&&$u(t);break;case 30:$u(t);break;default:$u(t)}e=e.sibling}}function Lc(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Lc(s,i,r),sp(4,i);break;case 1:if(Lc(s,i,r),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ra(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)UE(c[s],l)}catch(u){ra(a,a.return,u)}}r&&o&64&&M8(i),qm(i,i.return);break;case 27:I8(i);case 26:case 5:Lc(s,i,r),r&&a===null&&o&4&&O8(i),qm(i,i.return);break;case 12:Lc(s,i,r);break;case 31:Lc(s,i,r),r&&o&4&&U8(s,i);break;case 13:Lc(s,i,r),r&&o&4&&V8(s,i);break;case 22:i.memoizedState===null&&Lc(s,i,r),qm(i,i.return);break;case 30:break;default:Lc(s,i,r)}t=t.sibling}}function c_(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ap(r))}function d_(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ap(e))}function hl(e,t,r,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H8(e,t,r,a),t=t.sibling}function H8(e,t,r,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:hl(e,t,r,a),s&2048&&sp(9,t);break;case 1:hl(e,t,r,a);break;case 3:hl(e,t,r,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ap(e)));break;case 12:if(s&2048){hl(e,t,r,a),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ra(t,t.return,c)}}else hl(e,t,r,a);break;case 31:hl(e,t,r,a);break;case 13:hl(e,t,r,a);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?hl(e,t,r,a):$m(e,t):i._visibility&2?hl(e,t,r,a):(i._visibility|=2,h0(e,t,r,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&c_(o,t);break;case 24:hl(e,t,r,a),s&2048&&d_(t.alternate,t);break;default:hl(e,t,r,a)}}function h0(e,t,r,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,c=a,u=o.flags;switch(o.tag){case 0:case 11:case 15:h0(i,o,l,c,s),sp(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&2?h0(i,o,l,c,s):$m(i,o):(h._visibility|=2,h0(i,o,l,c,s)),s&&u&2048&&c_(o.alternate,o);break;case 24:h0(i,o,l,c,s),s&&u&2048&&d_(o.alternate,o);break;default:h0(i,o,l,c,s)}t=t.sibling}}function $m(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,a=t,s=a.flags;switch(a.tag){case 22:$m(r,a),s&2048&&c_(a.alternate,a);break;case 24:$m(r,a),s&2048&&d_(a.alternate,a);break;default:$m(r,a)}t=t.sibling}}var Tm=8192;function Zh(e,t,r){if(e.subtreeFlags&Tm)for(e=e.child;e!==null;)W8(e,t,r),e=e.sibling}function W8(e,t,r){switch(e.tag){case 26:Zh(e,t,r),e.flags&Tm&&e.memoizedState!==null&&fD(r,bl,e.memoizedState,e.memoizedProps);break;case 5:Zh(e,t,r);break;case 3:case 4:var a=bl;bl=Fy(e.stateNode.containerInfo),Zh(e,t,r),bl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Tm,Tm=16777216,Zh(e,t,r),Tm=a):Zh(e,t,r));break;default:Zh(e,t,r)}}function G8(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var a=t[r];Fn=a,K8(a,e)}G8(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Y8(e),e=e.sibling}function Y8(e){switch(e.tag){case 0:case 11:case 15:mm(e),e.flags&2048&&ou(9,e,e.return);break;case 3:mm(e);break;case 12:mm(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hx(e)):mm(e);break;default:mm(e)}}function Hx(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var a=t[r];Fn=a,K8(a,e)}G8(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ou(8,t,t.return),Hx(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Hx(t));break;default:Hx(t)}e=e.sibling}}function K8(e,t){for(;Fn!==null;){var r=Fn;switch(r.tag){case 0:case 11:case 15:ou(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ap(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,Fn=a;else e:for(r=e;Fn!==null;){a=Fn;var s=a.sibling,i=a.return;if(B8(a),a===r){Fn=null;break e}if(s!==null){s.return=i,Fn=s;break e}Fn=i}}}var EO={getCacheForType:function(e){var t=cs(yn),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return cs(yn).controller.signal}},TO=typeof WeakMap=="function"?WeakMap:Map,zr=0,ma=null,Nr=null,Sr=0,Qr=0,Gi=null,Vd=!1,Pf=!1,u_=!1,Jc=0,Xa=0,lu=0,sh=0,h_=0,to=0,hf=0,Hm=null,vi=null,tw=!1,z1=0,Z8=0,Ly=1/0,Py=null,Qd=null,Rn=0,eu=null,ff=null,Uc=0,rw=0,aw=null,X8=null,Wm=0,nw=null;function io(){return zr&2&&Sr!==0?Sr&-Sr:tr.T!==null?m_():iE()}function J8(){if(to===0)if(!(Sr&536870912)||Pr){var e=Wp;Wp<<=1,!(Wp&3932160)&&(Wp=262144),to=e}else to=536870912;return e=co.current,e!==null&&(e.flags|=32),to}function wi(e,t,r){(e===ma&&(Qr===2||Qr===9)||e.cancelPendingCommit!==null)&&(mf(e,0),qd(e,Sr,to,!1)),ep(e,r),(!(zr&2)||e!==ma)&&(e===ma&&(!(zr&2)&&(sh|=r),Xa===4&&qd(e,Sr,to,!1)),fc(e))}function Q8(e,t,r){if(zr&6)throw Error(st(327));var a=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Qg(e,t),s=a?PO(e,t):tb(e,t,!0),i=a;do{if(s===0){Pf&&!a&&qd(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!CO(r)){s=tb(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;s=Hm;var c=l.current.memoizedState.isDehydrated;if(c&&(mf(l,o).flags|=256),o=tb(l,o,!1),o!==2){if(u_&&!c){l.errorRecoveryDisabledLanes|=i,sh|=i,s=4;break e}i=vi,vi=s,i!==null&&(vi===null?vi=i:vi.push.apply(vi,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){mf(e,0),qd(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(st(345));case 4:if((t&4194048)!==t)break;case 6:qd(a,t,to,!Vd);break e;case 2:vi=null;break;case 3:case 5:break;default:throw Error(st(329))}if((t&62914560)===t&&(s=z1+300-ao(),10<s)){if(qd(a,t,to,!Vd),T1(a,0,!0)!==0)break e;Uc=t,a.timeoutHandle=vT(kk.bind(null,a,r,vi,Py,tw,t,to,sh,hf,Vd,i,"Throttled",-0,0),s);break e}kk(a,r,vi,Py,tw,t,to,sh,hf,Vd,i,null,-0,0)}}break}while(!0);fc(e)}function kk(e,t,r,a,s,i,o,l,c,u,h,f,g,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ic},W8(t,i,f);var y=(i&62914560)===i?z1-ao():(i&4194048)===i?Z8-ao():0;if(y=mD(f,y),y!==null){Uc=i,e.cancelPendingCommit=y(Sk.bind(null,e,t,i,r,a,s,o,l,c,h,f,null,g,m)),qd(e,i,o,!u);return}}Sk(e,t,i,r,a,s,o,l,c)}function CO(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!lo(i(),s))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qd(e,t,r,a){t&=~h_,t&=~sh,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-so(s),o=1<<i;a[i]=-1,s&=~o}r!==0&&aE(e,r,t)}function U1(){return zr&6?!0:(ip(0),!1)}function f_(){if(Nr!==null){if(Qr===0)var e=Nr.return;else e=Nr,Fc=Sh=null,J5(e),$0=null,wg=0,e=Nr;for(;e!==null;)P8(e.alternate,e),e=e.return;Nr=null}}function mf(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ZO(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Uc=0,f_(),ma=e,Nr=r=Bc(e.current,null),Sr=t,Qr=0,Gi=null,Vd=!1,Pf=Qg(e,t),u_=!1,hf=to=h_=sh=lu=Xa=0,vi=Hm=null,tw=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-so(a),i=1<<s;t|=e[s],a&=~i}return Jc=t,M1(),r}function eT(e,t){lr=null,tr.H=Ng,t===Lf||t===O1?(t=rk(),Qr=3):t===H5?(t=rk(),Qr=4):Qr=t===o_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gi=t,Nr===null&&(Xa=1,Ey(e,Ro(t,e.current)))}function tT(){var e=co.current;return e===null?!0:(Sr&4194048)===Sr?Bo===null:(Sr&62914560)===Sr||Sr&536870912?e===Bo:!1}function rT(){var e=tr.H;return tr.H=Ng,e===null?Ng:e}function aT(){var e=tr.A;return tr.A=EO,e}function My(){Xa=4,Vd||(Sr&4194048)!==Sr&&co.current!==null||(Pf=!0),!(lu&134217727)&&!(sh&134217727)||ma===null||qd(ma,Sr,to,!1)}function tb(e,t,r){var a=zr;zr|=2;var s=rT(),i=aT();(ma!==e||Sr!==t)&&(Py=null,mf(e,t)),t=!1;var o=Xa;e:do try{if(Qr!==0&&Nr!==null){var l=Nr,c=Gi;switch(Qr){case 8:f_(),o=6;break e;case 3:case 2:case 9:case 6:co.current===null&&(t=!0);var u=Qr;if(Qr=0,Gi=null,L0(e,l,c,u),r&&Pf){o=0;break e}break;default:u=Qr,Qr=0,Gi=null,L0(e,l,c,u)}}LO(),o=Xa;break}catch(h){eT(e,h)}while(!0);return t&&e.shellSuspendCounter++,Fc=Sh=null,zr=a,tr.H=s,tr.A=i,Nr===null&&(ma=null,Sr=0,M1()),o}function LO(){for(;Nr!==null;)nT(Nr)}function PO(e,t){var r=zr;zr|=2;var a=rT(),s=aT();ma!==e||Sr!==t?(Py=null,Ly=ao()+500,mf(e,t)):Pf=Qg(e,t);e:do try{if(Qr!==0&&Nr!==null){t=Nr;var i=Gi;t:switch(Qr){case 1:Qr=0,Gi=null,L0(e,t,i,1);break;case 2:case 9:if(tk(i)){Qr=0,Gi=null,jk(t);break}t=function(){Qr!==2&&Qr!==9||ma!==e||(Qr=7),fc(e)},i.then(t,t);break e;case 3:Qr=7;break e;case 4:Qr=5;break e;case 7:tk(i)?(Qr=0,Gi=null,jk(t)):(Qr=0,Gi=null,L0(e,t,i,7));break;case 5:var o=null;switch(Nr.tag){case 26:o=Nr.memoizedState;case 5:case 27:var l=Nr;if(o?kT(o):l.stateNode.complete){Qr=0,Gi=null;var c=l.sibling;if(c!==null)Nr=c;else{var u=l.return;u!==null?(Nr=u,V1(u)):Nr=null}break t}}Qr=0,Gi=null,L0(e,t,i,5);break;case 6:Qr=0,Gi=null,L0(e,t,i,6);break;case 8:f_(),Xa=6;break e;default:throw Error(st(462))}}MO();break}catch(h){eT(e,h)}while(!0);return Fc=Sh=null,tr.H=a,tr.A=s,zr=r,Nr!==null?0:(ma=null,Sr=0,M1(),Xa)}function MO(){for(;Nr!==null&&!rR();)nT(Nr)}function nT(e){var t=L8(e.alternate,e,Jc);e.memoizedProps=e.pendingProps,t===null?V1(e):Nr=t}function jk(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=yk(r,t,t.pendingProps,t.type,void 0,Sr);break;case 11:t=yk(r,t,t.pendingProps,t.type.render,t.ref,Sr);break;case 5:J5(t);default:P8(r,t),t=Nr=PE(t,Jc),t=L8(r,t,Jc)}e.memoizedProps=e.pendingProps,t===null?V1(e):Nr=t}function L0(e,t,r,a){Fc=Sh=null,J5(t),$0=null,wg=0;var s=t.return;try{if(wO(e,s,t,r,Sr)){Xa=1,Ey(e,Ro(r,e.current)),Nr=null;return}}catch(i){if(s!==null)throw Nr=s,i;Xa=1,Ey(e,Ro(r,e.current)),Nr=null;return}t.flags&32768?(Pr||a===1?e=!0:Pf||Sr&536870912?e=!1:(Vd=e=!0,(a===2||a===9||a===3||a===6)&&(a=co.current,a!==null&&a.tag===13&&(a.flags|=16384))),sT(t,e)):V1(t)}function V1(e){var t=e;do{if(t.flags&32768){sT(t,Vd);return}e=t.return;var r=kO(t.alternate,t,Jc);if(r!==null){Nr=r;return}if(t=t.sibling,t!==null){Nr=t;return}Nr=t=e}while(t!==null);Xa===0&&(Xa=5)}function sT(e,t){do{var r=jO(e.alternate,e);if(r!==null){r.flags&=32767,Nr=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Nr=e;return}Nr=e=r}while(e!==null);Xa=6,Nr=null}function Sk(e,t,r,a,s,i,o,l,c){e.cancelPendingCommit=null;do q1();while(Rn!==0);if(zr&6)throw Error(st(327));if(t!==null){if(t===e.current)throw Error(st(177));if(i=t.lanes|t.childLanes,i|=F5,hR(e,r,i,o,l,c),e===ma&&(Nr=ma=null,Sr=0),ff=t,eu=e,Uc=r,rw=i,aw=s,X8=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,IO(xy,function(){return dT(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=tr.T,tr.T=null,s=Ur.p,Ur.p=2,o=zr,zr|=4;try{SO(e,t,r)}finally{zr=o,Ur.p=s,tr.T=a}}Rn=1,iT(),oT(),lT()}}function iT(){if(Rn===1){Rn=0;var e=eu,t=ff,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=tr.T,tr.T=null;var a=Ur.p;Ur.p=2;var s=zr;zr|=4;try{q8(t,e);var i=lw,o=kE(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&NE(l.ownerDocument.documentElement,l)){if(c!==null&&I5(l)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,g=f&&f.defaultView||window;if(g.getSelection){var m=g.getSelection(),y=l.textContent.length,x=Math.min(c.start,y),N=c.end===void 0?x:Math.min(c.end,y);!m.extend&&x>N&&(o=N,N=x,x=o);var b=YN(l,x),w=YN(l,N);if(b&&w&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==w.node||m.focusOffset!==w.offset)){var k=f.createRange();k.setStart(b.node,b.offset),m.removeAllRanges(),x>N?(m.addRange(k),m.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),m.addRange(k))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var S=f[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Uy=!!ow,lw=ow=null}finally{zr=s,Ur.p=a,tr.T=r}}e.current=t,Rn=2}}function oT(){if(Rn===2){Rn=0;var e=eu,t=ff,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=tr.T,tr.T=null;var a=Ur.p;Ur.p=2;var s=zr;zr|=4;try{F8(e,t.alternate,t)}finally{zr=s,Ur.p=a,tr.T=r}}Rn=3}}function lT(){if(Rn===4||Rn===3){Rn=0,aR();var e=eu,t=ff,r=Uc,a=X8;t.subtreeFlags&10256||t.flags&10256?Rn=5:(Rn=0,ff=eu=null,cT(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Qd=null),C5(r),t=t.stateNode,no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(Jg,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=tr.T,s=Ur.p,Ur.p=2,tr.T=null;try{for(var i=e.onRecoverableError,o=0;o<a.length;o++){var l=a[o];i(l.value,{componentStack:l.stack})}}finally{tr.T=t,Ur.p=s}}Uc&3&&q1(),fc(e),s=e.pendingLanes,r&261930&&s&42?e===nw?Wm++:(Wm=0,nw=e):Wm=0,ip(0)}}function cT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ap(t)))}function q1(){return iT(),oT(),lT(),dT()}function dT(){if(Rn!==5)return!1;var e=eu,t=rw;rw=0;var r=C5(Uc),a=tr.T,s=Ur.p;try{Ur.p=32>r?32:r,tr.T=null,r=aw,aw=null;var i=eu,o=Uc;if(Rn=0,ff=eu=null,Uc=0,zr&6)throw Error(st(331));var l=zr;if(zr|=4,Y8(i.current),H8(i,i.current,o,r),zr=l,ip(0,!1),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(Jg,i)}catch{}return!0}finally{Ur.p=s,tr.T=a,cT(e,t)}}function Ak(e,t,r){t=Ro(r,t),t=X2(e.stateNode,t,2),e=Jd(e,t,2),e!==null&&(ep(e,2),fc(e))}function ra(e,t,r){if(e.tag===3)Ak(e,e,r);else for(;t!==null;){if(t.tag===3){Ak(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Qd===null||!Qd.has(a))){e=Ro(r,e),r=j8(2),a=Jd(t,r,2),a!==null&&(S8(r,a,t,e),ep(a,2),fc(a));break}}t=t.return}}function rb(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new TO;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(u_=!0,s.add(r),e=RO.bind(null,e,t,r),t.then(e,e))}function RO(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ma===e&&(Sr&r)===r&&(Xa===4||Xa===3&&(Sr&62914560)===Sr&&300>ao()-z1?!(zr&2)&&mf(e,0):h_|=r,hf===Sr&&(hf=0)),fc(e)}function uT(e,t){t===0&&(t=rE()),e=jh(e,t),e!==null&&(ep(e,t),fc(e))}function OO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uT(e,r)}function DO(e,t){var r=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(st(314))}a!==null&&a.delete(t),uT(e,r)}function IO(e,t){return E5(e,t)}var Ry=null,f0=null,sw=!1,Oy=!1,ab=!1,$d=0;function fc(e){e!==f0&&e.next===null&&(f0===null?Ry=f0=e:f0=f0.next=e),Oy=!0,sw||(sw=!0,BO())}function ip(e,t){if(!ab&&Oy){ab=!0;do for(var r=!1,a=Ry;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var o=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-so(42|e)+1)-1,i&=s&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,Ek(a,i))}else i=Sr,i=T1(a,a===ma?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Qg(a,i)||(r=!0,Ek(a,i));a=a.next}while(r);ab=!1}}function FO(){hT()}function hT(){Oy=sw=!1;var e=0;$d!==0&&KO()&&(e=$d);for(var t=ao(),r=null,a=Ry;a!==null;){var s=a.next,i=fT(a,t);i===0?(a.next=null,r===null?Ry=s:r.next=s,s===null&&(f0=r)):(r=a,(e!==0||i&3)&&(Oy=!0)),a=s}Rn!==0&&Rn!==5||ip(e),$d!==0&&($d=0)}function fT(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-so(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&a)&&(s[o]=uR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=ma,r=Sr,r=T1(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,r===0||e===t&&(Qr===2||Qr===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Lv(a),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Qg(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(a!==null&&Lv(a),C5(r)){case 2:case 8:r=eE;break;case 32:r=xy;break;case 268435456:r=tE;break;default:r=xy}return a=mT.bind(null,e),r=E5(r,a),e.callbackPriority=t,e.callbackNode=r,t}return a!==null&&a!==null&&Lv(a),e.callbackPriority=2,e.callbackNode=null,2}function mT(e,t){if(Rn!==0&&Rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(q1()&&e.callbackNode!==r)return null;var a=Sr;return a=T1(e,e===ma?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Q8(e,a,t),fT(e,ao()),e.callbackNode!=null&&e.callbackNode===r?mT.bind(null,e):null)}function Ek(e,t){if(q1())return null;Q8(e,t,!0)}function BO(){XO(function(){zr&6?E5(QA,FO):hT()})}function m_(){if($d===0){var e=cf;e===0&&(e=Hp,Hp<<=1,!(Hp&261888)&&(Hp=256)),$d=e}return $d}function Tk(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dx(""+e)}function Ck(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function zO(e,t,r,a,s){if(t==="submit"&&r&&r.stateNode===s){var i=Tk((s[ki]||null).action),o=a.submitter;o&&(t=(t=o[ki]||null)?Tk(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new C1("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($d!==0){var c=o?Ck(s,o):new FormData(s);K2(r,{pending:!0,data:c,method:s.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?Ck(s,o):new FormData(s),K2(r,{pending:!0,data:c,method:s.method,action:i},i,c))},currentTarget:s}]})}}for(var nb=0;nb<I2.length;nb++){var sb=I2[nb],UO=sb.toLowerCase(),VO=sb[0].toUpperCase()+sb.slice(1);Rl(UO,"on"+VO)}Rl(SE,"onAnimationEnd");Rl(AE,"onAnimationIteration");Rl(EE,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(nO,"onTransitionRun");Rl(sO,"onTransitionStart");Rl(iO,"onTransitionCancel");Rl(TE,"onTransitionEnd");of("onMouseEnter",["mouseout","mouseover"]);of("onMouseLeave",["mouseout","mouseover"]);of("onPointerEnter",["pointerout","pointerover"]);of("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kg));function gT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(h){vy(h)}s.currentTarget=null,i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(h){vy(h)}s.currentTarget=null,i=c}}}}function _r(e,t){var r=t[T2];r===void 0&&(r=t[T2]=new Set);var a=e+"__bubble";r.has(a)||(pT(t,e,2,!1),r.add(a))}function ib(e,t,r){var a=0;t&&(a|=4),pT(r,e,a,t)}var tx="_reactListening"+Math.random().toString(36).slice(2);function g_(e){if(!e[tx]){e[tx]=!0,oE.forEach(function(r){r!=="selectionchange"&&(qO.has(r)||ib(r,!1,e),ib(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tx]||(t[tx]=!0,ib("selectionchange",!1,t))}}function pT(e,t,r,a){switch(TT(t)){case 2:var s=xD;break;case 8:s=yD;break;default:s=v_}r=s.bind(null,t,r,e),s=void 0,!R2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ob(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;l!==null;){if(o=_0(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){a=i=o;continue e}l=l.parentNode}}a=a.return}gE(function(){var u=i,h=M5(r),f=[];e:{var g=CE.get(e);if(g!==void 0){var m=C1,y=e;switch(e){case"keypress":if(Fx(r)===0)break e;case"keydown":case"keyup":m=DR;break;case"focusin":y="focus",m=Dv;break;case"focusout":y="blur",m=Dv;break;case"beforeblur":case"afterblur":m=Dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=FN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BR;break;case SE:case AE:case EE:m=AR;break;case TE:m=UR;break;case"scroll":case"scrollend":m=_R;break;case"wheel":m=qR;break;case"copy":case"cut":case"paste":m=TR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zN;break;case"toggle":case"beforetoggle":m=HR}var x=(t&4)!==0,N=!x&&(e==="scroll"||e==="scrollend"),b=x?g!==null?g+"Capture":null:g;x=[];for(var w=u,k;w!==null;){var S=w;if(k=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||k===null||b===null||(S=pg(w,b),S!=null&&x.push(jg(w,S,k))),N)break;w=w.return}0<x.length&&(g=new m(g,y,null,r,h),f.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&r!==M2&&(y=r.relatedTarget||r.fromElement)&&(_0(y)||y[Ef]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?_0(y):null,y!==null&&(N=Xg(y),x=y.tag,y!==N||x!==5&&x!==27&&x!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=FN,S="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=zN,S="onPointerLeave",b="onPointerEnter",w="pointer"),N=m==null?g:Am(m),k=y==null?g:Am(y),g=new x(S,w+"leave",m,r,h),g.target=N,g.relatedTarget=k,S=null,_0(h)===u&&(x=new x(b,w+"enter",y,r,h),x.target=k,x.relatedTarget=N,S=x),N=S,m&&y)t:{for(x=$O,b=m,w=y,k=0,S=b;S;S=x(S))k++;S=0;for(var B=w;B;B=x(B))S++;for(;0<k-S;)b=x(b),k--;for(;0<S-k;)w=x(w),S--;for(;k--;){if(b===w||w!==null&&b===w.alternate){x=b;break t}b=x(b),w=x(w)}x=null}else x=null;m!==null&&Lk(f,g,m,x,!1),y!==null&&N!==null&&Lk(f,N,y,x,!0)}}e:{if(g=u?Am(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var H=$N;else if(qN(g))if(wE)H=tO;else{H=QR;var I=JR}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?u&&P5(u.elementType)&&(H=$N):H=eO;if(H&&(H=H(e,u))){bE(f,H,r,h);break e}I&&I(e,g,u),e==="focusout"&&u&&g.type==="number"&&u.memoizedProps.value!=null&&P2(g,"number",g.value)}switch(I=u?Am(u):window,e){case"focusin":(qN(I)||I.contentEditable==="true")&&(j0=I,O2=u,Im=null);break;case"focusout":Im=O2=j0=null;break;case"mousedown":D2=!0;break;case"contextmenu":case"mouseup":case"dragend":D2=!1,KN(f,r,h);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":KN(f,r,h)}var D;if(D5)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else k0?yE(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xE&&r.locale!=="ko"&&(k0||C!=="onCompositionStart"?C==="onCompositionEnd"&&k0&&(D=pE()):(Ud=h,R5="value"in Ud?Ud.value:Ud.textContent,k0=!0)),I=Dy(u,C),0<I.length&&(C=new BN(C,e,null,r,h),f.push({event:C,listeners:I}),D?C.data=D:(D=vE(r),D!==null&&(C.data=D)))),(D=GR?YR(e,r):KR(e,r))&&(C=Dy(u,"onBeforeInput"),0<C.length&&(I=new BN("onBeforeInput","beforeinput",null,r,h),f.push({event:I,listeners:C}),I.data=D)),zO(f,e,u,r,h)}gT(f,t)})}function jg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dy(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=pg(e,r),s!=null&&a.unshift(jg(e,s,i)),s=pg(e,t),s!=null&&a.push(jg(e,s,i))),e.tag===3)return a;e=e.return}return[]}function $O(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lk(e,t,r,a,s){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,s?(u=pg(r,i),u!=null&&o.unshift(jg(r,u,c))):s||(u=pg(r,i),u!=null&&o.push(jg(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HO=/\r\n?/g,WO=/\u0000|\uFFFD/g;function Pk(e){return(typeof e=="string"?e:""+e).replace(HO,`
`).replace(WO,"")}function xT(e,t){return t=Pk(t),Pk(e)===t}function ia(e,t,r,a,s,i){switch(r){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||lf(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&lf(e,""+a);break;case"className":Yp(e,"class",a);break;case"tabIndex":Yp(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Yp(e,r,a);break;case"style":mE(e,a,i);break;case"data":if(t!=="object"){Yp(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(r);break}a=Dx(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&ia(e,t,"name",s.name,s,null),ia(e,t,"formEncType",s.formEncType,s,null),ia(e,t,"formMethod",s.formMethod,s,null),ia(e,t,"formTarget",s.formTarget,s,null)):(ia(e,t,"encType",s.encType,s,null),ia(e,t,"method",s.method,s,null),ia(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(r);break}a=Dx(""+a),e.setAttribute(r,a);break;case"onClick":a!=null&&(e.onclick=Ic);break;case"onScroll":a!=null&&_r("scroll",e);break;case"onScrollEnd":a!=null&&_r("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(st(61));if(r=a.__html,r!=null){if(s.children!=null)throw Error(st(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}r=Dx(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":a===!0?e.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":_r("beforetoggle",e),_r("toggle",e),Ox(e,"popover",a);break;case"xlinkActuate":jc(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":jc(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":jc(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":jc(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":jc(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":jc(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":jc(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":jc(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":jc(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ox(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bR.get(r)||r,Ox(e,r,a))}}function iw(e,t,r,a,s,i){switch(r){case"style":mE(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(st(61));if(r=a.__html,r!=null){if(s.children!=null)throw Error(st(60));e.innerHTML=r}}break;case"children":typeof a=="string"?lf(e,a):(typeof a=="number"||typeof a=="bigint")&&lf(e,""+a);break;case"onScroll":a!=null&&_r("scroll",e);break;case"onScrollEnd":a!=null&&_r("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lE.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(s=r.endsWith("Capture"),t=r.slice(2,s?r.length-7:void 0),i=e[ki]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,s);break e}r in e?e[r]=a:a===!0?e.setAttribute(r,""):Ox(e,r,a)}}}function ds(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_r("error",e),_r("load",e);var a=!1,s=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(st(137,t));default:ia(e,t,i,o,r,null)}}s&&ia(e,t,"srcSet",r.srcSet,r,null),a&&ia(e,t,"src",r.src,r,null);return;case"input":_r("invalid",e);var l=i=o=s=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var h=r[a];if(h!=null)switch(a){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(st(137,t));break;default:ia(e,t,a,h,r,null)}}uE(e,i,l,c,u,o,s,!1);return;case"select":_r("invalid",e),a=o=i=null;for(s in r)if(r.hasOwnProperty(s)&&(l=r[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ia(e,t,s,l,r,null)}t=i,r=o,e.multiple=!!a,t!=null?U0(e,!!a,t,!1):r!=null&&U0(e,!!a,r,!0);return;case"textarea":_r("invalid",e),i=s=a=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(st(91));break;default:ia(e,t,o,l,r,null)}fE(e,a,s,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(a=r[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ia(e,t,c,a,r,null)}return;case"dialog":_r("beforetoggle",e),_r("toggle",e),_r("cancel",e),_r("close",e);break;case"iframe":case"object":_r("load",e);break;case"video":case"audio":for(a=0;a<kg.length;a++)_r(kg[a],e);break;case"image":_r("error",e),_r("load",e);break;case"details":_r("toggle",e);break;case"embed":case"source":case"link":_r("error",e),_r("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(a=r[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(st(137,t));default:ia(e,t,u,a,r,null)}return;default:if(P5(t)){for(h in r)r.hasOwnProperty(h)&&(a=r[h],a!==void 0&&iw(e,t,h,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(a=r[l],a!=null&&ia(e,t,l,a,r,null))}function GO(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,h=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(m)||ia(e,t,m,null,a,f)}}for(var g in a){var m=a[g];if(f=r[g],a.hasOwnProperty(g)&&(m!=null||f!=null))switch(g){case"type":i=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(st(137,t));break;default:m!==f&&ia(e,t,g,m,a,f)}}L2(e,o,l,c,u,h,i,s);return;case"select":m=o=l=g=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:a.hasOwnProperty(i)||ia(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=r[s],a.hasOwnProperty(s)&&(i!=null||c!=null))switch(s){case"value":g=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&ia(e,t,s,i,a,c)}t=l,r=o,a=m,g!=null?U0(e,!!r,g,!1):!!a!=!!r&&(t!=null?U0(e,!!r,t,!0):U0(e,!!r,r?[]:"",!1));return;case"textarea":m=g=null;for(l in r)if(s=r[l],r.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ia(e,t,l,null,a,s)}for(o in a)if(s=a[o],i=r[o],a.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":g=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(st(91));break;default:s!==i&&ia(e,t,o,s,a,i)}hE(e,g,m);return;case"option":for(var y in r)if(g=r[y],r.hasOwnProperty(y)&&g!=null&&!a.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:ia(e,t,y,null,a,g)}for(c in a)if(g=a[c],m=r[c],a.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ia(e,t,c,g,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)g=r[x],r.hasOwnProperty(x)&&g!=null&&!a.hasOwnProperty(x)&&ia(e,t,x,null,a,g);for(u in a)if(g=a[u],m=r[u],a.hasOwnProperty(u)&&g!==m&&(g!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(st(137,t));break;default:ia(e,t,u,g,a,m)}return;default:if(P5(t)){for(var N in r)g=r[N],r.hasOwnProperty(N)&&g!==void 0&&!a.hasOwnProperty(N)&&iw(e,t,N,void 0,a,g);for(h in a)g=a[h],m=r[h],!a.hasOwnProperty(h)||g===m||g===void 0&&m===void 0||iw(e,t,h,g,a,m);return}}for(var b in r)g=r[b],r.hasOwnProperty(b)&&g!=null&&!a.hasOwnProperty(b)&&ia(e,t,b,null,a,g);for(f in a)g=a[f],m=r[f],!a.hasOwnProperty(f)||g===m||g==null&&m==null||ia(e,t,f,g,a,m)}function Mk(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YO(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var s=r[a],i=s.transferSize,o=s.initiatorType,l=s.duration;if(i&&l&&Mk(o)){for(o=0,l=s.responseEnd,a+=1;a<r.length;a++){var c=r[a],u=c.startTime;if(u>l)break;var h=c.transferSize,f=c.initiatorType;h&&Mk(f)&&(c=c.responseEnd,o+=h*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(i+o)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ow=null,lw=null;function Iy(e){return e.nodeType===9?e:e.ownerDocument}function Rk(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lb=null;function KO(){var e=window.event;return e&&e.type==="popstate"?e===lb?!1:(lb=e,!0):(lb=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,Ok=typeof Promise=="function"?Promise:void 0,XO=typeof queueMicrotask=="function"?queueMicrotask:typeof Ok<"u"?function(e){return Ok.resolve(null).then(e).catch(JO)}:vT;function JO(e){setTimeout(function(){throw e})}function vu(e){return e==="head"}function Dk(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"||r==="/&"){if(a===0){e.removeChild(s),pf(t);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")Gm(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Gm(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[tp]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&Gm(e.ownerDocument.body);r=s}while(r);pf(t)}function Ik(e,t){var r=e;e=0;do{var a=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=a}while(r)}function dw(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dw(r),L5(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function QO(e,t,r,a){for(;e.nodeType===1;){var s=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[tp])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=zo(e.nextSibling),e===null)break}return null}function eD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=zo(e.nextSibling),e===null))return null;return e}function bT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=zo(e.nextSibling),e===null))return null;return e}function uw(e){return e.data==="$?"||e.data==="$~"}function hw(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fw=null;function Fk(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return zo(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Bk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function wT(e,t,r){switch(t=Iy(r),e){case"html":if(e=t.documentElement,!e)throw Error(st(452));return e;case"head":if(e=t.head,!e)throw Error(st(453));return e;case"body":if(e=t.body,!e)throw Error(st(454));return e;default:throw Error(st(451))}}function Gm(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);L5(e)}var Vo=new Map,zk=new Set;function Fy(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nd=Ur.d;Ur.d={f:rD,r:aD,D:nD,C:sD,L:iD,m:oD,X:cD,S:lD,M:dD};function rD(){var e=nd.f(),t=U1();return e||t}function aD(e){var t=Tf(e);t!==null&&t.tag===5&&t.type==="form"?m8(t):nd.r(e)}var Mf=typeof document>"u"?null:document;function _T(e,t,r){var a=Mf;if(a&&typeof t=="string"&&t){var s=Mo(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof r=="string"&&(s+='[crossorigin="'+r+'"]'),zk.has(s)||(zk.add(s),e={rel:e,crossOrigin:r,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),ds(t,"link",e),zn(t),a.head.appendChild(t)))}}function nD(e){nd.D(e),_T("dns-prefetch",e,null)}function sD(e,t){nd.C(e,t),_T("preconnect",e,t)}function iD(e,t,r){nd.L(e,t,r);var a=Mf;if(a&&e&&t){var s='link[rel="preload"][as="'+Mo(t)+'"]';t==="image"&&r&&r.imageSrcSet?(s+='[imagesrcset="'+Mo(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(s+='[imagesizes="'+Mo(r.imageSizes)+'"]')):s+='[href="'+Mo(e)+'"]';var i=s;switch(t){case"style":i=gf(e);break;case"script":i=Rf(e)}Vo.has(i)||(e=Aa({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Vo.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(op(i))||t==="script"&&a.querySelector(lp(i))||(t=a.createElement("link"),ds(t,"link",e),zn(t),a.head.appendChild(t)))}}function oD(e,t){nd.m(e,t);var r=Mf;if(r&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Mo(a)+'"][href="'+Mo(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Rf(e)}if(!Vo.has(i)&&(e=Aa({rel:"modulepreload",href:e},t),Vo.set(i,e),r.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(lp(i)))return}a=r.createElement("link"),ds(a,"link",e),zn(a),r.head.appendChild(a)}}}function lD(e,t,r){nd.S(e,t,r);var a=Mf;if(a&&e){var s=z0(a).hoistableStyles,i=gf(e);t=t||"default";var o=s.get(i);if(!o){var l={loading:0,preload:null};if(o=a.querySelector(op(i)))l.loading=5;else{e=Aa({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Vo.get(i))&&p_(e,r);var c=o=a.createElement("link");zn(c),ds(c,"link",e),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Wx(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:l},s.set(i,o)}}}function cD(e,t){nd.X(e,t);var r=Mf;if(r&&e){var a=z0(r).hoistableScripts,s=Rf(e),i=a.get(s);i||(i=r.querySelector(lp(s)),i||(e=Aa({src:e,async:!0},t),(t=Vo.get(s))&&x_(e,t),i=r.createElement("script"),zn(i),ds(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function dD(e,t){nd.M(e,t);var r=Mf;if(r&&e){var a=z0(r).hoistableScripts,s=Rf(e),i=a.get(s);i||(i=r.querySelector(lp(s)),i||(e=Aa({src:e,async:!0,type:"module"},t),(t=Vo.get(s))&&x_(e,t),i=r.createElement("script"),zn(i),ds(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Uk(e,t,r,a){var s=(s=Kd.current)?Fy(s):null;if(!s)throw Error(st(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=gf(r.href),r=z0(s).hoistableStyles,a=r.get(t),a||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=gf(r.href);var i=z0(s).hoistableStyles,o=i.get(e);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=s.querySelector(op(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Vo.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vo.set(e,r),i||uD(s,e,r,o.state))),t&&a===null)throw Error(st(528,""));return o}if(t&&a!==null)throw Error(st(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rf(r),r=z0(s).hoistableScripts,a=r.get(t),a||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(st(444,e))}}function gf(e){return'href="'+Mo(e)+'"'}function op(e){return'link[rel="stylesheet"]['+e+"]"}function NT(e){return Aa({},e,{"data-precedence":e.precedence,precedence:null})}function uD(e,t,r,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ds(t,"link",r),zn(t),e.head.appendChild(t))}function Rf(e){return'[src="'+Mo(e)+'"]'}function lp(e){return"script[async]"+e}function Vk(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Mo(r.href)+'"]');if(a)return t.instance=a,zn(a),a;var s=Aa({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),zn(a),ds(a,"style",s),Wx(a,r.precedence,e),t.instance=a;case"stylesheet":s=gf(r.href);var i=e.querySelector(op(s));if(i)return t.state.loading|=4,t.instance=i,zn(i),i;a=NT(r),(s=Vo.get(s))&&p_(a,s),i=(e.ownerDocument||e).createElement("link"),zn(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),ds(i,"link",a),t.state.loading|=4,Wx(i,r.precedence,e),t.instance=i;case"script":return i=Rf(r.src),(s=e.querySelector(lp(i)))?(t.instance=s,zn(s),s):(a=r,(s=Vo.get(i))&&(a=Aa({},r),x_(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),zn(s),ds(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(st(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Wx(a,r.precedence,e));return t.instance}function Wx(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,o=0;o<a.length;o++){var l=a[o];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function p_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function x_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gx=null;function qk(e,t,r){if(Gx===null){var a=new Map,s=Gx=new Map;s.set(r,a)}else s=Gx,a=s.get(r),a||(a=new Map,s.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),s=0;s<r.length;s++){var i=r[s];if(!(i[tp]||i[ss]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=a.get(o);l?l.push(i):a.set(o,[i])}}return a}function $k(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function hD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function fD(e,t,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var s=gf(a.href),i=t.querySelector(op(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=By.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,zn(i);return}i=t.ownerDocument||t,a=NT(a),(s=Vo.get(s))&&p_(a,s),i=i.createElement("link"),zn(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),ds(i,"link",a),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=By.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var cb=0;function mD(e,t){return e.stylesheets&&e.count===0&&Yx(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var a=setTimeout(function(){if(e.stylesheets&&Yx(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&cb===0&&(cb=62500*YO());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yx(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>cb?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function By(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zy=null;function Yx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zy=new Map,t.forEach(gD,e),zy=null,By.call(e))}function gD(e,t){if(!(t.state.loading&4)){var r=zy.get(e);if(r)var a=r.get(null);else{r=new Map,zy.set(e,r);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),a=o)}a&&r.set(null,a)}s=t.instance,o=s.getAttribute("data-precedence"),i=r.get(o)||a,i===a&&r.set(null,s),r.set(o,s),this.count++,a=By.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Sg={$$typeof:Dc,Provider:null,Consumer:null,_currentValue:th,_currentValue2:th,_threadCount:0};function pD(e,t,r,a,s,i,o,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pv(0),this.hiddenUpdates=Pv(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function jT(e,t,r,a,s,i,o,l,c,u,h,f){return e=new pD(e,t,r,o,c,u,h,f,l),t=1,i===!0&&(t|=24),i=Ji(3,null,null,t),e.current=i,i.stateNode=e,t=q5(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:r,cache:t},W5(i),e}function ST(e){return e?(e=E0,e):E0}function AT(e,t,r,a,s,i){s=ST(s),a.context===null?a.context=s:a.pendingContext=s,a=Xd(t),a.payload={element:r},i=i===void 0?null:i,i!==null&&(a.callback=i),r=Jd(e,a,t),r!==null&&(wi(r,e,t),Bm(r,e,t))}function Hk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function y_(e,t){Hk(e,t),(e=e.alternate)&&Hk(e,t)}function ET(e){if(e.tag===13||e.tag===31){var t=jh(e,67108864);t!==null&&wi(t,e,67108864),y_(e,67108864)}}function Wk(e){if(e.tag===13||e.tag===31){var t=io();t=T5(t);var r=jh(e,t);r!==null&&wi(r,e,t),y_(e,t)}}var Uy=!0;function xD(e,t,r,a){var s=tr.T;tr.T=null;var i=Ur.p;try{Ur.p=2,v_(e,t,r,a)}finally{Ur.p=i,tr.T=s}}function yD(e,t,r,a){var s=tr.T;tr.T=null;var i=Ur.p;try{Ur.p=8,v_(e,t,r,a)}finally{Ur.p=i,tr.T=s}}function v_(e,t,r,a){if(Uy){var s=mw(a);if(s===null)ob(e,t,a,Vy,r),Gk(e,a);else if(bD(s,e,t,r,a))a.stopPropagation();else if(Gk(e,a),t&4&&-1<vD.indexOf(e)){for(;s!==null;){var i=Tf(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Vu(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-so(o);l.entanglements[1]|=c,o&=~c}fc(i),!(zr&6)&&(Ly=ao()+500,ip(0))}}break;case 31:case 13:l=jh(i,2),l!==null&&wi(l,i,2),U1(),y_(i,2)}if(i=mw(a),i===null&&ob(e,t,a,Vy,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else ob(e,t,a,null,r)}}function mw(e){return e=M5(e),b_(e)}var Vy=null;function b_(e){if(Vy=null,e=_0(e),e!==null){var t=Xg(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=YA(t),e!==null)return e;e=null}else if(r===31){if(e=KA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vy=e,null}function TT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nR()){case QA:return 2;case eE:return 8;case xy:case sR:return 32;case tE:return 268435456;default:return 32}default:return 32}}var gw=!1,tu=null,ru=null,au=null,Ag=new Map,Eg=new Map,Fd=[],vD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gk(e,t){switch(e){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":au=null;break;case"pointerover":case"pointerout":Ag.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eg.delete(t.pointerId)}}function gm(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Tf(t),t!==null&&ET(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bD(e,t,r,a,s){switch(t){case"focusin":return tu=gm(tu,e,t,r,a,s),!0;case"dragenter":return ru=gm(ru,e,t,r,a,s),!0;case"mouseover":return au=gm(au,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return Ag.set(i,gm(Ag.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Eg.set(i,gm(Eg.get(i)||null,e,t,r,a,s)),!0}return!1}function CT(e){var t=_0(e.target);if(t!==null){var r=Xg(t);if(r!==null){if(t=r.tag,t===13){if(t=YA(r),t!==null){e.blockedOn=t,LN(e.priority,function(){Wk(r)});return}}else if(t===31){if(t=KA(r),t!==null){e.blockedOn=t,LN(e.priority,function(){Wk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mw(e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);M2=a,r.target.dispatchEvent(a),M2=null}else return t=Tf(r),t!==null&&ET(t),e.blockedOn=r,!1;t.shift()}return!0}function Yk(e,t,r){Kx(e)&&r.delete(t)}function wD(){gw=!1,tu!==null&&Kx(tu)&&(tu=null),ru!==null&&Kx(ru)&&(ru=null),au!==null&&Kx(au)&&(au=null),Ag.forEach(Yk),Eg.forEach(Yk)}function rx(e,t){e.blockedOn===t&&(e.blockedOn=null,gw||(gw=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,wD)))}var ax=null;function Kk(e){ax!==e&&(ax=e,On.unstable_scheduleCallback(On.unstable_NormalPriority,function(){ax===e&&(ax=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(b_(a||r)===null)continue;break}var i=Tf(r);i!==null&&(e.splice(t,3),t-=3,K2(i,{pending:!0,data:s,method:r.method,action:a},a,s))}}))}function pf(e){function t(c){return rx(c,e)}tu!==null&&rx(tu,e),ru!==null&&rx(ru,e),au!==null&&rx(au,e),Ag.forEach(t),Eg.forEach(t);for(var r=0;r<Fd.length;r++){var a=Fd[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Fd.length&&(r=Fd[0],r.blockedOn===null);)CT(r),r.blockedOn===null&&Fd.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var s=r[a],i=r[a+1],o=s[ki]||null;if(typeof i=="function")o||Kk(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[ki]||null)l=o.formAction;else if(b_(s)!==null)continue}else l=o.action;typeof l=="function"?r[a+1]=l:(r.splice(a,3),a-=3),Kk(r)}}}function LT(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return s=o})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function w_(e){this._internalRoot=e}$1.prototype.render=w_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(st(409));var r=t.current,a=io();AT(r,a,e,t,null,null)};$1.prototype.unmount=w_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;AT(e.current,2,null,e,null,null),U1(),t[Ef]=null}};function $1(e){this._internalRoot=e}$1.prototype.unstable_scheduleHydration=function(e){if(e){var t=iE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fd.length&&t!==0&&t<Fd[r].priority;r++);Fd.splice(r,0,e),r===0&&CT(e)}};var Zk=WA.version;if(Zk!=="19.2.0")throw Error(st(527,Zk,"19.2.0"));Ur.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(st(188)):(e=Object.keys(e).join(","),Error(st(268,e)));return e=XM(t),e=e!==null?ZA(e):null,e=e===null?null:e.stateNode,e};var _D={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:tr,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nx.isDisabled&&nx.supportsFiber)try{Jg=nx.inject(_D),no=nx}catch{}}A1.createRoot=function(e,t){if(!GA(e))throw Error(st(299));var r=!1,a="",s=_8,i=N8,o=k8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=jT(e,1,!1,null,null,r,a,null,s,i,o,LT),e[Ef]=t.current,g_(e),new w_(t)};A1.hydrateRoot=function(e,t,r){if(!GA(e))throw Error(st(299));var a=!1,s="",i=_8,o=N8,l=k8,c=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=jT(e,1,!0,t,r??null,a,s,c,i,o,l,LT),t.context=ST(null),r=t.current,a=io(),a=T5(a),s=Xd(a),s.callback=null,Jd(r,s,a),r=a,t.current.lanes=r,ep(t,r),fc(t),e[Ef]=t.current,g_(e),new $1(t)};A1.version="19.2.0";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(e){console.error(e)}}PT(),PA.exports=A1;var ND=PA.exports;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xk="popstate";function kD(e={}){function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return pw("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Tg(s)}return SD(t,r,null,e)}function Ma(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jD(){return Math.random().toString(36).substring(2,10)}function Jk(e,t){return{usr:e.state,key:e.key,idx:t}}function pw(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Of(t):t,state:r,key:t&&t.key||a||jD()}}function Tg({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Of(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function SD(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let N=h(),b=N==null?null:N-u;u=N,c&&c({action:l,location:x.location,delta:b})}function g(N,b){l="PUSH";let w=pw(x.location,N,b);u=h()+1;let k=Jk(w,u),S=x.createHref(w);try{o.pushState(k,"",S)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function m(N,b){l="REPLACE";let w=pw(x.location,N,b);u=h();let k=Jk(w,u),S=x.createHref(w);o.replaceState(k,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function y(N){return AD(N)}let x={get action(){return l},get location(){return e(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Xk,f),c=N,()=>{s.removeEventListener(Xk,f),c=null}},createHref(N){return t(s,N)},createURL:y,encodeLocation(N){let b=y(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:m,go(N){return o.go(N)}};return x}function AD(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ma(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Tg(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function MT(e,t,r="/"){return ED(e,t,r,!1)}function ED(e,t,r,a){let s=typeof t=="string"?Of(t):t,i=Qc(s.pathname||"/",r);if(i==null)return null;let o=RT(e);TD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=zD(i);l=FD(o[c],u,a)}return l}function RT(e,t=[],r=[],a="",s=!1){let i=(o,l,c=s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&c)return;Ma(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let f=Vc([a,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(Ma(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),RT(o.children,t,g,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:DD(f,o.index),routesMeta:g})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of OT(o.path))i(o,l,!0,u)}),t}function OT(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=OT(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function TD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ID(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var CD=/^:[\w-]+$/,LD=3,PD=2,MD=1,RD=10,OD=-2,Qk=e=>e==="*";function DD(e,t){let r=e.split("/"),a=r.length;return r.some(Qk)&&(a+=OD),t&&(a+=PD),r.filter(s=>!Qk(s)).reduce((s,i)=>s+(CD.test(i)?LD:i===""?MD:RD),a)}function ID(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function FD(e,t,r=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&r&&!a[a.length-1].route.index&&(f=qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Vc([i,f.pathname]),pathnameBase:HD(Vc([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Vc([i,f.pathnameBase]))}return o}function qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=BD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let y=l[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[g];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function BD(e,t=!1,r=!0){uo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function zD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var UD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VD=e=>UD.test(e);function qD(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Of(e):e,i;if(r)if(VD(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),uo(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=ej(r.substring(1),"/"):i=ej(r,t)}else i=t;return{pathname:i,search:WD(a),hash:GD(s)}}function ej(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function db(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $D(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function __(e){let t=$D(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function N_(e,t,r,a=!1){let s;typeof e=="string"?s=Of(e):(s={...e},Ma(!s.pathname||!s.pathname.includes("?"),db("?","pathname","search",s)),Ma(!s.pathname||!s.pathname.includes("#"),db("#","pathname","hash",s)),Ma(!s.search||!s.search.includes("#"),db("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=qD(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Vc=e=>e.join("/").replace(/\/\/+/g,"/"),HD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var KD=["GET",...DT];new Set(KD);var Df=P.createContext(null);Df.displayName="DataRouter";var H1=P.createContext(null);H1.displayName="DataRouterState";P.createContext(!1);var IT=P.createContext({isTransitioning:!1});IT.displayName="ViewTransition";var ZD=P.createContext(new Map);ZD.displayName="Fetchers";var XD=P.createContext(null);XD.displayName="Await";var Ol=P.createContext(null);Ol.displayName="Navigation";var cp=P.createContext(null);cp.displayName="Location";var Dl=P.createContext({outlet:null,matches:[],isDataRoute:!1});Dl.displayName="Route";var k_=P.createContext(null);k_.displayName="RouteError";function JD(e,{relative:t}={}){Ma(If(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=P.useContext(Ol),{hash:s,pathname:i,search:o}=dp(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Vc([r,i])),a.createHref({pathname:l,search:o,hash:s})}function If(){return P.useContext(cp)!=null}function Wn(){return Ma(If(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(cp).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BT(e){P.useContext(Ol).static||P.useLayoutEffect(e)}function vr(){let{isDataRoute:e}=P.useContext(Dl);return e?uI():QD()}function QD(){Ma(If(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Df),{basename:t,navigator:r}=P.useContext(Ol),{matches:a}=P.useContext(Dl),{pathname:s}=Wn(),i=JSON.stringify(__(a)),o=P.useRef(!1);return BT(()=>{o.current=!0}),P.useCallback((c,u={})=>{if(uo(o.current,FT),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=N_(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vc([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,s,e])}P.createContext(null);function j_(){let{matches:e}=P.useContext(Dl),t=e[e.length-1];return t?t.params:{}}function dp(e,{relative:t}={}){let{matches:r}=P.useContext(Dl),{pathname:a}=Wn(),s=JSON.stringify(__(r));return P.useMemo(()=>N_(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function eI(e,t){return zT(e,t)}function zT(e,t,r,a,s){var w;Ma(If(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(Ol),{matches:o}=P.useContext(Dl),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let k=f&&f.path||"";UT(u,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Wn(),m;if(t){let k=typeof t=="string"?Of(t):t;Ma(h==="/"||((w=k.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=g;let y=m.pathname||"/",x=y;if(h!=="/"){let k=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=MT(e,{pathname:x});uo(f||N!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),uo(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=sI(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Vc([h,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Vc([h,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,r,a,s);return t&&b?P.createElement(cp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function tI(){let e=dI(),t=YD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:i},"ErrorBoundary")," or"," ",P.createElement("code",{style:i},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:s},r):null,o)}var rI=P.createElement(tI,null),aI=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?P.createElement(Dl.Provider,{value:this.props.routeContext},P.createElement(k_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:e,match:t,children:r}){let a=P.useContext(Df);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Dl.Provider,{value:e},r)}function sI(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ma(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(r)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:m}=r,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&a?(h,f)=>{var g,m;a(h,{location:r.location,params:((m=(g=r.matches)==null?void 0:g[0])==null?void 0:m.params)??{},errorInfo:f})}:void 0;return i.reduceRight((h,f,g)=>{let m,y=!1,x=null,N=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||rI,l&&(c<0&&g===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,N=null):c===g&&(y=!0,N=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,g+1)),w=()=>{let k;return m?k=x:y?k=N:f.route.Component?k=P.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,P.createElement(nI,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?P.createElement(aI,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function S_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(e){let t=P.useContext(Df);return Ma(t,S_(e)),t}function oI(e){let t=P.useContext(H1);return Ma(t,S_(e)),t}function lI(e){let t=P.useContext(Dl);return Ma(t,S_(e)),t}function A_(e){let t=lI(e),r=t.matches[t.matches.length-1];return Ma(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function cI(){return A_("useRouteId")}function dI(){var a;let e=P.useContext(k_),t=oI("useRouteError"),r=A_("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function uI(){let{router:e}=iI("useNavigate"),t=A_("useNavigate"),r=P.useRef(!1);return BT(()=>{r.current=!0}),P.useCallback(async(s,i={})=>{uo(r.current,FT),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var tj={};function UT(e,t,r){!t&&!tj[e]&&(tj[e]=!0,uo(!1,r))}P.memo(hI);function hI({routes:e,future:t,state:r,unstable_onError:a}){return zT(e,void 0,r,a,t)}function xw({to:e,replace:t,state:r,relative:a}){Ma(If(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Ol);uo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=P.useContext(Dl),{pathname:o}=Wn(),l=vr(),c=N_(e,__(i),o,a==="path"),u=JSON.stringify(c);return P.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:a})},[l,u,a,t,r]),null}function Lr(e){Ma(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:i=!1}){Ma(!If(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Of(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:g="default"}=r,m=P.useMemo(()=>{let y=Qc(c,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:g},navigationType:a}},[o,c,u,h,f,g,a]);return uo(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:P.createElement(Ol.Provider,{value:l},P.createElement(cp.Provider,{children:t,value:m}))}function mI({children:e,location:t}){return eI(yw(e),t)}function yw(e,t=[]){let r=[];return P.Children.forEach(e,(a,s)=>{if(!P.isValidElement(a))return;let i=[...t,s];if(a.type===P.Fragment){r.push.apply(r,yw(a.props.children,i));return}Ma(a.type===Lr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ma(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=yw(a.props.children,i)),r.push(o)}),r}var Zx="get",Xx="application/x-www-form-urlencoded";function W1(e){return e!=null&&typeof e.tagName=="string"}function gI(e){return W1(e)&&e.tagName.toLowerCase()==="button"}function pI(e){return W1(e)&&e.tagName.toLowerCase()==="form"}function xI(e){return W1(e)&&e.tagName.toLowerCase()==="input"}function yI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vI(e,t){return e.button===0&&(!t||t==="_self")&&!yI(e)}function vw(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function bI(e,t){let r=vw(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var sx=null;function wI(){if(sx===null)try{new FormData(document.createElement("form"),0),sx=!1}catch{sx=!0}return sx}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ub(e){return e!=null&&!_I.has(e)?(uo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xx}"`),null):e}function NI(e,t){let r,a,s,i,o;if(pI(e)){let l=e.getAttribute("action");a=l?Qc(l,t):null,r=e.getAttribute("method")||Zx,s=ub(e.getAttribute("enctype"))||Xx,i=new FormData(e)}else if(gI(e)||xI(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(a=c?Qc(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Zx,s=ub(e.getAttribute("formenctype"))||ub(l.getAttribute("enctype"))||Xx,i=new FormData(l,e),!wI()){let{name:u,type:h,value:f}=e;if(h==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,f)}}else{if(W1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zx,a=null,s=Xx,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kI(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Qc(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function jI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AI(e,t,r){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await jI(i,r);return o.links?o.links():[]}return[]}));return LI(a.flat(1).filter(SI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rj(e,t,r,a,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var h;return r[u].pathname!==c.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let h=a.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function EI(e,t,{includeHydrateFallback:r}={}){return TI(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function TI(e){return[...new Set(e)]}function CI(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function LI(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(CI(s));return r.has(i)||(r.add(i),a.push({key:i,link:s})),a},[])}function VT(){let e=P.useContext(Df);return E_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function PI(){let e=P.useContext(H1);return E_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var T_=P.createContext(void 0);T_.displayName="FrameworkContext";function qT(){let e=P.useContext(T_);return E_(e,"You must render this element inside a <HydratedRouter> element"),e}function MI(e,t){let r=P.useContext(T_),[a,s]=P.useState(!1),[i,o]=P.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,g=P.useRef(null);P.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=b=>{b.forEach(w=>{o(w.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return g.current&&N.observe(g.current),()=>{N.disconnect()}}},[e]),P.useEffect(()=>{if(a){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[a]);let m=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:pm(l,m),onBlur:pm(c,y),onMouseEnter:pm(u,m),onMouseLeave:pm(h,y),onTouchStart:pm(f,m)}]:[!1,g,{}]}function pm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function RI({page:e,...t}){let{router:r}=VT(),a=P.useMemo(()=>MT(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?P.createElement(DI,{page:e,matches:a,...t}):null}function OI(e){let{manifest:t,routeModules:r}=qT(),[a,s]=P.useState([]);return P.useEffect(()=>{let i=!1;return AI(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),a}function DI({page:e,matches:t,...r}){let a=Wn(),{manifest:s,routeModules:i}=qT(),{basename:o}=VT(),{loaderData:l,matches:c}=PI(),u=P.useMemo(()=>rj(e,t,c,s,a,"data"),[e,t,c,s,a]),h=P.useMemo(()=>rj(e,t,c,s,a,"assets"),[e,t,c,s,a]),f=P.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,x=!1;if(t.forEach(b=>{var k;let w=s.routes[b.route.id];!w||!w.hasLoader||(!u.some(S=>S.route.id===b.route.id)&&b.route.id in l&&((k=i[b.route.id])!=null&&k.shouldRevalidate)||w.hasClientLoader?x=!0:y.add(b.route.id))}),y.size===0)return[];let N=kI(e,o,"data");return x&&y.size>0&&N.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[o,l,a,s,u,t,e,i]),g=P.useMemo(()=>EI(h,s),[h,s]),m=OI(h);return P.createElement(P.Fragment,null,f.map(y=>P.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>P.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:x})=>P.createElement("link",{key:y,nonce:r.nonce,...x})))}function II(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$T&&(window.__reactRouterVersion="7.9.6")}catch{}function FI({basename:e,children:t,window:r}){let a=P.useRef();a.current==null&&(a.current=kD({window:r,v5Compat:!0}));let s=a.current,[i,o]=P.useState({action:s.action,location:s.location}),l=P.useCallback(c=>{P.startTransition(()=>o(c))},[o]);return P.useLayoutEffect(()=>s.listen(l),[s,l]),P.createElement(fI,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=P.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...g},m){let{basename:y}=P.useContext(Ol),x=typeof u=="string"&&HT.test(u),N,b=!1;if(typeof u=="string"&&x&&(N=u,$T))try{let C=new URL(window.location.href),G=u.startsWith("//")?new URL(C.protocol+u):new URL(u),O=Qc(G.pathname,y);G.origin===C.origin&&O!=null?u=O+G.search+G.hash:b=!0}catch{uo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=JD(u,{relative:s}),[k,S,B]=MI(a,g),H=VI(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function I(C){t&&t(C),C.defaultPrevented||H(C)}let D=P.createElement("a",{...g,...B,href:N||w,onClick:b||i?t:I,ref:II(m,S),target:c,"data-discover":!x&&r==="render"?"true":void 0});return k&&!x?P.createElement(P.Fragment,null,D,P.createElement(RI,{page:w})):D});Ql.displayName="Link";var BI=P.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let f=dp(o,{relative:u.relative}),g=Wn(),m=P.useContext(H1),{navigator:y,basename:x}=P.useContext(Ol),N=m!=null&&GI(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=g.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&x&&(k=Qc(k,x)||k);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let B=w===b||!s&&w.startsWith(b)&&w.charAt(S)==="/",H=k!=null&&(k===b||!s&&k.startsWith(b)&&k.charAt(b.length)==="/"),I={isActive:B,isPending:H,isTransitioning:N},D=B?t:void 0,C;typeof a=="function"?C=a(I):C=[a,B?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(I):i;return P.createElement(Ql,{...u,"aria-current":D,className:C,ref:h,style:G,to:o,viewTransition:l},typeof c=="function"?c(I):c)});BI.displayName="NavLink";var zI=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:i,method:o=Zx,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...g},m)=>{let y=HI(),x=WI(l,{relative:u}),N=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&HT.test(l),w=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,B=(S==null?void 0:S.getAttribute("formmethod"))||o;y(S||k.currentTarget,{fetcherKey:t,method:B,navigate:r,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:m,method:N,action:x,onSubmit:a?c:w,...g,"data-discover":!b&&e==="render"?"true":void 0})});zI.displayName="Form";function UI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(e){let t=P.useContext(Df);return Ma(t,UI(e)),t}function VI(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=vr(),c=Wn(),u=dp(e,{relative:i});return P.useCallback(h=>{if(vI(h,t)){h.preventDefault();let f=r!==void 0?r:Tg(c)===Tg(u);l(e,{replace:f,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,t,e,s,i,o])}function C_(e){uo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(vw(e)),r=P.useRef(!1),a=Wn(),s=P.useMemo(()=>bI(a.search,r.current?null:t.current),[a.search]),i=vr(),o=P.useCallback((l,c)=>{const u=vw(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var qI=0,$I=()=>`__${String(++qI)}__`;function HI(){let{router:e}=WT("useSubmit"),{basename:t}=P.useContext(Ol),r=cI();return P.useCallback(async(a,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=NI(a,t);if(s.navigate===!1){let h=s.fetcherKey||$I();await e.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function WI(e,{relative:t}={}){let{basename:r}=P.useContext(Ol),a=P.useContext(Dl);Ma(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...dp(e||".",{relative:t})},o=Wn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Vc([r,i.pathname])),Tg(i)}function GI(e,{relative:t}={}){let r=P.useContext(IT);Ma(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=WT("useViewTransitionState"),s=dp(e,{relative:t});if(!r.isTransitioning)return!1;let i=Qc(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=Qc(r.nextLocation.pathname,a)||r.nextLocation.pathname;return qy(s.pathname,o)!=null||qy(s.pathname,i)!=null}function G1(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function YI(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function c(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}const KI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class L_ extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class ZI extends L_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class aj extends L_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nj extends L_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bw||(bw={}));class XI{constructor(t,{headers:r={},customFetch:a,region:s=bw.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=KI(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return YI(this,arguments,void 0,function*(r,a={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:h,timeout:f}=a;let g={},{region:m}=a;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(g["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(g["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(g["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let N=h;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),h?(N=o.signal,h.addEventListener("abort",()=>o.abort())):N=o.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:x,signal:N}).catch(B=>{throw new ZI(B)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new aj(b);if(!b.ok)throw new nj(b);let k=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield b.json():k==="application/octet-stream"||k==="application/pdf"?S=yield b.blob():k==="text/event-stream"?S=b:k==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof nj||l instanceof aj?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var JI=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},QI=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,h=i.statusText;if(i.ok){var f,g;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const x=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");x&&N&&N.length>1&&(c=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const x=await i.text();try{o=JSON.parse(x),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,h="OK")}catch{i.status===404&&x===""?(u=204,h="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,h="OK"),o&&r.shouldThrowOnError)throw new JI(o)}return{error:o,data:l,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,h,f,g;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",x=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${y}`,x&&(l+=` (${x})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},eF=class extends QI{select(e){let t=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:a=r}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const sj=new RegExp("[,()]");var m0=class extends eF{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&sj.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&sj.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},tF=class{constructor(e,{headers:t={},schema:r,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:a}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),a&&c.append("Prefer",`count=${a}`),new m0({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var a;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new m0({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),a&&c.append("Prefer",`count=${a}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new m0({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const a="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new m0({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:a,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new m0({method:r,url:a,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},rF=class GT{constructor(t,{headers:r={},schema:a,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=a,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new tF(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new GT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:a=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const h=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(h)),f=a&&Object.values(r).some(h);f?(l="POST",u=r):a||s?(l=a?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const g=new Headers(this.headers);return f?g.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&g.set("Prefer",`count=${i}`),new m0({method:l,url:c,headers:g,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class aF{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const s=a.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nF="2.90.1",sF=`realtime-js/${nF}`,YT="1.0.0",iF="2.0.0",ij=YT,ww=1e4,oF=1e3,lF=100;var Rd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rd||(Rd={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var wl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wl||(wl={}));var _w;(function(e){e.websocket="websocket"})(_w||(_w={}));var Yu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yu||(Yu={}));class cF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const s=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,a;const s=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,a){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(m),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,l.length),y.setUint8(x++,o.length),y.setUint8(x++,u.length),y.setUint8(x++,f.length),y.setUint8(x++,r),Array.from(c,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(x++,b.charCodeAt(0)));var N=new Uint8Array(m.byteLength+a.byteLength);return N.set(new Uint8Array(m),0),N.set(new Uint8Array(a),m.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[s,i,o,l,c]=a;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,a){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=a.decode(t.slice(c,c+s));c=c+s;const h=a.decode(t.slice(c,c+i));c=c+i;const f=a.decode(t.slice(c,c+o));c=c+o;const g=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(a.decode(g)):g,y={type:this.BROADCAST_EVENT,event:h,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class KT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xa;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xa||(xa={}));const oj=(e,t,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=dF(o,e,t,s),i),{}):{}},dF=(e,t,r,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!a.includes(i)?ZT(i,o):Nw(o)},ZT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return mF(t,r)}switch(e){case xa.bool:return uF(t);case xa.float4:case xa.float8:case xa.int2:case xa.int4:case xa.int8:case xa.numeric:case xa.oid:return hF(t);case xa.json:case xa.jsonb:return fF(t);case xa.timestamp:return gF(t);case xa.abstime:case xa.date:case xa.daterange:case xa.int4range:case xa.int8range:case xa.money:case xa.reltime:case xa.text:case xa.time:case xa.timestamptz:case xa.timetz:case xa.tsrange:case xa.tstzrange:return Nw(t);default:return Nw(t)}},Nw=e=>e,uF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},mF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ZT(t,l))}return e},gF=e=>typeof e=="string"?e.replace(" ","T"):e,XT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hb{constructor(t,r,a={},s=ww){this.channel=t,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lj||(lj={}));class Ym{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ym.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ym.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ym.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const f=i[u];if(f){const g=h.map(N=>N.presence_ref),m=f.map(N=>N.presence_ref),y=h.filter(N=>m.indexOf(N.presence_ref)<0),x=f.filter(N=>g.indexOf(N.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(t,r,a,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(m=>m.presence_ref),g=h.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...g)}a(l,h,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const s=t[a];return"metas"in s?r[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cj||(cj={}));var Km;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Km||(Km={}));var Pc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pc||(Pc={}));class P0{constructor(t,r={config:{}},a){var s,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hb(this,wl.join,this.params,this.timeout),this.rejoinTimer=new KT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wl.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ym(this),this.broadcastEndpointURL=XT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Km.PRESENCE]&&this.bindings[Km.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Pc.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Pc.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Pc.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,b=[];for(let w=0;w<N;w++){const k=x[w],{filter:{event:S,schema:B,table:H,filter:I}}=k,D=m&&m[w];if(D&&D.event===S&&P0.isFilterValueEqual(D.schema,B)&&P0.isFilterValueEqual(D.table,H)&&P0.isFilterValueEqual(D.filter,I))b.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),this.state=Ln.errored,t==null||t(Pc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Pc.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ln.errored,t==null||t(Pc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Ln.joined&&t===Km.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ln.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wl.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new hb(this,wl.leave,{},t),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hb(this,t,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=wl;if(a&&[l,c,u,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,r,a);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,x,N;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((N=(x=m.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(m=>m.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,x,N,b,w,k,S,B;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const H=m.id,I=(y=m.filter)===null||y===void 0?void 0:y.event;return H&&((x=r.ids)===null||x===void 0?void 0:x.includes(H))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((b=m.filter)===null||b===void 0)&&b.table)||m.filter.table===((w=r.data)===null||w===void 0?void 0:w.table))}else{const H=(S=(k=m==null?void 0:m.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return H==="*"||H===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:x,table:N,commit_timestamp:b,type:w,errors:k}=y;g=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:b,eventType:w,new:{},old:{},errors:k}),this._getPayloadRecords(y))}m.callback(g,a)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&P0.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wl.close,{},t)}_onError(t){this._on(wl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=oj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=oj(t.columns,t.old_record)),r}}const fb=()=>{},ix={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pF=[1e3,2e3,5e3,1e4],xF=1e4,yF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vF{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ww,this.transport=null,this.heartbeatIntervalMs=ix.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fb,this.ref=0,this.reconnectTimer=null,this.vsn=ij,this.logger=fb,this.conn=null,this.sendBuffer=[],this.serializer=new cF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_w.websocket}`,this.httpEndpoint=XT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Rd.connecting:return Yu.Connecting;case Rd.open:return Yu.Open;case Rd.closing:return Yu.Closing;default:return Yu.Closed}}isConnected(){return this.connectionState()===Yu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new P0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(oF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ix.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Rd.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rd.open||this.conn.readyState===Rd.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${a}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([yF],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:sF};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(wl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new KT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ix.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,s,i,o,l,c,u,h,f,g,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:ww,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ix.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:fb,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ij,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>pF[y-1]||xF,this.vsn){case YT:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(y,x)=>x(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,x)=>x(JSON.parse(y));break;case iF:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Cg=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bF(e,t,r){const a=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&a.searchParams.set(s,i);return a.toString()}async function wF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function _F(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:s,body:i,headers:o}){const l=bF(e.baseUrl,a,s),c=await wF(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&h?JSON.parse(h):h;if(!u.ok){const m=f?g:void 0,y=m==null?void 0:m.error;throw new Cg((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:g}}}}function ox(e){return e.join("")}var NF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ox(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ox(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ox(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ox(e.namespace)}`}),!0}catch(t){if(t instanceof Cg&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Cg&&r.status===409)return;throw r}}};function Xh(e){return e.join("")}var kF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Cg&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Cg&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},jF=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=_F({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new NF(this.client,t),this.tableOps=new kF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Y1=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ia(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var SF=class extends Y1{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kw=class extends Y1{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const P_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AF=()=>Response,jw=e=>{if(Array.isArray(e))return e.map(r=>jw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jw(a)}),t},EF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},TF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function CF(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LF(e){var t=CF(e,"string");return Lg(t)=="symbol"?t:t+""}function PF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(a){PF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}const mb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},MF=async(e,t,r)=>{e instanceof await AF()&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new SF(mb(a),s,i))}).catch(a=>{t(new kw(mb(a),a))}):t(new kw(mb(e),e))},RF=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(EF(a)?(s.headers=Xt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Xt(Xt({},s),r))};async function up(e,t,r,a,s,i){return new Promise((o,l)=>{e(r,RF(t,a,s,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>MF(c,l,a))})}async function Pg(e,t,r,a){return up(e,"GET",t,r,a)}async function vl(e,t,r,a,s){return up(e,"POST",t,a,s,r)}async function Sw(e,t,r,a,s){return up(e,"PUT",t,a,s,r)}async function OF(e,t,r,a){return up(e,"HEAD",t,Xt(Xt({},r),{},{noResolveJson:!0}),a)}async function M_(e,t,r,a,s){return up(e,"DELETE",t,a,s,r)}var DF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ia(t))return{data:null,error:t};throw t}}};let JT;JT=Symbol.toStringTag;var IF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[JT]="BlobDownloadBuilder",this.promise=null}asStream(){return new DF(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ia(t))return{data:null,error:t};throw t}}};const FF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var BF=class{constructor(e,t={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=P_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,a){var s=this;try{let i;const o=Xt(Xt({},uj),a);let l=Xt(Xt({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Xt(Xt({},l),a.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?Sw:vl)(s.fetch,`${s.url}/object/${h}`,i,Xt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ia(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,a){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Xt({upsert:uj.upsert},a),h=Xt(Xt({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:i,fullPath:(await Sw(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Ia(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let a=r._getFinalPath(e);const s=Xt({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await vl(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Y1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ia(a))return{data:null,error:a};throw a}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var a=this;try{return{data:await vl(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ia(s))return{data:null,error:s};throw s}}async copy(e,t,r){var a=this;try{return{data:{path:(await vl(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers})).Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ia(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var a=this;try{let s=a._getFinalPath(e),i=await vl(a.fetch,`${a.url}/object/sign/${s}`,Xt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:a.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${a.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ia(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var a=this;try{const s=await vl(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Xt(Xt({},o),{},{signedUrl:o.signedURL?encodeURI(`${a.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ia(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",i=this._getFinalPath(e),o=()=>Pg(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new IF(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:jw(await Pg(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ia(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await OF(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ia(a)&&a instanceof kw){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&a.push(o);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await M_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async list(e,t,r){var a=this;try{const s=Xt(Xt(Xt({},FF),t),{},{prefix:e||""});return{data:await vl(a.fetch,`${a.url}/object/list/${a.bucketId}`,s,{headers:a.headers},r),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ia(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const a=Xt({},e);return{data:await vl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},t),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ia(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const QT="2.90.1",eC={"X-Client-Info":`storage-js/${QT}`};var zF=class{constructor(e,t={},r,a){this.shouldThrowOnError=!1;const s=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Xt(Xt({},eC),t),this.fetch=P_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Pg(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Pg(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await vl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ia(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var r=this;try{return{data:await Sw(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ia(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await vl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await M_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},UF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Xt(Xt({},eC),t),this.fetch=P_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await vl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const a=r.toString(),s=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Pg(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await M_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ia(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!TF(e))throw new Y1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new jF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(a)throw c;return{data:null,error:c}}}}})}};const R_={"X-Client-Info":`storage-js/${QT}`,"Content-Type":"application/json"};var tC=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var gb=class extends tC{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},VF=class extends tC{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const O_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$F=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new gb(hj(i),a,o))}).catch(()=>{const i=a+"";t(new gb(s.statusText||`HTTP ${a} error`,a,i))});else{const i=a+"";t(new gb(s.statusText||`HTTP ${a} error`,a,i))}}else t(new VF(hj(e),e))},HF=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(qF(a)?(s.headers=Xt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Xt(Xt({},s),r)):s};async function WF(e,t,r,a,s,i){return new Promise((o,l)=>{e(r,HF(t,a,s,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>$F(c,l,a))})}async function eo(e,t,r,a,s){return WF(e,"POST",t,a,s,r)}var GF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Xt(Xt({},R_),t),this.fetch=O_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await eo(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Qi(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await eo(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Qi(a))return{data:null,error:a};throw a}}},YF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Xt(Xt({},R_),t),this.fetch=O_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await eo(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await eo(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await eo(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}},KF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Xt(Xt({},R_),t),this.fetch=O_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await eo(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await eo(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qi(r))return{data:null,error:r};throw r}}},ZF=class extends KF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new XF(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},XF=class extends GF{constructor(e,t,r,a){super(e,t,a),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new JF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},JF=class extends YF{constructor(e,t,r,a,s){super(e,t,s),this.vectorBucketName=r,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Xt(Xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},QF=class extends zF{constructor(e,t={},r,a){super(e,t,r,a)}from(e){return new BF(this.url,this.headers,e,this.fetch)}get vectors(){return new ZF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new UF(this.url+"/iceberg",this.headers,this.fetch)}};const rC="2.90.1",g0=30*1e3,Aw=3,pb=Aw*g0,eB="http://localhost:9999",tB="supabase.auth.token",rB={"X-Client-Info":`gotrue-js/${rC}`},Ew="X-Supabase-Api-Version",aC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nB=10*60*1e3;class Mg extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sB extends Mg{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function iB(e){return Ut(e)&&e.name==="AuthApiError"}class Ku extends Mg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sd extends Mg{constructor(t,r,a,s){super(t,a,s),this.name=r,this.status=a}}class Hi extends sd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oB(e){return Ut(e)&&e.name==="AuthSessionMissingError"}class Jh extends sd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lx extends sd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cx extends sd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lB(e){return Ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class fj extends sd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cB extends sd{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tw extends sd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xb(e){return Ut(e)&&e.name==="AuthRetryableFetchError"}class mj extends sd{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class Cw extends sd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gj=` 	
\r=`.split(""),dB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gj.length;t+=1)e[gj[t].charCodeAt(0)]=-2;for(let t=0;t<$y.length;t+=1)e[$y[t].charCodeAt(0)]=t;return e})();function pj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r($y[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r($y[a]),t.queuedBits-=6}}function nC(e,t,r){const a=dB[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fB(o,a,r)};for(let o=0;o<e.length;o+=1)nC(e.charCodeAt(o),s,i);return t.join("")}function uB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hB(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}uB(a,t)}}function fB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function G0(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)nC(e.charCodeAt(s),r,a);return new Uint8Array(t)}function mB(e){const t=[];return hB(e,r=>t.push(r)),new Uint8Array(t)}function Ju(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>pj(s,r,a)),pj(null,r,a),t.join("")}function gB(e){return Math.round(Date.now()/1e3)+e}function pB(){return Symbol("auth-callback")}const ts=()=>typeof window<"u"&&typeof document<"u",Fu={tested:!1,writable:!1},sC=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fu.tested)return Fu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fu.tested=!0,Fu.writable=!0}catch{Fu.tested=!0,Fu.writable=!1}return Fu.writable};function xB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((a,s)=>{t[s]=a}),t}const iC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",p0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(e,t)=>{await e.removeItem(t)};class K1{constructor(){this.promise=new K1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}K1.promiseConstructor=Promise;function yb(e){const t=e.split(".");if(t.length!==3)throw new Cw("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!aB.test(t[a]))throw new Cw("JWT not in base64url format");return{header:JSON.parse(xj(t[0])),payload:JSON.parse(xj(t[1])),signature:G0(t[2]),raw:{header:t[0],payload:t[1]}}}async function vB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bB(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function wB(e){return("0"+e.toString(16)).substr(-2)}function _B(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,wB).join("")}async function NB(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await NB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qh(e,t,r=!1){const a=_B();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await p0(e,`${t}-code-verifier`,s);const i=await kB(a);return[i,a===i?"plain":"s256"]}const jB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SB(e){const t=e.headers.get(Ew);if(!t||!t.match(jB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function EB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function e0(e){if(!TB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CB(e,t){return new Proxy(e,{get:(r,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,s)}})}function yj(e){return JSON.parse(JSON.stringify(e))}const Hu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LB=[502,503,504];async function vj(e){var t;if(!yB(e))throw new Tw(Hu(e),0);if(LB.includes(e.status))throw new Tw(Hu(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ku(Hu(i),i)}let a;const s=SB(e);if(s&&s.getTime()>=aC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new mj(Hu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Hi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mj(Hu(r),e.status,r.weak_password.reasons);throw new sB(Hu(r),e.status||500,a)}const PB=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function Zt(e,t,r,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[Ew]||(i[Ew]=aC["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await MB(e,t,r+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function MB(e,t,r,a,s,i){const o=PB(t,a,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Tw(Hu(c),0)}if(l.ok||await vj(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await vj(c)}}function xl(e){var t;let r=null;DB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gB(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function bj(e){const t=xl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RB(e){return{data:e,error:null}}function OB(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i}=e,o=G1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function wj(e){return e}function DB(e){return e.access_token&&e.refresh_token&&e.expires_in}const bb=["global","local","others"];class IB{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=iC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=bb[0]){if(bb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bb.join(", ")}`);try{return await Zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=G1(t,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bd})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wj});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){e0(t);try{return await Zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bd})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){e0(t);try{return await Zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){e0(t);try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bd})}catch(a){if(Ut(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){e0(t.userId);try{const{data:r,error:a}=await Zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){e0(t.userId),e0(t.id);try{return{data:await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Zt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wj});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ut(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Zt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Zt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}function _j(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const t0={debug:!!(globalThis&&sC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FB extends oC{}async function BB(e,t,r){t0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),t0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){t0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{t0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw t0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(t0.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function zB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function UB(e){return parseInt(e,16)}function VB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function qB(e){var t;const{chainId:r,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:h,uri:f,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=lC(e.address),y=h?`${h}://${a}`:a,x=e.statement?`${e.statement}
`:"",N=`${y} wants you to sign in with your Ethereum account:
${m}

${x}`;let b=`URI: ${f}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);w+=`
- ${k}`}b+=w}return`${N}
${b}`}class mn extends Error{constructor({message:t,code:r,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Hy extends mn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function $B({error:e,options:t}){var r,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new mn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(cC(o)){if(i.rp.id!==o)return new mn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function HB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(cC(a)){if(r.rpId!==a)return new mn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const GB=new WB;function YB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,s=G1(e,["challenge","user","excludeCredentials"]),i=G0(t).buffer,o=Object.assign(Object.assign({},r),{id:G0(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:G0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function KB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=G1(e,["challenge","allowCredentials"]),s=G0(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:G0(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function ZB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ju(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ju(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ju(new Uint8Array(s.authenticatorData)),clientDataJSON:Ju(new Uint8Array(s.clientDataJSON)),signature:Ju(new Uint8Array(s.signature)),userHandle:s.userHandle?Ju(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Nj(){var e,t;return!!(ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hy("Browser returned unexpected credential type",t)}:{data:null,error:new Hy("Empty credential response",t)}}catch(t){return{data:null,error:$B({error:t,options:e})}}}async function QB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hy("Browser returned unexpected credential type",t)}:{data:null,error:new Hy("Empty credential response",t)}}catch(t){return{data:null,error:HB({error:t,options:e})}}}const ez={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wy(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(r(o))a[i]=o;else if(t(o)){const l=a[i];t(l)?a[i]=Wy(l,o):a[i]=Wy(o)}else a[i]=o}return a}function rz(e,t){return Wy(ez,e,t||{})}function az(e,t){return Wy(tz,e,t||{})}class nz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??GB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=rz(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await JB({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=az(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await QB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Ku("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Mg("rpId is required for WebAuthn authentication")};try{if(!Nj())return{data:null,error:new Ku("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Ku("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Mg("rpId is required for WebAuthn registration")};try{if(!Nj())return{data:null,error:new Ku("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ut(o)?{data:null,error:o}:{data:null,error:new Ku("Unexpected error in register",o)}}}}zB();const sz={url:eB,storageKey:tB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kj(e,t,r){return await r()}const r0={};class Rg{get jwks(){var t,r;return(r=(t=r0[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){r0[this.storageKey]=Object.assign(Object.assign({},r0[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=r0[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){r0[this.storageKey]=Object.assign(Object.assign({},r0[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},sz),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Rg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Rg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ts()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new IB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iC(i.fetch),this.lock=i.lock||kj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ts()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=BB:this.lock=kj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:sC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_j(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_j(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(ts()&&(r=xB(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),ts()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lB(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?this._returnResult({error:r}):this._returnResult({error:new Ku("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,s;try{const i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xl}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,s;try{let i;if("email"in t){const{email:h,password:f,options:g}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Qh(this.storage,this.storageKey)),i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:y},xform:xl})}else if("phone"in t){const{phone:h,password:f,options:g}=t;i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xl})}else throw new lx("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Qn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bj})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bj})}else throw new lx("You must provide either an email or phone number and a password");const{data:a,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const i=new Jh;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,s,i,o,l,c,u,h,f,g;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:x,wallet:N,statement:b,options:w}=t;let k;if(ts())if(typeof N=="object")k=N;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")k=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),B=await k.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=lC(B[0]);let I=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!I){const C=await k.request({method:"eth_chainId"});I=UB(C)}const D={domain:S.host,address:H,statement:b,uri:S.href,version:"1",chainId:I,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=qB(D),y=await k.request({method:"personal_sign",params:[VB(m),H]})}try{const{data:x,error:N}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:xl});if(N)throw N;if(!x||!x.session||!x.user){const b=new Jh;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:N})}catch(x){if(Ut(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,a,s,i,o,l,c,u,h,f,g,m;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:N,wallet:b,statement:w,options:k}=t;let S;if(ts())if(typeof b=="object")S=b;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))S=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const B=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const H=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),w?{statement:w}:null));let I;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")I=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)I=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)y=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),x=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${B.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(a=k==null?void 0:k.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((f=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...k.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const H=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=H}}try{const{data:N,error:b}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ju(x)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xl});if(b)throw b;if(!N||!N.session||!N.user){const w=new Jh;return this._returnResult({data:{user:null,session:null},error:w})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:b})}catch(N){if(Ut(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await Bu(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new cB;const{data:i,error:o}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:xl});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Jh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:s,access_token:i,nonce:o}=t,l=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xl}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new Jh;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Qh(this.storage,this.storageKey));const{error:f}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new lx("You must provide either an email or phone number.")}catch(l){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,a;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,a,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Qh(this.storage,this.storageKey));const u=await Zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:RB});return!((i=u.data)===null||i===void 0)&&i.url&&ts()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Hi;const{error:s}=await Zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:o}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:o,error:l}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new lx("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<pb:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await Bu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=CB(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bd}):await this._useSession(async r=>{var a,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hi}:await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bd})})}catch(r){if(Ut(r))return oB(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Hi;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Qh(this.storage,this.storageKey));const{data:u,error:h}=await Zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bd});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(a){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hi;const r=Date.now()/1e3;let a=r,s=!0,i=null;const{payload:o}=yb(t.access_token);if(o.exp&&(a=o.exp,s=a<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Hi;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ts())throw new cx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cx("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fj("No code detected.");const{data:w,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new cx("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;c&&(g=parseInt(c));const m=g-h;m*1e3<=g0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=g-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,h);const{data:x,error:N}=await this._getUser(i);if(N)throw N;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(a){if(Ut(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(iB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=pB(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Qh(this.storage,this.storageKey,!0));try{return await Zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:s}=await this._useSession(async i=>{var o,l,c,u,h;const{data:f,error:g}=i;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Zt(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ts()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Ut(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:h}=t,f=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xl}),{data:g,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Jh}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:m}))}catch(s){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,s;const{data:i,error:o}=r;if(o)throw o;return await Zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await bB(async s=>(s>0&&await vB(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xl})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xb(i)&&Date.now()+o-a<g0})}catch(a){if(this._debug(r,"error",a),Ut(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),ts()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Bu(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Bu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await p0(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vb()}else if(s&&!s.user&&!s.user){const o=await Bu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Qn(this.storage,this.storageKey+"-user"),await p0(this.storage,this.storageKey,s)):s.user=vb()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pb;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${pb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xb(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Hi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new K1;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Hi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ut(i)){const o={data:null,error:i};return xb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await p0(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=yj(s);await p0(this.storage,this.storageKey,i)}else{const s=yj(r);await p0(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),g0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/g0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${g0}ms, refresh threshold is ${Aw} ticks`),s<=Aw&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZB(t.webauthn.credential_response):XB(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:YB(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KB(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=yb(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await Zt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Hi})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Hi});const o=await Zt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Hi});const o=await Zt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await Zt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Hi})})}catch(t){if(Ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?(await Zt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hi})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+nB>s)return a;const{data:i,error:o}=await Zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});a=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=yb(a);r!=null&&r.allowExpired||AB(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const h=EB(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,mB(`${l}.${c}`)))throw new Cw("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(Ut(a))return this._returnResult({data:null,error:a});throw a}}}Rg.nextInstanceID={};const iz=Rg,oz="2.90.1";let Cm="";typeof Deno<"u"?Cm="deno":typeof document<"u"?Cm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cm="react-native":Cm="node";const lz={"X-Client-Info":`supabase-js-${Cm}/${oz}`},cz={headers:lz},dz={schema:"public"},uz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hz={};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function fz(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mz(e){var t=fz(e,"string");return Og(t)=="symbol"?t:t+""}function gz(e,t,r){return(t=mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(a){gz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}const pz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xz=()=>Headers,yz=(e,t,r)=>{const a=pz(r),s=xz();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(i,Ya(Ya({},o),{},{headers:u}))}};function vz(e){return e.endsWith("/")?e:e+"/"}function bz(e,t){var r,a;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,g={db:Ya(Ya({},c),s),auth:Ya(Ya({},u),i),realtime:Ya(Ya({},h),o),storage:{},global:Ya(Ya(Ya({},f),l),{},{headers:Ya(Ya({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function wz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _z=class extends iz{constructor(e){super(e)}},Nz=class{constructor(e,t,r){var a,s;this.supabaseUrl=e,this.supabaseKey=t;const i=wz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:dz,realtime:hz,auth:Ya(Ya({},uz),{},{storageKey:o}),global:cz},c=bz(r??{},l);if(this.storageKey=(a=c.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=yz(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ya({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new rF(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new QF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new XI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _z({url:this.authUrl.href,headers:Ya(Ya({},g),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vF(this.realtimeUrl.href,Ya(Ya({},e),{},{params:Ya(Ya({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kz=(e,t,r)=>new Nz(e,t,r);function jz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}jz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sz="https://yydtsteyknbpfpxjtlxe.supabase.co",Az="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5ZHRzdGV5a25icGZweGp0bHhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM3OTkzODgsImV4cCI6MjA3OTM3NTM4OH0.QTUVmTdtnoFhzZ0G6XjdzhFDxcFae0hDSraFhazdNsU";let Ke=null;Ke=kz(Sz,Az,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});const Un=()=>Ke!==null,dC=P.createContext(void 0),Ah=()=>{const e=P.useContext(dC);if(!e)throw new Error("useProperties must be used within PropertyProvider");return e},Sj={USD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),EUR:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}),GBP:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",maximumFractionDigits:0}),INR:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),AED:new Intl.NumberFormat("ar-AE",{style:"currency",currency:"AED",maximumFractionDigits:0}),CAD:new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}),AUD:new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",maximumFractionDigits:0}),JPY:new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}),CNY:new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",maximumFractionDigits:0}),SGD:new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD",maximumFractionDigits:0})},Aj=e=>{const t=e.image_urls||[];return{id:e.id,title:e.title||"",description:e.description,shortDescription:e.short_description,price:{amount:parseFloat(e.price)||0,currency:e.currency||"USD",negotiable:e.negotiable||!1},priceString:`${e.currency||"USD"} ${e.price}`,propertyType:e.property_type||"apartment",listingType:e.listing_type||"sale",status:e.status||"available",location:{addressLine1:e.address_line_1,addressLine2:e.address_line_2,city:e.city,state:e.state,postalCode:e.postcode,country:e.country,countryCode:e.country==="United Kingdom"?"GB":"US",latitude:e.latitude?parseFloat(e.latitude):void 0,longitude:e.longitude?parseFloat(e.longitude):void 0,neighborhood:e.neighborhood,landmark:e.landmark},address:e.address_line_1,city:e.city,state:e.state,zipCode:e.postcode,dimensions:{totalArea:parseFloat(e.area)||0,areaUnit:e.area_unit||"sqft",floorNumber:e.floor_number,totalFloors:e.total_floors},area:parseFloat(e.area)||0,rooms:{bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,balconies:e.balconies||0,parkingSpaces:e.parking_spaces||0},bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,yearBuilt:e.year_built,furnishing:e.furnishing||"unfurnished",condition:e.condition||"good",facing:e.facing,amenities:e.amenities||{interior:[],exterior:[],community:[],security:[],utilities:[]},features:[],media:{images:t.map((r,a)=>({id:`img-${a}`,url:r,type:"image",isPrimary:a===0,order:a,uploadedAt:e.created_at})),videos:[],floorPlans:[],virtualTourUrl:e.virtual_tour_url},images:t,virtualTourUrl:e.virtual_tour_url,contact:{name:e.contact_name||"",email:e.contact_email||"",phone:e.contact_phone||"",preferredContactMethod:"any",company:e.company},contactName:e.contact_name,phoneNumber:e.contact_phone,emailAddress:e.contact_email,availableFrom:e.available_from||new Date().toISOString(),minimumLease:e.minimum_lease,inclusions:e.inclusions,exclusions:e.exclusions,financial:{deposit:e.deposit?parseFloat(e.deposit):void 0,maintenanceCharges:e.maintenance_charges?parseFloat(e.maintenance_charges):void 0},analytics:{views:e.views||0,inquiries:e.inquiries||0,favorites:e.favorites||0,shares:0},propertyId:`PROP-${e.id.slice(-6)}`,createdAt:e.created_at,updatedAt:e.updated_at,published:e.published??!0,draft:e.draft||!1,featured:e.featured||!1,verified:e.verified||!1,version:1}},Ej=e=>{var r,a,s,i,o,l,c,u,h,f,g,m,y,x,N,b,w,k,S,B,H,I,D,C,G,O,V;const t={};return e.title!==void 0&&(t.title=e.title),e.description!==void 0&&(t.description=e.description),e.shortDescription!==void 0&&(t.short_description=e.shortDescription),e.price!==void 0&&(t.price=e.price.amount),((r=e.price)==null?void 0:r.currency)!==void 0&&(t.currency=e.price.currency),((a=e.price)==null?void 0:a.negotiable)!==void 0&&(t.negotiable=e.price.negotiable),e.propertyType!==void 0&&(t.property_type=e.propertyType),e.listingType!==void 0&&(t.listing_type=e.listingType),e.status!==void 0&&(t.status=e.status),((s=e.location)==null?void 0:s.addressLine1)!==void 0&&(t.address_line_1=e.location.addressLine1),((i=e.location)==null?void 0:i.addressLine2)!==void 0&&(t.address_line_2=e.location.addressLine2),((o=e.location)==null?void 0:o.city)!==void 0&&(t.city=e.location.city),((l=e.location)==null?void 0:l.state)!==void 0&&(t.state=e.location.state),((c=e.location)==null?void 0:c.postalCode)!==void 0&&(t.postcode=e.location.postalCode),((u=e.location)==null?void 0:u.country)!==void 0&&(t.country=e.location.country),((h=e.location)==null?void 0:h.latitude)!==void 0&&(t.latitude=e.location.latitude),((f=e.location)==null?void 0:f.longitude)!==void 0&&(t.longitude=e.location.longitude),((g=e.location)==null?void 0:g.neighborhood)!==void 0&&(t.neighborhood=e.location.neighborhood),((m=e.location)==null?void 0:m.landmark)!==void 0&&(t.landmark=e.location.landmark),e.address!==void 0&&(t.address_line_1=e.address),e.city!==void 0&&(t.city=e.city),e.state!==void 0&&(t.state=e.state),e.zipCode!==void 0&&(t.postcode=e.zipCode),((y=e.dimensions)==null?void 0:y.totalArea)!==void 0&&(t.area=e.dimensions.totalArea),((x=e.dimensions)==null?void 0:x.areaUnit)!==void 0&&(t.area_unit=e.dimensions.areaUnit),((N=e.dimensions)==null?void 0:N.floorNumber)!==void 0&&(t.floor_number=e.dimensions.floorNumber),((b=e.dimensions)==null?void 0:b.totalFloors)!==void 0&&(t.total_floors=e.dimensions.totalFloors),e.area!==void 0&&(t.area=e.area),((w=e.rooms)==null?void 0:w.bedrooms)!==void 0&&(t.bedrooms=e.rooms.bedrooms),((k=e.rooms)==null?void 0:k.bathrooms)!==void 0&&(t.bathrooms=e.rooms.bathrooms),((S=e.rooms)==null?void 0:S.balconies)!==void 0&&(t.balconies=e.rooms.balconies),((B=e.rooms)==null?void 0:B.parkingSpaces)!==void 0&&(t.parking_spaces=e.rooms.parkingSpaces),e.bedrooms!==void 0&&(t.bedrooms=e.bedrooms),e.bathrooms!==void 0&&(t.bathrooms=e.bathrooms),e.yearBuilt!==void 0&&(t.year_built=e.yearBuilt),e.furnishing!==void 0&&(t.furnishing=e.furnishing),e.condition!==void 0&&(t.condition=e.condition),e.facing!==void 0&&(t.facing=e.facing),e.amenities!==void 0&&(t.amenities=e.amenities),e.images!==void 0&&(t.image_urls=e.images.filter(Y=>typeof Y=="string")),e.virtualTourUrl!==void 0&&(t.virtual_tour_url=e.virtualTourUrl),((H=e.media)==null?void 0:H.virtualTourUrl)!==void 0&&(t.virtual_tour_url=e.media.virtualTourUrl),((I=e.contact)==null?void 0:I.name)!==void 0&&(t.contact_name=e.contact.name),((D=e.contact)==null?void 0:D.email)!==void 0&&(t.contact_email=e.contact.email),((C=e.contact)==null?void 0:C.phone)!==void 0&&(t.contact_phone=e.contact.phone),((G=e.contact)==null?void 0:G.company)!==void 0&&(t.company=e.contact.company),e.contactName!==void 0&&(t.contact_name=e.contactName),e.emailAddress!==void 0&&(t.contact_email=e.emailAddress),e.phoneNumber!==void 0&&(t.contact_phone=e.phoneNumber),e.availableFrom!==void 0&&(t.available_from=e.availableFrom),e.minimumLease!==void 0&&(t.minimum_lease=e.minimumLease),e.inclusions!==void 0&&(t.inclusions=e.inclusions),e.exclusions!==void 0&&(t.exclusions=e.exclusions),((O=e.financial)==null?void 0:O.deposit)!==void 0&&(t.deposit=e.financial.deposit),((V=e.financial)==null?void 0:V.maintenanceCharges)!==void 0&&(t.maintenance_charges=e.financial.maintenanceCharges),e.featured!==void 0&&(t.featured=e.featured),e.verified!==void 0&&(t.verified=e.verified),e.published!==void 0&&(t.published=e.published),e.draft!==void 0&&(t.draft=e.draft),t},Ez=({children:e})=>{const[t,r]=P.useState([]),[a,s]=P.useState([]),[i,o]=P.useState({}),[l,c]=P.useState({field:"createdAt",order:"desc"}),[u,h]=P.useState({page:1,limit:12,total:0,totalPages:0}),[f,g]=P.useState(!1),[m,y]=P.useState(null),x=P.useCallback(async()=>{if(!Ke){y("Supabase client not initialized"),g(!1);return}g(!0),y(null);try{const{data:{user:R}}=await Ke.auth.getUser();let W=Ke.from("properties").select("*");R&&(W=W.eq("agent_id",R.id));const Z=l.field==="createdAt"?"created_at":l.field==="updatedAt"?"updated_at":l.field;W=W.order(Z,{ascending:l.order==="asc"});const{data:ie,error:re}=await W;if(re)throw re;const X=(ie||[]).map(Aj);r(X)}catch(R){console.error("Error fetching properties:",R),y(R.message||"Failed to fetch properties")}finally{g(!1)}},[l]);P.useEffect(()=>{x()},[x]);const b=P.useCallback(()=>{var W,Z,ie;let R=[...t];if(i.search){const re=i.search.toLowerCase();R=R.filter(X=>{var ke,Pe;return X.title.toLowerCase().includes(re)||((ke=X.description)==null?void 0:ke.toLowerCase().includes(re))||((Pe=X.city)==null?void 0:Pe.toLowerCase().includes(re))})}return(W=i.propertyType)!=null&&W.length&&(R=R.filter(re=>i.propertyType.includes(re.propertyType))),(Z=i.listingType)!=null&&Z.length&&(R=R.filter(re=>i.listingType.includes(re.listingType))),(ie=i.status)!=null&&ie.length&&(R=R.filter(re=>i.status.includes(re.status))),(i.priceMin!==void 0||i.priceMax!==void 0)&&(R=R.filter(re=>{var De;const X=((De=re.price)==null?void 0:De.amount)||0,ke=i.priceMin===void 0||X>=i.priceMin,Pe=i.priceMax===void 0||X<=i.priceMax;return ke&&Pe})),i.bedroomsMin!==void 0&&(R=R.filter(re=>{var X;return(((X=re.rooms)==null?void 0:X.bedrooms)||re.bedrooms||0)>=i.bedroomsMin})),i.city&&(R=R.filter(re=>{var X;return(X=re.city)==null?void 0:X.toLowerCase().includes(i.city.toLowerCase())})),i.featured!==void 0&&(R=R.filter(re=>re.featured===i.featured)),R},[t,i])();P.useEffect(()=>{h(R=>({...R,total:b.length,totalPages:Math.ceil(b.length/R.limit)}))},[b.length,u.limit]);const w=b.slice((u.page-1)*u.limit,u.page*u.limit),k=async R=>{if(!Ke)throw new Error("Supabase client not initialized");const{data:{user:W}}=await Ke.auth.getUser();if(!W)throw new Error("Must be logged in to upload images");const Z=[];for(const ie of R){const re=ie.name.split(".").pop(),X=`${W.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${re}`,{error:ke}=await Ke.storage.from("property-images").upload(X,ie);if(ke){console.error("Upload error:",ke);continue}const{data:{publicUrl:Pe}}=Ke.storage.from("property-images").getPublicUrl(X);Z.push(Pe)}return Z},S=async R=>{if(!Ke)return y("Supabase client not initialized"),null;g(!0),y(null);try{const{data:{user:W}}=await Ke.auth.getUser();if(!W)throw new Error("Must be logged in to add a property");const Z=Ej(R);Z.agent_id=W.id;const{data:ie,error:re}=await Ke.from("properties").insert(Z).select().single();if(re)throw re;const X=Aj(ie);return r(ke=>[X,...ke]),X}catch(W){return console.error("Error adding property:",W),y(W.message||"Failed to add property"),null}finally{g(!1)}},B=async(R,W)=>{if(!Ke){y("Supabase client not initialized");return}g(!0),y(null);try{const Z=Ej(W);Z.updated_at=new Date().toISOString();const{error:ie}=await Ke.from("properties").update(Z).eq("id",R);if(ie)throw ie;r(re=>re.map(X=>X.id===R?{...X,...W,updatedAt:Z.updated_at}:X))}catch(Z){console.error("Error updating property:",Z),y(Z.message||"Failed to update property")}finally{g(!1)}},H=async R=>{if(!Ke){y("Supabase client not initialized");return}try{const{error:W}=await Ke.from("properties").delete().eq("id",R);if(W)throw W;r(Z=>Z.filter(ie=>ie.id!==R)),s(Z=>Z.filter(ie=>ie!==R))}catch(W){console.error("Error deleting property:",W),y(W.message||"Failed to delete property")}},I=async R=>{if(!Ke){y("Supabase client not initialized");return}try{const{error:W}=await Ke.from("properties").delete().in("id",R);if(W)throw W;r(Z=>Z.filter(ie=>!R.includes(ie.id))),s(Z=>Z.filter(ie=>!R.includes(ie)))}catch(W){console.error("Error deleting properties:",W),y(W.message||"Failed to delete properties")}},D=async R=>{const W=t.find(ie=>ie.id===R);if(!W)return null;const Z={...W,title:`${W.title} (Copy)`,published:!1,draft:!0,analytics:{views:0,inquiries:0,favorites:0,shares:0}};return delete Z.id,delete Z.createdAt,delete Z.updatedAt,await S(Z)},C=R=>t.find(W=>W.id===R),G=R=>s(W=>W.includes(R)?W:[...W,R]),O=R=>s(W=>W.filter(Z=>Z!==R)),V=()=>s(w.map(R=>R.id)),Y=()=>s([]),ee=async(R,W)=>{if(!Ke){y("Supabase client not initialized");return}try{const{error:Z}=await Ke.from("properties").update({status:W,updated_at:new Date().toISOString()}).in("id",R);if(Z)throw Z;r(ie=>ie.map(re=>R.includes(re.id)?{...re,status:W,updatedAt:new Date().toISOString()}:re))}catch(Z){console.error("Error updating statuses:",Z),y(Z.message||"Failed to update statuses")}},he=R=>{o(R),h(W=>({...W,page:1}))},de=()=>{o({}),h(R=>({...R,page:1}))},xe=R=>h(W=>({...W,page:R})),oe=R=>h(W=>({...W,limit:R,page:1})),fe=async R=>{var Z;if(!Ke)return;const W=t.find(ie=>ie.id===R);if(W)try{await Ke.from("properties").update({views:(((Z=W.analytics)==null?void 0:Z.views)||0)+1}).eq("id",R),r(ie=>ie.map(re=>{var X;return re.id===R?{...re,analytics:{...re.analytics,views:(((X=re.analytics)==null?void 0:X.views)||0)+1}}:re}))}catch(ie){console.error("Error incrementing views:",ie)}},Se=async R=>{var Z;if(!Ke)return;const W=t.find(ie=>ie.id===R);if(W)try{await Ke.from("properties").update({inquiries:(((Z=W.analytics)==null?void 0:Z.inquiries)||0)+1}).eq("id",R),r(ie=>ie.map(re=>{var X;return re.id===R?{...re,analytics:{...re.analytics,inquiries:(((X=re.analytics)==null?void 0:X.inquiries)||0)+1}}:re}))}catch(ie){console.error("Error incrementing inquiries:",ie)}},K=(R,W)=>{const Z=W?t.filter(ie=>W.includes(ie.id)):w;if(R==="json"){const ie=JSON.stringify(Z,null,2),re=new Blob([ie],{type:"application/json"}),X=URL.createObjectURL(re),ke=document.createElement("a");ke.href=X,ke.download="properties.json",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(X)}else if(R==="csv"){const ie=["ID","Title","Type","Status","Price","Bedrooms","Bathrooms","City"],re=Z.map(Ye=>{var ce;return[Ye.id,`"${Ye.title}"`,Ye.propertyType,Ye.status,((ce=Ye.price)==null?void 0:ce.amount)||0,Ye.bedrooms||0,Ye.bathrooms||0,Ye.city||""]}),X=[ie.join(","),...re.map(Ye=>Ye.join(","))].join(`
`),ke=new Blob([X],{type:"text/csv"}),Pe=URL.createObjectURL(ke),De=document.createElement("a");De.href=Pe,De.download="properties.csv",document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(Pe)}},A=R=>(Sj[R.currency]||Sj.USD).format(R.amount),q=(R,W)=>`${new Intl.NumberFormat().format(R)} ${{sqft:"sq ft",sqm:"sq m",acres:"acres",hectares:"ha"}[W]}`,F=()=>({total:t.length,available:t.filter(R=>R.status==="available").length,sold:t.filter(R=>R.status==="sold").length,rented:t.filter(R=>R.status==="rented").length,pending:t.filter(R=>R.status==="pending").length});return n.jsx(dC.Provider,{value:{properties:t,filteredProperties:w,selectedProperties:a,filters:i,sort:l,pagination:u,loading:f,error:m,fetchProperties:x,addProperty:S,updateProperty:B,deleteProperty:H,deleteProperties:I,duplicateProperty:D,getProperty:C,uploadImages:k,selectProperty:G,deselectProperty:O,selectAllProperties:V,clearSelection:Y,bulkUpdateStatus:ee,setFilters:he,clearFilters:de,setSort:c,setPage:xe,setLimit:oe,incrementViews:fe,incrementInquiries:Se,exportProperties:K,formatPrice:A,formatArea:q,getPropertyStats:F},children:e})},uC=P.createContext(void 0),D_=()=>{const e=P.useContext(uC);if(!e)throw new Error("useLeads must be used within LeadProvider");return e},Tz=({children:e})=>{const[t,r]=P.useState([]);P.useEffect(()=>{const l=localStorage.getItem("leads");if(l)try{r(JSON.parse(l))}catch(c){console.error("Error loading leads:",c);const u=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",phone:"+1 (555) 234-5678",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 345-6789",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];r(u),localStorage.setItem("leads",JSON.stringify(u))}else{const c=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",phone:"+1 (555) 234-5678",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 345-6789",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];r(c),localStorage.setItem("leads",JSON.stringify(c))}},[]),P.useEffect(()=>{localStorage.setItem("leads",JSON.stringify(t))},[t]);const a=l=>{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r(u=>[...u,c]),c},s=(l,c)=>{r(u=>u.map(h=>h.id===l?{...h,...c,updatedAt:new Date().toISOString()}:h))},i=l=>{r(c=>c.filter(u=>u.id!==l))},o=l=>t.find(c=>c.id===l);return n.jsx(uC.Provider,{value:{leads:t,addLead:a,updateLead:s,deleteLead:i,getLead:o},children:e})},hC=P.createContext(),Cz=()=>{const e=P.useContext(hC);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Lz=({children:e})=>{const[t,r]=P.useState(()=>(typeof window<"u"&&(window.location.pathname.startsWith("/user/dashboard"),document.documentElement.classList.remove("dark")),"light"));P.useEffect(()=>{if(typeof window<"u"){const s=window.location.pathname.startsWith("/user/dashboard"),i=document.documentElement;s?(i.classList.remove("dark"),t!=="light"&&r("light")):t==="dark"?i.classList.add("dark"):i.classList.remove("dark");const o=()=>{window.location.pathname.startsWith("/user/dashboard")&&(i.classList.remove("dark"),t!=="light"&&r("light"))};return window.addEventListener("popstate",o),window.addEventListener("pushstate",o),window.addEventListener("replacestate",o),()=>{window.removeEventListener("popstate",o),window.removeEventListener("pushstate",o),window.removeEventListener("replacestate",o)}}},[t,r]);const a=s=>{typeof window<"u"&&window.location.pathname.startsWith("/user/dashboard")&&s==="dark"||r(s)};return n.jsx(hC.Provider,{value:{theme:t,toggleTheme:a},children:e})},fC=P.createContext(null),Pz=({children:e})=>{const[t,r]=P.useState(null),[a,s]=P.useState(null),[i,o]=P.useState(null),[l,c]=P.useState(!0),[u,h]=P.useState(!1),[f,g]=P.useState(null),m=P.useCallback(async B=>{if(!Un()||!Ke||!B)return null;h(!0);try{const{data:H,error:I}=await Ke.from("profiles").select("*").eq("id",B).single();return I?I.code==="PGRST116"?(console.log("Profile not found, may need to be created"),null):(console.error("Error fetching profile:",I),null):(o(H),H)}catch(H){return console.error("Failed to fetch profile:",H),null}finally{h(!1)}},[]),y=async B=>{if(!Un()||!Ke||!(a!=null&&a.id))return g("Cannot update profile: not authenticated"),{error:"Not authenticated"};h(!0);try{const{data:H,error:I}=await Ke.from("profiles").update({...B,updated_at:new Date().toISOString()}).eq("id",a.id).select().single();return I?(console.error("Error updating profile:",I),g(I.message),{error:I.message}):(o(H),{data:H})}catch(H){return console.error("Failed to update profile:",H),g(H.message),{error:H.message}}finally{h(!1)}},x=async B=>{var H,I;if(!Un()||!Ke||!(a!=null&&a.id))return{error:"Not authenticated"};try{const{data:D,error:C}=await Ke.from("profiles").insert({id:a.id,email:a.email,full_name:(B==null?void 0:B.full_name)||((H=a.user_metadata)==null?void 0:H.full_name)||"",role:(B==null?void 0:B.role)||((I=a.user_metadata)==null?void 0:I.role)||"user",...B}).select().single();return C?C.code==="23505"?await m(a.id):(console.error("Error creating profile:",C),{error:C.message}):(o(D),{data:D})}catch(D){return console.error("Failed to create profile:",D),{error:D.message}}};P.useEffect(()=>{if(!Un()||!Ke){console.warn("Supabase is not configured. Auth features will not work."),c(!1);return}Ke.auth.getSession().then(async({data:H,error:I})=>{var D,C;I?(console.error("Error getting session:",I),g(I.message)):(r(H.session),s(((D=H.session)==null?void 0:D.user)??null),(C=H.session)!=null&&C.user&&await m(H.session.user.id)),c(!1)}).catch(H=>{console.error("Failed to get session:",H),g("Failed to initialize authentication"),c(!1)});const{data:B}=Ke.auth.onAuthStateChange(async(H,I)=>{console.log("Auth state changed:",H),r(I),s((I==null?void 0:I.user)??null),c(!1),g(null),H==="SIGNED_IN"&&(I!=null&&I.user)&&await m(I.user.id),H==="SIGNED_OUT"&&o(null)});return()=>{var H;(H=B==null?void 0:B.subscription)==null||H.unsubscribe()}},[m]);const N=async()=>{if(!Un()||!Ke){console.warn("Supabase is not configured");return}try{const{error:B}=await Ke.auth.signOut();if(B)throw B;r(null),s(null),o(null)}catch(B){console.error("Sign out error:",B),g(B.message)}},b=()=>{var B;return i!=null&&i.full_name?i.full_name:(B=a==null?void 0:a.user_metadata)!=null&&B.full_name?a.user_metadata.full_name:a!=null&&a.email?a.email.split("@")[0]:"User"},w=()=>{var B;return i!=null&&i.role?i.role:(B=a==null?void 0:a.user_metadata)!=null&&B.role?a.user_metadata.role:"user"},k=()=>{var B;return i!=null&&i.avatar_url?i.avatar_url:(B=a==null?void 0:a.user_metadata)!=null&&B.avatar_url?a.user_metadata.avatar_url:null},S={session:t,user:a,profile:i,loading:l,profileLoading:u,error:f,signOut:N,isAuthenticated:!!t,isSupabaseConfigured:Un(),fetchProfile:m,updateProfile:y,createProfile:x,getDisplayName:b,getRole:w,getAvatarUrl:k};return n.jsx(fC.Provider,{value:S,children:e})},Z1=()=>{const e=P.useContext(fC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},mC=P.createContext(),Ff=()=>{const e=P.useContext(mC);if(!e)throw new Error("useMessages must be used within a MessagesProvider");return e},Tj=[{id:"1",agentId:"agent-1",agentName:"Sarah Johnson",agentAgency:"Prime Realty Group",agentAvatar:null,agentEmail:"sarah@primerealty.com",agentPhone:"+1 (555) 123-4567",isOnline:!0,propertyId:"prop-1",propertyTitle:"Modern Downtown Apartment",propertyAddress:"123 Main St, Downtown",propertyImage:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400",propertyPrice:45e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-12e4).toISOString(),unreadCount:2,messages:[{id:"msg-1",senderId:"agent-1",senderType:"agent",text:"Hi! I have some properties that might interest you.",timestamp:new Date(Date.now()-12e4).toISOString(),read:!0,delivered:!0,attachments:[]},{id:"msg-2",senderId:"user",senderType:"user",text:"Hello! I'm interested in learning more about the Modern Downtown Apartment.",timestamp:new Date(Date.now()-6e4).toISOString(),read:!0,delivered:!0,attachments:[]}]},{id:"2",agentId:"agent-2",agentName:"Michael Chen",agentAgency:"Elite Properties",agentAvatar:null,agentEmail:"michael@eliteproperties.com",agentPhone:"+1 (555) 234-5678",isOnline:!1,propertyId:"prop-2",propertyTitle:"Luxury Suburban Home",propertyAddress:"456 Oak Avenue, Suburbs",propertyImage:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=400",propertyPrice:75e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-36e5).toISOString(),unreadCount:0,messages:[{id:"msg-3",senderId:"agent-2",senderType:"agent",text:"Thank you for your interest. Let me know if you have any questions.",timestamp:new Date(Date.now()-36e5).toISOString(),read:!0,delivered:!0,attachments:[]}]},{id:"3",agentId:"agent-3",agentName:"Emily Rodriguez",agentAgency:"City View Realty",agentAvatar:null,agentEmail:"emily@cityview.com",agentPhone:"+1 (555) 345-6789",isOnline:!0,propertyId:"prop-3",propertyTitle:"Cozy Family Home",propertyAddress:"789 Pine Street, Residential",propertyImage:"https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=400",propertyPrice:32e4,isArchived:!1,isMuted:!1,lastActivity:new Date(Date.now()-108e5).toISOString(),unreadCount:1,messages:[{id:"msg-4",senderId:"agent-3",senderType:"agent",text:"The viewing is scheduled for tomorrow at 3 PM.",timestamp:new Date(Date.now()-108e5).toISOString(),read:!1,delivered:!0,attachments:[]}]}],Mz=["Is this property still available?","Can I schedule a viewing?","What are the property details?","What's the best time to contact you?","I'm interested in this property."],Rz=({children:e})=>{const[t,r]=P.useState(()=>{if(typeof window<"u"){const I=localStorage.getItem("estospaces-conversations");if(I)try{return JSON.parse(I)}catch{return Tj}}return Tj}),[a,s]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState(""),[u,h]=P.useState(!1);P.useEffect(()=>{typeof window<"u"&&localStorage.setItem("estospaces-conversations",JSON.stringify(t))},[t]);const f=t.reduce((I,D)=>I+(D.isArchived?0:D.unreadCount),0),g=P.useCallback(()=>{let I=[...t];switch(i){case"unread":I=I.filter(D=>!D.isArchived&&D.unreadCount>0);break;case"archived":I=I.filter(D=>D.isArchived);break;case"property-specific":break;case"all":default:I=I.filter(D=>!D.isArchived);break}if(l.trim()){const D=l.toLowerCase();I=I.filter(C=>{var ee,he;const G=C.agentName.toLowerCase().includes(D),O=C.agentAgency.toLowerCase().includes(D),V=((ee=C.propertyTitle)==null?void 0:ee.toLowerCase().includes(D))||((he=C.propertyAddress)==null?void 0:he.toLowerCase().includes(D)),Y=C.messages.some(de=>de.text.toLowerCase().includes(D));return G||O||V||Y})}return I.sort((D,C)=>new Date(C.lastActivity)-new Date(D.lastActivity))},[t,i,l]),m=P.useCallback((I,D)=>{const C={id:`conv-${Date.now()}`,agentId:I.id||`agent-${Date.now()}`,agentName:I.name,agentAgency:I.agency||"",agentAvatar:I.avatar||null,agentEmail:I.email||"",agentPhone:I.phone||"",isOnline:I.isOnline||!1,propertyId:(D==null?void 0:D.id)||null,propertyTitle:(D==null?void 0:D.title)||null,propertyAddress:(D==null?void 0:D.address)||null,propertyImage:(D==null?void 0:D.image)||null,propertyPrice:(D==null?void 0:D.price)||null,isArchived:!1,isMuted:!1,lastActivity:new Date().toISOString(),unreadCount:0,messages:[]};return r(G=>[C,...G]),s(C.id),C.id},[]),y=P.useCallback((I,D,C=[])=>{if(!D.trim()&&C.length===0)return;const G={id:`msg-${Date.now()}`,senderId:"user",senderType:"user",text:D.trim(),timestamp:new Date().toISOString(),read:!1,delivered:!1,attachments:C.map(O=>({id:`att-${Date.now()}-${Math.random()}`,name:O.name,type:O.type,url:O.url||URL.createObjectURL(O.file),size:O.size}))};r(O=>O.map(V=>V.id===I?{...V,messages:[...V.messages,G],lastActivity:new Date().toISOString()}:V)),setTimeout(()=>{r(O=>O.map(V=>V.id===I?{...V,messages:V.messages.map(Y=>Y.id===G.id?{...Y,delivered:!0,read:!0}:Y)}:V))},500),setTimeout(()=>{const O=t.find(V=>V.id===I);if(O&&Math.random()>.5){const V=["Thanks for your message! I'll get back to you shortly.","I'll check on that and get back to you.","Great question! Let me find that information for you."],Y=V[Math.floor(Math.random()*V.length)],ee={id:`msg-${Date.now()}-agent`,senderId:O.agentId,senderType:"agent",text:Y,timestamp:new Date().toISOString(),read:!1,delivered:!0,attachments:[]};r(he=>he.map(de=>de.id===I?{...de,messages:[...de.messages,ee],lastActivity:new Date().toISOString(),unreadCount:de.unreadCount+1}:de))}},2e3)},[t]),x=P.useCallback(I=>{r(D=>D.map(C=>C.id===I?{...C,unreadCount:0,messages:C.messages.map(G=>({...G,read:!0}))}:C))},[]),N=P.useCallback(I=>{r(D=>D.map(C=>C.id===I?{...C,isArchived:!0}:C))},[]),b=P.useCallback(I=>{r(D=>D.map(C=>C.id===I?{...C,isArchived:!1}:C))},[]),w=P.useCallback(I=>{r(D=>D.map(C=>C.id===I?{...C,isMuted:!0}:C))},[]),k=P.useCallback(I=>{r(D=>D.map(C=>C.id===I?{...C,isMuted:!1}:C))},[]),S=P.useCallback(I=>{r(D=>D.filter(C=>C.id!==I)),a===I&&s(null)},[a]),B=P.useCallback(I=>t.find(D=>D.id===I),[t]),H={conversations:g(),allConversations:t,selectedConversationId:a,setSelectedConversationId:s,filter:i,setFilter:o,searchQuery:l,setSearchQuery:c,isLoading:u,totalUnreadCount:f,createConversation:m,sendMessage:y,markAsRead:x,archiveConversation:N,unarchiveConversation:b,muteConversation:w,unmuteConversation:k,deleteConversation:S,getConversation:B,quickReplyTemplates:Mz};return n.jsx(mC.Provider,{value:H,children:e})},gC=P.createContext(null),Oz=({children:e})=>{const t=Wn(),r=vr(),a=P.useCallback(()=>{if(t.pathname==="/user/dashboard/discover"){const c=new URLSearchParams(t.search).get("type");if(c==="buy"||c==="sale")return"buy";if(c==="rent")return"rent"}return"all"},[t]),[s,i]=P.useState(a),o=P.useCallback(l=>{if(i(l),t.pathname==="/user/dashboard/discover"){const c=new URLSearchParams(t.search);l==="all"?c.delete("type"):l==="buy"?c.set("type","buy"):l==="rent"&&c.set("type","rent"),r(`/user/dashboard/discover?${c.toString()}`,{replace:!0})}else r(l==="all"?"/user/dashboard/discover":`/user/dashboard/discover?type=${l}`)},[t,r]);return oc.useEffect(()=>{const l=a();l!==s&&i(l)},[t.pathname,t.search]),n.jsx(gC.Provider,{value:{activeTab:s,setActiveTab:o,getApiType:()=>s==="buy"?"buy":s==="rent"?"rent":"all"},children:e})},I_=()=>{const e=P.useContext(gC);if(!e)throw new Error("usePropertyFilter must be used within PropertyFilterProvider");return e},pC=P.createContext(),Bf=()=>{const e=P.useContext(pC);if(!e)throw new Error("useSavedProperties must be used within a SavedPropertiesProvider");return e},Dz=({children:e})=>{const[t,r]=P.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("saved-properties");if(l)try{return JSON.parse(l)}catch{return[]}}return[]});P.useEffect(()=>{typeof window<"u"&&localStorage.setItem("saved-properties",JSON.stringify(t))},[t]);const a=l=>{r(c=>c.some(h=>h.id===l.id)?c:[...c,l])},s=l=>{r(c=>c.filter(u=>u.id!==l))},i=l=>{r(c=>c.some(h=>h.id===l.id)?c.filter(h=>h.id!==l.id):[...c,l])},o=l=>t.some(c=>c.id===l);return n.jsx(pC.Provider,{value:{savedProperties:t,saveProperty:a,removeProperty:s,toggleProperty:i,isPropertySaved:o},children:e})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Cj=e=>{const t=Fz(e);return t.charAt(0).toUpperCase()+t.slice(1)},xC=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),Bz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...zz,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:xC("lucide",s),...!i&&!Bz(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>P.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const r=P.forwardRef(({className:a,...s},i)=>P.createElement(Uz,{ref:i,iconNode:t,className:xC(`lucide-${Iz(Cj(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Cj(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],yC=Xe("archive",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],$z=Xe("arrow-down-wide-narrow",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lc=Xe("arrow-left",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mh=Xe("arrow-right",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Yz=Xe("arrow-up-down",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Zz=Xe("arrow-up-narrow-wide",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vC=Xe("award",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Y0=Xe("badge-check",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],gh=Xe("bath",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],cu=Xe("bed",eU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],rU=Xe("bell-off",tU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],du=Xe("bell",aU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],sU=Xe("bold",nU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],xm=Xe("book",iU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_l=Xe("bot",oU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cU=Xe("briefcase",lU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],cc=Xe("building-2",dU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Hs=Xe("building",uU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],fU=Xe("calendar-check",hU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bi=Xe("calendar",mU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gy=Xe("camera",gU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],F_=Xe("car",pU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],B_=Xe("chart-column",xU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Lj=Xe("check-check",yU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ph=Xe("check",vU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xf=Xe("chevron-down",bU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sc=Xe("chevron-left",wU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Al=Xe("chevron-right",_U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ba=Xe("circle-alert",NU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ar=Xe("circle-check-big",kU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SU=Xe("circle-check",jU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bC=Xe("circle-question-mark",AU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],TU=Xe("circle-user",EU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],As=Xe("circle-x",CU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wC=Xe("circle",LU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ya=Xe("clock",PU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yy=Xe("copy",MU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],X1=Xe("credit-card",RU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],El=Xe("dollar-sign",OU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Es=Xe("download",DU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],wb=Xe("dumbbell",IU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ky=Xe("ellipsis-vertical",FU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],z_=Xe("external-link",BU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_C=Xe("eye-off",zU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fa=Xe("eye",UU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],qU=Xe("file-braces",VU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Zm=Xe("file-check",$U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Xm=Xe("file-down",HU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Jm=Xe("file-spreadsheet",WU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Or=Xe("file-text",GU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],KU=Xe("file",YU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Do=Xe("funnel",ZU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U_=Xe("globe",XU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],V_=Xe("grid-3x3",JU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Pj=Xe("headphones",QU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ed=Xe("heart",eV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mr=Xe("house",tV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],q_=Xe("image",rV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Mj=Xe("inbox",aV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sV=Xe("info",nV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],NC=Xe("instagram",iV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],lV=Xe("italic",oV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],dV=Xe("key",cV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dg=Xe("layout-dashboard",uV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kC=Xe("lightbulb",hV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],mV=Xe("link-2",fV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],pV=Xe("link",gV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],jC=Xe("linkedin",xV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],$_=Xe("list",yV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oo=Xe("loader-circle",vV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Rj=Xe("log-in",bV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_V=Xe("lock",wV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zy=Xe("log-out",NV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wn=Xe("mail",kV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aa=Xe("map-pin",jV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yf=Xe("map",SV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],vf=Xe("maximize",AV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TV=Xe("menu",EV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Qm=Xe("message-circle",CV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Uo=Xe("message-square",LV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],SC=Xe("mic-off",PV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Lw=Xe("mic",MV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],OV=Xe("mouse-pointer-2",RV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],IV=Xe("navigation",DV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],BV=Xe("network",FV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],UV=Xe("palette",zV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],AC=Xe("paperclip",VV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],id=Xe("phone",qV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HV=Xe("play",$V);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cl=Xe("plus",WV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],YV=Xe("receipt",GV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ZV=Xe("rocket",KV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JV=Xe("rotate-ccw",XV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eq=Xe("save",QV);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],us=Xe("search",tq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Eh=Xe("send",rq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qc=Xe("settings",aq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Io=Xe("share-2",nq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nu=Xe("shield",sq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Oj=Xe("shopping-bag",iq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Dj=Xe("shopping-cart",oq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],EC=Xe("smile",lq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],dq=Xe("sofa",cq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],TC=Xe("sparkles",uq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ij=Xe("square-check-big",hq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qo=Xe("square-pen",fq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Fj=Xe("square",mq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kl=Xe("star",gq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xy=Xe("target",pq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ss=Xe("trash-2",xq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Bj=Xe("tree-pine",yq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Jy=Xe("trending-down",vq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vn=Xe("trending-up",bq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],CC=Xe("twitter",wq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Nq=Xe("underline",_q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hp=Xe("upload",kq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jx=Xe("user-check",jq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Pw=Xe("user-plus",Sq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nn=Xe("user",Aq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uu=Xe("users",Eq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Cq=Xe("utensils-crossed",Tq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mw=Xe("video",Lq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],zj=Xe("waves",Pq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Uj=Xe("wifi",Mq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Oq=Xe("wrench",Rq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xr=Xe("x",Dq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bf=Xe("zap",Iq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Bq=Xe("zoom-in",Fq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Uq=Xe("zoom-out",zq),Vq=({isOpen:e,onClose:t,onVerified:r,email:a,phone:s})=>{const[i,o]=P.useState("email"),[l,c]=P.useState(""),[u,h]=P.useState(""),[f,g]=P.useState(!1),[m,y]=P.useState(!1),[x,N]=P.useState(!1),[b,w]=P.useState(""),k=()=>{g(!0),w(""),console.log("Verification code sent to:",a)},S=()=>{y(!0),w(""),console.log("Verification code sent to:",s)},B=()=>{if(!l.trim()){w("Please enter the verification code");return}N(!0),w(""),setTimeout(()=>{N(!1),l.length===6?o(s?"phone":"complete"):w("Invalid verification code. Please try again.")},1e3)},H=()=>{if(!u.trim()){w("Please enter the verification code");return}N(!0),w(""),setTimeout(()=>{N(!1),u.length===6?o("complete"):w("Invalid verification code. Please try again.")},1e3)},I=()=>{r(),t(),o("email"),c(""),h(""),g(!1),y(!1)},D=()=>{t(),o("email"),c(""),h(""),g(!1),y(!1),w("")};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[n.jsx("button",{onClick:D,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(xr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),i==="email"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(wn,{className:"w-8 h-8 text-primary"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verify Your Email"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["We'll send a verification code to ",n.jsx("span",{className:"font-medium",children:a})]})]}),f?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Verification Code"}),n.jsx("input",{type:"text",value:l,onChange:C=>{c(C.target.value.replace(/\D/g,"").slice(0,6)),w("")},placeholder:"000000",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",maxLength:6}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Code sent to ",a]})]}),b&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Resend Code"}),n.jsxs("button",{onClick:B,disabled:x||l.length!==6,className:"flex-1 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[x?"Verifying...":"Verify",!x&&n.jsx(mh,{className:"w-4 h-4"})]})]})]}):n.jsx("div",{className:"space-y-4",children:n.jsx("button",{onClick:k,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Send Verification Code"})})]}),i==="phone"&&s&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(id,{className:"w-8 h-8 text-primary"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verify Your Phone"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["We'll send a verification code to ",n.jsx("span",{className:"font-medium",children:s})]})]}),m?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Verification Code"}),n.jsx("input",{type:"text",value:u,onChange:C=>{h(C.target.value.replace(/\D/g,"").slice(0,6)),w("")},placeholder:"000000",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",maxLength:6}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Code sent to ",s]})]}),b&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>o("email"),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[n.jsx(lc,{className:"w-4 h-4"}),"Back"]}),n.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Resend Code"}),n.jsxs("button",{onClick:H,disabled:x||u.length!==6,className:"flex-1 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[x?"Verifying...":"Verify",!x&&n.jsx(mh,{className:"w-4 h-4"})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:S,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Send Verification Code"}),n.jsxs("button",{onClick:()=>o("email"),className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors flex items-center justify-center gap-2",children:[n.jsx(lc,{className:"w-4 h-4"}),"Back to Email"]})]})]}),i==="complete"&&n.jsxs("div",{className:"space-y-4 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ar,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verification Complete!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your account has been successfully verified. You can now access all features."}),n.jsx("button",{onClick:I,className:"w-full px-4 py-3 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors font-medium",children:"Continue"})]})]})}):null},qq=({isOpen:e,onToggle:t})=>{var S;const r=Wn(),a=vr(),{user:s,profile:i,getDisplayName:o,signOut:l}=Z1(),c=o?o():((S=s==null?void 0:s.email)==null?void 0:S.split("@")[0])||"Property Manager",u=(s==null?void 0:s.email)||(i==null?void 0:i.email)||"",[h,f]=P.useState(()=>i!=null&&i.is_verified?!0:localStorage.getItem("managerVerified")==="true"),[g,m]=P.useState(!1),[y,x]=P.useState(!1),N=()=>{f(!0),localStorage.setItem("managerVerified","true")},b=async()=>{x(!0);try{l&&await l(),a("/")}catch(B){console.error("Error signing out:",B),a("/")}finally{x(!1)}},w=[{icon:Dg,label:"Dashboard",path:"/manager/dashboard"},{icon:cc,label:"Properties",path:"/manager/dashboard/properties"},{icon:uu,label:"Leads & Clients",path:"/manager/dashboard/leads"},{icon:Or,label:"Applications",path:"/manager/dashboard/application"},{icon:bi,label:"Appointments",path:"/manager/dashboard/appointment"},{icon:Uo,label:"Messages",path:"/manager/dashboard/messages"},{icon:B_,label:"Analytics",path:"/manager/dashboard/analytics"},{icon:X1,label:"Billing",path:"/manager/dashboard/billing"}],k=[{icon:TU,label:"Profile",path:"/manager/dashboard/profile"},{icon:bC,label:"Help & Support",path:"/manager/dashboard/help"}];return n.jsxs("div",{className:`fixed left-0 top-0 h-full bg-white dark:bg-black shadow-lg transition-all duration-300 z-50 font-sans ${e?"w-64":"w-20"}`,children:[n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),e&&n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white transition-colors duration-300",children:"Estospaces"})})]})}),n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0 transition-colors duration-300",children:n.jsx(Nn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300 transition-colors duration-300"})}),e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white transition-colors duration-300 truncate",children:c}),h?n.jsx(Y0,{className:"w-4 h-4 text-primary flex-shrink-0"}):n.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-primary/10 hover:bg-primary/20 text-primary rounded-md transition-colors",title:"Verify your account",children:[n.jsx(nu,{className:"w-3 h-3"}),n.jsx("span",{children:"Verify"})]})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate transition-colors duration-300",children:u})]})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:n.jsx("ul",{className:"space-y-2",children:w.map((B,H)=>{const I=B.icon,D=r.pathname===B.path;return n.jsx("li",{children:n.jsxs(Ql,{to:B.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 group ${D?"bg-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white hover:scale-[1.02] hover:shadow-sm hover:brightness-105 dark:hover:brightness-110"}`,children:[n.jsx(I,{className:`w-5 h-5 transition-transform duration-300 ${!D&&"group-hover:scale-110"}`}),e&&n.jsx("span",{className:`menu-item transition-all duration-300 ${!D&&"group-hover:translate-x-1"}`,children:B.label})]})},H)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsx("ul",{className:"space-y-2",children:k.map((B,H)=>{const I=B.icon,D=r.pathname===B.path;return n.jsx("li",{children:n.jsxs(Ql,{to:B.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 group ${D?"bg-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white hover:scale-[1.02] hover:shadow-sm hover:brightness-105 dark:hover:brightness-110"}`,children:[n.jsx(I,{className:`w-5 h-5 transition-transform duration-300 ${!D&&"group-hover:scale-110"}`}),e&&n.jsx("span",{className:`menu-item transition-all duration-300 ${!D&&"group-hover:translate-x-1"}`,children:B.label})]})},H)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 transition-colors duration-300",children:n.jsxs("button",{onClick:b,disabled:y,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300 group hover:scale-[1.02] hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Zy,{className:`w-5 h-5 flex-shrink-0 transition-transform duration-300 ${y?"animate-spin":"group-hover:scale-110 group-hover:rotate-12"}`}),e&&n.jsx("span",{className:"text-sm font-medium transition-all duration-300 group-hover:translate-x-1",children:y?"Signing out...":"Sign out"})]})})]}),n.jsx(Vq,{isOpen:g,onClose:()=>m(!1),onVerified:N,email:u||"manager@estospaces.com",phone:(i==null?void 0:i.phone)||"+1 (555) 123-4567"})]})},$q=({onMenuToggle:e})=>{const t=vr(),[r,a]=P.useState(""),[s,i]=P.useState(!1),o=P.useRef(null),{theme:l,setTheme:c}=Cz(),u=[{value:"light",label:"Light"},{value:"dark",label:"Dark"}];P.useEffect(()=>{const f=g=>{o.current&&!o.current.contains(g.target)&&i(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const h=f=>{c(f),i(!1)};return n.jsx("header",{className:"bg-white dark:bg-black shadow-sm border-b border-gray-200 dark:border-gray-800 sticky top-0 z-40 font-sans transition-colors duration-300",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[n.jsx("h1",{className:"page-title text-gray-800 dark:text-white transition-colors duration-300",children:"Manager Dashboard"}),n.jsx("div",{className:"flex-1 max-w-md",children:n.jsxs("div",{className:"relative group",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500 group-focus-within:text-primary transition-colors duration-200"}),n.jsx("input",{type:"text",placeholder:"AI-powered search...",value:r,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary focus:bg-white dark:focus:bg-gray-800 shadow-sm hover:shadow-md transition-all duration-200"})]})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",ref:o,children:[n.jsx("button",{onClick:()=>i(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors duration-300",title:"Theme",children:n.jsx(UV,{className:"w-6 h-6"})}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-black rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 py-2 z-50 transition-colors duration-300",children:[n.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-800",children:n.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Select Theme"})}),u.map(f=>n.jsxs("button",{onClick:()=>h(f.value),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-900 active:bg-gray-200 dark:active:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 transition-colors duration-300 flex items-center justify-between ${l===f.value?"bg-primary/10 dark:bg-primary/20 text-primary font-medium active:text-primary dark:active:text-primary":"text-gray-700 dark:text-gray-300"}`,children:[n.jsx("span",{children:f.label}),l===f.value&&n.jsx("span",{className:"text-primary",children:""})]},f.value))]})]}),n.jsxs("button",{className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:[n.jsx(du,{className:"w-6 h-6"}),n.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),n.jsx("button",{onClick:()=>t("/manager/dashboard/profile"),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",title:"Profile",children:n.jsx(Nn,{className:"w-6 h-6"})})]})]})})})},mi=({children:e})=>{const[t,r]=P.useState(!0);return n.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-black font-sans transition-colors duration-300",children:[n.jsx(qq,{isOpen:t,onToggle:()=>r(!t)}),n.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${t?"ml-64":"ml-20"}`,children:[n.jsx($q,{onMenuToggle:()=>r(!t)}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6 font-sans bg-gray-50 dark:bg-black transition-colors duration-300",children:e})]})]})},gi=({children:e})=>{const[t,r]=P.useState(!0),[a,s]=P.useState(!1),[i,o]=P.useState(!1),l=Wn();return P.useEffect(()=>{if((async()=>{var h,f;if(!Un()){s(!1),o(!1),r(!1);return}try{const{data:{session:g}}=await Ke.auth.getSession();if(!g){s(!1),o(!1),r(!1);return}s(!0);const m=(f=(h=g.user)==null?void 0:h.user_metadata)==null?void 0:f.role;m==="manager"&&o(!0);const{data:y,error:x}=await Ke.from("profiles").select("role").eq("id",g.user.id).single();x?(console.log("Profile fetch result:",x.code,x.message),x.code!=="PGRST116"&&y?o(!1):x.code==="PGRST116"?(console.log("Profile not found, using user_metadata role:",m),o(m==="manager")):(console.warn("Error checking profile, defaulting to false:",x),o(!1))):(y==null?void 0:y.role)==="manager"?o(!0):y!=null&&y.role&&o(!1)}catch(g){console.error("Error checking manager auth:",g),s(!1),o(!1)}finally{r(!1)}})(),!Un())return;const{data:{subscription:u}}=Ke.auth.onAuthStateChange(async(h,f)=>{var m,y;if(!f){s(!1),o(!1);return}s(!0);const g=(y=(m=f.user)==null?void 0:m.user_metadata)==null?void 0:y.role;g==="manager"&&o(!0);try{const{data:x,error:N}=await Ke.from("profiles").select("role").eq("id",f.user.id).single();N?N.code==="PGRST116"?(console.log("Profile not found in auth listener, using user_metadata role:",g),o(g==="manager")):(console.warn("Error fetching profile in auth listener:",N),o(g==="manager")):(x==null?void 0:x.role)==="manager"?o(!0):x!=null&&x.role?o(!1):o(g==="manager")}catch(x){console.error("Error checking profile in auth listener:",x),o(g==="manager")}});return()=>u.unsubscribe()},[]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black transition-colors duration-300",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Verifying access..."})]})}):a?i?e:n.jsx(xw,{to:"/user/dashboard",replace:!0}):n.jsx(xw,{to:"/auth/login",state:{from:l,intendedRole:"manager"},replace:!0})},pi=({children:e})=>{const[t,r]=P.useState(!0),[a,s]=P.useState(!1),i=Wn();return P.useEffect(()=>{if((async()=>{if(!Un()){s(!1),r(!1);return}try{const{data:{session:c}}=await Ke.auth.getSession();s(!!c)}catch(c){console.error("Error checking user auth:",c),s(!1)}finally{r(!1)}})(),!Un())return;const{data:{subscription:l}}=Ke.auth.onAuthStateChange((c,u)=>{s(!!u)});return()=>l.unsubscribe()},[]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#0a0a0a] transition-colors duration-300",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Verifying access..."})]})}):a?e:n.jsx(xw,{to:"/auth/login",state:{from:i,intendedRole:"user"},replace:!0})},Hq=()=>{const e=vr();return n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"page-title text-gray-800 dark:text-white mb-2",children:"Welcome Prajol"}),n.jsx("p",{className:"body-text text-gray-600 dark:text-gray-400",children:"Manage Your Properties, ideas, and grow your business with powerful insight"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Cl,{className:"w-5 h-5"}),"Add Property"]})]}),n.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"3 Active Properties"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"6 Active Leads"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),n.jsx("span",{className:"secondary-label text-gray-700 dark:text-gray-300",children:"6 Applications"})]})]})]})},dx=({title:e,value:t,change:r,icon:a,iconColor:s,trendColor:i})=>n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-800 relative overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:brightness-110 dark:hover:brightness-150",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/20 dark:via-white/10 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-30 dark:group-hover:opacity-20 transition-opacity duration-300 bg-gradient-to-br from-white/50 dark:from-white/30 via-transparent to-transparent"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${s} transition-transform duration-300 group-hover:scale-110 group-hover:shadow-lg`,children:n.jsx(a,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:`flex items-center gap-1 ${i} transition-transform duration-300 group-hover:scale-110`,children:[n.jsx(vn,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:r})]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-1 transition-all duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:t}),n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400",children:e})]})]}),Wq=({activeTab:e,onTabChange:t})=>{const r=[{id:"overview",label:"Overview",icon:Dg},{id:"properties",label:"Properties",icon:cc},{id:"leads",label:"Leads",icon:uu},{id:"application",label:"Application",icon:Or},{id:"analytics",label:"Analytics",icon:B_}];return n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mb-6",children:n.jsx("div",{className:"flex items-center gap-2",children:r.map(a=>{const s=a.icon;return n.jsxs("button",{onClick:()=>t(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e===a.id?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(s,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.id)})})})};function LC(e,t){const r=P.useRef(t);P.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const Gq=1;function Yq(e){return Object.freeze({__version:Gq,map:e})}function Kq(e,t){return Object.freeze({...e,...t})}const PC=P.createContext(null),MC=PC.Provider;function H_(){const e=P.useContext(PC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Zq(e){function t(r,a){const{instance:s,context:i}=e(r).current;return P.useImperativeHandle(a,()=>s),r.children==null?null:oc.createElement(MC,{value:i},r.children)}return P.forwardRef(t)}function Xq(e){function t(r,a){const[s,i]=P.useState(!1),{instance:o}=e(r,i).current;P.useImperativeHandle(a,()=>o),P.useEffect(function(){s&&o.update()},[o,s,r.children]);const l=o._contentNode;return l?HA.createPortal(r.children,l):null}return P.forwardRef(t)}function Jq(e){function t(r,a){const{instance:s}=e(r).current;return P.useImperativeHandle(a,()=>s),null}return P.forwardRef(t)}function RC(e,t){const r=P.useRef();P.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function W_(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function Qq(e,t){return function(a,s){const i=H_(),o=e(W_(a,i),i);return LC(i.map,a.attribution),RC(o.current,a.eventHandlers),t(o.current,i,a,s),o}}var Rw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,a){a(t)})(d0,function(r){var a="1.9.4";function s(d){var p,_,T,U;for(_=1,T=arguments.length;_<T;_++){U=arguments[_];for(p in U)d[p]=U[p]}return d}var i=Object.create||function(){function d(){}return function(p){return d.prototype=p,new d}}();function o(d,p){var _=Array.prototype.slice;if(d.bind)return d.bind.apply(d,_.call(arguments,1));var T=_.call(arguments,2);return function(){return d.apply(p,T.length?T.concat(_.call(arguments)):arguments)}}var l=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function u(d,p,_){var T,U,se,Ee;return Ee=function(){T=!1,U&&(se.apply(_,U),U=!1)},se=function(){T?U=arguments:(d.apply(_,arguments),setTimeout(Ee,p),T=!0)},se}function h(d,p,_){var T=p[1],U=p[0],se=T-U;return d===T&&_?d:((d-U)%se+se)%se+U}function f(){return!1}function g(d,p){if(p===!1)return d;var _=Math.pow(10,p===void 0?6:p);return Math.round(d*_)/_}function m(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function y(d){return m(d).split(/\s+/)}function x(d,p){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?i(d.options):{});for(var _ in p)d.options[_]=p[_];return d.options}function N(d,p,_){var T=[];for(var U in d)T.push(encodeURIComponent(_?U.toUpperCase():U)+"="+encodeURIComponent(d[U]));return(!p||p.indexOf("?")===-1?"?":"&")+T.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(d,p){return d.replace(b,function(_,T){var U=p[T];if(U===void 0)throw new Error("No value provided for variable "+_);return typeof U=="function"&&(U=U(p)),U})}var k=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function S(d,p){for(var _=0;_<d.length;_++)if(d[_]===p)return _;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var I=0;function D(d){var p=+new Date,_=Math.max(0,16-(p-I));return I=p+_,window.setTimeout(d,_)}var C=window.requestAnimationFrame||H("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function O(d,p,_){if(_&&C===D)d.call(p);else return C.call(window,o(d,p))}function V(d){d&&G.call(window,d)}var Y={__proto__:null,extend:s,create:i,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:h,falseFn:f,formatNum:g,trim:m,splitWords:y,setOptions:x,getParamString:N,template:w,isArray:k,indexOf:S,emptyImageUrl:B,requestFn:C,cancelFn:G,requestAnimFrame:O,cancelAnimFrame:V};function ee(){}ee.extend=function(d){var p=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=p.__super__=this.prototype,T=i(_);T.constructor=p,p.prototype=T;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(p[U]=this[U]);return d.statics&&s(p,d.statics),d.includes&&(he(d.includes),s.apply(null,[T].concat(d.includes))),s(T,d),delete T.statics,delete T.includes,T.options&&(T.options=_.options?i(_.options):{},s(T.options,d.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var se=0,Ee=T._initHooks.length;se<Ee;se++)T._initHooks[se].call(this)}},p},ee.include=function(d){var p=this.prototype.options;return s(this.prototype,d),d.options&&(this.prototype.options=p,this.mergeOptions(d.options)),this},ee.mergeOptions=function(d){return s(this.prototype.options,d),this},ee.addInitHook=function(d){var p=Array.prototype.slice.call(arguments,1),_=typeof d=="function"?d:function(){this[d].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function he(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=k(d)?d:[d];for(var p=0;p<d.length;p++)d[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(d,p,_){if(typeof d=="object")for(var T in d)this._on(T,d[T],p);else{d=y(d);for(var U=0,se=d.length;U<se;U++)this._on(d[U],p,_)}return this},off:function(d,p,_){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var T in d)this._off(T,d[T],p);else{d=y(d);for(var U=arguments.length===1,se=0,Ee=d.length;se<Ee;se++)U?this._off(d[se]):this._off(d[se],p,_)}return this},_on:function(d,p,_,T){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(d,p,_)===!1){_===this&&(_=void 0);var U={fn:p,ctx:_};T&&(U.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(U)}},_off:function(d,p,_){var T,U,se;if(this._events&&(T=this._events[d],!!T)){if(arguments.length===1){if(this._firingCount)for(U=0,se=T.length;U<se;U++)T[U].fn=f;delete this._events[d];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Ee=this._listens(d,p,_);if(Ee!==!1){var Be=T[Ee];this._firingCount&&(Be.fn=f,this._events[d]=T=T.slice()),T.splice(Ee,1)}}},fire:function(d,p,_){if(!this.listens(d,_))return this;var T=s({},p,{type:d,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var U=this._events[d];if(U){this._firingCount=this._firingCount+1||1;for(var se=0,Ee=U.length;se<Ee;se++){var Be=U[se],He=Be.fn;Be.once&&this.off(d,He,Be.ctx),He.call(Be.ctx||this,T)}this._firingCount--}}return _&&this._propagateEvent(T),this},listens:function(d,p,_,T){typeof d!="string"&&console.warn('"string" type argument expected');var U=p;typeof p!="function"&&(T=!!p,U=void 0,_=void 0);var se=this._events&&this._events[d];if(se&&se.length&&this._listens(d,U,_)!==!1)return!0;if(T){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(d,p,_,T))return!0}return!1},_listens:function(d,p,_){if(!this._events)return!1;var T=this._events[d]||[];if(!p)return!!T.length;_===this&&(_=void 0);for(var U=0,se=T.length;U<se;U++)if(T[U].fn===p&&T[U].ctx===_)return U;return!1},once:function(d,p,_){if(typeof d=="object")for(var T in d)this._on(T,d[T],p,!0);else{d=y(d);for(var U=0,se=d.length;U<se;U++)this._on(d[U],p,_,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var p in this._eventParents)this._eventParents[p].fire(d.type,s({layer:d.target,propagatedFrom:d.target},d),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var xe=ee.extend(de);function oe(d,p,_){this.x=_?Math.round(d):d,this.y=_?Math.round(p):p}var fe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(d){return this.clone()._add(Se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(Se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new oe(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new oe(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(d){d=Se(d);var p=d.x-this.x,_=d.y-this.y;return Math.sqrt(p*p+_*_)},equals:function(d){return d=Se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=Se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Se(d,p,_){return d instanceof oe?d:k(d)?new oe(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new oe(d.x,d.y):new oe(d,p,_)}function K(d,p){if(d)for(var _=p?[d,p]:d,T=0,U=_.length;T<U;T++)this.extend(_[T])}K.prototype={extend:function(d){var p,_;if(!d)return this;if(d instanceof oe||typeof d[0]=="number"||"x"in d)p=_=Se(d);else if(d=A(d),p=d.min,_=d.max,!p||!_)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=_.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(d){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var p,_;return typeof d[0]=="number"||d instanceof oe?d=Se(d):d=A(d),d instanceof K?(p=d.min,_=d.max):p=_=d,p.x>=this.min.x&&_.x<=this.max.x&&p.y>=this.min.y&&_.y<=this.max.y},intersects:function(d){d=A(d);var p=this.min,_=this.max,T=d.min,U=d.max,se=U.x>=p.x&&T.x<=_.x,Ee=U.y>=p.y&&T.y<=_.y;return se&&Ee},overlaps:function(d){d=A(d);var p=this.min,_=this.max,T=d.min,U=d.max,se=U.x>p.x&&T.x<_.x,Ee=U.y>p.y&&T.y<_.y;return se&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var p=this.min,_=this.max,T=Math.abs(p.x-_.x)*d,U=Math.abs(p.y-_.y)*d;return A(Se(p.x-T,p.y-U),Se(_.x+T,_.y+U))},equals:function(d){return d?(d=A(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function A(d,p){return!d||d instanceof K?d:new K(d,p)}function q(d,p){if(d)for(var _=p?[d,p]:d,T=0,U=_.length;T<U;T++)this.extend(_[T])}q.prototype={extend:function(d){var p=this._southWest,_=this._northEast,T,U;if(d instanceof R)T=d,U=d;else if(d instanceof q){if(T=d._southWest,U=d._northEast,!T||!U)return this}else return d?this.extend(W(d)||F(d)):this;return!p&&!_?(this._southWest=new R(T.lat,T.lng),this._northEast=new R(U.lat,U.lng)):(p.lat=Math.min(T.lat,p.lat),p.lng=Math.min(T.lng,p.lng),_.lat=Math.max(U.lat,_.lat),_.lng=Math.max(U.lng,_.lng)),this},pad:function(d){var p=this._southWest,_=this._northEast,T=Math.abs(p.lat-_.lat)*d,U=Math.abs(p.lng-_.lng)*d;return new q(new R(p.lat-T,p.lng-U),new R(_.lat+T,_.lng+U))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof R||"lat"in d?d=W(d):d=F(d);var p=this._southWest,_=this._northEast,T,U;return d instanceof q?(T=d.getSouthWest(),U=d.getNorthEast()):T=U=d,T.lat>=p.lat&&U.lat<=_.lat&&T.lng>=p.lng&&U.lng<=_.lng},intersects:function(d){d=F(d);var p=this._southWest,_=this._northEast,T=d.getSouthWest(),U=d.getNorthEast(),se=U.lat>=p.lat&&T.lat<=_.lat,Ee=U.lng>=p.lng&&T.lng<=_.lng;return se&&Ee},overlaps:function(d){d=F(d);var p=this._southWest,_=this._northEast,T=d.getSouthWest(),U=d.getNorthEast(),se=U.lat>p.lat&&T.lat<_.lat,Ee=U.lng>p.lng&&T.lng<_.lng;return se&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,p){return d?(d=F(d),this._southWest.equals(d.getSouthWest(),p)&&this._northEast.equals(d.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(d,p){return d instanceof q?d:new q(d,p)}function R(d,p,_){if(isNaN(d)||isNaN(p))throw new Error("Invalid LatLng object: ("+d+", "+p+")");this.lat=+d,this.lng=+p,_!==void 0&&(this.alt=+_)}R.prototype={equals:function(d,p){if(!d)return!1;d=W(d);var _=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return _<=(p===void 0?1e-9:p)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return ie.distance(this,W(d))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(d){var p=180*d/40075017,_=p/Math.cos(Math.PI/180*this.lat);return F([this.lat-p,this.lng-_],[this.lat+p,this.lng+_])},clone:function(){return new R(this.lat,this.lng,this.alt)}};function W(d,p,_){return d instanceof R?d:k(d)&&typeof d[0]!="object"?d.length===3?new R(d[0],d[1],d[2]):d.length===2?new R(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new R(d.lat,"lng"in d?d.lng:d.lon,d.alt):p===void 0?null:new R(d,p,_)}var Z={latLngToPoint:function(d,p){var _=this.projection.project(d),T=this.scale(p);return this.transformation._transform(_,T)},pointToLatLng:function(d,p){var _=this.scale(p),T=this.transformation.untransform(d,_);return this.projection.unproject(T)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var p=this.projection.bounds,_=this.scale(d),T=this.transformation.transform(p.min,_),U=this.transformation.transform(p.max,_);return new K(T,U)},infinite:!1,wrapLatLng:function(d){var p=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,_=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,T=d.alt;return new R(_,p,T)},wrapLatLngBounds:function(d){var p=d.getCenter(),_=this.wrapLatLng(p),T=p.lat-_.lat,U=p.lng-_.lng;if(T===0&&U===0)return d;var se=d.getSouthWest(),Ee=d.getNorthEast(),Be=new R(se.lat-T,se.lng-U),He=new R(Ee.lat-T,Ee.lng-U);return new q(Be,He)}},ie=s({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(d,p){var _=Math.PI/180,T=d.lat*_,U=p.lat*_,se=Math.sin((p.lat-d.lat)*_/2),Ee=Math.sin((p.lng-d.lng)*_/2),Be=se*se+Math.cos(T)*Math.cos(U)*Ee*Ee,He=2*Math.atan2(Math.sqrt(Be),Math.sqrt(1-Be));return this.R*He}}),re=6378137,X={R:re,MAX_LATITUDE:85.0511287798,project:function(d){var p=Math.PI/180,_=this.MAX_LATITUDE,T=Math.max(Math.min(_,d.lat),-_),U=Math.sin(T*p);return new oe(this.R*d.lng*p,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(d){var p=180/Math.PI;return new R((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*p,d.x*p/this.R)},bounds:function(){var d=re*Math.PI;return new K([-d,-d],[d,d])}()};function ke(d,p,_,T){if(k(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=p,this._c=_,this._d=T}ke.prototype={transform:function(d,p){return this._transform(d.clone(),p)},_transform:function(d,p){return p=p||1,d.x=p*(this._a*d.x+this._b),d.y=p*(this._c*d.y+this._d),d},untransform:function(d,p){return p=p||1,new oe((d.x/p-this._b)/this._a,(d.y/p-this._d)/this._c)}};function Pe(d,p,_,T){return new ke(d,p,_,T)}var De=s({},ie,{code:"EPSG:3857",projection:X,transformation:function(){var d=.5/(Math.PI*X.R);return Pe(d,.5,-d,.5)}()}),Ye=s({},De,{code:"EPSG:900913"});function ce(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Ae(d,p){var _="",T,U,se,Ee,Be,He;for(T=0,se=d.length;T<se;T++){for(Be=d[T],U=0,Ee=Be.length;U<Ee;U++)He=Be[U],_+=(U?"L":"M")+He.x+" "+He.y;_+=p?St.svg?"z":"x":""}return _||"M0 0"}var je=document.documentElement.style,et="ActiveXObject"in window,ae=et&&!document.addEventListener,Oe="msLaunchUri"in navigator&&!("documentMode"in document),Ge=Tr("webkit"),at=Tr("android"),yt=Tr("android 2")||Tr("android 3"),wt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=at&&Tr("Google")&&wt<537&&!("AudioNode"in window),jt=!!window.opera,Et=!Oe&&Tr("chrome"),Te=Tr("gecko")&&!Ge&&!jt&&!et,it=!Et&&Tr("safari"),gt=Tr("phantom"),_t="OTransition"in je,br=navigator.platform.indexOf("Win")===0,Qt=et&&"transition"in je,nt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yt,Wt="MozPerspective"in je,kr=!window.L_DISABLE_3D&&(Qt||nt||Wt)&&!_t&&!gt,Ct=typeof orientation<"u"||Tr("mobile"),wr=Ct&&Ge,Bt=Ct&&nt,$t=!window.PointerEvent&&window.MSPointerEvent,Er=!!(window.PointerEvent||$t),Jt="ontouchstart"in window||!!window.TouchEvent,Ot=!window.L_NO_TOUCH&&(Jt||Er),gr=Ct&&jt,Js=Ct&&Te,dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ti=function(){var d=!1;try{var p=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",f,p),window.removeEventListener("testPassiveEventSupport",f,p)}catch{}return d}(),Qs=function(){return!!document.createElement("canvas").getContext}(),qt=!!(document.createElementNS&&ce("svg").createSVGRect),Ci=!!qt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Li=!qt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var p=d.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),Dn=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function Tr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var St={ie:et,ielt9:ae,edge:Oe,webkit:Ge,android:at,android23:yt,androidStock:ot,opera:jt,chrome:Et,gecko:Te,safari:it,phantom:gt,opera12:_t,win:br,ie3d:Qt,webkit3d:nt,gecko3d:Wt,any3d:kr,mobile:Ct,mobileWebkit:wr,mobileWebkit3d:Bt,msPointer:$t,pointer:Er,touch:Ot,touchNative:Jt,mobileOpera:gr,mobileGecko:Js,retina:dn,passiveEvents:Ti,canvas:Qs,svg:qt,vml:Li,inlineSvg:Ci,mac:Dn,linux:ms},te=St.msPointer?"MSPointerDown":"pointerdown",be=St.msPointer?"MSPointerMove":"pointermove",me=St.msPointer?"MSPointerUp":"pointerup",pe=St.msPointer?"MSPointerCancel":"pointercancel",ve={touchstart:te,touchmove:be,touchend:me,touchcancel:pe},Ne={touchstart:Nt,touchmove:mt,touchend:mt,touchcancel:mt},Ie={},We=!1;function ze(d,p,_){return p==="touchstart"&&At(),Ne[p]?(_=Ne[p].bind(this,_),d.addEventListener(ve[p],_,!1),_):(console.warn("wrong event specified:",p),f)}function Ue(d,p,_){if(!ve[p]){console.warn("wrong event specified:",p);return}d.removeEventListener(ve[p],_,!1)}function $e(d){Ie[d.pointerId]=d}function ht(d){Ie[d.pointerId]&&(Ie[d.pointerId]=d)}function pt(d){delete Ie[d.pointerId]}function At(){We||(document.addEventListener(te,$e,!0),document.addEventListener(be,ht,!0),document.addEventListener(me,pt,!0),document.addEventListener(pe,pt,!0),We=!0)}function mt(d,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var _ in Ie)p.touches.push(Ie[_]);p.changedTouches=[p],d(p)}}function Nt(d,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&ba(p),mt(d,p)}function Kt(d){var p={},_,T;for(T in d)_=d[T],p[T]=_&&_.bind?_.bind(d):_;return d=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Vr=200;function yr(d,p){d.addEventListener("dblclick",p);var _=0,T;function U(se){if(se.detail!==1){T=se.detail;return}if(!(se.pointerType==="mouse"||se.sourceCapabilities&&!se.sourceCapabilities.firesTouchEvents)){var Ee=go(se);if(!(Ee.some(function(He){return He instanceof HTMLLabelElement&&He.attributes.for})&&!Ee.some(function(He){return He instanceof HTMLInputElement||He instanceof HTMLSelectElement}))){var Be=Date.now();Be-_<=Vr?(T++,T===2&&p(Kt(se))):T=1,_=Be}}}return d.addEventListener("click",U),{dblclick:p,simDblclick:U}}function Ta(d,p){d.removeEventListener("dblclick",p.dblclick),d.removeEventListener("click",p.simDblclick)}var ei=cd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gn=cd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pi=Gn==="webkitTransition"||Gn==="OTransition"?Gn+"End":"transitionend";function Ps(d){return typeof d=="string"?document.getElementById(d):d}function ti(d,p){var _=d.style[p]||d.currentStyle&&d.currentStyle[p];if((!_||_==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(d,null);_=T?T[p]:null}return _==="auto"?null:_}function Gt(d,p,_){var T=document.createElement(d);return T.className=p||"",_&&_.appendChild(T),T}function qr(d){var p=d.parentNode;p&&p.removeChild(d)}function ld(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function ca(d){var p=d.parentNode;p&&p.lastChild!==d&&p.appendChild(d)}function Wo(d){var p=d.parentNode;p&&p.firstChild!==d&&p.insertBefore(d,p.firstChild)}function ri(d,p){if(d.classList!==void 0)return d.classList.contains(p);var _=Ca(d);return _.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(_)}function rr(d,p){if(d.classList!==void 0)for(var _=y(p),T=0,U=_.length;T<U;T++)d.classList.add(_[T]);else if(!ri(d,p)){var se=Ca(d);gs(d,(se?se+" ":"")+p)}}function ga(d,p){d.classList!==void 0?d.classList.remove(p):gs(d,m((" "+Ca(d)+" ").replace(" "+p+" "," ")))}function gs(d,p){d.className.baseVal===void 0?d.className=p:d.className.baseVal=p}function Ca(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function za(d,p){"opacity"in d.style?d.style.opacity=p:"filter"in d.style&&Dh(d,p)}function Dh(d,p){var _=!1,T="DXImageTransform.Microsoft.Alpha";try{_=d.filters.item(T)}catch{if(p===1)return}p=Math.round(p*100),_?(_.Enabled=p!==100,_.Opacity=p):d.style.filter+=" progid:"+T+"(opacity="+p+")"}function cd(d){for(var p=document.documentElement.style,_=0;_<d.length;_++)if(d[_]in p)return d[_];return!1}function Go(d,p,_){var T=p||new oe(0,0);d.style[ei]=(St.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(_?" scale("+_+")":"")}function Fr(d,p){d._leaflet_pos=p,St.any3d?Go(d,p):(d.style.left=p.x+"px",d.style.top=p.y+"px")}function fo(d){return d._leaflet_pos||new oe(0,0)}var Bl,mo,Yo;if("onselectstart"in document)Bl=function(){xt(window,"selectstart",ba)},mo=function(){$r(window,"selectstart",ba)};else{var pc=cd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bl=function(){if(pc){var d=document.documentElement.style;Yo=d[pc],d[pc]="none"}},mo=function(){pc&&(document.documentElement.style[pc]=Yo,Yo=void 0)}}function _u(){xt(window,"dragstart",ba)}function Nu(){$r(window,"dragstart",ba)}var zl,dd;function Ms(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(ud(),zl=d,dd=d.style.outlineStyle,d.style.outlineStyle="none",xt(window,"keydown",ud))}function ud(){zl&&(zl.style.outlineStyle=dd,zl=void 0,dd=void 0,$r(window,"keydown",ud))}function Ul(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function xc(d){var p=d.getBoundingClientRect();return{x:p.width/d.offsetWidth||1,y:p.height/d.offsetHeight||1,boundingClientRect:p}}var Zf={__proto__:null,TRANSFORM:ei,TRANSITION:Gn,TRANSITION_END:Pi,get:Ps,getStyle:ti,create:Gt,remove:qr,empty:ld,toFront:ca,toBack:Wo,hasClass:ri,addClass:rr,removeClass:ga,setClass:gs,getClass:Ca,setOpacity:za,testProp:cd,setTransform:Go,setPosition:Fr,getPosition:fo,get disableTextSelection(){return Bl},get enableTextSelection(){return mo},disableImageDrag:_u,enableImageDrag:Nu,preventOutline:Ms,restoreOutline:ud,getSizedParentNode:Ul,getScale:xc};function xt(d,p,_,T){if(p&&typeof p=="object")for(var U in p)Ri(d,U,p[U],_);else{p=y(p);for(var se=0,Ee=p.length;se<Ee;se++)Ri(d,p[se],_,T)}return this}var ai="_leaflet_events";function $r(d,p,_,T){if(arguments.length===1)Ih(d),delete d[ai];else if(p&&typeof p=="object")for(var U in p)ku(d,U,p[U],_);else if(p=y(p),arguments.length===2)Ih(d,function(Be){return S(p,Be)!==-1});else for(var se=0,Ee=p.length;se<Ee;se++)ku(d,p[se],_,T);return this}function Ih(d,p){for(var _ in d[ai]){var T=_.split(/\d/)[0];(!p||p(T))&&ku(d,T,null,null,_)}}var Mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ri(d,p,_,T){var U=p+c(_)+(T?"_"+c(T):"");if(d[ai]&&d[ai][U])return this;var se=function(Be){return _.call(T||d,Be||window.event)},Ee=se;!St.touchNative&&St.pointer&&p.indexOf("touch")===0?se=ze(d,p,se):St.touch&&p==="dblclick"?se=yr(d,se):"addEventListener"in d?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?d.addEventListener(Mi[p]||p,se,St.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(se=function(Be){Be=Be||window.event,fd(d,Be)&&Ee(Be)},d.addEventListener(Mi[p],se,!1)):d.addEventListener(p,Ee,!1):d.attachEvent("on"+p,se),d[ai]=d[ai]||{},d[ai][U]=se}function ku(d,p,_,T,U){U=U||p+c(_)+(T?"_"+c(T):"");var se=d[ai]&&d[ai][U];if(!se)return this;!St.touchNative&&St.pointer&&p.indexOf("touch")===0?Ue(d,p,se):St.touch&&p==="dblclick"?Ta(d,se):"removeEventListener"in d?d.removeEventListener(Mi[p]||p,se,!1):d.detachEvent("on"+p,se),d[ai][U]=null}function Ko(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Vl(d){return Ri(d,"wheel",Ko),this}function Zo(d){return xt(d,"mousedown touchstart dblclick contextmenu",Ko),d._leaflet_disable_click=!0,this}function ba(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Xo(d){return ba(d),Ko(d),this}function go(d){if(d.composedPath)return d.composedPath();for(var p=[],_=d.target;_;)p.push(_),_=_.parentNode;return p}function Fh(d,p){if(!p)return new oe(d.clientX,d.clientY);var _=xc(p),T=_.boundingClientRect;return new oe((d.clientX-T.left)/_.x-p.clientLeft,(d.clientY-T.top)/_.y-p.clientTop)}var ju=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hd(d){return St.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/ju:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function fd(d,p){var _=p.relatedTarget;if(!_)return!0;try{for(;_&&_!==d;)_=_.parentNode}catch{return!1}return _!==d}var Jo={__proto__:null,on:xt,off:$r,stopPropagation:Ko,disableScrollPropagation:Vl,disableClickPropagation:Zo,preventDefault:ba,stop:Xo,getPropagationPath:go,getMousePosition:Fh,getWheelDelta:hd,isExternalTarget:fd,addListener:xt,removeListener:$r},md=xe.extend({run:function(d,p,_,T){this.stop(),this._el=d,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=fo(d),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(d){var p=+new Date-this._startTime,_=this._duration*1e3;p<_?this._runFrame(this._easeOut(p/_),d):(this._runFrame(1),this._complete())},_runFrame:function(d,p){var _=this._startPos.add(this._offset.multiplyBy(d));p&&_._round(),Fr(this._el,_),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),cr=xe.extend({options:{crs:De,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,p){p=x(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(W(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gn&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,Pi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,p,_){if(p=p===void 0?this._zoom:this._limitZoom(p),d=this._limitCenter(W(d),p,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=s({animate:_.animate},_.zoom),_.pan=s({animate:_.animate,duration:_.duration},_.pan));var T=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,p,_.zoom):this._tryAnimatedPan(d,_.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(d,p,_.pan&&_.pan.noMoveStart),this},setZoom:function(d,p){return this._loaded?this.setView(this.getCenter(),d,{zoom:p}):(this._zoom=d,this)},zoomIn:function(d,p){return d=d||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,p)},zoomOut:function(d,p){return d=d||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,p)},setZoomAround:function(d,p,_){var T=this.getZoomScale(p),U=this.getSize().divideBy(2),se=d instanceof oe?d:this.latLngToContainerPoint(d),Ee=se.subtract(U).multiplyBy(1-1/T),Be=this.containerPointToLatLng(U.add(Ee));return this.setView(Be,p,{zoom:_})},_getBoundsCenterZoom:function(d,p){p=p||{},d=d.getBounds?d.getBounds():F(d);var _=Se(p.paddingTopLeft||p.padding||[0,0]),T=Se(p.paddingBottomRight||p.padding||[0,0]),U=this.getBoundsZoom(d,!1,_.add(T));if(U=typeof p.maxZoom=="number"?Math.min(p.maxZoom,U):U,U===1/0)return{center:d.getCenter(),zoom:U};var se=T.subtract(_).divideBy(2),Ee=this.project(d.getSouthWest(),U),Be=this.project(d.getNorthEast(),U),He=this.unproject(Ee.add(Be).divideBy(2).add(se),U);return{center:He,zoom:U}},fitBounds:function(d,p){if(d=F(d),!d.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(d,p);return this.setView(_.center,_.zoom,p)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,p){return this.setView(d,this._zoom,{pan:p})},panBy:function(d,p){if(d=Se(d).round(),p=p||{},!d.x&&!d.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new md,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){rr(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,_,p.duration||.25,p.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,p,_){if(_=_||{},_.animate===!1||!St.any3d)return this.setView(d,p,_);this._stop();var T=this.project(this.getCenter()),U=this.project(d),se=this.getSize(),Ee=this._zoom;d=W(d),p=p===void 0?Ee:p;var Be=Math.max(se.x,se.y),He=Be*this.getZoomScale(Ee,p),ct=U.distanceTo(T)||1,Tt=1.42,Ht=Tt*Tt;function hr(Yr){var Kn=Yr?-1:1,pv=Yr?He:Be,xv=He*He-Be*Be+Kn*Ht*Ht*ct*ct,Lp=2*pv*Ht*ct,Gh=xv/Lp,nm=Math.sqrt(Gh*Gh+1)-Gh,Pp=nm<1e-9?-18:Math.log(nm);return Pp}function Yn(Yr){return(Math.exp(Yr)-Math.exp(-Yr))/2}function tn(Yr){return(Math.exp(Yr)+Math.exp(-Yr))/2}function ci(Yr){return Yn(Yr)/tn(Yr)}var bs=hr(0);function wd(Yr){return Be*(tn(bs)/tn(bs+Tt*Yr))}function mv(Yr){return Be*(tn(bs)*ci(bs+Tt*Yr)-Yn(bs))/Ht}function Yl(Yr){return 1-Math.pow(1-Yr,1.5)}var Fi=Date.now(),jo=(hr(1)-bs)/Tt,gv=_.duration?1e3*_.duration:1e3*jo*.8;function am(){var Yr=(Date.now()-Fi)/gv,Kn=Yl(Yr)*jo;Yr<=1?(this._flyToFrame=O(am,this),this._move(this.unproject(T.add(U.subtract(T).multiplyBy(mv(Kn)/ct)),Ee),this.getScaleZoom(Be/wd(Kn),Ee),{flyTo:!0})):this._move(d,p)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),am.call(this),this},flyToBounds:function(d,p){var _=this._getBoundsCenterZoom(d,p);return this.flyTo(_.center,_.zoom,p)},setMaxBounds:function(d){return d=F(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var p=this.options.minZoom;return this.options.minZoom=d,this._loaded&&p!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var p=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&p!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,p){this._enforcingBounds=!0;var _=this.getCenter(),T=this._limitCenter(_,this._zoom,F(d));return _.equals(T)||this.panTo(T,p),this._enforcingBounds=!1,this},panInside:function(d,p){p=p||{};var _=Se(p.paddingTopLeft||p.padding||[0,0]),T=Se(p.paddingBottomRight||p.padding||[0,0]),U=this.project(this.getCenter()),se=this.project(d),Ee=this.getPixelBounds(),Be=A([Ee.min.add(_),Ee.max.subtract(T)]),He=Be.getSize();if(!Be.contains(se)){this._enforcingBounds=!0;var ct=se.subtract(Be.getCenter()),Tt=Be.extend(se).getSize().subtract(He);U.x+=ct.x<0?-Tt.x:Tt.x,U.y+=ct.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(U),p),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=s({animate:!1,pan:!0},d===!0?{animate:!0}:d);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),T=p.divideBy(2).round(),U=_.divideBy(2).round(),se=T.subtract(U);return!se.x&&!se.y?this:(d.animate&&d.pan?this.panBy(se):(d.pan&&this._rawPanBy(se),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=s({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=o(this._handleGeolocationResponse,this),_=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,_,d):navigator.geolocation.getCurrentPosition(p,_,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var p=d.code,_=d.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var p=d.coords.latitude,_=d.coords.longitude,T=new R(p,_),U=T.toBounds(d.coords.accuracy*2),se=this._locateOptions;if(se.setView){var Ee=this.getBoundsZoom(U);this.setView(T,se.maxZoom?Math.min(Ee,se.maxZoom):Ee)}var Be={latlng:T,bounds:U,timestamp:d.timestamp};for(var He in d.coords)typeof d.coords[He]=="number"&&(Be[He]=d.coords[He]);this.fire("locationfound",Be)}},addHandler:function(d,p){if(!p)return this;var _=this[d]=new p(this);return this._handlers.push(_),this.options[d]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)qr(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,p){var _="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),T=Gt("div",_,p||this._mapPane);return d&&(this._panes[d]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),p=this.unproject(d.getBottomLeft()),_=this.unproject(d.getTopRight());return new q(p,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,p,_){d=F(d),_=Se(_||[0,0]);var T=this.getZoom()||0,U=this.getMinZoom(),se=this.getMaxZoom(),Ee=d.getNorthWest(),Be=d.getSouthEast(),He=this.getSize().subtract(_),ct=A(this.project(Be,T),this.project(Ee,T)).getSize(),Tt=St.any3d?this.options.zoomSnap:1,Ht=He.x/ct.x,hr=He.y/ct.y,Yn=p?Math.max(Ht,hr):Math.min(Ht,hr);return T=this.getScaleZoom(Yn,T),Tt&&(T=Math.round(T/(Tt/100))*(Tt/100),T=p?Math.ceil(T/Tt)*Tt:Math.floor(T/Tt)*Tt),Math.max(U,Math.min(se,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,p){var _=this._getTopLeftPoint(d,p);return new K(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,p){var _=this.options.crs;return p=p===void 0?this._zoom:p,_.scale(d)/_.scale(p)},getScaleZoom:function(d,p){var _=this.options.crs;p=p===void 0?this._zoom:p;var T=_.zoom(d*_.scale(p));return isNaN(T)?1/0:T},project:function(d,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(W(d),p)},unproject:function(d,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(Se(d),p)},layerPointToLatLng:function(d){var p=Se(d).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(d){var p=this.project(W(d))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(W(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(F(d))},distance:function(d,p){return this.options.crs.distance(W(d),W(p))},containerPointToLayerPoint:function(d){return Se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return Se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var p=this.containerPointToLayerPoint(Se(d));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(d)))},mouseEventToContainerPoint:function(d){return Fh(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var p=this._container=Ps(d);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xt(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,rr(d,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=ti(d,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fr(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rr(d.markerPane,"leaflet-zoom-hide"),rr(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,p,_){Fr(this._mapPane,new oe(0,0));var T=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var U=this._zoom!==p;this._moveStart(U,_)._move(d,p)._moveEnd(U),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(d,p){return d&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(d,p,_,T){p===void 0&&(p=this._zoom);var U=this._zoom!==p;return this._zoom=p,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),T?_&&_.pinch&&this.fire("zoom",_):((U||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Fr(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var p=d?$r:xt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,p){for(var _=[],T,U=p==="mouseout"||p==="mouseover",se=d.target||d.srcElement,Ee=!1;se;){if(T=this._targets[c(se)],T&&(p==="click"||p==="preclick")&&this._draggableMoved(T)){Ee=!0;break}if(T&&T.listens(p,!0)&&(U&&!fd(se,d)||(_.push(T),U))||se===this._container)break;se=se.parentNode}return!_.length&&!Ee&&!U&&this.listens(p,!0)&&(_=[this]),_},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var p=d.target||d.srcElement;if(!(!this._loaded||p._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(p))){var _=d.type;_==="mousedown"&&Ms(p),this._fireDOMEvent(d,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,p,_){if(d.type==="click"){var T=s({},d);T.type="preclick",this._fireDOMEvent(T,T.type,_)}var U=this._findEventTargets(d,p);if(_){for(var se=[],Ee=0;Ee<_.length;Ee++)_[Ee].listens(p,!0)&&se.push(_[Ee]);U=se.concat(U)}if(U.length){p==="contextmenu"&&ba(d);var Be=U[0],He={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var ct=Be.getLatLng&&(!Be._radius||Be._radius<=10);He.containerPoint=ct?this.latLngToContainerPoint(Be.getLatLng()):this.mouseEventToContainerPoint(d),He.layerPoint=this.containerPointToLayerPoint(He.containerPoint),He.latlng=ct?Be.getLatLng():this.layerPointToLatLng(He.layerPoint)}for(Ee=0;Ee<U.length;Ee++)if(U[Ee].fire(p,He,!0),He.originalEvent._stopped||U[Ee].options.bubblingMouseEvents===!1&&S(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,p=this._handlers.length;d<p;d++)this._handlers[d].disable()},whenReady:function(d,p){return this._loaded?d.call(p||this,{target:this}):this.on("load",d,p),this},_getMapPanePos:function(){return fo(this._mapPane)||new oe(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,p){var _=d&&p!==void 0?this._getNewPixelOrigin(d,p):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,p){var _=this.getSize()._divideBy(2);return this.project(d,p)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,p,_){var T=this._getNewPixelOrigin(_,p);return this.project(d,p)._subtract(T)},_latLngBoundsToNewLayerBounds:function(d,p,_){var T=this._getNewPixelOrigin(_,p);return A([this.project(d.getSouthWest(),p)._subtract(T),this.project(d.getNorthWest(),p)._subtract(T),this.project(d.getSouthEast(),p)._subtract(T),this.project(d.getNorthEast(),p)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,p,_){if(!_)return d;var T=this.project(d,p),U=this.getSize().divideBy(2),se=new K(T.subtract(U),T.add(U)),Ee=this._getBoundsOffset(se,_,p);return Math.abs(Ee.x)<=1&&Math.abs(Ee.y)<=1?d:this.unproject(T.add(Ee),p)},_limitOffset:function(d,p){if(!p)return d;var _=this.getPixelBounds(),T=new K(_.min.add(d),_.max.add(d));return d.add(this._getBoundsOffset(T,p))},_getBoundsOffset:function(d,p,_){var T=A(this.project(p.getNorthEast(),_),this.project(p.getSouthWest(),_)),U=T.min.subtract(d.min),se=T.max.subtract(d.max),Ee=this._rebound(U.x,-se.x),Be=this._rebound(U.y,-se.y);return new oe(Ee,Be)},_rebound:function(d,p){return d+p>0?Math.round(d-p)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(p))},_limitZoom:function(d){var p=this.getMinZoom(),_=this.getMaxZoom(),T=St.any3d?this.options.zoomSnap:1;return T&&(d=Math.round(d/T)*T),Math.max(p,Math.min(_,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ga(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,p){var _=this._getCenterOffset(d)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,p),!0)},_createAnimProxy:function(){var d=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(p){var _=ei,T=this._proxy.style[_];Go(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),T===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),p=this.getZoom();Go(this._proxy,this.project(d,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,p,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(p),U=this._getCenterOffset(d)._divideBy(1-1/T);return _.animate!==!0&&!this.getSize().contains(U)?!1:(O(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(d,p,!0)},this),!0)},_animateZoom:function(d,p,_,T){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=p,rr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:p,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ga(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Su(d,p){return new cr(d,p)}var jn=ee.extend({options:{position:"topright"},initialize:function(d){x(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var p=this._map;return p&&p.removeControl(this),this.options.position=d,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var p=this._container=this.onAdd(d),_=this.getPosition(),T=d._controlCorners[_];return rr(p,"leaflet-control"),_.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Qo=function(d){return new jn(d)};cr.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},p="leaflet-",_=this._controlContainer=Gt("div",p+"control-container",this._container);function T(U,se){var Ee=p+U+" "+p+se;d[U+se]=Gt("div",Ee,_)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)qr(this._controlCorners[d]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Au=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,p,_,T){return _<T?-1:T<_?1:0}},initialize:function(d,p,_){x(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in d)this._addLayer(d[T],T);for(T in p)this._addLayer(p[T],T,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jn.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,p){return this._addLayer(d,p),this._map?this._update():this},addOverlay:function(d,p){return this._addLayer(d,p,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(d));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){rr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(rr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):ga(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ga(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",p=this._container=Gt("div",d),_=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Zo(p),Vl(p);var T=this._section=Gt("section",d+"-list");_&&(this._map.on("click",this.collapse,this),xt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=Gt("a",d+"-toggle",p);U.href="#",U.title="Layers",U.setAttribute("role","button"),xt(U,{keydown:function(se){se.keyCode===13&&this._expandSafely()},click:function(se){ba(se),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Gt("div",d+"-base",T),this._separator=Gt("div",d+"-separator",T),this._overlaysList=Gt("div",d+"-overlays",T),p.appendChild(T)},_getLayer:function(d){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===d)return this._layers[p]},_addLayer:function(d,p,_){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:p,overlay:_}),this.options.sortLayers&&this._layers.sort(o(function(T,U){return this.options.sortFunction(T.layer,U.layer,T.name,U.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ld(this._baseLayersList),ld(this._overlaysList),this._layerControlInputs=[];var d,p,_,T,U=0;for(_=0;_<this._layers.length;_++)T=this._layers[_],this._addItem(T),p=p||T.overlay,d=d||!T.overlay,U+=T.overlay?0:1;return this.options.hideSingleBase&&(d=d&&U>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=p&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var p=this._getLayer(c(d.target)),_=p.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;_&&this._map.fire(_,p)},_createRadioElement:function(d,p){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(p?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=_,T.firstChild},_addItem:function(d){var p=document.createElement("label"),_=this._map.hasLayer(d.layer),T;d.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=_):T=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(T),T.layerId=c(d.layer),xt(T,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+d.name;var se=document.createElement("span");p.appendChild(se),se.appendChild(T),se.appendChild(U);var Ee=d.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,p,_,T=[],U=[];this._handlingClick=!0;for(var se=d.length-1;se>=0;se--)p=d[se],_=this._getLayer(p.layerId).layer,p.checked?T.push(_):p.checked||U.push(_);for(se=0;se<U.length;se++)this._map.hasLayer(U[se])&&this._map.removeLayer(U[se]);for(se=0;se<T.length;se++)this._map.hasLayer(T[se])||this._map.addLayer(T[se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,p,_,T=this._map.getZoom(),U=d.length-1;U>=0;U--)p=d[U],_=this._getLayer(p.layerId).layer,p.disabled=_.options.minZoom!==void 0&&T<_.options.minZoom||_.options.maxZoom!==void 0&&T>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,xt(d,"click",ba),this.expand();var p=this;setTimeout(function(){$r(d,"click",ba),p._preventClick=!1})}}),Bh=function(d,p,_){return new Au(d,p,_)},Oi=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var p="leaflet-control-zoom",_=Gt("div",p+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,p+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,p+"-out",_,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,p,_,T,U){var se=Gt("a",_,T);return se.innerHTML=d,se.href="#",se.title=p,se.setAttribute("role","button"),se.setAttribute("aria-label",p),Zo(se),xt(se,"click",Xo),xt(se,"click",U,this),xt(se,"click",this._refocusOnMap,this),se},_updateDisabled:function(){var d=this._map,p="leaflet-disabled";ga(this._zoomInButton,p),ga(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(rr(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(rr(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});cr.mergeOptions({zoomControl:!0}),cr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oi,this.addControl(this.zoomControl))});var el=function(d){return new Oi(d)},Eu=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var p="leaflet-control-scale",_=Gt("div",p),T=this.options;return this._addScales(T,p+"-line",_),d.on(T.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),_},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,p,_){d.metric&&(this._mScale=Gt("div",p,_)),d.imperial&&(this._iScale=Gt("div",p,_))},_update:function(){var d=this._map,p=d.getSize().y/2,_=d.distance(d.containerPointToLatLng([0,p]),d.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(_)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var p=this._getRoundNum(d),_=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,_,p/d)},_updateImperial:function(d){var p=d*3.2808399,_,T,U;p>5280?(_=p/5280,T=this._getRoundNum(_),this._updateScale(this._iScale,T+" mi",T/_)):(U=this._getRoundNum(p),this._updateScale(this._iScale,U+" ft",U/p))},_updateScale:function(d,p,_){d.style.width=Math.round(this.options.maxWidth*_)+"px",d.innerHTML=p},_getRoundNum:function(d){var p=Math.pow(10,(Math.floor(d)+"").length-1),_=d/p;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,p*_}}),yc=function(d){return new Eu(d)},zh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?zh+" ":"")+"Leaflet</a>"},initialize:function(d){x(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),Zo(this._container);for(var p in d._layers)d._layers[p].getAttribution&&this.addAttribution(d._layers[p].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var p in this._attributions)this._attributions[p]&&d.push(p);var _=[];this.options.prefix&&_.push(this.options.prefix),d.length&&_.push(d.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});cr.mergeOptions({attributionControl:!0}),cr.addInitHook(function(){this.options.attributionControl&&new E().addTo(this)});var J=function(d){return new E(d)};jn.Layers=Au,jn.Zoom=Oi,jn.Scale=Eu,jn.Attribution=E,Qo.layers=Bh,Qo.zoom=el,Qo.scale=yc,Qo.attribution=J;var ye=ee.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(d,p){return d.addHandler(p,this),this};var Ce={Events:de},Re=St.touch?"touchstart mousedown":"mousedown",Ze=xe.extend({options:{clickTolerance:3},initialize:function(d,p,_,T){x(this,T),this._element=d,this._dragStartTarget=p||d,this._preventOutline=_},enable:function(){this._enabled||(xt(this._dragStartTarget,Re,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ze._dragging===this&&this.finishDrag(!0),$r(this._dragStartTarget,Re,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!ri(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ze._dragging===this&&this.finishDrag();return}if(!(Ze._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ze._dragging=this,this._preventOutline&&Ms(this._element),_u(),Bl(),!this._moving)){this.fire("down");var p=d.touches?d.touches[0]:d,_=Ul(this._element);this._startPoint=new oe(p.clientX,p.clientY),this._startPos=fo(this._element),this._parentScale=xc(_);var T=d.type==="mousedown";xt(document,T?"mousemove":"touchmove",this._onMove,this),xt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var p=d.touches&&d.touches.length===1?d.touches[0]:d,_=new oe(p.clientX,p.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,ba(d),this._moved||(this.fire("dragstart"),this._moved=!0,rr(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Fr(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){ga(document.body,"leaflet-dragging"),this._lastTarget&&(ga(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$r(document,"mousemove touchmove",this._onMove,this),$r(document,"mouseup touchend touchcancel",this._onUp,this),Nu(),mo();var p=this._moved&&this._moving;this._moving=!1,Ze._dragging=!1,p&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function lt(d,p,_){var T,U=[1,4,2,8],se,Ee,Be,He,ct,Tt,Ht,hr;for(se=0,Tt=d.length;se<Tt;se++)d[se]._code=Sn(d[se],p);for(Be=0;Be<4;Be++){for(Ht=U[Be],T=[],se=0,Tt=d.length,Ee=Tt-1;se<Tt;Ee=se++)He=d[se],ct=d[Ee],He._code&Ht?ct._code&Ht||(hr=ni(ct,He,Ht,p,_),hr._code=Sn(hr,p),T.push(hr)):(ct._code&Ht&&(hr=ni(ct,He,Ht,p,_),hr._code=Sn(hr,p),T.push(hr)),T.push(He));d=T}return d}function Pt(d,p){var _,T,U,se,Ee,Be,He,ct,Tt;if(!d||d.length===0)throw new Error("latlngs not passed");An(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ht=W([0,0]),hr=F(d),Yn=hr.getNorthWest().distanceTo(hr.getSouthWest())*hr.getNorthEast().distanceTo(hr.getNorthWest());Yn<1700&&(Ht=Dt(d));var tn=d.length,ci=[];for(_=0;_<tn;_++){var bs=W(d[_]);ci.push(p.project(W([bs.lat-Ht.lat,bs.lng-Ht.lng])))}for(Be=He=ct=0,_=0,T=tn-1;_<tn;T=_++)U=ci[_],se=ci[T],Ee=U.y*se.x-se.y*U.x,He+=(U.x+se.x)*Ee,ct+=(U.y+se.y)*Ee,Be+=Ee*3;Be===0?Tt=ci[0]:Tt=[He/Be,ct/Be];var wd=p.unproject(Se(Tt));return W([wd.lat+Ht.lat,wd.lng+Ht.lng])}function Dt(d){for(var p=0,_=0,T=0,U=0;U<d.length;U++){var se=W(d[U]);p+=se.lat,_+=se.lng,T++}return W([p/T,_/T])}var er={__proto__:null,clipPolygon:lt,polygonCenter:Pt,centroid:Dt};function nr(d,p){if(!p||!d.length)return d.slice();var _=p*p;return d=Qa(d,_),d=Ua(d,_),d}function jr(d,p,_){return Math.sqrt(rl(d,p,_,!0))}function wa(d,p,_){return rl(d,p,_)}function Ua(d,p){var _=d.length,T=typeof Uint8Array<"u"?Uint8Array:Array,U=new T(_);U[0]=U[_-1]=1,Hr(d,U,p,0,_-1);var se,Ee=[];for(se=0;se<_;se++)U[se]&&Ee.push(d[se]);return Ee}function Hr(d,p,_,T,U){var se=0,Ee,Be,He;for(Be=T+1;Be<=U-1;Be++)He=rl(d[Be],d[T],d[U],!0),He>se&&(Ee=Be,se=He);se>_&&(p[Ee]=1,Hr(d,p,_,T,Ee),Hr(d,p,_,Ee,U))}function Qa(d,p){for(var _=[d[0]],T=1,U=0,se=d.length;T<se;T++)tl(d[T],d[U])>p&&(_.push(d[T]),U=T);return U<se-1&&_.push(d[se-1]),_}var Ra;function un(d,p,_,T,U){var se=T?Ra:Sn(d,_),Ee=Sn(p,_),Be,He,ct;for(Ra=Ee;;){if(!(se|Ee))return[d,p];if(se&Ee)return!1;Be=se||Ee,He=ni(d,p,Be,_,U),ct=Sn(He,_),Be===se?(d=He,se=ct):(p=He,Ee=ct)}}function ni(d,p,_,T,U){var se=p.x-d.x,Ee=p.y-d.y,Be=T.min,He=T.max,ct,Tt;return _&8?(ct=d.x+se*(He.y-d.y)/Ee,Tt=He.y):_&4?(ct=d.x+se*(Be.y-d.y)/Ee,Tt=Be.y):_&2?(ct=He.x,Tt=d.y+Ee*(He.x-d.x)/se):_&1&&(ct=Be.x,Tt=d.y+Ee*(Be.x-d.x)/se),new oe(ct,Tt,U)}function Sn(d,p){var _=0;return d.x<p.min.x?_|=1:d.x>p.max.x&&(_|=2),d.y<p.min.y?_|=4:d.y>p.max.y&&(_|=8),_}function tl(d,p){var _=p.x-d.x,T=p.y-d.y;return _*_+T*T}function rl(d,p,_,T){var U=p.x,se=p.y,Ee=_.x-U,Be=_.y-se,He=Ee*Ee+Be*Be,ct;return He>0&&(ct=((d.x-U)*Ee+(d.y-se)*Be)/He,ct>1?(U=_.x,se=_.y):ct>0&&(U+=Ee*ct,se+=Be*ct)),Ee=d.x-U,Be=d.y-se,T?Ee*Ee+Be*Be:new oe(U,se)}function An(d){return!k(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function al(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),An(d)}function ql(d,p){var _,T,U,se,Ee,Be,He,ct;if(!d||d.length===0)throw new Error("latlngs not passed");An(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Tt=W([0,0]),Ht=F(d),hr=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());hr<1700&&(Tt=Dt(d));var Yn=d.length,tn=[];for(_=0;_<Yn;_++){var ci=W(d[_]);tn.push(p.project(W([ci.lat-Tt.lat,ci.lng-Tt.lng])))}for(_=0,T=0;_<Yn-1;_++)T+=tn[_].distanceTo(tn[_+1])/2;if(T===0)ct=tn[0];else for(_=0,se=0;_<Yn-1;_++)if(Ee=tn[_],Be=tn[_+1],U=Ee.distanceTo(Be),se+=U,se>T){He=(se-T)/U,ct=[Be.x-He*(Be.x-Ee.x),Be.y-He*(Be.y-Ee.y)];break}var bs=p.unproject(Se(ct));return W([bs.lat+Tt.lat,bs.lng+Tt.lng])}var vc={__proto__:null,simplify:nr,pointToSegmentDistance:jr,closestPointOnSegment:wa,clipSegment:un,_getEdgeIntersection:ni,_getBitCode:Sn,_sqClosestPointOnSegment:rl,isFlat:An,_flat:al,polylineCenter:ql},po={project:function(d){return new oe(d.lng,d.lat)},unproject:function(d){return new R(d.y,d.x)},bounds:new K([-180,-90],[180,90])},en={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var p=Math.PI/180,_=this.R,T=d.lat*p,U=this.R_MINOR/_,se=Math.sqrt(1-U*U),Ee=se*Math.sin(T),Be=Math.tan(Math.PI/4-T/2)/Math.pow((1-Ee)/(1+Ee),se/2);return T=-_*Math.log(Math.max(Be,1e-10)),new oe(d.lng*p*_,T)},unproject:function(d){for(var p=180/Math.PI,_=this.R,T=this.R_MINOR/_,U=Math.sqrt(1-T*T),se=Math.exp(-d.y/_),Ee=Math.PI/2-2*Math.atan(se),Be=0,He=.1,ct;Be<15&&Math.abs(He)>1e-7;Be++)ct=U*Math.sin(Ee),ct=Math.pow((1-ct)/(1+ct),U/2),He=Math.PI/2-2*Math.atan(se*ct)-Ee,Ee+=He;return new R(Ee*p,d.x*p/_)}},bc={__proto__:null,LonLat:po,Mercator:en,SphericalMercator:X},wc=s({},ie,{code:"EPSG:3395",projection:en,transformation:function(){var d=.5/(Math.PI*en.R);return Pe(d,.5,-d,.5)}()}),gd=s({},ie,{code:"EPSG:4326",projection:po,transformation:Pe(1/180,1,-1/180,.5)}),Tu=s({},Z,{projection:po,transformation:Pe(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,p){var _=p.lng-d.lng,T=p.lat-d.lat;return Math.sqrt(_*_+T*T)},infinite:!0});Z.Earth=ie,Z.EPSG3395=wc,Z.EPSG3857=De,Z.EPSG900913=Ye,Z.EPSG4326=gd,Z.Simple=Tu;var da=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var p=d.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var _=this.getEvents();p.on(_,this),this.once("remove",function(){p.off(_,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});cr.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(d);return this._layers[p]?this:(this._layers[p]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var p=c(d);return this._layers[p]?(this._loaded&&d.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,p){for(var _ in this._layers)d.call(p,this._layers[_]);return this},_addLayers:function(d){d=d?k(d)?d:[d]:[];for(var p=0,_=d.length;p<_;p++)this.addLayer(d[p])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var p=c(d);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,p=-1/0,_=this._getZoomSpan();for(var T in this._zoomBoundLayers){var U=this._zoomBoundLayers[T].options;d=U.minZoom===void 0?d:Math.min(d,U.minZoom),p=U.maxZoom===void 0?p:Math.max(p,U.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=d===1/0?void 0:d,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ps=da.extend({initialize:function(d,p){x(this,p),this._layers={};var _,T;if(d)for(_=0,T=d.length;_<T;_++)this.addLayer(d[_])},addLayer:function(d){var p=this.getLayerId(d);return this._layers[p]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var p=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(d){var p=typeof d=="number"?d:this.getLayerId(d);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var p=Array.prototype.slice.call(arguments,1),_,T;for(_ in this._layers)T=this._layers[_],T[d]&&T[d].apply(T,p);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,p){for(var _ in this._layers)d.call(p,this._layers[_]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),pd=function(d,p){return new ps(d,p)},si=ps.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),ps.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),ps.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new q;for(var p in this._layers){var _=this._layers[p];d.extend(_.getBounds?_.getBounds():_.getLatLng())}return d}}),ii=function(d,p){return new si(d,p)},oi=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){x(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,p){var _=this._getIconUrl(d);if(!_){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(_,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(T,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(d,p){var _=this.options,T=_[p+"Size"];typeof T=="number"&&(T=[T,T]);var U=Se(T),se=Se(p==="shadow"&&_.shadowAnchor||_.iconAnchor||U&&U.divideBy(2,!0));d.className="leaflet-marker-"+p+" "+(_.className||""),se&&(d.style.marginLeft=-se.x+"px",d.style.marginTop=-se.y+"px"),U&&(d.style.width=U.x+"px",d.style.height=U.y+"px")},_createImg:function(d,p){return p=p||document.createElement("img"),p.src=d,p},_getIconUrl:function(d){return St.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Cu(d){return new oi(d)}var nl=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof nl.imagePath!="string"&&(nl.imagePath=this._detectIconPath()),(this.options.imagePath||nl.imagePath)+oi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var p=function(_,T,U){var se=T.exec(_);return se&&se[U]};return d=p(d,/^url\((['"])?(.+)\1\)$/,2),d&&p(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Gt("div","leaflet-default-icon-path",document.body),p=ti(d,"background-image")||ti(d,"backgroundImage");if(document.body.removeChild(d),p=this._stripUrl(p),p)return p;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),sl=ye.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ze(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rr(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ga(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var p=this._marker,_=p._map,T=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,se=fo(p._icon),Ee=_.getPixelBounds(),Be=_.getPixelOrigin(),He=A(Ee.min._subtract(Be).add(U),Ee.max._subtract(Be).subtract(U));if(!He.contains(se)){var ct=Se((Math.max(He.max.x,se.x)-He.max.x)/(Ee.max.x-He.max.x)-(Math.min(He.min.x,se.x)-He.min.x)/(Ee.min.x-He.min.x),(Math.max(He.max.y,se.y)-He.max.y)/(Ee.max.y-He.max.y)-(Math.min(He.min.y,se.y)-He.min.y)/(Ee.min.y-He.min.y)).multiplyBy(T);_.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),Fr(p._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=O(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,d)))},_onDrag:function(d){var p=this._marker,_=p._shadow,T=fo(p._icon),U=p._map.layerPointToLatLng(T);_&&Fr(_,T),p._latlng=U,d.latlng=U,d.oldLatLng=this._oldLatLng,p.fire("move",d).fire("drag",d)},_onDragEnd:function(d){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),xo=da.extend({options:{icon:new nl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,p){x(this,p),this._latlng=W(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var p=this._latlng;return this._latlng=W(d),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=d.icon.createIcon(this._icon),T=!1;_!==this._icon&&(this._icon&&this._removeIcon(),T=!0,d.title&&(_.title=d.title),_.tagName==="IMG"&&(_.alt=d.alt||"")),rr(_,p),d.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(_,"focus",this._panOnFocus,this);var U=d.icon.createShadow(this._shadow),se=!1;U!==this._shadow&&(this._removeShadow(),se=!0),U&&(rr(U,p),U.alt=""),this._shadow=U,d.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&se&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$r(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Fr(this._icon,d),this._shadow&&Fr(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(rr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sl)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sl(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&za(this._icon,d),this._shadow&&za(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var p=this.options.icon.options,_=p.iconSize?Se(p.iconSize):Se(0,0),T=p.iconAnchor?Se(p.iconAnchor):Se(0,0);d.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:_.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rs(d,p){return new xo(d,p)}var Va=da.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return x(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Di=Va.extend({options:{fill:!0,radius:10},initialize:function(d,p){x(this,p),this._latlng=W(d),this._radius=this.options.radius},setLatLng:function(d){var p=this._latlng;return this._latlng=W(d),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var p=d&&d.radius||this._radius;return Va.prototype.setStyle.call(this,d),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,p=this._radiusY||d,_=this._clickTolerance(),T=[d+_,p+_];this._pxBounds=new K(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function il(d,p){return new Di(d,p)}var yo=Di.extend({initialize:function(d,p,_){if(typeof p=="number"&&(p=s({},_,{radius:p})),x(this,p),this._latlng=W(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Va.prototype.setStyle,_project:function(){var d=this._latlng.lng,p=this._latlng.lat,_=this._map,T=_.options.crs;if(T.distance===ie.distance){var U=Math.PI/180,se=this._mRadius/ie.R/U,Ee=_.project([p+se,d]),Be=_.project([p-se,d]),He=Ee.add(Be).divideBy(2),ct=_.unproject(He).lat,Tt=Math.acos((Math.cos(se*U)-Math.sin(p*U)*Math.sin(ct*U))/(Math.cos(p*U)*Math.cos(ct*U)))/U;(isNaN(Tt)||Tt===0)&&(Tt=se/Math.cos(Math.PI/180*p)),this._point=He.subtract(_.getPixelOrigin()),this._radius=isNaN(Tt)?0:He.x-_.project([ct,d-Tt]).x,this._radiusY=He.y-Ee.y}else{var Ht=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Ht).x}this._updateBounds()}});function Lu(d,p,_){return new yo(d,p,_)}var xs=Va.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,p){x(this,p),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var p=1/0,_=null,T=rl,U,se,Ee=0,Be=this._parts.length;Ee<Be;Ee++)for(var He=this._parts[Ee],ct=1,Tt=He.length;ct<Tt;ct++){U=He[ct-1],se=He[ct];var Ht=T(d,U,se,!0);Ht<p&&(p=Ht,_=T(d,U,se))}return _&&(_.distance=Math.sqrt(p)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ql(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,p){return p=p||this._defaultShape(),d=W(d),p.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new q,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return An(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var p=[],_=An(d),T=0,U=d.length;T<U;T++)_?(p[T]=W(d[T]),this._bounds.extend(p[T])):p[T]=this._convertLatLngs(d[T]);return p},_project:function(){var d=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),p=new oe(d,d);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(d,p,_){var T=d[0]instanceof R,U=d.length,se,Ee;if(T){for(Ee=[],se=0;se<U;se++)Ee[se]=this._map.latLngToLayerPoint(d[se]),_.extend(Ee[se]);p.push(Ee)}else for(se=0;se<U;se++)this._projectLatlngs(d[se],p,_)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,_,T,U,se,Ee,Be,He;for(_=0,U=0,se=this._rings.length;_<se;_++)for(He=this._rings[_],T=0,Ee=He.length;T<Ee-1;T++)Be=un(He[T],He[T+1],d,T,!0),Be&&(p[U]=p[U]||[],p[U].push(Be[0]),(Be[1]!==He[T+1]||T===Ee-2)&&(p[U].push(Be[1]),U++))}},_simplifyPoints:function(){for(var d=this._parts,p=this.options.smoothFactor,_=0,T=d.length;_<T;_++)d[_]=nr(d[_],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,p){var _,T,U,se,Ee,Be,He=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(_=0,se=this._parts.length;_<se;_++)for(Be=this._parts[_],T=0,Ee=Be.length,U=Ee-1;T<Ee;U=T++)if(!(!p&&T===0)&&jr(d,Be[U],Be[T])<=He)return!0;return!1}});function Oa(d,p){return new xs(d,p)}xs._flat=al;var ol=xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var p=xs.prototype._convertLatLngs.call(this,d),_=p.length;return _>=2&&p[0]instanceof R&&p[0].equals(p[_-1])&&p.pop(),p},_setLatLngs:function(d){xs.prototype._setLatLngs.call(this,d),An(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return An(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,p=this.options.weight,_=new oe(p,p);if(d=new K(d.min.subtract(_),d.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,U=this._rings.length,se;T<U;T++)se=lt(this._rings[T],d,!0),se.length&&this._parts.push(se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var p=!1,_,T,U,se,Ee,Be,He,ct;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(se=0,He=this._parts.length;se<He;se++)for(_=this._parts[se],Ee=0,ct=_.length,Be=ct-1;Ee<ct;Be=Ee++)T=_[Ee],U=_[Be],T.y>d.y!=U.y>d.y&&d.x<(U.x-T.x)*(d.y-T.y)/(U.y-T.y)+T.x&&(p=!p);return p||xs.prototype._containsPoint.call(this,d,!0)}});function vo(d,p){return new ol(d,p)}var hn=si.extend({initialize:function(d,p){x(this,p),this._layers={},d&&this.addData(d)},addData:function(d){var p=k(d)?d:d.features,_,T,U;if(p){for(_=0,T=p.length;_<T;_++)U=p[_],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var se=this.options;if(se.filter&&!se.filter(d))return this;var Ee=$l(d,se);return Ee?(Ee.feature=wo(d),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),se.onEachFeature&&se.onEachFeature(d,Ee),this.addLayer(Ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=s({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(p){this._setLayerStyle(p,d)},this)},_setLayerStyle:function(d,p){d.setStyle&&(typeof p=="function"&&(p=p(d.feature)),d.setStyle(p))}});function $l(d,p){var _=d.type==="Feature"?d.geometry:d,T=_?_.coordinates:null,U=[],se=p&&p.pointToLayer,Ee=p&&p.coordsToLatLng||_c,Be,He,ct,Tt;if(!T&&!_)return null;switch(_.type){case"Point":return Be=Ee(T),xd(se,d,Be,p);case"MultiPoint":for(ct=0,Tt=T.length;ct<Tt;ct++)Be=Ee(T[ct]),U.push(xd(se,d,Be,p));return new si(U);case"LineString":case"MultiLineString":return He=Hl(T,_.type==="LineString"?0:1,Ee),new xs(He,p);case"Polygon":case"MultiPolygon":return He=Hl(T,_.type==="Polygon"?1:2,Ee),new ol(He,p);case"GeometryCollection":for(ct=0,Tt=_.geometries.length;ct<Tt;ct++){var Ht=$l({geometry:_.geometries[ct],type:"Feature",properties:d.properties},p);Ht&&U.push(Ht)}return new si(U);case"FeatureCollection":for(ct=0,Tt=_.features.length;ct<Tt;ct++){var hr=$l(_.features[ct],p);hr&&U.push(hr)}return new si(U);default:throw new Error("Invalid GeoJSON object.")}}function xd(d,p,_,T){return d?d(p,_):new xo(_,T&&T.markersInheritOptions&&T)}function _c(d){return new R(d[1],d[0],d[2])}function Hl(d,p,_){for(var T=[],U=0,se=d.length,Ee;U<se;U++)Ee=p?Hl(d[U],p-1,_):(_||_c)(d[U]),T.push(Ee);return T}function bo(d,p){return d=W(d),d.alt!==void 0?[g(d.lng,p),g(d.lat,p),g(d.alt,p)]:[g(d.lng,p),g(d.lat,p)]}function Ii(d,p,_,T){for(var U=[],se=0,Ee=d.length;se<Ee;se++)U.push(p?Ii(d[se],An(d[se])?0:p-1,_,T):bo(d[se],T));return!p&&_&&U.length>0&&U.push(U[0].slice()),U}function Os(d,p){return d.feature?s({},d.feature,{geometry:p}):wo(p)}function wo(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var _o={toGeoJSON:function(d){return Os(this,{type:"Point",coordinates:bo(this.getLatLng(),d)})}};xo.include(_o),yo.include(_o),Di.include(_o),xs.include({toGeoJSON:function(d){var p=!An(this._latlngs),_=Ii(this._latlngs,p?1:0,!1,d);return Os(this,{type:(p?"Multi":"")+"LineString",coordinates:_})}}),ol.include({toGeoJSON:function(d){var p=!An(this._latlngs),_=p&&!An(this._latlngs[0]),T=Ii(this._latlngs,_?2:p?1:0,!0,d);return p||(T=[T]),Os(this,{type:(_?"Multi":"")+"Polygon",coordinates:T})}}),ps.include({toMultiPoint:function(d){var p=[];return this.eachLayer(function(_){p.push(_.toGeoJSON(d).geometry.coordinates)}),Os(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(d){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(d);var _=p==="GeometryCollection",T=[];return this.eachLayer(function(U){if(U.toGeoJSON){var se=U.toGeoJSON(d);if(_)T.push(se.geometry);else{var Ee=wo(se);Ee.type==="FeatureCollection"?T.push.apply(T,Ee.features):T.push(Ee)}}}),_?Os(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Wl(d,p){return new hn(d,p)}var li=Wl,Ds=da.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,p,_){this._url=d,this._bounds=F(p),x(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&ca(this._image),this},bringToBack:function(){return this._map&&Wo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=F(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",p=this._image=d?this._url:Gt("img");if(rr(p,"leaflet-image-layer"),this._zoomAnimated&&rr(p,"leaflet-zoom-animated"),this.options.className&&rr(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onload=o(this.fire,this,"load"),p.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(d){var p=this._map.getZoomScale(d.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;Go(this._image,_,p)},_reset:function(){var d=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=p.getSize();Fr(d,p.min),d.style.width=_.x+"px",d.style.height=_.y+"px"},_updateOpacity:function(){za(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Dr=function(d,p,_){return new Ds(d,p,_)},Wr=Ds.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",p=this._image=d?this._url:Gt("video");if(rr(p,"leaflet-image-layer"),this._zoomAnimated&&rr(p,"leaflet-zoom-animated"),this.options.className&&rr(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onloadeddata=o(this.fire,this,"load"),d){for(var _=p.getElementsByTagName("source"),T=[],U=0;U<_.length;U++)T.push(_[U].src);this._url=_.length>0?T:[p.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var se=0;se<this._url.length;se++){var Ee=Gt("source");Ee.src=this._url[se],p.appendChild(Ee)}}});function Da(d,p,_){return new Wr(d,p,_)}var qa=Ds.extend({_initImage:function(){var d=this._image=this._url;rr(d,"leaflet-image-layer"),this._zoomAnimated&&rr(d,"leaflet-zoom-animated"),this.options.className&&rr(d,this.options.className),d.onselectstart=f,d.onmousemove=f}});function ll(d,p,_){return new qa(d,p,_)}var ys=da.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,p){d&&(d instanceof R||k(d))?(this._latlng=W(d),x(this,p)):(x(this,d),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&za(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&za(this._container,1),this.bringToFront(),this.options.interactive&&(rr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(za(this._container,0),this._removeTimeout=setTimeout(o(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(ga(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=W(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ca(this._container),this},bringToBack:function(){return this._map&&Wo(this._container),this},_prepareOpen:function(d){var p=this._source;if(!p._map)return!1;if(p instanceof si){p=null;var _=this._source._layers;for(var T in _)if(_[T]._map){p=_[T];break}if(!p)return!1;this._source=p}if(!d)if(p.getCenter)d=p.getCenter();else if(p.getLatLng)d=p.getLatLng();else if(p.getBounds)d=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")d.innerHTML=p;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),p=Se(this.options.offset),_=this._getAnchor();this._zoomAnimated?Fr(this._container,d.add(_)):p=p.add(d).add(_);var T=this._containerBottom=-p.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=T+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});cr.include({_initOverlay:function(d,p,_,T){var U=p;return U instanceof d||(U=new d(T).setContent(p)),_&&U.setLatLng(_),U}}),da.include({_initOverlay:function(d,p,_,T){var U=_;return U instanceof d?(x(U,T),U._source=this):(U=p&&!T?p:new d(T,this),U.setContent(_)),U}});var cl=ys.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,ys.prototype.openOn.call(this,d)},onAdd:function(d){ys.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Va||this._source.on("preclick",Ko))},onRemove:function(d){ys.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Va||this._source.off("preclick",Ko))},getEvents:function(){var d=ys.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",p=this._container=Gt("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Gt("div",d+"-content-wrapper",p);if(this._contentNode=Gt("div",d+"-content",_),Zo(p),Vl(this._contentNode),xt(p,"contextmenu",Ko),this._tipContainer=Gt("div",d+"-tip-container",p),this._tip=Gt("div",d+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Gt("a",d+"-close-button",p);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xt(T,"click",function(U){ba(U),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,p=d.style;p.width="",p.whiteSpace="nowrap";var _=d.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),p.width=_+1+"px",p.whiteSpace="",p.height="";var T=d.offsetHeight,U=this.options.maxHeight,se="leaflet-popup-scrolled";U&&T>U?(p.height=U+"px",rr(d,se)):ga(d,se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),_=this._getAnchor();Fr(this._container,p.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,p=parseInt(ti(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+p,T=this._containerWidth,U=new oe(this._containerLeft,-_-this._containerBottom);U._add(fo(this._container));var se=d.layerPointToContainerPoint(U),Ee=Se(this.options.autoPanPadding),Be=Se(this.options.autoPanPaddingTopLeft||Ee),He=Se(this.options.autoPanPaddingBottomRight||Ee),ct=d.getSize(),Tt=0,Ht=0;se.x+T+He.x>ct.x&&(Tt=se.x+T-ct.x+He.x),se.x-Tt-Be.x<0&&(Tt=se.x-Be.x),se.y+_+He.y>ct.y&&(Ht=se.y+_-ct.y+He.y),se.y-Ht-Be.y<0&&(Ht=se.y-Be.y),(Tt||Ht)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Tt,Ht]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uh=function(d,p){return new cl(d,p)};cr.mergeOptions({closePopupOnClick:!0}),cr.include({openPopup:function(d,p,_){return this._initOverlay(cl,d,p,_).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),da.include({bindPopup:function(d,p){return this._popup=this._initOverlay(cl,this._popup,d,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof si||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Xo(d);var p=d.layer||d.target;if(this._popup._source===p&&!(p instanceof Va)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=p,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var Pu=ys.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){ys.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){ys.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=ys.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",p=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var p,_,T=this._map,U=this._container,se=T.latLngToContainerPoint(T.getCenter()),Ee=T.layerPointToContainerPoint(d),Be=this.options.direction,He=U.offsetWidth,ct=U.offsetHeight,Tt=Se(this.options.offset),Ht=this._getAnchor();Be==="top"?(p=He/2,_=ct):Be==="bottom"?(p=He/2,_=0):Be==="center"?(p=He/2,_=ct/2):Be==="right"?(p=0,_=ct/2):Be==="left"?(p=He,_=ct/2):Ee.x<se.x?(Be="right",p=0,_=ct/2):(Be="left",p=He+(Tt.x+Ht.x)*2,_=ct/2),d=d.subtract(Se(p,_,!0)).add(Tt).add(Ht),ga(U,"leaflet-tooltip-right"),ga(U,"leaflet-tooltip-left"),ga(U,"leaflet-tooltip-top"),ga(U,"leaflet-tooltip-bottom"),rr(U,"leaflet-tooltip-"+Be),Fr(U,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&za(this._container,d)},_animateZoom:function(d){var p=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(p)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jp=function(d,p){return new Pu(d,p)};cr.include({openTooltip:function(d,p,_){return this._initOverlay(Pu,d,p,_).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),da.include({bindTooltip:function(d,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pu,this._tooltip,d,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var p=d?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[p](_),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof si||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var p=typeof d.getElement=="function"&&d.getElement();p&&(xt(p,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),xt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var p=typeof d.getElement=="function"&&d.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var p=d.latlng,_,T;this._tooltip.options.sticky&&d.originalEvent&&(_=this._map.mouseEventToContainerPoint(d.originalEvent),T=this._map.containerPointToLayerPoint(_),p=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(p)}});var Xf=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var p=d&&d.tagName==="DIV"?d:document.createElement("div"),_=this.options;if(_.html instanceof Element?(ld(p),p.appendChild(_.html)):p.innerHTML=_.html!==!1?_.html:"",_.bgPos){var T=Se(_.bgPos);p.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Sp(d){return new Xf(d)}oi.Default=nl;var yd=da.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){x(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),qr(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ca(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof oe?d:new oe(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var p=this.getPane().children,_=-d(-1/0,1/0),T=0,U=p.length,se;T<U;T++)se=p[T].style.zIndex,p[T]!==this._container&&se&&(_=d(_,+se));isFinite(_)&&(this.options.zIndex=_+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){za(this._container,this.options.opacity);var d=+new Date,p=!1,_=!1;for(var T in this._tiles){var U=this._tiles[T];if(!(!U.current||!U.loaded)){var se=Math.min(1,(d-U.loaded)/200);za(U.el,se),se<1?p=!0:(U.active?_=!0:this._onOpaqueTile(U),U.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),p&&(V(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,p=this.options.maxZoom;if(d!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===d?(this._levels[_].el.style.zIndex=p-Math.abs(d-_),this._onUpdateLevel(_)):(qr(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var T=this._levels[d],U=this._map;return T||(T=this._levels[d]={},T.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=p,T.origin=U.project(U.unproject(U.getPixelOrigin()),d).round(),T.zoom=d,this._setZoomTransform(T,U.getCenter(),U.getZoom()),f(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var d,p,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)p=this._tiles[d],p.retain=p.current;for(d in this._tiles)if(p=this._tiles[d],p.current&&!p.active){var T=p.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var p in this._tiles)this._tiles[p].coords.z===d&&this._removeTile(p)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)qr(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,p,_,T){var U=Math.floor(d/2),se=Math.floor(p/2),Ee=_-1,Be=new oe(+U,+se);Be.z=+Ee;var He=this._tileCoordsToKey(Be),ct=this._tiles[He];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),Ee>T?this._retainParent(U,se,Ee,T):!1)},_retainChildren:function(d,p,_,T){for(var U=2*d;U<2*d+2;U++)for(var se=2*p;se<2*p+2;se++){var Ee=new oe(U,se);Ee.z=_+1;var Be=this._tileCoordsToKey(Ee),He=this._tiles[Be];if(He&&He.active){He.retain=!0;continue}else He&&He.loaded&&(He.retain=!0);_+1<T&&this._retainChildren(U,se,_+1,T)}},_resetView:function(d){var p=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var p=this.options;return p.minNativeZoom!==void 0&&d<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<d?p.maxNativeZoom:d},_setView:function(d,p,_,T){var U=Math.round(p);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var se=this.options.updateWhenZooming&&U!==this._tileZoom;(!T||se)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(d),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(d,p)},_setZoomTransforms:function(d,p){for(var _ in this._levels)this._setZoomTransform(this._levels[_],d,p)},_setZoomTransform:function(d,p,_){var T=this._map.getZoomScale(_,d.zoom),U=d.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(p,_)).round();St.any3d?Go(d.el,U,T):Fr(d.el,U)},_resetGrid:function(){var d=this._map,p=d.options.crs,_=this._tileSize=this.getTileSize(),T=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,p.wrapLng[0]],T).x/_.x),Math.ceil(d.project([0,p.wrapLng[1]],T).x/_.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([p.wrapLat[0],0],T).y/_.x),Math.ceil(d.project([p.wrapLat[1],0],T).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var p=this._map,_=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),T=p.getZoomScale(_,this._tileZoom),U=p.project(d,this._tileZoom).floor(),se=p.getSize().divideBy(T*2);return new K(U.subtract(se),U.add(se))},_update:function(d){var p=this._map;if(p){var _=this._clampZoom(p.getZoom());if(d===void 0&&(d=p.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(d),U=this._pxBoundsToTileRange(T),se=U.getCenter(),Ee=[],Be=this.options.keepBuffer,He=new K(U.getBottomLeft().subtract([Be,-Be]),U.getTopRight().add([Be,-Be]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var Tt=this._tiles[ct].coords;(Tt.z!==this._tileZoom||!He.contains(new oe(Tt.x,Tt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(d,_);return}for(var Ht=U.min.y;Ht<=U.max.y;Ht++)for(var hr=U.min.x;hr<=U.max.x;hr++){var Yn=new oe(hr,Ht);if(Yn.z=this._tileZoom,!!this._isValidTile(Yn)){var tn=this._tiles[this._tileCoordsToKey(Yn)];tn?tn.current=!0:Ee.push(Yn)}}if(Ee.sort(function(bs,wd){return bs.distanceTo(se)-wd.distanceTo(se)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ci=document.createDocumentFragment();for(hr=0;hr<Ee.length;hr++)this._addTile(Ee[hr],ci);this._level.el.appendChild(ci)}}}},_isValidTile:function(d){var p=this._map.options.crs;if(!p.infinite){var _=this._globalTileRange;if(!p.wrapLng&&(d.x<_.min.x||d.x>_.max.x)||!p.wrapLat&&(d.y<_.min.y||d.y>_.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(d);return F(this.options.bounds).overlaps(T)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var p=this._map,_=this.getTileSize(),T=d.scaleBy(_),U=T.add(_),se=p.unproject(T,d.z),Ee=p.unproject(U,d.z);return[se,Ee]},_tileCoordsToBounds:function(d){var p=this._tileCoordsToNwSe(d),_=new q(p[0],p[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var p=d.split(":"),_=new oe(+p[0],+p[1]);return _.z=+p[2],_},_removeTile:function(d){var p=this._tiles[d];p&&(qr(p.el),delete this._tiles[d],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){rr(d,"leaflet-tile");var p=this.getTileSize();d.style.width=p.x+"px",d.style.height=p.y+"px",d.onselectstart=f,d.onmousemove=f,St.ielt9&&this.options.opacity<1&&za(d,this.options.opacity)},_addTile:function(d,p){var _=this._getTilePos(d),T=this._tileCoordsToKey(d),U=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(U),this.createTile.length<2&&O(o(this._tileReady,this,d,null,U)),Fr(U,_),this._tiles[T]={el:U,coords:d,current:!0},p.appendChild(U),this.fire("tileloadstart",{tile:U,coords:d})},_tileReady:function(d,p,_){p&&this.fire("tileerror",{error:p,tile:_,coords:d});var T=this._tileCoordsToKey(d);_=this._tiles[T],_&&(_.loaded=+new Date,this._map._fadeAnimated?(za(_.el,0),V(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),p||(rr(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var p=new oe(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return p.z=d.z,p},_pxBoundsToTileRange:function(d){var p=this.getTileSize();return new K(d.min.unscaleBy(p).floor(),d.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Ap(d){return new yd(d)}var No=yd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,p){this._url=d,p=x(this,p),p.detectRetina&&St.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,p){return this._url===d&&p===void 0&&(p=!0),this._url=d,p||this.redraw(),this},createTile:function(d,p){var _=document.createElement("img");return xt(_,"load",o(this._tileOnLoad,this,p,_)),xt(_,"error",o(this._tileOnError,this,p,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(d),_},getTileUrl:function(d){var p={r:St.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-d.y;this.options.tms&&(p.y=_),p["-y"]=_}return w(this._url,s(p,this.options))},_tileOnLoad:function(d,p){St.ielt9?setTimeout(o(d,this,null,p),0):d(null,p)},_tileOnError:function(d,p,_){var T=this.options.errorTileUrl;T&&p.getAttribute("src")!==T&&(p.src=T),d(_,p)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,p=this.options.maxZoom,_=this.options.zoomReverse,T=this.options.zoomOffset;return _&&(d=p-d),d+T},_getSubdomain:function(d){var p=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var d,p;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(p=this._tiles[d].el,p.onload=f,p.onerror=f,!p.complete)){p.src=B;var _=this._tiles[d].coords;qr(p),delete this._tiles[d],this.fire("tileabort",{tile:p,coords:_})}},_removeTile:function(d){var p=this._tiles[d];if(p)return p.el.setAttribute("src",B),yd.prototype._removeTile.call(this,d)},_tileReady:function(d,p,_){if(!(!this._map||_&&_.getAttribute("src")===B))return yd.prototype._tileReady.call(this,d,p,_)}});function Jf(d,p){return new No(d,p)}var Qf=No.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,p){this._url=d;var _=s({},this.defaultWmsParams);for(var T in p)T in this.options||(_[T]=p[T]);p=x(this,p);var U=p.detectRetina&&St.retina?2:1,se=this.getTileSize();_.width=se.x*U,_.height=se.y*U,this.wmsParams=_},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,No.prototype.onAdd.call(this,d)},getTileUrl:function(d){var p=this._tileCoordsToNwSe(d),_=this._crs,T=A(_.project(p[0]),_.project(p[1])),U=T.min,se=T.max,Ee=(this._wmsVersion>=1.3&&this._crs===gd?[U.y,U.x,se.y,se.x]:[U.x,U.y,se.x,se.y]).join(","),Be=No.prototype.getTileUrl.call(this,d);return Be+N(this.wmsParams,Be,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(d,p){return s(this.wmsParams,d),p||this.redraw(),this}});function Ep(d,p){return new Qf(d,p)}No.WMS=Qf,Jf.wms=Ep;var ko=da.extend({options:{padding:.1},initialize:function(d){x(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,p){var _=this._map.getZoomScale(p,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,p),se=T.multiplyBy(-_).add(U).subtract(this._map._getNewPixelOrigin(d,p));St.any3d?Go(this._container,se,_):Fr(this._container,se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,p=this._map.getSize(),_=this._map.containerPointToLayerPoint(p.multiplyBy(-d)).round();this._bounds=new K(_,_.add(p.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),em=ko.extend({options:{tolerance:0},getEvents:function(){var d=ko.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ko.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");xt(d,"mousemove",this._onMouseMove,this),xt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,qr(this._container),$r(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var p in this._layers)d=this._layers[p],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ko.prototype._update.call(this);var d=this._bounds,p=this._container,_=d.getSize(),T=St.retina?2:1;Fr(p,d.min),p.width=T*_.x,p.height=T*_.y,p.style.width=_.x+"px",p.style.height=_.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){ko.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var p=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var p=d._order,_=p.next,T=p.prev;_?_.prev=T:this._drawLast=T,T?T.next=_:this._drawFirst=_,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var p=d.options.dashArray.split(/[, ]+/),_=[],T,U;for(U=0;U<p.length;U++){if(T=Number(p[U]),isNaN(T))return;_.push(T)}d.options._dashArray=_}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var p=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(d._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(d._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var p=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,p=this._redrawBounds;if(this._ctx.save(),p){var _=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)d=T.layer,(!p||d._pxBounds&&d._pxBounds.intersects(p))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,p){if(this._drawing){var _,T,U,se,Ee=d._parts,Be=Ee.length,He=this._ctx;if(Be){for(He.beginPath(),_=0;_<Be;_++){for(T=0,U=Ee[_].length;T<U;T++)se=Ee[_][T],He[T?"lineTo":"moveTo"](se.x,se.y);p&&He.closePath()}this._fillStroke(He,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var p=d._point,_=this._ctx,T=Math.max(Math.round(d._radius),1),U=(Math.max(Math.round(d._radiusY),1)||T)/T;U!==1&&(_.save(),_.scale(1,U)),_.beginPath(),_.arc(p.x,p.y/U,T,0,Math.PI*2,!1),U!==1&&_.restore(),this._fillStroke(_,d)}},_fillStroke:function(d,p){var _=p.options;_.fill&&(d.globalAlpha=_.fillOpacity,d.fillStyle=_.fillColor||_.color,d.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(d.setLineDash&&d.setLineDash(p.options&&p.options._dashArray||[]),d.globalAlpha=_.opacity,d.lineWidth=_.weight,d.strokeStyle=_.color,d.lineCap=_.lineCap,d.lineJoin=_.lineJoin,d.stroke())},_onClick:function(d){for(var p=this._map.mouseEventToLayerPoint(d),_,T,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(p)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(_))&&(T=_);this._fireEvent(T?[T]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,p)}},_handleMouseOut:function(d){var p=this._hoveredLayer;p&&(ga(this._container,"leaflet-interactive"),this._fireEvent([p],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,p){if(!this._mouseHoverThrottled){for(var _,T,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(p)&&(T=_);T!==this._hoveredLayer&&(this._handleMouseOut(d),T&&(rr(this._container,"leaflet-interactive"),this._fireEvent([T],d,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,p,_){this._map._fireDOMEvent(p,_||p.type,d)},_bringToFront:function(d){var p=d._order;if(p){var _=p.next,T=p.prev;if(_)_.prev=T;else return;T?T.next=_:_&&(this._drawFirst=_),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(d)}},_bringToBack:function(d){var p=d._order;if(p){var _=p.next,T=p.prev;if(T)T.next=_;else return;_?_.prev=T:T&&(this._drawLast=T),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(d)}}});function tm(d){return St.canvas?new em(d):null}var vd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tp={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ko.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var p=d._container=vd("shape");rr(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",d._path=vd("path"),p.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var p=d._container;this._container.appendChild(p),d.options.interactive&&d.addInteractiveTarget(p)},_removePath:function(d){var p=d._container;qr(p),d.removeInteractiveTarget(p),delete this._layers[c(d)]},_updateStyle:function(d){var p=d._stroke,_=d._fill,T=d.options,U=d._container;U.stroked=!!T.stroke,U.filled=!!T.fill,T.stroke?(p||(p=d._stroke=vd("stroke")),U.appendChild(p),p.weight=T.weight+"px",p.color=T.color,p.opacity=T.opacity,T.dashArray?p.dashStyle=k(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=T.lineCap.replace("butt","flat"),p.joinstyle=T.lineJoin):p&&(U.removeChild(p),d._stroke=null),T.fill?(_||(_=d._fill=vd("fill")),U.appendChild(_),_.color=T.fillColor||T.color,_.opacity=T.fillOpacity):_&&(U.removeChild(_),d._fill=null)},_updateCircle:function(d){var p=d._point.round(),_=Math.round(d._radius),T=Math.round(d._radiusY||_);this._setPath(d,d._empty()?"M0 0":"AL "+p.x+","+p.y+" "+_+","+T+" 0,"+65535*360)},_setPath:function(d,p){d._path.v=p},_bringToFront:function(d){ca(d._container)},_bringToBack:function(d){Wo(d._container)}},bd=St.vml?vd:ce,Gl=ko.extend({_initContainer:function(){this._container=bd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),$r(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ko.prototype._update.call(this);var d=this._bounds,p=d.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,_.setAttribute("width",p.x),_.setAttribute("height",p.y)),Fr(_,d.min),_.setAttribute("viewBox",[d.min.x,d.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(d){var p=d._path=bd("path");d.options.className&&rr(p,d.options.className),d.options.interactive&&rr(p,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){qr(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var p=d._path,_=d.options;p&&(_.stroke?(p.setAttribute("stroke",_.color),p.setAttribute("stroke-opacity",_.opacity),p.setAttribute("stroke-width",_.weight),p.setAttribute("stroke-linecap",_.lineCap),p.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?p.setAttribute("stroke-dasharray",_.dashArray):p.removeAttribute("stroke-dasharray"),_.dashOffset?p.setAttribute("stroke-dashoffset",_.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),_.fill?(p.setAttribute("fill",_.fillColor||_.color),p.setAttribute("fill-opacity",_.fillOpacity),p.setAttribute("fill-rule",_.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(d,p){this._setPath(d,Ae(d._parts,p))},_updateCircle:function(d){var p=d._point,_=Math.max(Math.round(d._radius),1),T=Math.max(Math.round(d._radiusY),1)||_,U="a"+_+","+T+" 0 1,0 ",se=d._empty()?"M0 0":"M"+(p.x-_)+","+p.y+U+_*2+",0 "+U+-_*2+",0 ";this._setPath(d,se)},_setPath:function(d,p){d._path.setAttribute("d",p)},_bringToFront:function(d){ca(d._path)},_bringToBack:function(d){Wo(d._path)}});St.vml&&Gl.include(Tp);function vs(d){return St.svg||St.vml?new Gl(d):null}cr.include({getRenderer:function(d){var p=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var p=this._paneRenderers[d];return p===void 0&&(p=this._createRenderer({pane:d}),this._paneRenderers[d]=p),p},_createRenderer:function(d){return this.options.preferCanvas&&tm(d)||vs(d)}});var Is=ol.extend({initialize:function(d,p){ol.prototype.initialize.call(this,this._boundsToLatLngs(d),p)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=F(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Vh(d,p){return new Is(d,p)}Gl.create=bd,Gl.pointsToPath=Ae,hn.geometryToLayer=$l,hn.coordsToLatLng=_c,hn.coordsToLatLngs=Hl,hn.latLngToCoords=bo,hn.latLngsToCoords=Ii,hn.getFeature=Os,hn.asFeature=wo,cr.mergeOptions({boxZoom:!0});var Mu=ye.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$r(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bl(),_u(),this._startPoint=this._map.mouseEventToContainerPoint(d),xt(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),rr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var p=new K(this._point,this._startPoint),_=p.getSize();Fr(this._box,p.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(qr(this._box),ga(this._container,"leaflet-crosshair")),mo(),Nu(),$r(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var p=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});cr.addInitHook("addHandler","boxZoom",Mu),cr.mergeOptions({doubleClickZoom:!0});var rm=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var p=this._map,_=p.getZoom(),T=p.options.zoomDelta,U=d.originalEvent.shiftKey?_-T:_+T;p.options.doubleClickZoom==="center"?p.setZoom(U):p.setZoomAround(d.containerPoint,U)}});cr.addInitHook("addHandler","doubleClickZoom",rm),cr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ru=ye.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ze(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}rr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ga(this._map._container,"leaflet-grab"),ga(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=F(this._map.options.maxBounds);this._offsetLimit=A(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var p=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(p),this._prunePositions(p)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,p){return d-(d-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;d.x<p.min.x&&(d.x=this._viscousLimit(d.x,p.min.x)),d.y<p.min.y&&(d.y=this._viscousLimit(d.y,p.min.y)),d.x>p.max.x&&(d.x=this._viscousLimit(d.x,p.max.x)),d.y>p.max.y&&(d.y=this._viscousLimit(d.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,p=Math.round(d/2),_=this._initialWorldOffset,T=this._draggable._newPos.x,U=(T-p+_)%d+p-_,se=(T+p+_)%d-p-_,Ee=Math.abs(U+_)<Math.abs(se+_)?U:se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(d){var p=this._map,_=p.options,T=!_.inertia||d.noInertia||this._times.length<2;if(p.fire("dragend",d),T)p.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),se=(this._lastTime-this._times[0])/1e3,Ee=_.easeLinearity,Be=U.multiplyBy(Ee/se),He=Be.distanceTo([0,0]),ct=Math.min(_.inertiaMaxSpeed,He),Tt=Be.multiplyBy(ct/He),Ht=ct/(_.inertiaDeceleration*Ee),hr=Tt.multiplyBy(-Ht/2).round();!hr.x&&!hr.y?p.fire("moveend"):(hr=p._limitOffset(hr,p.options.maxBounds),O(function(){p.panBy(hr,{duration:Ht,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});cr.addInitHook("addHandler","dragging",Ru),cr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ou=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),xt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$r(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,p=document.documentElement,_=d.scrollTop||p.scrollTop,T=d.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(T,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var p=this._panKeys={},_=this.keyCodes,T,U;for(T=0,U=_.left.length;T<U;T++)p[_.left[T]]=[-1*d,0];for(T=0,U=_.right.length;T<U;T++)p[_.right[T]]=[d,0];for(T=0,U=_.down.length;T<U;T++)p[_.down[T]]=[0,d];for(T=0,U=_.up.length;T<U;T++)p[_.up[T]]=[0,-1*d]},_setZoomDelta:function(d){var p=this._zoomKeys={},_=this.keyCodes,T,U;for(T=0,U=_.zoomIn.length;T<U;T++)p[_.zoomIn[T]]=d;for(T=0,U=_.zoomOut.length;T<U;T++)p[_.zoomOut[T]]=-d},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$r(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var p=d.keyCode,_=this._map,T;if(p in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(T=this._panKeys[p],d.shiftKey&&(T=Se(T).multiplyBy(3)),_.options.maxBounds&&(T=_._limitOffset(Se(T),_.options.maxBounds)),_.options.worldCopyJump){var U=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(T)));_.panTo(U)}else _.panBy(T)}else if(p in this._zoomKeys)_.setZoom(_.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;Xo(d)}}});cr.addInitHook("addHandler","keyboard",Ou),cr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qh=ye.extend({addHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$r(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var p=hd(d),_=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var T=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),T),Xo(d)},_performZoom:function(){var d=this._map,p=d.getZoom(),_=this._map.options.zoomSnap||0;d._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,se=_?Math.ceil(U/_)*_:U,Ee=d._limitZoom(p+(this._delta>0?se:-se))-p;this._delta=0,this._startTime=null,Ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(p+Ee):d.setZoomAround(this._lastMousePos,p+Ee))}});cr.addInitHook("addHandler","scrollWheelZoom",qh);var Cp=600;cr.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var $h=ye.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$r(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var p=d.touches[0];this._startPos=this._newPos=new oe(p.clientX,p.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(xt(document,"touchend",ba),xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),Cp),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){$r(document,"touchend",ba),$r(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),$r(document,"touchend touchcancel contextmenu",this._cancel,this),$r(document,"touchmove",this._onMove,this)},_onMove:function(d){var p=d.touches[0];this._newPos=new oe(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,p){var _=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});_._simulated=!0,p.target.dispatchEvent(_)}});cr.addInitHook("addHandler","tapHold",$h),cr.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var Hh=ye.extend({addHooks:function(){rr(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ga(this._map._container,"leaflet-touch-zoom"),$r(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var p=this._map;if(!(!d.touches||d.touches.length!==2||p._animatingZoom||this._zooming)){var _=p.mouseEventToContainerPoint(d.touches[0]),T=p.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(_.add(T)._divideBy(2))),this._startDist=_.distanceTo(T),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),ba(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var p=this._map,_=p.mouseEventToContainerPoint(d.touches[0]),T=p.mouseEventToContainerPoint(d.touches[1]),U=_.distanceTo(T)/this._startDist;if(this._zoom=p.getScaleZoom(U,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&U<1||this._zoom>p.getMaxZoom()&&U>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var se=_._add(T)._divideBy(2)._subtract(this._centerPoint);if(U===1&&se.x===0&&se.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(se),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var Ee=o(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(Ee,this,!0),ba(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),$r(document,"touchmove",this._onTouchMove,this),$r(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});cr.addInitHook("addHandler","touchZoom",Hh),cr.BoxZoom=Mu,cr.DoubleClickZoom=rm,cr.Drag=Ru,cr.Keyboard=Ou,cr.ScrollWheelZoom=qh,cr.TapHold=$h,cr.TouchZoom=Hh,r.Bounds=K,r.Browser=St,r.CRS=Z,r.Canvas=em,r.Circle=yo,r.CircleMarker=Di,r.Class=ee,r.Control=jn,r.DivIcon=Xf,r.DivOverlay=ys,r.DomEvent=Jo,r.DomUtil=Zf,r.Draggable=Ze,r.Evented=xe,r.FeatureGroup=si,r.GeoJSON=hn,r.GridLayer=yd,r.Handler=ye,r.Icon=oi,r.ImageOverlay=Ds,r.LatLng=R,r.LatLngBounds=q,r.Layer=da,r.LayerGroup=ps,r.LineUtil=vc,r.Map=cr,r.Marker=xo,r.Mixin=Ce,r.Path=Va,r.Point=oe,r.PolyUtil=er,r.Polygon=ol,r.Polyline=xs,r.Popup=cl,r.PosAnimation=md,r.Projection=bc,r.Rectangle=Is,r.Renderer=ko,r.SVG=Gl,r.SVGOverlay=qa,r.TileLayer=No,r.Tooltip=Pu,r.Transformation=ke,r.Util=Y,r.VideoOverlay=Wr,r.bind=o,r.bounds=A,r.canvas=tm,r.circle=Lu,r.circleMarker=il,r.control=Qo,r.divIcon=Sp,r.extend=s,r.featureGroup=ii,r.geoJSON=Wl,r.geoJson=li,r.gridLayer=Ap,r.icon=Cu,r.imageOverlay=Dr,r.latLng=W,r.latLngBounds=F,r.layerGroup=pd,r.map=Su,r.marker=Rs,r.point=Se,r.polygon=vo,r.polyline=Oa,r.popup=Uh,r.rectangle=Vh,r.setOptions=x,r.stamp=c,r.svg=vs,r.svgOverlay=ll,r.tileLayer=Jf,r.tooltip=jp,r.transformation=Pe,r.version=a,r.videoOverlay=Da;var Wh=window.L;r.noConflict=function(){return window.L=Wh,this},window.L=r})})(Rw,Rw.exports);var fp=Rw.exports;const G_=TA(fp);function Y_(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function K_(e,t){return t==null?function(a,s){const i=P.useRef();return i.current||(i.current=e(a,s)),i}:function(a,s){const i=P.useRef();i.current||(i.current=e(a,s));const o=P.useRef(a),{instance:l}=i.current;return P.useEffect(function(){o.current!==a&&(t(l,a,o.current),o.current=a)},[l,a,s]),i}}function e$(e,t){P.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function OC(e){return function(r){const a=H_(),s=e(W_(r,a),a);return LC(a.map,r.attribution),RC(s.current,r.eventHandlers),e$(s.current,a),s}}function t$(e,t){const r=K_(e,t),a=OC(r);return Zq(a)}function r$(e,t){const r=K_(e),a=Qq(r,t);return Xq(a)}function a$(e,t){const r=K_(e,t),a=OC(r);return Jq(a)}function n$(e,t,r){const{opacity:a,zIndex:s}=t;a!=null&&a!==r.opacity&&e.setOpacity(a),s!=null&&s!==r.zIndex&&e.setZIndex(s)}function s$(){return H_().map}function Ow(){return Ow=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ow.apply(this,arguments)}function i$({bounds:e,boundsOptions:t,center:r,children:a,className:s,id:i,placeholder:o,style:l,whenReady:c,zoom:u,...h},f){const[g]=P.useState({className:s,id:i,style:l}),[m,y]=P.useState(null);P.useImperativeHandle(f,()=>(m==null?void 0:m.map)??null,[m]);const x=P.useCallback(b=>{if(b!==null&&m===null){const w=new fp.Map(b,h);r!=null&&u!=null?w.setView(r,u):e!=null&&w.fitBounds(e,t),c!=null&&w.whenReady(c),y(Yq(w))}},[]);P.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const N=m?oc.createElement(MC,{value:m},a):o??null;return oc.createElement("div",Ow({},g,{ref:x}),N)}const o$=P.forwardRef(i$),l$=t$(function({position:t,...r},a){const s=new fp.Marker(t,r);return Y_(s,Kq(a,{overlayContainer:s}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),c$=r$(function(t,r){const a=new fp.Popup(t,r.overlayContainer);return Y_(a,r)},function(t,r,{position:a},s){P.useEffect(function(){const{instance:o}=t;function l(u){u.popup===o&&(o.update(),s(!0))}function c(u){u.popup===o&&s(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(a!=null&&o.setLatLng(a),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var h;r.map.off({popupopen:l,popupclose:c}),(h=r.overlayContainer)==null||h.unbindPopup(),r.map.removeLayer(o)}},[t,r,s,a])}),d$=a$(function({url:t,...r},a){const s=new fp.TileLayer(t,W_(r,a));return Y_(s,a)},function(t,r,a){n$(t,r,a);const{url:s}=r;s!=null&&s!==a.url&&t.setUrl(s)}),u$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",h$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",f$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",DC=G_.icon({iconUrl:u$,shadowUrl:h$,iconRetinaUrl:f$,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});G_.Marker.prototype.options.icon=DC;const m$=(e,t)=>G_.divIcon({className:"custom-marker",html:`<div style="
      background-color: ${e};
      width: 32px;
      height: 32px;
      border-radius: 50% 50% 50% 0;
      transform: rotate(-45deg);
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    ">
      <div style="
        transform: rotate(45deg);
        color: white;
        font-size: 16px;
        font-weight: bold;
        line-height: 1;
      ">${t}</div>
    </div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Vj=[{id:"1",name:"Modern Downtown Apartment",type:"property",lat:40.7128,lng:-74.006,address:"123 Main St, New York, NY"},{id:"2",name:"Luxury Condo",type:"property",lat:34.0522,lng:-118.2437,address:"456 Oak Ave, Los Angeles, CA"},{id:"3",name:"Spacious Penthouse",type:"property",lat:41.8781,lng:-87.6298,address:"789 Lake Shore Dr, Chicago, IL"},{id:"4",name:"City View Apartment",type:"property",lat:37.7749,lng:-122.4194,address:"321 Market St, San Francisco, CA"},{id:"5",name:"Downtown Loft",type:"property",lat:29.7604,lng:-95.3698,address:"654 Main St, Houston, TX"},{id:"6",name:"Prime Real Estate",type:"estate_agent",lat:40.7589,lng:-73.9851,address:"100 Broadway, New York, NY",phone:"(555) 123-4567"},{id:"7",name:"Elite Properties",type:"estate_agent",lat:34.0522,lng:-118.2479,address:"200 Sunset Blvd, Los Angeles, CA",phone:"(555) 234-5678"},{id:"8",name:"City Homes Realty",type:"estate_agent",lat:41.8781,lng:-87.6358,address:"300 Michigan Ave, Chicago, IL",phone:"(555) 345-6789"},{id:"9",name:"24/7 Locksmith Services",type:"locksmith",lat:40.7128,lng:-74.008,address:"50 Park Ave, New York, NY",phone:"(555) 111-2222"},{id:"10",name:"Quick Lock & Key",type:"locksmith",lat:34.0522,lng:-118.249,address:"60 Vine St, Los Angeles, CA",phone:"(555) 222-3333"},{id:"11",name:"Walmart Supercenter",type:"supermarket",lat:40.7505,lng:-73.9934,address:"700 6th Ave, New York, NY",phone:"(555) 333-4444"},{id:"12",name:"Target Store",type:"supermarket",lat:34.0522,lng:-118.251,address:"8500 Sunset Blvd, Los Angeles, CA",phone:"(555) 444-5555"},{id:"13",name:"Whole Foods Market",type:"supermarket",lat:37.7749,lng:-122.421,address:"1765 California St, San Francisco, CA",phone:"(555) 555-6666"},{id:"14",name:"The Grill House",type:"restaurant",lat:40.7614,lng:-73.9776,address:"123 5th Ave, New York, NY",phone:"(555) 666-7777"},{id:"15",name:"Coastal Bistro",type:"restaurant",lat:34.0522,lng:-118.253,address:"456 Ocean Dr, Los Angeles, CA",phone:"(555) 777-8888"},{id:"16",name:"Downtown Diner",type:"restaurant",lat:41.8781,lng:-87.6378,address:"789 State St, Chicago, IL",phone:"(555) 888-9999"},{id:"17",name:"Gourmet Kitchen",type:"restaurant",lat:37.7749,lng:-122.423,address:"321 Market St, San Francisco, CA",phone:"(555) 999-0000"},{id:"18",name:"Tech Electronics",type:"electrical",lat:40.7505,lng:-73.9954,address:"150 7th Ave, New York, NY",phone:"(555) 101-2020"},{id:"19",name:"Electric Depot",type:"electrical",lat:34.0522,lng:-118.255,address:"250 Main St, Los Angeles, CA",phone:"(555) 202-3030"},{id:"20",name:"Auto Repair Center",type:"mechanic",lat:40.7589,lng:-73.9871,address:"350 Broadway, New York, NY",phone:"(555) 303-4040"},{id:"21",name:"City Auto Service",type:"mechanic",lat:34.0522,lng:-118.257,address:"450 Pico Blvd, Los Angeles, CA",phone:"(555) 404-5050"},{id:"22",name:"Quick Fix Auto",type:"mechanic",lat:41.8781,lng:-87.6398,address:"550 Wacker Dr, Chicago, IL",phone:"(555) 505-6060"},{id:"23",name:"Home Furnishings",type:"furniture",lat:40.7614,lng:-73.9796,address:"600 6th Ave, New York, NY",phone:"(555) 606-7070"},{id:"24",name:"Modern Living Store",type:"furniture",lat:34.0522,lng:-118.259,address:"700 Melrose Ave, Los Angeles, CA",phone:"(555) 707-8080"},{id:"25",name:"Comfort Furniture",type:"furniture",lat:37.7749,lng:-122.425,address:"800 Valencia St, San Francisco, CA",phone:"(555) 808-9090"},{id:"26",name:"Home Essentials",type:"household",lat:40.7505,lng:-73.9974,address:"900 8th Ave, New York, NY",phone:"(555) 909-1010"},{id:"27",name:"House & Garden",type:"household",lat:34.0522,lng:-118.261,address:"1000 Beverly Blvd, Los Angeles, CA",phone:"(555) 010-1111"},{id:"28",name:"Home Improvement Store",type:"household",lat:41.8781,lng:-87.6418,address:"1100 N State St, Chicago, IL",phone:"(555) 111-1212"}],qj=[{id:"property",label:"Properties",icon:mr,color:"#3b82f6"},{id:"estate_agent",label:"Estate Agents",icon:cc,color:"#10b981"},{id:"locksmith",label:"Locksmiths",icon:Oq,color:"#f59e0b"},{id:"supermarket",label:"Supermarkets",icon:Dj,color:"#ef4444"},{id:"restaurant",label:"Restaurants",icon:Cq,color:"#8b5cf6"},{id:"electrical",label:"Electrical Shops",icon:bf,color:"#ec4899"},{id:"mechanic",label:"Mechanic Shops",icon:F_,color:"#06b6d4"},{id:"furniture",label:"Furniture Shops",icon:dq,color:"#84cc16"},{id:"household",label:"Household Shops",icon:Dj,color:"#f97316"}];function g$({center:e}){const t=s$();return P.useEffect(()=>{t.setView(e,t.getZoom())},[e,t]),null}const p$=()=>{const[e,t]=P.useState(["property","estate_agent"]),[r,a]=P.useState(!0),[s]=P.useState([40.7128,-74.006]),i=c=>{t(u=>u.includes(c)?u.filter(h=>h!==c):[...u,c])},o=Vj.filter(c=>e.includes(c.type)),l=c=>{const u=qj.find(f=>f.id===c);if(!u)return DC;const h={property:"",estate_agent:"",locksmith:"",supermarket:"",restaurant:"",electrical:"",mechanic:"",furniture:"",household:""};return m$(u.color,h[c]||"")};return n.jsxs("div",{className:"relative w-full h-full",children:[r&&n.jsxs("div",{className:"absolute top-4 left-4 z-[1000] bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 max-w-xs max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Do,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),n.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(xr,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),n.jsx("div",{className:"space-y-2",children:qj.map(c=>{const u=c.icon,h=e.includes(c.id),f=Vj.filter(g=>g.type===c.id).length;return n.jsxs("button",{onClick:()=>i(c.id),className:`w-full flex items-center gap-3 p-2 rounded-lg transition-all ${h?"bg-gray-100 dark:bg-gray-700 border-2 border-primary":"bg-transparent border-2 border-transparent hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:h?c.color:"#e5e7eb"},children:n.jsx(u,{className:"w-4 h-4",style:{color:h?"white":"#6b7280"}})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:c.label}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f," locations"]})]}),h&&n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.color}})]},c.id)})})]}),!r&&n.jsxs("button",{onClick:()=>a(!0),className:"absolute top-4 left-4 z-[1000] bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters"})]}),n.jsxs(o$,{center:s,zoom:5,style:{height:"100%",width:"100%",zIndex:0},zoomControl:!0,scrollWheelZoom:!0,children:[n.jsx(g$,{center:s}),n.jsx(d$,{attribution:' <a href="https://www.esri.com/">Esri</a>  <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),o.map(c=>n.jsx(l$,{position:[c.lat,c.lng],icon:l(c.type),children:n.jsx(c$,{children:n.jsxs("div",{className:"p-2",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:c.name}),c.address&&n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:c.address}),c.phone&&n.jsx("p",{className:"text-sm text-gray-600",children:c.phone})]})})},c.id))]})]})},x$=()=>{const e=[{type:"New Application",name:"Mike Wilson",property:"Modern Downtown apartment",date:"1/10/2025"},{type:"Viewing Scheduled",name:"Sarah Johnson",property:"tommorow",date:""}];return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(bf,{className:"w-5 h-5 text-blue-500 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Recently Activity"})]}),n.jsx("div",{className:"space-y-4 mb-6",children:e.map((t,r)=>n.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900/50 hover:scale-[1.02] cursor-pointer group/item",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0 transition-all duration-300 group-hover/item:scale-150 group-hover/item:shadow-lg group-hover/item:shadow-blue-500/50"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"body-text font-medium text-gray-800 dark:text-white transition-colors duration-300 group-hover/item:text-blue-600 dark:group-hover/item:text-blue-400",children:t.type}),n.jsxs("p",{className:"body-text text-gray-600 dark:text-gray-400 transition-colors duration-300 group-hover/item:text-gray-800 dark:group-hover/item:text-gray-300",children:[t.name," - ",t.property]}),t.date&&n.jsx("p",{className:"caption text-gray-500 dark:text-gray-500 mt-1",children:t.date})]})]},r))}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg h-[500px] md:h-[650px] lg:h-[800px] relative overflow-hidden border border-gray-200 dark:border-gray-800",children:n.jsx(p$,{})})]})]})},y$=()=>{const e=[{name:"Modern Downtown Apartment",price:"$450,000.00",views:"245 view",inquiries:"12 Inquiries",status:"Available"},{name:"Luxury Condo with city view",price:"$3,500.00",views:"189 view",inquiries:"8 Inquires",status:"Available"},{name:"Spacious Penthouse",price:"$6,500.00",views:"156 view",inquiries:"15 Inquires",status:"Available"}];return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(kl,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white",children:"Top Performing properties"})]}),n.jsx("div",{className:"space-y-4",children:e.map((t,r)=>n.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-4 bg-white dark:bg-black",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"body-text font-semibold text-gray-800 dark:text-white",children:t.name}),n.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 caption rounded-full whitespace-nowrap",children:t.status})]}),n.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:t.price}),n.jsxs("div",{className:"flex items-center gap-4 secondary-label text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:t.views}),n.jsx("span",{children:t.inquiries})]})]},r))})]})},$j=({property:e})=>{const t=e.title||("name"in e?e.name:void 0)||"Untitled Property",r=e.bedrooms||("beds"in e?e.beds:void 0)||0,a=e.area||("sqft"in e?e.sqft:void 0)||0,s=e.features||("tags"in e?e.tags:void 0)||[],i=("listedDate"in e?e.listedDate:void 0)||(e.createdAt?new Date(e.createdAt).toLocaleDateString():"");return n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden font-sans group relative cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 dark:group-hover:opacity-15 transition-opacity duration-300 bg-gradient-to-br from-white/50 dark:from-white/30 via-transparent to-transparent z-20"}),n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute top-4 right-4 z-10 transition-transform duration-300 group-hover:scale-110",children:n.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-full shadow-lg",children:e.status})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-transform duration-500 group-hover:scale-110",children:n.jsx(mr,{className:"w-16 h-16 text-white opacity-30"})})]}),n.jsxs("div",{className:"p-4 relative z-10",children:[n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-1 transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:t}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 transition-colors duration-300 group-hover:text-gray-800 dark:group-hover:text-gray-300",children:e.address}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[n.jsxs("span",{children:[r," Beds"]}),n.jsxs("span",{children:[e.bathrooms," Bathroom"]}),n.jsxs("span",{children:[a," Sqft"]})]}),"rating"in e&&e.rating&&"reviews"in e&&e.reviews&&n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(kl,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:[e.rating," (",e.reviews,")"]})]})}),i&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:["Listed ",i]}),s.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:s.slice(0,3).map((o,l)=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 text-xs rounded",children:o},l))})]})]})},v$=({isOpen:e,onClose:t})=>{const r=vr(),[a,s]=P.useState([{id:"1",text:"Hello! I'm Ask Lakshmi, your AI assistant. I can help you with questions about your properties, leads, dashboard analytics, and provide insights. I can also navigate you to different sections. How can I assist you today?",sender:"bot",timestamp:new Date}]),[i,o]=P.useState(""),[l,c]=P.useState(!1),[u,h]=P.useState(!1),f=P.useRef(null),g=P.useRef(null),{properties:m}=Ah(),{leads:y}=D_(),x={dashboard:{path:"/",name:"Dashboard"},home:{path:"/",name:"Dashboard"},properties:{path:"/properties",name:"Properties"},property:{path:"/properties",name:"Properties"},leads:{path:"/leads",name:"Leads & Clients"},lead:{path:"/leads",name:"Leads & Clients"},clients:{path:"/leads",name:"Leads & Clients"},client:{path:"/leads",name:"Leads & Clients"},application:{path:"/application",name:"Application"},applications:{path:"/application",name:"Application"},appointment:{path:"/appointment",name:"Appointment"},appointments:{path:"/appointment",name:"Appointment"},messages:{path:"/messages",name:"Messages"},message:{path:"/messages",name:"Messages"},analytics:{path:"/analytics",name:"Analytics"},analytic:{path:"/analytics",name:"Analytics"},analysis:{path:"/analytics",name:"Analytics"},billing:{path:"/billing",name:"Billing"},bill:{path:"/billing",name:"Billing"},payment:{path:"/billing",name:"Billing"},payments:{path:"/billing",name:"Billing"},help:{path:"/help",name:"Help & Support"},support:{path:"/help",name:"Help & Support"}};P.useEffect(()=>{if(typeof window<"u"){const D=window.webkitSpeechRecognition||window.SpeechRecognition;D&&(g.current=new D,g.current.continuous=!1,g.current.interimResults=!1,g.current.lang="en-US",g.current.onresult=C=>{const G=C.results[0][0].transcript;o(G),c(!1),setTimeout(()=>{B(G)},100)},g.current.onerror=C=>{console.error("Speech recognition error:",C.error),c(!1),b("bot","I'm sorry, I couldn't hear you clearly. Please try again or type your message.")},g.current.onend=()=>{c(!1)})}},[]);const N=()=>{var D;(D=f.current)==null||D.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{N()},[a]);const b=(D,C)=>{const G={id:Date.now().toString(),text:C,sender:D,timestamp:new Date};s(O=>[...O,G])},w=()=>{if(g.current&&!l)try{c(!0),g.current.start()}catch(D){console.error("Error starting speech recognition:",D),c(!1),b("bot","Voice recognition is not available in your browser. Please type your message instead.")}else g.current||b("bot","Voice recognition is not available in your browser. Please type your message instead.")},k=()=>{g.current&&l&&(g.current.stop(),c(!1))},S=D=>{const C=D.toLowerCase();if(h(!0),["take me to","go to","navigate to","open","show me","bring me to","switch to","visit"].some(V=>C.includes(V))){for(const[V,Y]of Object.entries(x))if(C.includes(V))return setTimeout(()=>{r(Y.path),t()},500),`Taking you to ${Y.name}...`;return"I can help you navigate to: Dashboard, Properties, Leads & Clients, Application, Appointment, Messages, Analytics, Billing, or Help & Support. Which one would you like to visit?"}if(C.includes("property")||C.includes("properties")||C.includes("listing")){const V=m.length,Y=m.filter(de=>de.published).length,ee=m.filter(de=>de.draft).length,he=m.filter(de=>de.status==="available").length;if(C.includes("total")||C.includes("how many"))return`You currently have ${V} ${V===1?"property":"properties"} in your portfolio. ${Y} ${Y===1?"is":"are"} published, ${ee} ${ee===1?"is":"are"} in draft, and ${he} ${he===1?"is":"are"} available.`;if(C.includes("recent")||C.includes("latest")||C.includes("new")){const de=[...m].sort((xe,oe)=>new Date(oe.createdAt).getTime()-new Date(xe.createdAt).getTime()).slice(0,3);return de.length>0?`Your most recent properties are: ${de.map(oe=>`"${oe.title}"`).join(", ")}. Would you like details about any specific property?`:"You don't have any properties yet. Would you like to add one?"}if(C.includes("price")||C.includes("cost")||C.includes("rent")){const de=m.filter(xe=>xe.price).map(xe=>typeof xe.price=="object"&&xe.price.amount?xe.price.amount:typeof xe.priceString=="string"?parseFloat(xe.priceString.replace(/[^0-9.]/g,"")):NaN).filter(xe=>!isNaN(xe));if(de.length>0){const xe=de.reduce((Se,K)=>Se+K,0)/de.length,oe=Math.max(...de),fe=Math.min(...de);return`Based on your properties: Average price is $${xe.toFixed(2)}, highest is $${oe.toFixed(2)}, and lowest is $${fe.toFixed(2)}.`}return"I don't have pricing information for your properties yet."}return`You have ${V} properties in your portfolio. ${Y} are published and ${he} are currently available. Would you like to know more about any specific property?`}if(C.includes("dashboard")||C.includes("analytics")||C.includes("statistics")||C.includes("stats")){const V=m.length,Y=y.length,ee=y.filter(de=>de.status==="In Progress"||de.status==="New Lead").length,he=y.filter(de=>de.status==="Approved").length;return`Here's your dashboard summary: You have ${V} properties, ${Y} leads (${ee} active, ${he} approved). Your portfolio is growing! Would you like more detailed analytics?`}if(C.includes("lead")||C.includes("client")||C.includes("inquiry")){const V=y.length,Y=y.filter(de=>de.status==="New Lead").length,ee=y.filter(de=>de.status==="In Progress").length,he=y.filter(de=>de.status==="Approved").length;if(C.includes("total")||C.includes("how many"))return`You have ${V} leads: ${Y} new, ${ee} in progress, and ${he} approved.`;if(C.includes("recent")||C.includes("latest")){const de=[...y].sort((xe,oe)=>new Date(oe.createdAt).getTime()-new Date(xe.createdAt).getTime()).slice(0,3);return de.length>0?`Your most recent leads are: ${de.map(oe=>`${oe.name} (${oe.status})`).join(", ")}.`:"You don't have any leads yet."}return`You have ${V} leads in your system. ${Y} are new leads that need attention. Would you like to see details about any specific lead?`}if(C.includes("future")||C.includes("forecast")||C.includes("prediction")||C.includes("trend")||C.includes("analysis")){const V=m.length,Y=y.length,ee=Y>0?(y.filter(he=>he.status==="Approved").length/Y*100).toFixed(1):"0";return`Based on your current data: You have ${V} properties and ${Y} leads with a ${ee}% approval rate. The trend suggests steady growth. To improve, consider focusing on properties with higher lead interest and optimizing your conversion funnel. Would you like specific recommendations?`}if(C.includes("performance")||C.includes("best")||C.includes("top")){if(m.length>0){const Y=m.map(ee=>({...ee,views:Math.floor(Math.random()*500)+50})).sort((ee,he)=>he.views-ee.views)[0];return`Your top-performing property is "${Y.title}" with high engagement. Properties in the "${Y.propertyType}" category are showing strong performance. Consider adding similar properties to your portfolio.`}return"I need more data to provide performance insights. Keep adding properties and I'll analyze their performance for you."}return C.includes("hello")||C.includes("hi")||C.includes("hey")?"Hello! I'm Ask Lakshmi, your AI assistant. I can help you with questions about your properties, leads, dashboard analytics, and provide insights. I can also navigate you to different sections - just say 'take me to [section name]'. What would you like to know?":C.includes("help")||C.includes("what can you")||C.includes("what do you")?`I can help you with:
 Property information and statistics
 Lead and client data
 Dashboard analytics and insights
 Future predictions and trends
 Performance analysis
 Navigation to different sections (just say 'take me to [section]')

Just ask me anything about your dashboard or ask me to navigate you somewhere!`:"I understand you're asking about: "+D+". Let me help you with that. Could you be more specific? For example, you can ask about your properties, leads, dashboard statistics, or future analysis."},B=D=>{D.trim()&&(b("user",D),h(!0),setTimeout(()=>{const C=S(D);b("bot",C),h(!1)},800))},H=async D=>{const C=i.trim();C&&(o(""),B(C))},I=D=>{D.preventDefault(),H()};return e?n.jsxs("div",{className:"fixed bottom-4 right-4 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col z-50 transition-all duration-300",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary to-orange-600 text-white p-4 rounded-t-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(_l,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"AI Assistant"})]})]}),n.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 space-y-4 custom-scrollbar",children:[a.map(D=>n.jsxs("div",{className:`flex gap-3 ${D.sender==="user"?"justify-end":"justify-start"}`,children:[D.sender==="bot"&&n.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(_l,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${D.sender==="user"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:D.text}),n.jsx("p",{className:"text-xs mt-1 opacity-70",children:D.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),D.sender==="user"&&n.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Nn,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]},D.id)),u&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(_l,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),n.jsx("div",{ref:f})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:l?k:w,className:`p-2 rounded-lg transition-colors ${l?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:l?"Stop listening":"Start voice input",children:l?n.jsx(SC,{className:"w-5 h-5"}):n.jsx(Lw,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:i,onChange:D=>o(D.target.value),placeholder:l?"Listening...":"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:l}),n.jsx("button",{type:"submit",disabled:!i.trim()||u||l,className:"p-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Eh,{className:"w-5 h-5"})})]}),l&&n.jsx("p",{className:"text-xs text-red-500 mt-2 text-center animate-pulse",children:" Listening... Speak now"})]})]}):null},Qy=({data:e,size:t=200,title:r})=>{const a=e.reduce((c,u)=>c+u.value,0),s=t/2,i=t/2-10;let o=-90;const l=(c,u,h)=>{const g=c/a*100/100*360,m=o,y=o+g,x=s+i*Math.cos(m*Math.PI/180),N=s+i*Math.sin(m*Math.PI/180),b=s+i*Math.cos(y*Math.PI/180),w=s+i*Math.sin(y*Math.PI/180),k=g>180?1:0,S=[`M ${s} ${s}`,`L ${x} ${N}`,`A ${i} ${i} 0 ${k} 1 ${b} ${w}`,"Z"].join(" ");return o=y,n.jsx("path",{d:S,fill:u,stroke:"white",strokeWidth:"2",className:"hover:opacity-80 transition-opacity cursor-pointer"},h)};return n.jsxs("div",{className:"flex flex-col items-center",children:[r&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:r}),n.jsxs("div",{className:"relative",children:[n.jsx("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,children:e.map((c,u)=>l(c.value,c.color,u))}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a}),n.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})})]}),n.jsx("div",{className:"mt-4 space-y-2 w-full",children:e.map((c,u)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),n.jsx("span",{className:"text-gray-700",children:c.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:c.value}),n.jsxs("span",{className:"text-gray-500",children:["(",(c.value/a*100).toFixed(1),"%)"]})]})]},u))})]})},e1=({data:e,title:t,height:r=200,showValues:a=!0})=>{const s=Math.max(...e.map(l=>l.value)),i=Math.min(...e.map(l=>l.value)),o=s-i||1;return n.jsxs("div",{className:"w-full",children:[t&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:t}),n.jsxs("div",{className:"relative w-full",style:{height:`${r}px`},children:[n.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between pr-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["$",(s/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.75/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.5/1e3).toFixed(0),"k"]}),n.jsxs("span",{children:["$",(s*.25/1e3).toFixed(0),"k"]}),n.jsx("span",{children:"$0"})]}),n.jsx("div",{className:"ml-12 h-full flex items-end justify-between gap-2 md:gap-4",children:e.map((l,c)=>{const u=(l.value-i)/o*100,h=Math.max(u,5);return n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group h-full",children:[a&&n.jsxs("div",{className:"absolute bottom-full mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:["$",l.value.toLocaleString(),n.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]}),n.jsxs("div",{className:"w-full rounded-t-lg transition-all hover:opacity-90 cursor-pointer relative group/bar",style:{height:`${h}%`,backgroundColor:l.color||"#FF6B35",minHeight:"8px"},title:`${l.label}: $${l.value.toLocaleString()}`,children:[a&&h>25&&n.jsxs("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 text-white text-xs font-semibold",children:["$",(l.value/1e3).toFixed(0),"k"]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover/bar:opacity-100 transition-opacity rounded-t-lg"})]}),n.jsx("div",{className:"text-xs text-gray-600 mt-2 text-center px-1 font-medium",children:l.label})]},c)})}),n.jsx("div",{className:"absolute inset-0 ml-12 pointer-events-none",children:[0,25,50,75,100].map(l=>n.jsx("div",{className:"absolute left-0 right-0 border-t border-gray-200",style:{bottom:`${l}%`}},l))})]})]})},K0=({data:e,title:t,height:r=200,color:a="#FF6B35"})=>{const s=Math.max(...e.map(f=>f.value)),i=Math.min(...e.map(f=>f.value)),o=s-i||1,l=100,c=r-40,h=`M ${e.map((f,g)=>{const m=g/(e.length-1)*l,y=c-(f.value-i)/o*c;return`${m},${y}`}).join(" L ")}`;return n.jsxs("div",{children:[t&&n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:t}),n.jsxs("div",{className:"relative",style:{height:`${r}px`},children:[n.jsxs("svg",{width:"100%",height:c,viewBox:`0 0 ${l} ${c}`,className:"overflow-visible",children:[[0,25,50,75,100].map(f=>n.jsx("line",{x1:"0",y1:f,x2:l,y2:f,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"2,2"},f)),n.jsx("path",{d:h,fill:"none",stroke:a,strokeWidth:"2",className:"transition-all"}),n.jsx("path",{d:`${h} L ${l},${c} L 0,${c} Z`,fill:a,fillOpacity:"0.1"}),e.map((f,g)=>{const m=g/(e.length-1)*l,y=c-(f.value-i)/o*c;return n.jsxs("g",{children:[n.jsx("circle",{cx:m,cy:y,r:"3",fill:a,className:"hover:r-4 transition-all cursor-pointer"}),n.jsx("text",{x:m,y:y-8,textAnchor:"middle",className:"text-xs fill-gray-600",style:{fontSize:"8px"},children:f.value})]},g)})]}),n.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:e.map((f,g)=>n.jsx("span",{className:"flex-1 text-center",children:f.label},g))})]})]})},b$="modulepreload",w$=function(e){return"/"+e},Hj={},Qx=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=w$(c),c in Hj)return;Hj[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":b$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,m)=>{f.addEventListener("load",g),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}var Ll=Uint8Array,ro=Uint16Array,Z_=Int32Array,X_=new Ll([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J_=new Ll([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wj=new Ll([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IC=function(e,t){for(var r=new ro(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var s=new Z_(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)s[i]=i-r[a]<<5|a;return{b:r,r:s}},FC=IC(X_,2),_$=FC.b,Dw=FC.r;_$[28]=258,Dw[258]=28;var N$=IC(J_,0),Gj=N$.r,Iw=new ro(32768);for(var ja=0;ja<32768;++ja){var Ad=(ja&43690)>>1|(ja&21845)<<1;Ad=(Ad&52428)>>2|(Ad&13107)<<2,Ad=(Ad&61680)>>4|(Ad&3855)<<4,Iw[ja]=((Ad&65280)>>8|(Ad&255)<<8)>>1}var eg=function(e,t,r){for(var a=e.length,s=0,i=new ro(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new ro(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new ro(1<<t);var c=15-t;for(s=0;s<a;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],f=o[e[s]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)l[Iw[f]>>c]=u}else for(l=new ro(a),s=0;s<a;++s)e[s]&&(l[s]=Iw[o[e[s]-1]++]>>15-e[s]);return l},xh=new Ll(288);for(var ja=0;ja<144;++ja)xh[ja]=8;for(var ja=144;ja<256;++ja)xh[ja]=9;for(var ja=256;ja<280;++ja)xh[ja]=7;for(var ja=280;ja<288;++ja)xh[ja]=8;var t1=new Ll(32);for(var ja=0;ja<32;++ja)t1[ja]=5;var k$=eg(xh,9,0),j$=eg(t1,5,0),BC=function(e){return(e+7)/8|0},S$=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ll(e.subarray(t,r))},Tc=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},ym=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},_b=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var s=r.length,i=r.slice();if(!s)return{t:UC,l:0};if(s==1){var o=new Ll(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,H){return B.f-H.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=i[0].s,a=1;a<s;++a)i[a].s>g&&(g=i[a].s);var m=new ro(g+1),y=Fw(r[h-1],m,0);if(y>t){var a=0,x=0,N=y-t,b=1<<N;for(i.sort(function(H,I){return m[I.s]-m[H.s]||H.f-I.f});a<s;++a){var w=i[a].s;if(m[w]>t)x+=b-(1<<y-m[w]),m[w]=t;else break}for(x>>=N;x>0;){var k=i[a].s;m[k]<t?x-=1<<t-m[k]++-1:++a}for(;a>=0&&x;--a){var S=i[a].s;m[S]==t&&(--m[S],++x)}y=t}return{t:new Ll(m),l:y}},Fw=function(e,t,r){return e.s==-1?Math.max(Fw(e.l,t,r+1),Fw(e.r,t,r+1)):t[e.s]=r},Yj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ro(++t),a=0,s=e[0],i=1,o=function(c){r[a++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,a),n:t}},vm=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},zC=function(e,t,r){var a=r.length,s=BC(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=r[i];return(s+4+a)*8},Kj=function(e,t,r,a,s,i,o,l,c,u,h){Tc(t,h++,r),++s[256];for(var f=_b(s,15),g=f.t,m=f.l,y=_b(i,15),x=y.t,N=y.l,b=Yj(g),w=b.c,k=b.n,S=Yj(x),B=S.c,H=S.n,I=new ro(19),D=0;D<w.length;++D)++I[w[D]&31];for(var D=0;D<B.length;++D)++I[B[D]&31];for(var C=_b(I,7),G=C.t,O=C.l,V=19;V>4&&!G[Wj[V-1]];--V);var Y=u+5<<3,ee=vm(s,xh)+vm(i,t1)+o,he=vm(s,g)+vm(i,x)+o+14+3*V+vm(I,G)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&Y<=ee&&Y<=he)return zC(t,h,e.subarray(c,c+u));var de,xe,oe,fe;if(Tc(t,h,1+(he<ee)),h+=2,he<ee){de=eg(g,m,0),xe=g,oe=eg(x,N,0),fe=x;var Se=eg(G,O,0);Tc(t,h,k-257),Tc(t,h+5,H-1),Tc(t,h+10,V-4),h+=14;for(var D=0;D<V;++D)Tc(t,h+3*D,G[Wj[D]]);h+=3*V;for(var K=[w,B],A=0;A<2;++A)for(var q=K[A],D=0;D<q.length;++D){var F=q[D]&31;Tc(t,h,Se[F]),h+=G[F],F>15&&(Tc(t,h,q[D]>>5&127),h+=q[D]>>12)}}else de=k$,xe=xh,oe=j$,fe=t1;for(var D=0;D<l;++D){var R=a[D];if(R>255){var F=R>>18&31;ym(t,h,de[F+257]),h+=xe[F+257],F>7&&(Tc(t,h,R>>23&31),h+=X_[F]);var W=R&31;ym(t,h,oe[W]),h+=fe[W],W>3&&(ym(t,h,R>>5&8191),h+=J_[W])}else ym(t,h,de[R]),h+=xe[R]}return ym(t,h,de[256]),h+xe[256]},A$=new Z_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UC=new Ll(0),E$=function(e,t,r,a,s,i){var o=i.z||e.length,l=new Ll(a+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(a,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var f=A$[t-1],g=f>>13,m=f&8191,y=(1<<r)-1,x=i.p||new ro(32768),N=i.h||new ro(y+1),b=Math.ceil(r/3),w=2*b,k=function(Ye){return(e[Ye]^e[Ye+1]<<b^e[Ye+2]<<w)&y},S=new Z_(25e3),B=new ro(288),H=new ro(32),I=0,D=0,C=i.i||0,G=0,O=i.w||0,V=0;C+2<o;++C){var Y=k(C),ee=C&32767,he=N[Y];if(x[ee]=he,N[Y]=ee,O<=C){var de=o-C;if((I>7e3||G>24576)&&(de>423||!u)){h=Kj(e,c,0,S,B,H,D,G,V,C-V,h),G=I=D=0,V=C;for(var xe=0;xe<286;++xe)B[xe]=0;for(var xe=0;xe<30;++xe)H[xe]=0}var oe=2,fe=0,Se=m,K=ee-he&32767;if(de>2&&Y==k(C-K))for(var A=Math.min(g,de)-1,q=Math.min(32767,C),F=Math.min(258,de);K<=q&&--Se&&ee!=he;){if(e[C+oe]==e[C+oe-K]){for(var R=0;R<F&&e[C+R]==e[C+R-K];++R);if(R>oe){if(oe=R,fe=K,R>A)break;for(var W=Math.min(K,R-2),Z=0,xe=0;xe<W;++xe){var ie=C-K+xe&32767,re=x[ie],X=ie-re&32767;X>Z&&(Z=X,he=ie)}}}ee=he,he=x[ee],K+=ee-he&32767}if(fe){S[G++]=268435456|Dw[oe]<<18|Gj[fe];var ke=Dw[oe]&31,Pe=Gj[fe]&31;D+=X_[ke]+J_[Pe],++B[257+ke],++H[Pe],O=C+oe,++I}else S[G++]=e[C],++B[e[C]]}}for(C=Math.max(C,O);C<o;++C)S[G++]=e[C],++B[e[C]];h=Kj(e,c,u,S,B,H,D,G,V,C-V,h),u||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=N,i.p=x,i.i=C,i.w=O)}else{for(var C=i.w||0;C<o+u;C+=65535){var De=C+65535;De>=o&&(c[h/8|0]=u,De=o),h=zC(c,h+1,e.subarray(C,De))}i.i=o}return S$(l,0,a+BC(h)+s)},VC=function(){var e=1,t=0;return{p:function(r){for(var a=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=r[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},T$=function(e,t,r,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Ll(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return E$(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,s)},qC=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},C$=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=VC();s.p(t.dictionary),qC(e,2,s.d())}};function Bw(e,t){t||(t={});var r=VC();r.p(e);var a=T$(e,t,t.dictionary?6:2,4);return C$(a,t),qC(a,a.length-4,r.d()),a}var L$=typeof TextDecoder<"u"&&new TextDecoder,P$=0;try{L$.decode(UC,{stream:!0}),P$=1}catch{}function M$(e){if(Array.isArray(e))return e}function R$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function O$(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zj(e,t):void 0}}function D$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xj(e,t){return M$(e)||R$(e,t)||O$(e,t)||D$()}function Jj(e,t="utf8"){return new TextDecoder(t).decode(e)}const I$=new TextEncoder;function F$(e){return I$.encode(e)}const B$=1024*8,z$=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Nb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Q_{constructor(t=B$,r={}){Xr(this,"buffer");Xr(this,"byteLength");Xr(this,"byteOffset");Xr(this,"length");Xr(this,"offset");Xr(this,"lastWrittenByte");Xr(this,"littleEndian");Xr(this,"_data");Xr(this,"_mark");Xr(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof Q_)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=Nb[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===z$&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const c=new Nb[r](l.buffer);return this.offset+=a,c.reverse(),c}const o=new Nb[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return Jj(this.readBytes(t))}decodeText(t=1,r="utf8"){return Jj(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(F$(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zf(e){let t=e.length;for(;--t>=0;)e[t]=0}const U$=3,V$=258,$C=29,q$=256,$$=q$+1+$C,HC=30,H$=512,W$=new Array(($$+2)*2);zf(W$);const G$=new Array(HC*2);zf(G$);const Y$=new Array(H$);zf(Y$);const K$=new Array(V$-U$+1);zf(K$);const Z$=new Array($C);zf(Z$);const X$=new Array(HC);zf(X$);const J$=(e,t,r,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var zw=J$;const Q$=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},eH=new Uint32Array(Q$()),tH=(e,t,r,a)=>{const s=eH,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Kl=tH,Uw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},WC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const rH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var aH=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)rH(r,a)&&(e[a]=r[a])}}return e},nH=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];r.set(o,s),s+=o.length}return r},GC={assign:aH,flattenChunks:nH};let YC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{YC=!1}const Ig=new Uint8Array(256);for(let e=0;e<256;e++)Ig[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ig[254]=Ig[254]=1;var sH=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const iH=(e,t)=>{if(t<65534&&e.subarray&&YC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var oH=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(r*2);for(s=0,a=0;a<r;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=Ig[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return iH(i,s)},lH=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ig[e[r]]>t?r:t},Vw={string2buf:sH,buf2string:oH,utf8border:lH};function cH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dH=cH;const ux=16209,uH=16191;var hH=function(t,r){let a,s,i,o,l,c,u,h,f,g,m,y,x,N,b,w,k,S,B,H,I,D,C,G;const O=t.state;a=t.next_in,C=t.input,s=a+(t.avail_in-5),i=t.next_out,G=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=O.dmax,u=O.wsize,h=O.whave,f=O.wnext,g=O.window,m=O.hold,y=O.bits,x=O.lencode,N=O.distcode,b=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{y<15&&(m+=C[a++]<<y,y+=8,m+=C[a++]<<y,y+=8),k=x[m&b];t:for(;;){if(S=k>>>24,m>>>=S,y-=S,S=k>>>16&255,S===0)G[i++]=k&65535;else if(S&16){B=k&65535,S&=15,S&&(y<S&&(m+=C[a++]<<y,y+=8),B+=m&(1<<S)-1,m>>>=S,y-=S),y<15&&(m+=C[a++]<<y,y+=8,m+=C[a++]<<y,y+=8),k=N[m&w];r:for(;;){if(S=k>>>24,m>>>=S,y-=S,S=k>>>16&255,S&16){if(H=k&65535,S&=15,y<S&&(m+=C[a++]<<y,y+=8,y<S&&(m+=C[a++]<<y,y+=8)),H+=m&(1<<S)-1,H>c){t.msg="invalid distance too far back",O.mode=ux;break e}if(m>>>=S,y-=S,S=i-o,H>S){if(S=H-S,S>h&&O.sane){t.msg="invalid distance too far back",O.mode=ux;break e}if(I=0,D=g,f===0){if(I+=u-S,S<B){B-=S;do G[i++]=g[I++];while(--S);I=i-H,D=G}}else if(f<S){if(I+=u+f-S,S-=f,S<B){B-=S;do G[i++]=g[I++];while(--S);if(I=0,f<B){S=f,B-=S;do G[i++]=g[I++];while(--S);I=i-H,D=G}}}else if(I+=f-S,S<B){B-=S;do G[i++]=g[I++];while(--S);I=i-H,D=G}for(;B>2;)G[i++]=D[I++],G[i++]=D[I++],G[i++]=D[I++],B-=3;B&&(G[i++]=D[I++],B>1&&(G[i++]=D[I++]))}else{I=i-H;do G[i++]=G[I++],G[i++]=G[I++],G[i++]=G[I++],B-=3;while(B>2);B&&(G[i++]=G[I++],B>1&&(G[i++]=G[I++]))}}else if(S&64){t.msg="invalid distance code",O.mode=ux;break e}else{k=N[(k&65535)+(m&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){O.mode=uH;break e}else{t.msg="invalid literal/length code",O.mode=ux;break e}else{k=x[(k&65535)+(m&(1<<S)-1)];continue t}break}}while(a<s&&i<l);B=y>>3,a-=B,y-=B<<3,m&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<l?257+(l-i):257-(i-l),O.hold=m,O.bits=y};const a0=15,Qj=852,e3=592,t3=0,kb=1,r3=2,fH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xH=(e,t,r,a,s,i,o,l)=>{const c=l.bits;let u=0,h=0,f=0,g=0,m=0,y=0,x=0,N=0,b=0,w=0,k,S,B,H,I,D=null,C;const G=new Uint16Array(a0+1),O=new Uint16Array(a0+1);let V=null,Y,ee,he;for(u=0;u<=a0;u++)G[u]=0;for(h=0;h<a;h++)G[t[r+h]]++;for(m=c,g=a0;g>=1&&G[g]===0;g--);if(m>g&&(m=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<g&&G[f]===0;f++);for(m<f&&(m=f),N=1,u=1;u<=a0;u++)if(N<<=1,N-=G[u],N<0)return-1;if(N>0&&(e===t3||g!==1))return-1;for(O[1]=0,u=1;u<a0;u++)O[u+1]=O[u]+G[u];for(h=0;h<a;h++)t[r+h]!==0&&(o[O[t[r+h]]++]=h);if(e===t3?(D=V=o,C=20):e===kb?(D=fH,V=mH,C=257):(D=gH,V=pH,C=0),w=0,h=0,u=f,I=i,y=m,x=0,B=-1,b=1<<m,H=b-1,e===kb&&b>Qj||e===r3&&b>e3)return 1;for(;;){Y=u-x,o[h]+1<C?(ee=0,he=o[h]):o[h]>=C?(ee=V[o[h]-C],he=D[o[h]-C]):(ee=96,he=0),k=1<<u-x,S=1<<y,f=S;do S-=k,s[I+(w>>x)+S]=Y<<24|ee<<16|he|0;while(S!==0);for(k=1<<u-1;w&k;)k>>=1;if(k!==0?(w&=k-1,w+=k):w=0,h++,--G[u]===0){if(u===g)break;u=t[r+o[h]]}if(u>m&&(w&H)!==B){for(x===0&&(x=m),I+=f,y=u-x,N=1<<y;y+x<g&&(N-=G[y+x],!(N<=0));)y++,N<<=1;if(b+=1<<y,e===kb&&b>Qj||e===r3&&b>e3)return 1;B=w&H,s[B]=m<<24|y<<16|I-i|0}}return w!==0&&(s[I+w]=u-x<<24|64<<16|0),l.bits=m,0};var tg=xH;const yH=0,KC=1,ZC=2,{Z_FINISH:a3,Z_BLOCK:vH,Z_TREES:hx,Z_OK:yh,Z_STREAM_END:bH,Z_NEED_DICT:wH,Z_STREAM_ERROR:$o,Z_DATA_ERROR:XC,Z_MEM_ERROR:JC,Z_BUF_ERROR:_H,Z_DEFLATED:n3}=WC,J1=16180,s3=16181,i3=16182,o3=16183,l3=16184,c3=16185,d3=16186,u3=16187,h3=16188,f3=16189,r1=16190,Cc=16191,jb=16192,m3=16193,Sb=16194,g3=16195,p3=16196,x3=16197,y3=16198,fx=16199,mx=16200,v3=16201,b3=16202,w3=16203,_3=16204,N3=16205,Ab=16206,k3=16207,j3=16208,La=16209,QC=16210,e7=16211,NH=852,kH=592,jH=15,SH=jH,S3=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function AH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Th=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<J1||t.mode>e7?1:0},t7=e=>{if(Th(e))return $o;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=J1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(NH),t.distcode=t.distdyn=new Int32Array(kH),t.sane=1,t.back=-1,yh},r7=e=>{if(Th(e))return $o;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,t7(e)},a7=(e,t)=>{let r;if(Th(e))return $o;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$o:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,r7(e))},n7=(e,t)=>{if(!e)return $o;const r=new AH;e.state=r,r.strm=e,r.window=null,r.mode=J1;const a=a7(e,t);return a!==yh&&(e.state=null),a},EH=e=>n7(e,SH);let A3=!0,Eb,Tb;const TH=e=>{if(A3){Eb=new Int32Array(512),Tb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tg(KC,e.lens,0,288,Eb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tg(ZC,e.lens,0,32,Tb,0,e.work,{bits:5}),A3=!1}e.lencode=Eb,e.lenbits=9,e.distcode=Tb,e.distbits=5},s7=(e,t,r,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(r-a,r-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},CH=(e,t)=>{let r,a,s,i,o,l,c,u,h,f,g,m,y,x,N=0,b,w,k,S,B,H,I,D;const C=new Uint8Array(4);let G,O;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Th(e)||!e.output||!e.input&&e.avail_in!==0)return $o;r=e.state,r.mode===Cc&&(r.mode=jb),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,h=r.bits,f=l,g=c,D=yh;e:for(;;)switch(r.mode){case J1:if(r.wrap===0){r.mode=jb;break}for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=u&255,C[1]=u>>>8&255,r.check=Kl(r.check,C,2,0),u=0,h=0,r.mode=s3;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=La;break}if((u&15)!==n3){e.msg="unknown compression method",r.mode=La;break}if(u>>>=4,h-=4,I=(u&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=La;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?f3:Cc,u=0,h=0;break;case s3:for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==n3){e.msg="unknown compression method",r.mode=La;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=La;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Kl(r.check,C,2,0)),u=0,h=0,r.mode=i3;case i3:for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,r.check=Kl(r.check,C,4,0)),u=0,h=0,r.mode=o3;case o3:for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Kl(r.check,C,2,0)),u=0,h=0,r.mode=l3;case l3:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Kl(r.check,C,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=c3;case c3:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+m),I)),r.flags&512&&r.wrap&4&&(r.check=Kl(r.check,a,m,i)),l-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=d3;case d3:if(r.flags&2048){if(l===0)break e;m=0;do I=a[i+m++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Kl(r.check,a,m,i)),l-=m,i+=m,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=u3;case u3:if(r.flags&4096){if(l===0)break e;m=0;do I=a[i+m++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Kl(r.check,a,m,i)),l-=m,i+=m,I)break e}else r.head&&(r.head.comment=null);r.mode=h3;case h3:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=La;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Cc;break;case f3:for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}e.adler=r.check=S3(u),u=0,h=0,r.mode=r1;case r1:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,wH;e.adler=r.check=1,r.mode=Cc;case Cc:if(t===vH||t===hx)break e;case jb:if(r.last){u>>>=h&7,h-=h&7,r.mode=Ab;break}for(;h<3;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=m3;break;case 1:if(TH(r),r.mode=fx,t===hx){u>>>=2,h-=2;break e}break;case 2:r.mode=p3;break;case 3:e.msg="invalid block type",r.mode=La}u>>>=2,h-=2;break;case m3:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=La;break}if(r.length=u&65535,u=0,h=0,r.mode=Sb,t===hx)break e;case Sb:r.mode=g3;case g3:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;s.set(a.subarray(i,i+m),o),l-=m,i+=m,c-=m,o+=m,r.length-=m;break}r.mode=Cc;break;case p3:for(;h<14;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=La;break}r.have=0,r.mode=x3;case x3:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.lens[V[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=tg(yH,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid code lengths set",r.mode=La;break}r.have=0,r.mode=y3;case y3:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[u&(1<<r.lenbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(k<16)u>>>=b,h-=b,r.lens[r.have++]=k;else{if(k===16){for(O=b+2;h<O;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(u>>>=b,h-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=La;break}I=r.lens[r.have-1],m=3+(u&3),u>>>=2,h-=2}else if(k===17){for(O=b+3;h<O;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=b,h-=b,I=0,m=3+(u&7),u>>>=3,h-=3}else{for(O=b+7;h<O;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=b,h-=b,I=0,m=11+(u&127),u>>>=7,h-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=La;break}for(;m--;)r.lens[r.have++]=I}}if(r.mode===La)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=La;break}if(r.lenbits=9,G={bits:r.lenbits},D=tg(KC,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid literal/lengths set",r.mode=La;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=tg(ZC,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){e.msg="invalid distances set",r.mode=La;break}if(r.mode=fx,t===hx)break e;case fx:r.mode=mx;case mx:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,hH(e,g),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===Cc&&(r.back=-1);break}for(r.back=0;N=r.lencode[u&(1<<r.lenbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(w&&!(w&240)){for(S=b,B=w,H=k;N=r.lencode[H+((u&(1<<S+B)-1)>>S)],b=N>>>24,w=N>>>16&255,k=N&65535,!(S+b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=S,h-=S,r.back+=S}if(u>>>=b,h-=b,r.back+=b,r.length=k,w===0){r.mode=N3;break}if(w&32){r.back=-1,r.mode=Cc;break}if(w&64){e.msg="invalid literal/length code",r.mode=La;break}r.extra=w&15,r.mode=v3;case v3:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=b3;case b3:for(;N=r.distcode[u&(1<<r.distbits)-1],b=N>>>24,w=N>>>16&255,k=N&65535,!(b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(!(w&240)){for(S=b,B=w,H=k;N=r.distcode[H+((u&(1<<S+B)-1)>>S)],b=N>>>24,w=N>>>16&255,k=N&65535,!(S+b<=h);){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}u>>>=S,h-=S,r.back+=S}if(u>>>=b,h-=b,r.back+=b,w&64){e.msg="invalid distance code",r.mode=La;break}r.offset=k,r.extra=w&15,r.mode=w3;case w3:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=La;break}r.mode=_3;case _3:if(c===0)break e;if(m=g-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=La;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),x=r.window}else x=s,y=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do s[o++]=x[y++];while(--m);r.length===0&&(r.mode=mx);break;case N3:if(c===0)break e;s[o++]=r.length,c--,r.mode=mx;break;case Ab:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=a[i++]<<h,h+=8}if(g-=c,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?Kl(r.check,s,g,o-g):zw(r.check,s,g,o-g)),g=c,r.wrap&4&&(r.flags?u:S3(u))!==r.check){e.msg="incorrect data check",r.mode=La;break}u=0,h=0}r.mode=k3;case k3:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=a[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=La;break}u=0,h=0}r.mode=j3;case j3:D=bH;break e;case La:D=XC;break e;case QC:return JC;case e7:default:return $o}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<La&&(r.mode<Ab||t!==a3))&&s7(e,e.output,e.next_out,g-e.avail_out),f-=e.avail_in,g-=e.avail_out,e.total_in+=f,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?Kl(r.check,s,g,e.next_out-g):zw(r.check,s,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Cc?128:0)+(r.mode===fx||r.mode===Sb?256:0),(f===0&&g===0||t===a3)&&D===yh&&(D=_H),D},LH=e=>{if(Th(e))return $o;let t=e.state;return t.window&&(t.window=null),e.state=null,yh},PH=(e,t)=>{if(Th(e))return $o;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,yh):$o},MH=(e,t)=>{const r=t.length;let a,s,i;return Th(e)||(a=e.state,a.wrap!==0&&a.mode!==r1)?$o:a.mode===r1&&(s=1,s=zw(s,t,r,0),s!==a.check)?XC:(i=s7(e,t,r,r),i?(a.mode=QC,JC):(a.havedict=1,yh))};var RH=r7,OH=a7,DH=t7,IH=EH,FH=n7,BH=CH,zH=LH,UH=PH,VH=MH,qH="pako inflate (from Nodeca project)",Rc={inflateReset:RH,inflateReset2:OH,inflateResetKeep:DH,inflateInit:IH,inflateInit2:FH,inflate:BH,inflateEnd:zH,inflateGetHeader:UH,inflateSetDictionary:VH,inflateInfo:qH};function $H(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var HH=$H;const i7=Object.prototype.toString,{Z_NO_FLUSH:WH,Z_FINISH:GH,Z_OK:Fg,Z_STREAM_END:Cb,Z_NEED_DICT:Lb,Z_STREAM_ERROR:YH,Z_DATA_ERROR:E3,Z_MEM_ERROR:KH}=WC;function mp(e){this.options=GC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dH,this.strm.avail_out=0;let r=Rc.inflateInit2(this.strm,t.windowBits);if(r!==Fg)throw new Error(Uw[r]);if(this.header=new HH,Rc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Vw.string2buf(t.dictionary):i7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Rc.inflateSetDictionary(this.strm,t.dictionary),r!==Fg)))throw new Error(Uw[r])}mp.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?GH:WH,i7.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=Rc.inflate(r,o),i===Lb&&s&&(i=Rc.inflateSetDictionary(r,s),i===Fg?i=Rc.inflate(r,o):i===E3&&(i=Lb));r.avail_in>0&&i===Cb&&r.state.wrap>0&&e[r.next_in]!==0;)Rc.inflateReset(r),i=Rc.inflate(r,o);switch(i){case YH:case E3:case Lb:case KH:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Cb))if(this.options.to==="string"){let c=Vw.utf8border(r.output,r.next_out),u=r.next_out-c,h=Vw.buf2string(r.output,c);r.next_out=u,r.avail_out=a-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Fg&&l===0)){if(i===Cb)return i=Rc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mp.prototype.onData=function(e){this.chunks.push(e)};mp.prototype.onEnd=function(e){e===Fg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=GC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ZH(e,t){const r=new mp(t);if(r.push(e),r.err)throw r.msg||Uw[r.err];return r.result}var XH=mp,JH=ZH,QH={Inflate:XH,inflate:JH};const{Inflate:eW,inflate:tW}=QH;var T3=eW,rW=tW;const o7=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;o7[e]=t}const C3=4294967295;function aW(e,t,r){let a=e;for(let s=0;s<r;s++)a=o7[(a^t[s])&255]^a>>>8;return a}function nW(e,t){return(aW(C3,e,t)^C3)>>>0}function L3(e,t,r){const a=e.readUint32(),s=nW(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${s}`)}function l7(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function c7(e,t,r,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}function d7(e,t,r,a){let s=0;if(r.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+r[s]&255}function u7(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function h7(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+sW(t[i-s],r[i],r[i-s])&255}}function sW(e,t,r){const a=e+t-r,s=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return s<=i&&s<=o?e:i<=o?t:r}function iW(e,t,r,a,s,i){switch(e){case 0:l7(t,r,s);break;case 1:c7(t,r,s,i);break;case 2:d7(t,r,a,s);break;case 3:u7(t,r,a,s,i);break;case 4:h7(t,r,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const oW=new Uint16Array([255]),lW=new Uint8Array(oW.buffer),cW=lW[0]===255;function dW(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(a*r*l);let u=0;for(let h=0;h<7;h++){const f=o[h],g=Math.ceil((r-f.x)/f.xStep),m=Math.ceil((a-f.y)/f.yStep);if(g<=0||m<=0)continue;const y=g*l,x=new Uint8Array(y);for(let N=0;N<m;N++){const b=t[u++],w=t.subarray(u,u+y);u+=y;const k=new Uint8Array(y);iW(b,w,k,x,y,l),x.set(k);for(let S=0;S<g;S++){const B=f.x+S*f.xStep,H=f.y+N*f.yStep;if(!(B>=r||H>=a))for(let I=0;I<l;I++)c[(H*r+B)*l+I]=k[S*l+I]}}}if(i===16){const h=new Uint16Array(c.buffer);if(cW)for(let f=0;f<h.length;f++)h[f]=uW(h[f]);return h}else return c}function uW(e){return(e&255)<<8|e>>8&255}const hW=new Uint16Array([255]),fW=new Uint8Array(hW.buffer),mW=fW[0]===255,gW=new Uint8Array(0);function P3(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(a*l);let u=gW,h=0,f,g;for(let m=0;m<a;m++){switch(f=t.subarray(h+1,h+1+l),g=c.subarray(m*l,(m+1)*l),t[h]){case 0:l7(f,g,l);break;case 1:c7(f,g,l,o);break;case 2:d7(f,g,u,l);break;case 3:u7(f,g,u,l,o);break;case 4:h7(f,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=g,h+=l+1}if(i===16){const m=new Uint16Array(c.buffer);if(mW)for(let y=0;y<m.length;y++)m[y]=pW(m[y]);return m}else return c}function pW(e){return(e&255)<<8|e>>8&255}const ey=Uint8Array.of(137,80,78,71,13,10,26,10);function M3(e){if(!xW(e.readBytes(ey.length)))throw new Error("wrong PNG signature")}function xW(e){if(e.length<ey.length)return!1;for(let t=0;t<ey.length;t++)if(e[t]!==ey[t])return!1;return!0}const yW="tEXt",vW=0,f7=new TextDecoder("latin1");function bW(e){if(_W(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const wW=/^[\u0000-\u00FF]*$/;function _W(e){if(!wW.test(e))throw new Error("invalid latin1 text")}function NW(e,t,r){const a=m7(t);e[a]=kW(t,r-a.length-1)}function m7(e){for(e.mark();e.readByte()!==vW;);const t=e.offset;e.reset();const r=f7.decode(e.readBytes(t-e.offset-1));return e.skip(1),bW(r),r}function kW(e,t){return f7.decode(e.readBytes(t))}const $i={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pb={UNKNOWN:-1,DEFLATE:0},R3={UNKNOWN:-1,ADAPTIVE:0},Mb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gx={NONE:0,BACKGROUND:1,PREVIOUS:2},Rb={SOURCE:0,OVER:1};class jW extends Q_{constructor(r,a={}){super(r);Xr(this,"_checkCrc");Xr(this,"_inflator");Xr(this,"_png");Xr(this,"_apng");Xr(this,"_end");Xr(this,"_hasPalette");Xr(this,"_palette");Xr(this,"_hasTransparency");Xr(this,"_transparency");Xr(this,"_compressionMethod");Xr(this,"_filterMethod");Xr(this,"_interlaceMethod");Xr(this,"_colorType");Xr(this,"_isAnimated");Xr(this,"_numberOfFrames");Xr(this,"_numberOfPlays");Xr(this,"_frames");Xr(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new T3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pb.UNKNOWN,this._filterMethod=R3.UNKNOWN,this._interlaceMethod=Mb.UNKNOWN,this._colorType=$i.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(M3(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(M3(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case yW:NW(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?L3(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?L3(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=SW(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case $i.GREYSCALE:s=1;break;case $i.TRUECOLOUR:s=3;break;case $i.INDEXED_COLOUR:s=1;break;case $i.GREYSCALE_ALPHA:s=2;break;case $i.TRUECOLOUR_ALPHA:s=4;break;case $i.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $i.GREYSCALE:case $i.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case $i.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case $i.UNKNOWN:case $i.GREYSCALE_ALPHA:case $i.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=m7(this),s=this.readUint8();if(s!==Pb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:rW(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=P3({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case gx.NONE:break;case gx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case gx.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,u=(o*a.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(a.blendOp){case Rb.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[c+h]=a.data[u+h]}break;case Rb.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const f=a.data[u+this._png.channels-1]/s,g=h%(this._png.channels-1)===0?1:a.data[u+h],m=Math.floor(f*g+(1-f)*r.data[c+h]);r.data[c+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==R3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Mb.NO_INTERLACE)this._png.data=P3({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Mb.ADAM7)this._png.data=dW({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gx.NONE,blendOp:Rb.SOURCE,data:r}),this._inflator=new T3,this._writingDataChunks=!1}}function SW(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var O3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(O3||(O3={}));function AW(e,t){return new jW(e,t).decode()}var ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ob(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var ha={log:Ob,warn:function(e){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):Ob.call(null,arguments))},error:function(e){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):Ob(e))}};function Db(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Wu(a.response,t,r)},a.onerror=function(){ha.error("could not download file")},a.send()}function D3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function px(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Wu=ar.saveAs||((typeof window>"u"?"undefined":ta(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=ar.URL||ar.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?D3(s.href)?Db(e,t,r):px(s,s.target="_blank"):px(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){px(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(D3(e))Db(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){px(a)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ta(i)!=="object"&&(ha.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Db(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(ar.HTMLElement)||ar.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":ta(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(e)}else{var c=ar.URL||ar.webkitURL,u=c.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function g7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var ty=ar.atob.bind(ar),I3=ar.btoa.bind(ar);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ib(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=_s(r,a,s,i,t[0],7,-680876936),i=_s(i,r,a,s,t[1],12,-389564586),s=_s(s,i,r,a,t[2],17,606105819),a=_s(a,s,i,r,t[3],22,-1044525330),r=_s(r,a,s,i,t[4],7,-176418897),i=_s(i,r,a,s,t[5],12,1200080426),s=_s(s,i,r,a,t[6],17,-1473231341),a=_s(a,s,i,r,t[7],22,-45705983),r=_s(r,a,s,i,t[8],7,1770035416),i=_s(i,r,a,s,t[9],12,-1958414417),s=_s(s,i,r,a,t[10],17,-42063),a=_s(a,s,i,r,t[11],22,-1990404162),r=_s(r,a,s,i,t[12],7,1804603682),i=_s(i,r,a,s,t[13],12,-40341101),s=_s(s,i,r,a,t[14],17,-1502002290),r=Ns(r,a=_s(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ns(i,r,a,s,t[6],9,-1069501632),s=Ns(s,i,r,a,t[11],14,643717713),a=Ns(a,s,i,r,t[0],20,-373897302),r=Ns(r,a,s,i,t[5],5,-701558691),i=Ns(i,r,a,s,t[10],9,38016083),s=Ns(s,i,r,a,t[15],14,-660478335),a=Ns(a,s,i,r,t[4],20,-405537848),r=Ns(r,a,s,i,t[9],5,568446438),i=Ns(i,r,a,s,t[14],9,-1019803690),s=Ns(s,i,r,a,t[3],14,-187363961),a=Ns(a,s,i,r,t[8],20,1163531501),r=Ns(r,a,s,i,t[13],5,-1444681467),i=Ns(i,r,a,s,t[2],9,-51403784),s=Ns(s,i,r,a,t[7],14,1735328473),r=ks(r,a=Ns(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ks(i,r,a,s,t[8],11,-2022574463),s=ks(s,i,r,a,t[11],16,1839030562),a=ks(a,s,i,r,t[14],23,-35309556),r=ks(r,a,s,i,t[1],4,-1530992060),i=ks(i,r,a,s,t[4],11,1272893353),s=ks(s,i,r,a,t[7],16,-155497632),a=ks(a,s,i,r,t[10],23,-1094730640),r=ks(r,a,s,i,t[13],4,681279174),i=ks(i,r,a,s,t[0],11,-358537222),s=ks(s,i,r,a,t[3],16,-722521979),a=ks(a,s,i,r,t[6],23,76029189),r=ks(r,a,s,i,t[9],4,-640364487),i=ks(i,r,a,s,t[12],11,-421815835),s=ks(s,i,r,a,t[15],16,530742520),r=js(r,a=ks(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=js(i,r,a,s,t[7],10,1126891415),s=js(s,i,r,a,t[14],15,-1416354905),a=js(a,s,i,r,t[5],21,-57434055),r=js(r,a,s,i,t[12],6,1700485571),i=js(i,r,a,s,t[3],10,-1894986606),s=js(s,i,r,a,t[10],15,-1051523),a=js(a,s,i,r,t[1],21,-2054922799),r=js(r,a,s,i,t[8],6,1873313359),i=js(i,r,a,s,t[15],10,-30611744),s=js(s,i,r,a,t[6],15,-1560198380),a=js(a,s,i,r,t[13],21,1309151649),r=js(r,a,s,i,t[4],6,-145523070),i=js(i,r,a,s,t[11],10,-1120210379),s=js(s,i,r,a,t[2],15,718787259),a=js(a,s,i,r,t[9],21,-343485551),e[0]=Hd(r,e[0]),e[1]=Hd(a,e[1]),e[2]=Hd(s,e[2]),e[3]=Hd(i,e[3])}function Q1(e,t,r,a,s,i){return t=Hd(Hd(t,e),Hd(a,i)),Hd(t<<s|t>>>32-s,r)}function _s(e,t,r,a,s,i,o){return Q1(t&r|~t&a,e,t,s,i,o)}function Ns(e,t,r,a,s,i,o){return Q1(t&a|r&~a,e,t,s,i,o)}function ks(e,t,r,a,s,i,o){return Q1(t^r^a,e,t,s,i,o)}function js(e,t,r,a,s,i,o){return Q1(r^(t|~a),e,t,s,i,o)}function p7(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ib(a,EW(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Ib(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Ib(a,s),a}function EW(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var F3="0123456789abcdef".split("");function TW(e){for(var t="",r=0;r<4;r++)t+=F3[e>>8*r+4&15]+F3[e>>8*r&15];return t}function CW(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qw(e){return p7(e).map(CW).join("")}var LW=function(e){for(var t=0;t<e.length;t++)e[t]=TW(e[t]);return e.join("")}(p7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hd(e,t){if(LW){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $w(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}r=e,a=l}else l=a;var f=t.length,g=0,m=0,y="";for(c=0;c<f;c++)m=(m+(h=l[g=(g+1)%256]))%256,l[g]=l[m],l[m]=h,o=l[(l[g]+l[m])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var B3={print:4,modify:8,copy:16,"annot-forms":32};function x0(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(B3.perm!==void 0)throw new Error("Invalid permission: "+l);s+=B3[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=qw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=$w(this.encryptionKey,this.padding)}function y0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function z3(e){if(ta(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){ar.console&&ha.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function a1(e){if(!(this instanceof a1))return new a1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function x7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Zu(e,t,r,a,s){if(!(this instanceof Zu))return new Zu(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,x7.call(this,a,s)}function M0(e,t,r,a,s){if(!(this instanceof M0))return new M0(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,x7.call(this,a,s)}function Vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",h=null;ta(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=z3;var y="1.3",x=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(E){y=E};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var b=m.__private__.getPageFormat=function(E){return N[E]};s=s||"a4";var w="compat",k="advanced",S=w;function B(){this.saveGraphicsState(),ce(new qt(gt,0,0,-gt,0,yc()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),u="n",S=k}function H(){this.restoreGraphicsState(),u="S",S=w}var I=m.__private__.combineFontStyleAndFontWeight=function(E,J){if(E=="bold"&&J=="normal"||E=="bold"&&J==400||E=="normal"&&J=="italic"||E=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(E=J==400||J==="normal"?E==="italic"?"italic":"normal":J!=700&&J!=="bold"||E!=="normal"?(J==700?"bold":J)+""+E:"bold"),E};m.advancedAPI=function(E){var J=S===w;return J&&B.call(this),typeof E!="function"||(E(this),J&&H.call(this)),this},m.compatAPI=function(E){var J=S===k;return J&&H.call(this),typeof E!="function"||(E(this),J&&B.call(this)),this},m.isAdvancedAPI=function(){return S===k};var D,C=function(E){if(S!==k)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=m.roundToPrecision=m.__private__.roundToPrecision=function(E,J){var ye=t||J;if(isNaN(E)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ye).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return G(E,16)};var O=m.f2=m.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return G(E,2)},V=m.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return G(E,3)},Y=m.scale=m.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return S===w?E*gt:S===k?E:void 0},ee=function(E){return Y(function(J){return S===w?yc()-J:S===k?J:void 0}(E))};m.__private__.setPrecision=m.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var he,de="00000000000000000000000000000000",xe=m.__private__.getFileId=function(){return de},oe=m.__private__.setFileId=function(E){return de=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ca=new x0(h.userPermissions,h.userPassword,h.ownerPassword,de)),de};m.setFileId=function(E){return oe(E),this},m.getFileId=function(){return xe()};var fe=m.__private__.convertDateToPDFDate=function(E){var J=E.getTimezoneOffset(),ye=J<0?"+":"-",Ce=Math.floor(Math.abs(J/60)),Re=Math.abs(J%60),Ze=[ye,F(Ce),"'",F(Re),"'"].join("");return["D:",E.getFullYear(),F(E.getMonth()+1),F(E.getDate()),F(E.getHours()),F(E.getMinutes()),F(E.getSeconds()),Ze].join("")},Se=m.__private__.convertPDFDateToDate=function(E){var J=parseInt(E.substr(2,4),10),ye=parseInt(E.substr(6,2),10)-1,Ce=parseInt(E.substr(8,2),10),Re=parseInt(E.substr(10,2),10),Ze=parseInt(E.substr(12,2),10),lt=parseInt(E.substr(14,2),10);return new Date(J,ye,Ce,Re,Ze,lt,0)},K=m.__private__.setCreationDate=function(E){var J;if(E===void 0&&(E=new Date),E instanceof Date)J=fe(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=E}return he=J},A=m.__private__.getCreationDate=function(E){var J=he;return E==="jsDate"&&(J=Se(he)),J};m.setCreationDate=function(E){return K(E),this},m.getCreationDate=function(E){return A(E)};var q,F=m.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},R=m.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},W=0,Z=[],ie=[],re=0,X=[],ke=[],Pe=!1,De=ie;m.__private__.setCustomOutputDestination=function(E){Pe=!0,De=E};var Ye=function(E){Pe||(De=E)};m.__private__.resetCustomOutputDestination=function(){Pe=!1,De=ie};var ce=m.__private__.out=function(E){return E=E.toString(),re+=E.length+1,De.push(E),De},Ae=m.__private__.write=function(E){return ce(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},je=m.__private__.getArrayBuffer=function(E){for(var J=E.length,ye=new ArrayBuffer(J),Ce=new Uint8Array(ye);J--;)Ce[J]=E.charCodeAt(J);return ye},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return et};var ae=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(E){return ae=S===k?E/gt:E,this};var Oe,Ge=m.__private__.getFontSize=m.getFontSize=function(){return S===w?ae:ae*gt},at=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(E){return at=E,this},m.__private__.getR2L=m.getR2L=function(){return at};var yt,wt=m.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Oe=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Oe=E}else Oe=parseInt(E,10)};m.__private__.getZoomMode=function(){return Oe};var ot,jt=m.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');yt=E};m.__private__.getPageMode=function(){return yt};var Et=m.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');ot=E};m.__private__.getLayoutMode=function(){return ot},m.__private__.setDisplayMode=m.setDisplayMode=function(E,J,ye){return wt(E),Et(J),jt(ye),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(E){if(Object.keys(Te).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[E]},m.__private__.getDocumentProperties=function(){return Te},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(E){for(var J in Te)Te.hasOwnProperty(J)&&E[J]&&(Te[J]=E[J]);return this},m.__private__.setDocumentProperty=function(E,J){if(Object.keys(Te).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[E]=J};var it,gt,_t,br,Qt,nt={},Wt={},kr=[],Ct={},wr={},Bt={},$t={},Er=null,Jt=0,Ot=[],gr=new z3(m),Js=e.hotfixes||[],dn={},Ti={},Qs=[],qt=function E(J,ye,Ce,Re,Ze,lt){if(!(this instanceof E))return new E(J,ye,Ce,Re,Ze,lt);isNaN(J)&&(J=1),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=1),isNaN(Ze)&&(Ze=0),isNaN(lt)&&(lt=0),this._matrix=[J,ye,Ce,Re,Ze,lt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(E)},qt.prototype.multiply=function(E){var J=E.sx*this.sx+E.shy*this.shx,ye=E.sx*this.shy+E.shy*this.sy,Ce=E.shx*this.sx+E.sy*this.shx,Re=E.shx*this.shy+E.sy*this.sy,Ze=E.tx*this.sx+E.ty*this.shx+this.tx,lt=E.tx*this.shy+E.ty*this.sy+this.ty;return new qt(J,ye,Ce,Re,Ze,lt)},qt.prototype.decompose=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,lt=Math.sqrt(E*E+J*J),Pt=(E/=lt)*ye+(J/=lt)*Ce;ye-=E*Pt,Ce-=J*Pt;var Dt=Math.sqrt(ye*ye+Ce*Ce);return Pt/=Dt,E*(Ce/=Dt)<J*(ye/=Dt)&&(E=-E,J=-J,Pt=-Pt,lt=-lt),{scale:new qt(lt,0,0,Dt,0,0),translate:new qt(1,0,0,1,Re,Ze),rotate:new qt(E,J,-J,E,0,0),skew:new qt(1,0,Pt,1,0,0)}},qt.prototype.toString=function(E){return this.join(" ")},qt.prototype.inversed=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,lt=1/(E*Ce-J*ye),Pt=Ce*lt,Dt=-J*lt,er=-ye*lt,nr=E*lt;return new qt(Pt,Dt,er,nr,-Pt*Re-er*Ze,-Dt*Re-nr*Ze)},qt.prototype.applyToPoint=function(E){var J=E.x*this.sx+E.y*this.shx+this.tx,ye=E.x*this.shy+E.y*this.sy+this.ty;return new Jo(J,ye)},qt.prototype.applyToRectangle=function(E){var J=this.applyToPoint(E),ye=this.applyToPoint(new Jo(E.x+E.w,E.y+E.h));return new md(J.x,J.y,ye.x-J.x,ye.y-J.y)},qt.prototype.clone=function(){var E=this.sx,J=this.shy,ye=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty;return new qt(E,J,ye,Ce,Re,Ze)},m.Matrix=qt;var Ci=m.matrixMult=function(E,J){return J.multiply(E)},Li=new qt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Li;var Dn=function(E,J){if(!wr[E]){var ye=(J instanceof Zu?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);J.id=ye,wr[E]=ye,Ct[ye]=J,gr.publish("addPattern",J)}};m.ShadingPattern=Zu,m.TilingPattern=M0,m.addShadingPattern=function(E,J){return C("addShadingPattern()"),Dn(E,J),this},m.beginTilingPattern=function(E){C("beginTilingPattern()"),Su(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},m.endTilingPattern=function(E,J){C("endTilingPattern()"),J.stream=ke[q].join(`
`),Dn(E,J),gr.publish("endTilingPattern",J),Qs.pop().restore()};var ms,Tr=m.__private__.newObject=function(){var E=St();return te(E,!0),E},St=m.__private__.newObjectDeferred=function(){return W++,Z[W]=function(){return re},W},te=function(E,J){return J=typeof J=="boolean"&&J,Z[E]=re,J&&ce(E+" 0 obj"),E},be=m.__private__.newAdditionalObject=function(){var E={objId:St(),content:""};return X.push(E),E},me=St(),pe=St(),ve=m.__private__.decodeColorString=function(E){var J=E.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ye=parseFloat(J[0]);J=[ye,ye,ye,"r"]}for(var Ce="#",Re=0;Re<3;Re++)Ce+=("0"+Math.floor(255*parseFloat(J[Re])).toString(16)).slice(-2);return Ce},Ne=m.__private__.encodeColorString=function(E){var J;typeof E=="string"&&(E={ch1:E});var ye=E.ch1,Ce=E.ch2,Re=E.ch3,Ze=E.ch4,lt=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Pt=new g7(ye);if(Pt.ok)ye=Pt.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var Dt=parseInt(ye.substr(1),16);ye=Dt>>16&255,Ce=Dt>>8&255,Re=255&Dt}if(Ce===void 0||Ze===void 0&&ye===Ce&&Ce===Re)J=typeof ye=="string"?ye+" "+lt[0]:E.precision===2?O(ye/255)+" "+lt[0]:V(ye/255)+" "+lt[0];else if(Ze===void 0||ta(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",lt[1]].join(" ");J=typeof ye=="string"?[ye,Ce,Re,lt[1]].join(" "):E.precision===2?[O(ye/255),O(Ce/255),O(Re/255),lt[1]].join(" "):[V(ye/255),V(Ce/255),V(Re/255),lt[1]].join(" ")}else J=typeof ye=="string"?[ye,Ce,Re,Ze,lt[2]].join(" "):E.precision===2?[O(ye),O(Ce),O(Re),O(Ze),lt[2]].join(" "):[V(ye),V(Ce),V(Re),V(Ze),lt[2]].join(" ");return J},Ie=m.__private__.getFilters=function(){return o},We=m.__private__.putStream=function(E){var J=(E=E||{}).data||"",ye=E.filters||Ie(),Ce=E.alreadyAppliedFilters||[],Re=E.addLength1||!1,Ze=J.length,lt=E.objectId,Pt=function(Qa){return Qa};if(h!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Pt=Ca.encryptor(lt,0));var Dt={};ye===!0&&(ye=["FlateEncode"]);var er=E.additionalKeyValues||[],nr=(Dt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(J,ye):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Dt.data.length!==0&&(er.push({key:"Length",value:Dt.data.length}),Re===!0&&er.push({key:"Length1",value:Ze})),nr.length!=0)if(nr.split("/").length-1==1)er.push({key:"Filter",value:nr});else{er.push({key:"Filter",value:"["+nr+"]"});for(var jr=0;jr<er.length;jr+=1)if(er[jr].key==="DecodeParms"){for(var wa=[],Ua=0;Ua<Dt.reverseChain.split("/").length-1;Ua+=1)wa.push("null");wa.push(er[jr].value),er[jr].value="["+wa.join(" ")+"]"}}ce("<<");for(var Hr=0;Hr<er.length;Hr++)ce("/"+er[Hr].key+" "+er[Hr].value);ce(">>"),Dt.data.length!==0&&(ce("stream"),ce(Pt(Dt.data)),ce("endstream"))},ze=m.__private__.putPage=function(E){var J=E.number,ye=E.data,Ce=E.objId,Re=E.contentsObjId;te(Ce,!0),ce("<</Type /Page"),ce("/Parent "+E.rootDictionaryObjId+" 0 R"),ce("/Resources "+E.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(D(E.mediaBox.bottomLeftX))+" "+parseFloat(D(E.mediaBox.bottomLeftY))+" "+D(E.mediaBox.topRightX)+" "+D(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&ce("/CropBox ["+D(E.cropBox.bottomLeftX)+" "+D(E.cropBox.bottomLeftY)+" "+D(E.cropBox.topRightX)+" "+D(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&ce("/BleedBox ["+D(E.bleedBox.bottomLeftX)+" "+D(E.bleedBox.bottomLeftY)+" "+D(E.bleedBox.topRightX)+" "+D(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&ce("/TrimBox ["+D(E.trimBox.bottomLeftX)+" "+D(E.trimBox.bottomLeftY)+" "+D(E.trimBox.topRightX)+" "+D(E.trimBox.topRightY)+"]"),E.artBox!==null&&ce("/ArtBox ["+D(E.artBox.bottomLeftX)+" "+D(E.artBox.bottomLeftY)+" "+D(E.artBox.topRightX)+" "+D(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&ce("/UserUnit "+E.userUnit),gr.publish("putPage",{objId:Ce,pageContext:Ot[J],pageNumber:J,page:ye}),ce("/Contents "+Re+" 0 R"),ce(">>"),ce("endobj");var Ze=ye.join(`
`);return S===k&&(Ze+=`
Q`),te(Re,!0),We({data:Ze,filters:Ie(),objectId:Re}),ce("endobj"),Ce},Ue=m.__private__.putPages=function(){var E,J,ye=[];for(E=1;E<=Jt;E++)Ot[E].objId=St(),Ot[E].contentsObjId=St();for(E=1;E<=Jt;E++)ye.push(ze({number:E,data:ke[E],objId:Ot[E].objId,contentsObjId:Ot[E].contentsObjId,mediaBox:Ot[E].mediaBox,cropBox:Ot[E].cropBox,bleedBox:Ot[E].bleedBox,trimBox:Ot[E].trimBox,artBox:Ot[E].artBox,userUnit:Ot[E].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:pe}));te(me,!0),ce("<</Type /Pages");var Ce="/Kids [";for(J=0;J<Jt;J++)Ce+=ye[J]+" 0 R ";ce(Ce+"]"),ce("/Count "+Jt),ce(">>"),ce("endobj"),gr.publish("postPutPages")},$e=function(E){gr.publish("putFont",{font:E,out:ce,newObject:Tr,putStream:We}),E.isAlreadyPutted!==!0&&(E.objectNumber=Tr(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+y0(E.postScriptName)),ce("/Subtype /Type1"),typeof E.encoding=="string"&&ce("/Encoding /"+E.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},ht=function(E){E.objectNumber=Tr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[D(E.x),D(E.y),D(E.x+E.width),D(E.y+E.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ye=E.pages[1].join(`
`);We({data:ye,additionalKeyValues:J,objectId:E.objectNumber}),ce("endobj")},pt=function(E,J){J||(J=21);var ye=Tr(),Ce=function(lt,Pt){var Dt,er=[],nr=1/(Pt-1);for(Dt=0;Dt<1;Dt+=nr)er.push(Dt);if(er.push(1),lt[0].offset!=0){var jr={offset:0,color:lt[0].color};lt.unshift(jr)}if(lt[lt.length-1].offset!=1){var wa={offset:1,color:lt[lt.length-1].color};lt.push(wa)}for(var Ua="",Hr=0,Qa=0;Qa<er.length;Qa++){for(Dt=er[Qa];Dt>lt[Hr+1].offset;)Hr++;var Ra=lt[Hr].offset,un=(Dt-Ra)/(lt[Hr+1].offset-Ra),ni=lt[Hr].color,Sn=lt[Hr+1].color;Ua+=R(Math.round((1-un)*ni[0]+un*Sn[0]).toString(16))+R(Math.round((1-un)*ni[1]+un*Sn[1]).toString(16))+R(Math.round((1-un)*ni[2]+un*Sn[2]).toString(16))}return Ua.trim()}(E.colors,J),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+J+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:Ce,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),ce("endobj"),E.objectNumber=Tr(),ce("<< /ShadingType "+E.type),ce("/ColorSpace /DeviceRGB");var Ze="/Coords ["+D(parseFloat(E.coords[0]))+" "+D(parseFloat(E.coords[1]))+" ";E.type===2?Ze+=D(parseFloat(E.coords[2]))+" "+D(parseFloat(E.coords[3])):Ze+=D(parseFloat(E.coords[2]))+" "+D(parseFloat(E.coords[3]))+" "+D(parseFloat(E.coords[4]))+" "+D(parseFloat(E.coords[5])),ce(Ze+="]"),E.matrix&&ce("/Matrix ["+E.matrix.toString()+"]"),ce("/Function "+ye+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},At=function(E,J){var ye=St(),Ce=Tr();J.push({resourcesOid:ye,objectOid:Ce}),E.objectNumber=Ce;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+E.boundingBox.map(D).join(" ")+"]"}),Re.push({key:"XStep",value:D(E.xStep)}),Re.push({key:"YStep",value:D(E.yStep)}),Re.push({key:"Resources",value:ye+" 0 R"}),E.matrix&&Re.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),We({data:E.stream,additionalKeyValues:Re,objectId:E.objectNumber}),ce("endobj")},mt=function(E){for(var J in E.objectNumber=Tr(),ce("<<"),E)switch(J){case"opacity":ce("/ca "+O(E[J]));break;case"stroke-opacity":ce("/CA "+O(E[J]))}ce(">>"),ce("endobj")},Nt=function(E){te(E.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var J in ce("/Font <<"),nt)nt.hasOwnProperty(J)&&(f===!1||f===!0&&g.hasOwnProperty(J))&&ce("/"+J+" "+nt[J].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(Ct).length>0){for(var J in ce("/Shading <<"),Ct)Ct.hasOwnProperty(J)&&Ct[J]instanceof Zu&&Ct[J].objectNumber>=0&&ce("/"+J+" "+Ct[J].objectNumber+" 0 R");gr.publish("putShadingPatternDict"),ce(">>")}}(),function(J){if(Object.keys(Ct).length>0){for(var ye in ce("/Pattern <<"),Ct)Ct.hasOwnProperty(ye)&&Ct[ye]instanceof m.TilingPattern&&Ct[ye].objectNumber>=0&&Ct[ye].objectNumber<J&&ce("/"+ye+" "+Ct[ye].objectNumber+" 0 R");gr.publish("putTilingPatternDict"),ce(">>")}}(E.objectOid),function(){if(Object.keys(Bt).length>0){var J;for(J in ce("/ExtGState <<"),Bt)Bt.hasOwnProperty(J)&&Bt[J].objectNumber>=0&&ce("/"+J+" "+Bt[J].objectNumber+" 0 R");gr.publish("putGStateDict"),ce(">>")}}(),function(){for(var J in ce("/XObject <<"),dn)dn.hasOwnProperty(J)&&dn[J].objectNumber>=0&&ce("/"+J+" "+dn[J].objectNumber+" 0 R");gr.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},Kt=function(E){Wt[E.fontName]=Wt[E.fontName]||{},Wt[E.fontName][E.fontStyle]=E.id},Vr=function(E,J,ye,Ce,Re){var Ze={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:E,fontName:J,fontStyle:ye,encoding:Ce,isStandardFont:Re||!1,metadata:{}};return gr.publish("addFont",{font:Ze,instance:this}),nt[Ze.id]=Ze,Kt(Ze),Ze.id},yr=m.__private__.pdfEscape=m.pdfEscape=function(E,J){return function(ye,Ce){var Re,Ze,lt,Pt,Dt,er,nr,jr,wa;if(lt=(Ce=Ce||{}).sourceEncoding||"Unicode",Dt=Ce.outputEncoding,(Ce.autoencode||Dt)&&nt[it].metadata&&nt[it].metadata[lt]&&nt[it].metadata[lt].encoding&&(Pt=nt[it].metadata[lt].encoding,!Dt&&nt[it].encoding&&(Dt=nt[it].encoding),!Dt&&Pt.codePages&&(Dt=Pt.codePages[0]),typeof Dt=="string"&&(Dt=Pt[Dt]),Dt)){for(nr=!1,er=[],Re=0,Ze=ye.length;Re<Ze;Re++)(jr=Dt[ye.charCodeAt(Re)])?er.push(String.fromCharCode(jr)):er.push(ye[Re]),er[Re].charCodeAt(0)>>8&&(nr=!0);ye=er.join("")}for(Re=ye.length;nr===void 0&&Re!==0;)ye.charCodeAt(Re-1)>>8&&(nr=!0),Re--;if(!nr)return ye;for(er=Ce.noBOM?[]:[254,255],Re=0,Ze=ye.length;Re<Ze;Re++){if((wa=(jr=ye.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");er.push(wa),er.push(jr-(wa<<8))}return String.fromCharCode.apply(void 0,er)}(E,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ta=m.__private__.beginPage=function(E){ke[++Jt]=[],Ot[Jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Pi(Jt),Ye(ke[q])},ei=function(E,J){var ye,Ce,Re;switch(r=J||r,typeof E=="string"&&(ye=b(E.toLowerCase()),Array.isArray(ye)&&(Ce=ye[0],Re=ye[1])),Array.isArray(E)&&(Ce=E[0]*gt,Re=E[1]*gt),isNaN(Ce)&&(Ce=s[0],Re=s[1]),(Ce>14400||Re>14400)&&(ha.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Re=Math.min(14400,Re)),s=[Ce,Re],r.substr(0,1)){case"l":Re>Ce&&(s=[Re,Ce]);break;case"p":Ce>Re&&(s=[Re,Ce])}Ta(s),xt(xc),ce(Vl),ju!==0&&ce(ju+" J"),hd!==0&&ce(hd+" j"),gr.publish("addPage",{pageNumber:Jt})},Gn=function(E){E>0&&E<=Jt&&(ke.splice(E,1),Ot.splice(E,1),Jt--,q>Jt&&(q=Jt),this.setPage(q))},Pi=function(E){E>0&&E<=Jt&&(q=E)},Ps=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ke.length-1},ti=function(E,J,ye){var Ce,Re=void 0;return ye=ye||{},E=E!==void 0?E:nt[it].fontName,J=J!==void 0?J:nt[it].fontStyle,Ce=E.toLowerCase(),Wt[Ce]!==void 0&&Wt[Ce][J]!==void 0?Re=Wt[Ce][J]:Wt[E]!==void 0&&Wt[E][J]!==void 0?Re=Wt[E][J]:ye.disableWarning===!1&&ha.warn("Unable to look up font label for font '"+E+"', '"+J+"'. Refer to getFontList() for available fonts."),Re||ye.noFallback||(Re=Wt.times[J])==null&&(Re=Wt.times.normal),Re},Gt=m.__private__.putInfo=function(){var E=Tr(),J=function(Ce){return Ce};for(var ye in h!==null&&(J=Ca.encryptor(E,0)),ce("<<"),ce("/Producer ("+yr(J("jsPDF "+Vt.version))+")"),Te)Te.hasOwnProperty(ye)&&Te[ye]&&ce("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+yr(J(Te[ye]))+")");ce("/CreationDate ("+yr(J(he))+")"),ce(">>"),ce("endobj")},qr=m.__private__.putCatalog=function(E){var J=(E=E||{}).rootDictionaryObjId||me;switch(Tr(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+J+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Oe;ye.substr(ye.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+O(Oe)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}yt&&ce("/PageMode /"+yt),gr.publish("putCatalog"),ce(">>"),ce("endobj")},ld=m.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(W+1)),ce("/Root "+W+" 0 R"),ce("/Info "+(W-1)+" 0 R"),h!==null&&ce("/Encrypt "+Ca.oid+" 0 R"),ce("/ID [ <"+de+"> <"+de+"> ]"),ce(">>")},ca=m.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},Wo=m.__private__.putXRef=function(){var E="0000000000";ce("xref"),ce("0 "+(W+1)),ce("0000000000 65535 f ");for(var J=1;J<=W;J++)typeof Z[J]=="function"?ce((E+Z[J]()).slice(-10)+" 00000 n "):Z[J]!==void 0?ce((E+Z[J]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},ri=m.__private__.buildDocument=function(){var E;W=0,re=0,ie=[],Z=[],X=[],me=St(),pe=St(),Ye(ie),gr.publish("buildDocument"),ca(),Ue(),function(){gr.publish("putAdditionalObjects");for(var ye=0;ye<X.length;ye++){var Ce=X[ye];te(Ce.objId,!0),ce(Ce.content),ce("endobj")}gr.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ye in nt)nt.hasOwnProperty(ye)&&(f===!1||f===!0&&g.hasOwnProperty(ye))&&$e(nt[ye])}(),function(){var ye;for(ye in Bt)Bt.hasOwnProperty(ye)&&mt(Bt[ye])}(),function(){for(var ye in dn)dn.hasOwnProperty(ye)&&ht(dn[ye])}(),function(ye){var Ce;for(Ce in Ct)Ct.hasOwnProperty(Ce)&&(Ct[Ce]instanceof Zu?pt(Ct[Ce]):Ct[Ce]instanceof M0&&At(Ct[Ce],ye))}(E),gr.publish("putResources"),E.forEach(Nt),Nt({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),gr.publish("postPutResources"),h!==null&&(Ca.oid=Tr(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Ca.v),ce("/R "+Ca.r),ce("/U <"+Ca.toHexString(Ca.U)+">"),ce("/O <"+Ca.toHexString(Ca.O)+">"),ce("/P "+Ca.P),ce(">>"),ce("endobj")),Gt(),qr();var J=re;return Wo(),ld(),ce("startxref"),ce(""+J),ce("%%EOF"),Ye(ke[q]),ie.join(`
`)},rr=m.__private__.getBlob=function(E){return new Blob([je(E)],{type:"application/pdf"})},ga=m.output=m.__private__.output=(ms=function(E,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",E){case void 0:return ri();case"save":m.save(J.filename);break;case"arraybuffer":return je(ri());case"blob":return rr(ri());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(rr(ri()))||void 0;ha.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Ce=ri();try{ye=I3(Ce)}catch{ye=I3(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+J.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Re=J.pdfObjectUrl,Ze="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Pt=ar.open();return Pt!==null&&Pt.document.write(lt),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',er=ar.open();if(er!==null){er.document.write(Dt);var nr=this;er.document.documentElement.querySelector("#pdfViewer").onload=function(){er.document.title=J.filename,er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nr.output("bloburl"))}}return er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',wa=ar.open();if(wa!==null&&(wa.document.write(jr),wa.document.title=J.filename),wa||typeof safari>"u")return wa;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",J);default:return null}},ms.foo=function(){try{return ms.apply(this,arguments)}catch(ye){var E=ye.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var J="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ye.message;if(!ar.console)throw new Error(J);ar.console.error(J,ye),ar.alert&&alert(J)}},ms.foo.bar=ms,ms.foo),gs=function(E){return Array.isArray(Js)===!0&&Js.indexOf(E)>-1};switch(a){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=gs("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);gt=a}var Ca=null;K(),oe();var za=m.__private__.getPageInfo=m.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[E].objId,pageNumber:E,pageContext:Ot[E]}},Dh=m.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Ot)if(Ot[J].objId===E)break;return za(J)},cd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ot[q].objId,pageNumber:q,pageContext:Ot[q]}};m.addPage=function(){return ei.apply(this,arguments),this},m.setPage=function(){return Pi.apply(this,arguments),Ye.call(this,ke[q]),this},m.insertPage=function(E){return this.addPage(),this.movePage(q,E),this},m.movePage=function(E,J){var ye,Ce;if(E>J){ye=ke[E],Ce=Ot[E];for(var Re=E;Re>J;Re--)ke[Re]=ke[Re-1],Ot[Re]=Ot[Re-1];ke[J]=ye,Ot[J]=Ce,this.setPage(J)}else if(E<J){ye=ke[E],Ce=Ot[E];for(var Ze=E;Ze<J;Ze++)ke[Ze]=ke[Ze+1],Ot[Ze]=Ot[Ze+1];ke[J]=ye,Ot[J]=Ce,this.setPage(J)}return this},m.deletePage=function(){return Gn.apply(this,arguments),this},m.__private__.text=m.text=function(E,J,ye,Ce,Re){var Ze,lt,Pt,Dt,er,nr,jr,wa,Ua,Hr=(Ce=Ce||{}).scope||this;if(typeof E=="number"&&typeof J=="number"&&(typeof ye=="string"||Array.isArray(ye))){var Qa=ye;ye=J,J=E,E=Qa}if(arguments[3]instanceof qt==0?(Pt=arguments[4],Dt=arguments[5],ta(jr=arguments[3])==="object"&&jr!==null||(typeof Pt=="string"&&(Dt=Pt,Pt=null),typeof jr=="string"&&(Dt=jr,jr=null),typeof jr=="number"&&(Pt=jr,jr=null),Ce={flags:jr,angle:Pt,align:Dt})):(C("The transform parameter of text() with a Matrix value"),Ua=Re),isNaN(J)||isNaN(ye)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Hr;var Ra,un="",ni=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Ul,Sn=Hr.internal.scaleFactor;function tl(Dr){return Dr=Dr.split("	").join(Array(Ce.TabLen||9).join(" ")),yr(Dr,jr)}function rl(Dr){for(var Wr,Da=Dr.concat(),qa=[],ll=Da.length;ll--;)typeof(Wr=Da.shift())=="string"?qa.push(Wr):Array.isArray(Dr)&&(Wr.length===1||Wr[1]===void 0&&Wr[2]===void 0)?qa.push(Wr[0]):qa.push([Wr[0],Wr[1],Wr[2]]);return qa}function An(Dr,Wr){var Da;if(typeof Dr=="string")Da=Wr(Dr)[0];else if(Array.isArray(Dr)){for(var qa,ll,ys=Dr.concat(),cl=[],Uh=ys.length;Uh--;)typeof(qa=ys.shift())=="string"?cl.push(Wr(qa)[0]):Array.isArray(qa)&&typeof qa[0]=="string"&&(ll=Wr(qa[0],qa[1],qa[2]),cl.push([ll[0],ll[1],ll[2]]));Da=cl}return Da}var al=!1,ql=!0;if(typeof E=="string")al=!0;else if(Array.isArray(E)){var vc=E.concat();lt=[];for(var po,en=vc.length;en--;)(typeof(po=vc.shift())!="string"||Array.isArray(po)&&typeof po[0]!="string")&&(ql=!1);al=ql}if(al===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var bc=ae/Hr.internal.scaleFactor,wc=bc*(ni-1);switch(Ce.baseline){case"bottom":ye-=wc;break;case"top":ye+=bc-wc;break;case"hanging":ye+=bc-2*wc;break;case"middle":ye+=bc/2-wc}if((nr=Ce.maxWidth||0)>0&&(typeof E=="string"?E=Hr.splitTextToSize(E,nr):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Dr,Wr){return Dr.concat(Hr.splitTextToSize(Wr,nr))},[]))),Ze={text:E,x:J,y:ye,options:Ce,mutex:{pdfEscape:yr,activeFontKey:it,fonts:nt,activeFontSize:ae}},gr.publish("preProcessText",Ze),E=Ze.text,Pt=(Ce=Ze.options).angle,Ua instanceof qt==0&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Ce.rotationDirection===0&&(Pt=-Pt),S===k&&(Pt=-Pt);var gd=Math.cos(Pt),Tu=Math.sin(Pt);Ua=new qt(gd,Tu,-Tu,gd,0,0)}else Pt&&Pt instanceof qt&&(Ua=Pt);S!==k||Ua||(Ua=Li),(er=Ce.charSpace||go)!==void 0&&(un+=D(Y(er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wa=Ce.horizontalScale)!==void 0&&(un+=D(100*wa)+` Tz
`),Ce.lang;var da=-1,ps=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,pd=Hr.internal.getCurrentPageInfo().pageContext;switch(ps){case 0:case!1:case"fill":da=0;break;case 1:case!0:case"stroke":da=1;break;case 2:case"fillThenStroke":da=2;break;case 3:case"invisible":da=3;break;case 4:case"fillAndAddForClipping":da=4;break;case 5:case"strokeAndAddPathForClipping":da=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":da=6;break;case 7:case"addToPathForClipping":da=7}var si=pd.usedRenderingMode!==void 0?pd.usedRenderingMode:-1;da!==-1?un+=da+` Tr
`:si!==-1&&(un+=`0 Tr
`),da!==-1&&(pd.usedRenderingMode=da),Dt=Ce.align||"left";var ii,oi=ae*ni,Cu=Hr.internal.pageSize.getWidth(),nl=nt[it];er=Ce.charSpace||go,nr=Ce.maxWidth||0,jr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var sl=[],xo=function(Dr){return Hr.getStringUnitWidth(Dr,{font:nl,charSpace:er,fontSize:ae,doKerning:!1})*ae/Sn};if(Object.prototype.toString.call(E)==="[object Array]"){var Rs;lt=rl(E),Dt!=="left"&&(ii=lt.map(xo));var Va,Di=0;if(Dt==="right"){J-=ii[0],E=[],en=lt.length;for(var il=0;il<en;il++)il===0?(Va=Mi(J),Rs=Ri(ye)):(Va=Y(Di-ii[il]),Rs=-oi),E.push([lt[il],Va,Rs]),Di=ii[il]}else if(Dt==="center"){J-=ii[0]/2,E=[],en=lt.length;for(var yo=0;yo<en;yo++)yo===0?(Va=Mi(J),Rs=Ri(ye)):(Va=Y((Di-ii[yo])/2),Rs=-oi),E.push([lt[yo],Va,Rs]),Di=ii[yo]}else if(Dt==="left"){E=[],en=lt.length;for(var Lu=0;Lu<en;Lu++)E.push(lt[Lu])}else if(Dt==="justify"&&nl.encoding==="Identity-H"){E=[],en=lt.length,nr=nr!==0?nr:Cu;for(var xs=0,Oa=0;Oa<en;Oa++)if(Rs=Oa===0?Ri(ye):-oi,Va=Oa===0?Mi(J):xs,Oa<en-1){var ol=Y((nr-ii[Oa])/(lt[Oa].split(" ").length-1)),vo=lt[Oa].split(" ");E.push([vo[0]+" ",Va,Rs]),xs=0;for(var hn=1;hn<vo.length;hn++){var $l=(xo(vo[hn-1]+" "+vo[hn])-xo(vo[hn]))*Sn+ol;hn==vo.length-1?E.push([vo[hn],$l,0]):E.push([vo[hn]+" ",$l,0]),xs-=$l}}else E.push([lt[Oa],Va,Rs]);E.push(["",xs,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],en=lt.length,nr=nr!==0?nr:Cu,Oa=0;Oa<en;Oa++){Rs=Oa===0?Ri(ye):-oi,Va=Oa===0?Mi(J):0;var xd=lt[Oa].split(" ").length-1,_c=xd>0?(nr-ii[Oa])/xd:0;Oa<en-1?sl.push(D(Y(_c))):sl.push(0),E.push([lt[Oa],Va,Rs])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:at)===!0&&(E=An(E,function(Dr,Wr,Da){return[Dr.split("").reverse().join(""),Wr,Da]})),Ze={text:E,x:J,y:ye,options:Ce,mutex:{pdfEscape:yr,activeFontKey:it,fonts:nt,activeFontSize:ae}},gr.publish("postProcessText",Ze),E=Ze.text,Ra=Ze.mutex.isHex||!1;var Hl=nt[it].encoding;Hl!=="WinAnsiEncoding"&&Hl!=="StandardEncoding"||(E=An(E,function(Dr,Wr,Da){return[tl(Dr),Wr,Da]})),lt=rl(E),E=[];for(var bo,Ii,Os,wo=Array.isArray(lt[0])?1:0,_o="",Wl=function(Dr,Wr,Da){var qa="";return Da instanceof qt?(Da=typeof Ce.angle=="number"?Ci(Da,new qt(1,0,0,1,Dr,Wr)):Ci(new qt(1,0,0,1,Dr,Wr),Da),S===k&&(Da=Ci(new qt(1,0,0,-1,0,0),Da)),qa=Da.join(" ")+` Tm
`):qa=D(Dr)+" "+D(Wr)+` Td
`,qa},li=0;li<lt.length;li++){switch(_o="",wo){case 1:Os=(Ra?"<":"(")+lt[li][0]+(Ra?">":")"),bo=parseFloat(lt[li][1]),Ii=parseFloat(lt[li][2]);break;case 0:Os=(Ra?"<":"(")+lt[li]+(Ra?">":")"),bo=Mi(J),Ii=Ri(ye)}sl!==void 0&&sl[li]!==void 0&&(_o=sl[li]+` Tw
`),li===0?E.push(_o+Wl(bo,Ii,Ua)+Os):wo===0?E.push(_o+Os):wo===1&&E.push(_o+Wl(bo,Ii,Ua)+Os)}E=wo===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Ds=`BT
/`;return Ds+=it+" "+ae+` Tf
`,Ds+=D(ae*ni)+` TL
`,Ds+=ba+`
`,Ds+=un,Ds+=E,ce(Ds+="ET"),g[it]=!0,Hr};var Go=m.__private__.clip=m.clip=function(E){return ce(E==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Go("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ce("n"),this};var Fr=m.__private__.isValidStyle=function(E){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(E){return Fr(E)&&(u=E),this};var fo=m.__private__.getStyle=m.getStyle=function(E){var J=u;switch(E){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=E}return J},Bl=m.close=function(){return ce("h"),this};m.stroke=function(){return ce("S"),this},m.fill=function(E){return mo("f",E),this},m.fillEvenOdd=function(E){return mo("f*",E),this},m.fillStroke=function(E){return mo("B",E),this},m.fillStrokeEvenOdd=function(E){return mo("B*",E),this};var mo=function(E,J){ta(J)==="object"?_u(J,E):ce(E)},Yo=function(E){E===null||S===k&&E===void 0||(E=fo(E),ce(E))};function pc(E,J,ye,Ce,Re){var Ze=new M0(J||this.boundingBox,ye||this.xStep,Ce||this.yStep,this.gState,Re||this.matrix);Ze.stream=this.stream;var lt=E+"$$"+this.cloneIndex+++"$$";return Dn(lt,Ze),Ze}var _u=function(E,J){var ye=wr[E.key],Ce=Ct[ye];if(Ce instanceof Zu)ce("q"),ce(Nu(J)),Ce.gState&&m.setGState(Ce.gState),ce(E.matrix.toString()+" cm"),ce("/"+ye+" sh"),ce("Q");else if(Ce instanceof M0){var Re=new qt(1,0,0,-1,0,yc());E.matrix&&(Re=Re.multiply(E.matrix||Li),ye=pc.call(Ce,E.key,E.boundingBox,E.xStep,E.yStep,Re).id),ce("q"),ce("/Pattern cs"),ce("/"+ye+" scn"),Ce.gState&&m.setGState(Ce.gState),ce(J),ce("Q")}},Nu=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},zl=m.moveTo=function(E,J){return ce(D(Y(E))+" "+D(ee(J))+" m"),this},dd=m.lineTo=function(E,J){return ce(D(Y(E))+" "+D(ee(J))+" l"),this},Ms=m.curveTo=function(E,J,ye,Ce,Re,Ze){return ce([D(Y(E)),D(ee(J)),D(Y(ye)),D(ee(Ce)),D(Y(Re)),D(ee(Ze)),"c"].join(" ")),this};m.__private__.line=m.line=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.line");return S===w?this.lines([[ye-E,Ce-J]],E,J,[1,1],Re||"S"):this.lines([[ye-E,Ce-J]],E,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(E,J,ye,Ce,Re,Ze){var lt,Pt,Dt,er,nr,jr,wa,Ua,Hr,Qa,Ra,un;if(typeof E=="number"&&(un=ye,ye=J,J=E,E=un),Ce=Ce||[1,1],Ze=Ze||!1,isNaN(J)||isNaN(ye)||!Array.isArray(E)||!Array.isArray(Ce)||!Fr(Re)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zl(J,ye),lt=Ce[0],Pt=Ce[1],er=E.length,Qa=J,Ra=ye,Dt=0;Dt<er;Dt++)(nr=E[Dt]).length===2?(Qa=nr[0]*lt+Qa,Ra=nr[1]*Pt+Ra,dd(Qa,Ra)):(jr=nr[0]*lt+Qa,wa=nr[1]*Pt+Ra,Ua=nr[2]*lt+Qa,Hr=nr[3]*Pt+Ra,Qa=nr[4]*lt+Qa,Ra=nr[5]*Pt+Ra,Ms(jr,wa,Ua,Hr,Qa,Ra));return Ze&&Bl(),Yo(Re),this},m.path=function(E){for(var J=0;J<E.length;J++){var ye=E[J],Ce=ye.c;switch(ye.op){case"m":zl(Ce[0],Ce[1]);break;case"l":dd(Ce[0],Ce[1]);break;case"c":Ms.apply(this,Ce);break;case"h":Bl()}}return this},m.__private__.rect=m.rect=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w&&(Ce=-Ce),ce([D(Y(E)),D(ee(J)),D(Y(ye)),D(Y(Ce)),"re"].join(" ")),Yo(Re),this},m.__private__.triangle=m.triangle=function(E,J,ye,Ce,Re,Ze,lt){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!Fr(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-E,Ce-J],[Re-ye,Ze-Ce],[E-Re,J-Ze]],E,J,[1,1],lt,!0),this},m.__private__.roundedRect=m.roundedRect=function(E,J,ye,Ce,Re,Ze,lt){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!Fr(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*ye),Ze=Math.min(Ze,.5*Ce),this.lines([[ye-2*Re,0],[Re*Pt,0,Re,Ze-Ze*Pt,Re,Ze],[0,Ce-2*Ze],[0,Ze*Pt,-Re*Pt,Ze,-Re,Ze],[2*Re-ye,0],[-Re*Pt,0,-Re,-Ze*Pt,-Re,-Ze],[0,2*Ze-Ce],[0,-Ze*Pt,Re*Pt,-Ze,Re,-Ze]],E+Re,J,[1,1],lt,!0),this},m.__private__.ellipse=m.ellipse=function(E,J,ye,Ce,Re){if(isNaN(E)||isNaN(J)||isNaN(ye)||isNaN(Ce)||!Fr(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*ye,lt=4/3*(Math.SQRT2-1)*Ce;return zl(E+ye,J),Ms(E+ye,J-lt,E+Ze,J-Ce,E,J-Ce),Ms(E-Ze,J-Ce,E-ye,J-lt,E-ye,J),Ms(E-ye,J+lt,E-Ze,J+Ce,E,J+Ce),Ms(E+Ze,J+Ce,E+ye,J+lt,E+ye,J),Yo(Re),this},m.__private__.circle=m.circle=function(E,J,ye,Ce){if(isNaN(E)||isNaN(J)||isNaN(ye)||!Fr(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,J,ye,ye,Ce)},m.setFont=function(E,J,ye){return ye&&(J=I(J,ye)),it=ti(E,J,{disableWarning:!1}),this};var ud=m.__private__.getFont=m.getFont=function(){return nt[ti.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var E,J,ye={};for(E in Wt)if(Wt.hasOwnProperty(E))for(J in ye[E]=[],Wt[E])Wt[E].hasOwnProperty(J)&&ye[E].push(J);return ye},m.addFont=function(E,J,ye,Ce,Re){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(ye=I(ye,Ce)),Vr.call(this,E,J,ye,Re=Re||"Identity-H")};var Ul,xc=e.lineWidth||.200025,Zf=m.__private__.getLineWidth=m.getLineWidth=function(){return xc},xt=m.__private__.setLineWidth=m.setLineWidth=function(E){return xc=E,ce(D(Y(E))+" w"),this};m.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(E,J){if(E=E||[],J=J||0,isNaN(J)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ye){return D(Y(ye))}).join(" "),J=D(Y(J)),ce("["+E+"] "+J+" d"),this};var ai=m.__private__.getLineHeight=m.getLineHeight=function(){return ae*Ul};m.__private__.getLineHeight=m.getLineHeight=function(){return ae*Ul};var $r=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Ul=E),this},Ih=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ul};$r(e.lineHeight);var Mi=m.__private__.getHorizontalCoordinate=function(E){return Y(E)},Ri=m.__private__.getVerticalCoordinate=function(E){return S===k?E:Ot[q].mediaBox.topRightY-Ot[q].mediaBox.bottomLeftY-Y(E)},ku=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(E){return D(Mi(E))},Ko=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(E){return D(Ri(E))},Vl=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ve(Vl)},m.__private__.setStrokeColor=m.setDrawColor=function(E,J,ye,Ce){return Vl=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"draw",precision:2}),ce(Vl),this};var Zo=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ve(Zo)},m.__private__.setFillColor=m.setFillColor=function(E,J,ye,Ce){return Zo=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"fill",precision:2}),ce(Zo),this};var ba=e.textColor||"0 g",Xo=m.__private__.getTextColor=m.getTextColor=function(){return ve(ba)};m.__private__.setTextColor=m.setTextColor=function(E,J,ye,Ce){return ba=Ne({ch1:E,ch2:J,ch3:ye,ch4:Ce,pdfColorType:"text",precision:3}),this};var go=e.charSpace,Fh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(go||0)};m.__private__.setCharSpace=m.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return go=E,this};var ju=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(E){var J=m.CapJoinStyles[E];if(J===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ju=J,ce(J+" J"),this};var hd=0;m.__private__.setLineJoin=m.setLineJoin=function(E){var J=m.CapJoinStyles[E];if(J===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hd=J,ce(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(D(Y(E))+" M"),this},m.GState=a1,m.setGState=function(E){(E=typeof E=="string"?Bt[$t[E]]:fd(null,E)).equals(Er)||(ce("/"+E.id+" gs"),Er=E)};var fd=function(E,J){if(!E||!$t[E]){var ye=!1;for(var Ce in Bt)if(Bt.hasOwnProperty(Ce)&&Bt[Ce].equals(J)){ye=!0;break}if(ye)J=Bt[Ce];else{var Re="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Re]=J,J.id=Re}return E&&($t[E]=J.id),gr.publish("addGState",J),J}};m.addGState=function(E,J){return fd(E,J),this},m.saveGraphicsState=function(){return ce("q"),kr.push({key:it,size:ae,color:ba}),this},m.restoreGraphicsState=function(){ce("Q");var E=kr.pop();return it=E.key,ae=E.size,ba=E.color,Er=null,this},m.setCurrentTransformationMatrix=function(E){return ce(E.toString()+" cm"),this},m.comment=function(E){return ce("#"+E),this};var Jo=function(E,J){var ye=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(Ze){isNaN(Ze)||(ye=parseFloat(Ze))}});var Ce=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(Ze){Re=Ze.toString()}}),this},md=function(E,J,ye,Ce){Jo.call(this,E,J),this.type="rect";var Re=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(lt){isNaN(lt)||(Re=parseFloat(lt))}});var Ze=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(lt){isNaN(lt)||(Ze=parseFloat(lt))}}),this},cr=function(){this.page=Jt,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=Ot.slice(0),this.x=_t,this.y=br,this.matrix=Qt,this.width=Qo(q),this.height=Bh(q),this.outputDestination=De,this.id="",this.objectNumber=-1};cr.prototype.restore=function(){Jt=this.page,q=this.currentPage,Ot=this.pagesContext,ke=this.pages,_t=this.x,br=this.y,Qt=this.matrix,Au(q,this.width),Oi(q,this.height),De=this.outputDestination};var Su=function(E,J,ye,Ce,Re){Qs.push(new cr),Jt=q=0,ke=[],_t=E,br=J,Qt=Re,Ta([ye,Ce])};for(var jn in m.beginFormObject=function(E,J,ye,Ce,Re){return Su(E,J,ye,Ce,Re),this},m.endFormObject=function(E){return function(J){if(Ti[J])Qs.pop().restore();else{var ye=new cr,Ce="Xo"+(Object.keys(dn).length+1).toString(10);ye.id=Ce,Ti[J]=Ce,dn[Ce]=ye,gr.publish("addFormObject",ye),Qs.pop().restore()}}(E),this},m.doFormObject=function(E,J){var ye=dn[Ti[E]];return ce("q"),ce(J.toString()+" cm"),ce("/"+ye.id+" Do"),ce("Q"),this},m.getFormObject=function(E){var J=dn[Ti[E]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(E,J){return E=E||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Wu(rr(ri()),E),typeof Wu.unload=="function"&&ar.setTimeout&&setTimeout(Wu.unload,911),this):new Promise(function(ye,Ce){try{var Re=Wu(rr(ri()),E);typeof Wu.unload=="function"&&ar.setTimeout&&setTimeout(Wu.unload,911),ye(Re)}catch(Ze){Ce(Ze.message)}})},Vt.API)Vt.API.hasOwnProperty(jn)&&(jn==="events"&&Vt.API.events.length?function(E,J){var ye,Ce,Re;for(Re=J.length-1;Re!==-1;Re--)ye=J[Re][0],Ce=J[Re][1],E.subscribe.apply(E,[ye].concat(typeof Ce=="function"?[Ce]:Ce))}(gr,Vt.API.events):m[jn]=Vt.API[jn]);function Qo(E){return Ot[E].mediaBox.topRightX-Ot[E].mediaBox.bottomLeftX}function Au(E,J){Ot[E].mediaBox.topRightX=J+Ot[E].mediaBox.bottomLeftX}function Bh(E){return Ot[E].mediaBox.topRightY-Ot[E].mediaBox.bottomLeftY}function Oi(E,J){Ot[E].mediaBox.topRightY=J+Ot[E].mediaBox.bottomLeftY}var el=m.getPageWidth=function(E){return Qo(E=E||q)/gt},Eu=m.setPageWidth=function(E,J){Au(E,J*gt)},yc=m.getPageHeight=function(E){return Bh(E=E||q)/gt},zh=m.setPageHeight=function(E,J){Oi(E,J*gt)};return m.internal={pdfEscape:yr,getStyle:fo,getFont:ud,getFontSize:Ge,getCharSpace:Fh,getTextColor:Xo,getLineHeight:ai,getLineHeightFactor:Ih,getLineWidth:Zf,write:Ae,getHorizontalCoordinate:Mi,getVerticalCoordinate:Ri,getCoordinateString:ku,getVerticalCoordinateString:Ko,collections:{},newObject:Tr,newAdditionalObject:be,newObjectDeferred:St,newObjectDeferredBegin:te,getFilters:Ie,putStream:We,events:gr,scaleFactor:gt,pageSize:{getWidth:function(){return el(q)},setWidth:function(E){Eu(q,E)},getHeight:function(){return yc(q)},setHeight:function(E){zh(q,E)}},encryptionOptions:h,encryption:Ca,getEncryptor:function(E){return h!==null?Ca.encryptor(E,0):function(J){return J}},output:ga,getNumberOfPages:Ps,get pages(){return ke},out:ce,f2:O,f3:V,getPageInfo:za,getPageInfoByObjId:Dh,getCurrentPageInfo:cd,getPDFVersion:x,Point:Jo,Rectangle:md,Matrix:qt,hasHotfix:gs},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return el(q)},set:function(E){Eu(q,E)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return yc(q)},set:function(E){zh(q,E)},enumerable:!0,configurable:!0}),(function(E){for(var J=0,ye=et.length;J<ye;J++){var Ce=Vr.call(this,E[J][0],E[J][1],E[J][2],et[J][3],!0);f===!1&&(g[Ce]=!0);var Re=E[J][0].split("-");Kt({id:Ce,fontName:Re[0],fontStyle:Re[1]||""})}gr.publish("addFonts",{fonts:nt,dictionary:Wt})}).call(m,et),it="F1",ei(s,r),gr.publish("initialized"),m}x0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},x0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},x0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},x0.prototype.processOwnerPassword=function(e,t){return $w(qw(t).substr(0,5),e)},x0.prototype.encryptor=function(e,t){var r=qw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return $w(r,a)}},a1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ta(e)!==ta(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Vt.API={events:[]},Vt.version="3.0.4";var Ga=Vt.API,e4=1,Ch=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},n0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sr=function(e){return e.toFixed(2)},Ed=function(e){return e.toFixed(5)};Ga.__acroform__={};var Ei=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},U3=function(e){return e*e4},Zl=function(e){var t=new v7,r=Rt.internal.getHeight(e)||0,a=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sr(a)),Number(sr(r))],t},PW=Ga.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},MW=Ga.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},RW=Ga.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},nn=Ga.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RW(e,t-1)},sn=Ga.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PW(e,t-1)},on=Ga.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MW(e,t-1)},OW=Ga.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=a(i)||0,[Number(sr(c.lowerLeft_X)),Number(sr(c.lowerLeft_Y)),Number(sr(c.upperRight_X)),Number(sr(c.upperRight_Y))]},DW=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=Hw(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+sr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Zl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Hw=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=r,o=Rt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,V,Y){if(O+1<s.length){var ee=V+" "+s[O+1][0];return xx(ee,e,Y).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,f=xx("3",e,i).height,g=e.multiline?o-i:(o-f)/2,m=g+=2,y=0,x=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+xx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var S=!1;if(s[k].length!==1&&N!==s[k].length-1){if((f+2)*(w+2)+2>o)continue e;b+=s[k][N],S=!0,x=k,k--}else{b=(b+=s[k][N]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(k),H=c(B,b,i),I=k>=s.length-1;if(H&&!I){b+=" ",N=0;continue}if(H||I){if(I)x=B;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;x=B}}for(var D="",C=y;C<=x;C++){var G=s[C];if(e.multiline){if(C===x){D+=G[N]+" ",N=(N+1)%G.length;continue}if(C===y){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=xx(D,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=sr(u)+" "+sr(m)+` Td
`,t+="("+Ch(D)+`) Tj
`,t+=-sr(u)+` 0 Td
`,m=-(i+2),h=0,y=S?x:x+1,w++,b=""}break}return a.text=t,a.fontSize=i,a},xx=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},IW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FW=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},BW=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Il.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(IW)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new b7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&FW(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=OW(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rt.createDefaultAppearanceStream(l),ta(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=DW(l);c.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var m=l.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(s,l)),f+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(s,l)),f+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(x,N){for(var b in x)if(x.hasOwnProperty(b)){var w=b,k=x[b];N.internal.newObjectDeferredBegin(k.objId,!0),ta(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[w]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},y7=Ga.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),ta(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+Ch(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fb=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ch(a(e))+")"},ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ac.prototype.toString=function(){return this.objId+" 0 R"},ac.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ac.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:y7(s,this.objId,this.scope)}):s instanceof ac?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var v7=function(){ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ei(v7,ac);var b7=function(){ac.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ch(r(e))+")"}},set:function(r){e=r}})};Ei(b7,ac);var Il=function e(){ac.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(t,3)},set:function(b){b?this.F=sn(t,3):this.F=on(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(b){a=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(b){a[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(b){a[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(b){a[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(b){a[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof n1)return;i="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ch(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/e4:u},set:function(b){u=b}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(b){h=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof n1||this instanceof ih))return Fb(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bn==0?Fb(g,this.objId,this.scope):g},set:function(b){b=b.toString(),g=this instanceof Bn==0?b.substr(0,1)==="("?n0(b.substr(1,b.length-2)):n0(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?n0(g.substr(1,g.length-1)):g},set:function(b){b=b.toString(),g=this instanceof Bn==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Bn==0?Fb(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof Bn==0?b.substr(0,1)==="("?n0(b.substr(1,b.length-2)):n0(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?n0(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Bn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(b){b?this.Ff=sn(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(b){b?this.Ff=sn(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(b){b?this.Ff=sn(this.Ff,3):this.Ff=on(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');N=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(N){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ei(Il,ac);var Z0=function(){Il.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y7(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(r){r?this.Ff=sn(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sn(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(r){r?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(r){r?this.Ff=sn(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(r){r?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(r){r?this.Ff=sn(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};Ei(Z0,Il);var X0=function(){Z0.call(this),this.fontName="helvetica",this.combo=!1};Ei(X0,Z0);var J0=function(){X0.call(this),this.combo=!0};Ei(J0,X0);var ry=function(){J0.call(this),this.edit=!0};Ei(ry,J0);var Bn=function(){Il.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(r){r?this.Ff=sn(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(r){r?this.Ff=sn(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(r){r?this.Ff=sn(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(r){r?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+Ch(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){ta(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ei(Bn,Il);var ay=function(){Bn.call(this),this.pushButton=!0};Ei(ay,Bn);var Q0=function(){Bn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ei(Q0,Bn);var n1=function(){var e,t;Il.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+Ch(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){ta(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ei(n1,Il),Q0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Q0.prototype.createOption=function(e){var t=new n1;return t.Parent=this,t.optionName=e,this.Kids.push(t),zW.call(this.scope,t),t};var ny=function(){Bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Ei(ny,Bn);var ih=function(){Il.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ei(ih,Il);var sy=function(){ih.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(e){e?this.Ff=sn(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};Ei(sy,ih);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Hw(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+sr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Zl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Rt.internal.getHeight(e),o=Rt.internal.getWidth(e),l=Hw(e,e.caption);return s.push("1 g"),s.push("0 0 "+sr(o)+" "+sr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+sr(o-1)+" "+sr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+sr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Zl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Rt.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ed(Rt.internal.getWidth(e)/2)+" "+Ed(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Rt.internal.Bezier_C).toFixed(5)),o=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ed(Rt.internal.getWidth(e)/2)+" "+Ed(Rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ed(Rt.internal.getWidth(e)/2)+" "+Ed(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=[],a=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ed(Rt.internal.getWidth(e)/2)+" "+Ed(Rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Zl(e);t.scope=e.scope;var r=[],a=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+sr(Rt.internal.getWidth(e)-2)+" "+sr(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sr(a.x1.x)+" "+sr(a.x1.y)+" m"),r.push(sr(a.x2.x)+" "+sr(a.x2.y)+" l"),r.push(sr(a.x4.x)+" "+sr(a.x4.y)+" m"),r.push(sr(a.x3.x)+" "+sr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+sr(Rt.internal.getWidth(e)-2)+" "+sr(Rt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(sr(r.x1.x)+" "+sr(r.x1.y)+" m"),a.push(sr(r.x2.x)+" "+sr(r.x2.y)+" l"),a.push(sr(r.x4.x)+" "+sr(r.x4.y)+" m"),a.push(sr(r.x3.x)+" "+sr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Zl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Rt.internal.getWidth=function(e){var t=0;return ta(e)==="object"&&(t=U3(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return ta(e)==="object"&&(t=U3(e.Rect[3])),t};var zW=Ga.addField=function(e){if(BW(this,e),!(e instanceof Il))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ga.AcroFormChoiceField=Z0,Ga.AcroFormListBox=X0,Ga.AcroFormComboBox=J0,Ga.AcroFormEditBox=ry,Ga.AcroFormButton=Bn,Ga.AcroFormPushButton=ay,Ga.AcroFormRadioButton=Q0,Ga.AcroFormCheckBox=ny,Ga.AcroFormTextField=ih,Ga.AcroFormPasswordField=sy,Ga.AcroFormAppearance=Rt,Ga.AcroForm={ChoiceField:Z0,ListBox:X0,ComboBox:J0,EditBox:ry,Button:Bn,PushButton:ay,RadioButton:Q0,CheckBox:ny,TextField:ih,PasswordField:sy,Appearance:Rt},Vt.AcroForm={ChoiceField:Z0,ListBox:X0,ComboBox:J0,EditBox:ry,Button:Bn,PushButton:ay,RadioButton:Q0,CheckBox:ny,TextField:ih,PasswordField:sy,Appearance:Rt};Vt.AcroForm;function w7(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(O,V){var Y,ee,he,de,xe,oe=r;if((V=V||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(H(O))for(xe in a)for(he=a[xe],Y=0;Y<he.length;Y+=1){for(de=!0,ee=0;ee<he[Y].length;ee+=1)if(he[Y][ee]!==void 0&&he[Y][ee]!==O[ee]){de=!1;break}if(de===!0){oe=xe;break}}else for(xe in a)for(he=a[xe],Y=0;Y<he.length;Y+=1){for(de=!0,ee=0;ee<he[Y].length;ee+=1)if(he[Y][ee]!==void 0&&he[Y][ee]!==O.charCodeAt(ee)){de=!1;break}if(de===!0){oe=xe;break}}return oe===r&&V!==r&&(oe=V),oe},i=function O(V){for(var Y=this.internal.write,ee=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:V.width}),de.push({key:"Height",value:V.height}),V.colorSpace===b.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===b.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var xe="",oe=0,fe=V.transparency.length;oe<fe;oe++)xe+=V.transparency[oe]+" "+V.transparency[oe]+" ";de.push({key:"Mask",value:"["+xe+"]"})}V.sMask!==void 0&&de.push({key:"SMask",value:V.objectId+1+" 0 R"});var Se=V.filter!==void 0?["/"+V.filter]:void 0;if(ee({data:V.data,additionalKeyValues:de,alreadyAppliedFilters:Se,objectId:V.objectId}),Y("endobj"),"sMask"in V&&V.sMask!==void 0){var K,A=(K=V.sMaskBitsPerComponent)!==null&&K!==void 0?K:V.bitsPerComponent,q={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:V.sMask};"filter"in V&&(q.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(V.width),q.filter=V.filter),O.call(this,q)}if(V.colorSpace===b.INDEXED){var F=this.internal.newObject();ee({data:D(new Uint8Array(V.palette)),objectId:F}),Y("endobj")}},o=function(){var O=this.internal.collections[t+"images"];for(var V in O)i.call(this,O[V])},l=function(){var O,V=this.internal.collections[t+"images"],Y=this.internal.write;for(var ee in V)Y("/I"+(O=V[ee]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},g=function(O){return ta(O)==="object"&&O.nodeType===1},m=function(O,V){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var Y=""+O.getAttribute("src");if(Y.indexOf("data:image/")===0)return ty(unescape(Y).split("base64,").pop());var ee=e.loadFile(Y,!0);if(ee!==void 0)return ee}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var he;switch(V){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return ty(O.toDataURL(he,1).split("base64,").pop())}},y=function(O){var V=this.internal.collections[t+"images"];if(V){for(var Y in V)if(O===V[Y].alias)return V[Y]}},x=function(O,V,Y){return O||V||(O=-96,V=-96),O<0&&(O=-1*Y.width*72/O/this.internal.scaleFactor),V<0&&(V=-1*Y.height*72/V/this.internal.scaleFactor),O===0&&(O=V*Y.width/Y.height),V===0&&(V=O*Y.height/Y.width),[O,V]},N=function(O,V,Y,ee,he,de){var xe=x.call(this,Y,ee,he),oe=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,Se=u.call(this);if(Y=xe[0],ee=xe[1],Se[he.index]=he,de){de*=Math.PI/180;var K=Math.cos(de),A=Math.sin(de),q=function(R){return R.toFixed(4)},F=[q(K),q(A),q(-1*A),q(K),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,oe(O),fe(V+ee),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([oe(Y),"0","0",oe(ee),"0","0","cm"].join(" "))):this.internal.write([oe(Y),"0","0",oe(ee),oe(O),fe(V+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(O){var V,Y,ee=0;if(typeof O=="string")for(Y=O.length,V=0;V<Y;V++)ee=(ee<<5)-ee+O.charCodeAt(V),ee|=0;else if(H(O))for(Y=O.byteLength/2,V=0;V<Y;V++)ee=(ee<<5)-ee+O[V],ee|=0;return ee},S=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var V=!0;return O.length===0&&(V=!1),O.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(V=!1),V},B=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var V=O.indexOf(",");return V<0?null:O.substring(0,V).trim().endsWith("base64")?O.substring(V+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(O){for(var V=O.length,Y=new Uint8Array(V),ee=0;ee<V;ee++)Y[ee]=O.charCodeAt(ee);return Y},D=e.__addimage__.arrayBufferToBinaryString=function(O){for(var V="",Y=H(O)?O:new Uint8Array(O),ee=0;ee<Y.length;ee+=8192)V+=String.fromCharCode.apply(null,Y.subarray(ee,ee+8192));return V};e.addImage=function(){var O,V,Y,ee,he,de,xe,oe,fe;if(typeof arguments[1]=="number"?(V=r,Y=arguments[1],ee=arguments[2],he=arguments[3],de=arguments[4],xe=arguments[5],oe=arguments[6],fe=arguments[7]):(V=arguments[1],Y=arguments[2],ee=arguments[3],he=arguments[4],de=arguments[5],xe=arguments[6],oe=arguments[7],fe=arguments[8]),ta(O=arguments[0])==="object"&&!g(O)&&"imageData"in O){var Se=O;O=Se.imageData,V=Se.format||V||r,Y=Se.x||Y||0,ee=Se.y||ee||0,he=Se.w||Se.width||he,de=Se.h||Se.height||de,xe=Se.alias||xe,oe=Se.compression||oe,fe=Se.rotation||Se.angle||fe}var K=this.internal.getFilters();if(oe===void 0&&K.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(Y)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var A=C.call(this,O,V,xe,oe);return N.call(this,Y,ee,he,de,A,fe),this};var C=function(O,V,Y,ee){var he,de,xe;if(typeof O=="string"&&s(O)===r){O=unescape(O);var oe=G(O,!1);(oe!==""||(oe=e.loadFile(O,!0))!==void 0)&&(O=oe)}if(g(O)&&(O=m(O,V)),V=s(O,V),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((xe=Y)==null||xe.length===0)&&(Y=function(fe){return typeof fe=="string"||H(fe)?k(fe):H(fe.data)?k(fe.data):null}(O)),(he=y.call(this,Y))||(O instanceof Uint8Array||V==="RGBA"||(de=O,O=I(O)),he=this["process"+V.toUpperCase()](O,h.call(this),Y,function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in e.image_compression?fe:w.NONE}(ee),de)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},G=e.__addimage__.convertBase64ToBinaryString=function(O,V){V=typeof V!="boolean"||V;var Y,ee="";if(typeof O=="string"){var he;Y=(he=B(O))!==null&&he!==void 0?he:O;try{ee=ty(Y)}catch(de){if(V)throw S(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(O){var V,Y,ee="";if(g(O)&&(O=m(O)),typeof O=="string"&&s(O)===r&&((ee=G(O,!1))===""&&(ee=e.loadFile(O)||""),O=ee),Y=s(O),!f(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(O instanceof Uint8Array||(O=I(O)),!(V=this["process"+Y.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=Y,V}})(Vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((a=u[f]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){a=u[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),w=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+m(b(a.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(b(w))+") >>",x.content=i;var k=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+k,a.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var S=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var B=this.annotations._nameMap[a.options.name];a.options.pageNumber=B.page,a.options.top=B.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var H=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+H+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(a),w:c(r+s),h:u(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(r,a,s,i),s+=.2*u,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-u,l,o,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var N=0,b=r,w="",k=0;for(N=0;N<x.length;N+=1)b[x.charCodeAt(N)]!==void 0?(k++,typeof(b=b[x.charCodeAt(N)])=="number"&&(w+=String.fromCharCode(b),b=r,k=0),N===x.length-1&&(b=r,w+=x.charAt(N-(k-1)),N-=k-1,k=0)):(b=r,w+=x.charAt(N-k),N-=k,k=0);return w};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&a[x.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(x,N,b){return o(x)?i(x)===!1?-1:!u(x)||!o(N)&&!o(b)||!o(b)&&l(N)||l(x)&&!o(N)||l(x)&&c(N)||l(x)&&l(N)?0:h(x)&&o(N)&&!l(N)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},m=function(x){var N=0,b=0,w=0,k="",S="",B="",H=(x=x||"").split("\\s+"),I=[];for(N=0;N<H.length;N+=1){for(I.push(""),b=0;b<H[N].length;b+=1)k=H[N][b],S=H[N][b-1],B=H[N][b+1],o(k)?(w=g(k,S,B),I[N]+=w!==-1?String.fromCharCode(t[k.charCodeAt(0)][w]):k):I[N]+=k;I[N]=f(I[N])}return I.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(N)){var w=0;for(b=[],w=0;w<N.length;w+=1)Array.isArray(N[w])?b.push([m(N[w][0]),N[w][1],N[w][2]]):b.push([m(N[w])]);x=b}else x=m(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])}(Vt.API),Vt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){a.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,x=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,S){return k.concat(N.splitTextToSize(S,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(x=this.getStringUnitWidth(c[w],{font:f})*h)&&(m=x);return m!==0&&(y=c.length),{w:m/=g,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,f,g){if(a.call(this),!h)throw new Error("No data for PDF table.");var m,y,x,N,b=[],w=[],k=[],S={},B={},H=[],I=[],D=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,O=g.margins||Object.assign({width:this.getPageWidth()},t),V=typeof g.padding=="number"?g.padding:3,Y=g.headerBackgroundColor||"#c8c8c8",ee=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=ee,this.setFontSize(G),f==null)w=b=Object.keys(h[0]),k=b.map(function(){return"left"});else if(Array.isArray(f)&&ta(f[0])==="object")for(b=f.map(function(Se){return Se.name}),w=f.map(function(Se){return Se.prompt||Se.name||""}),k=f.map(function(Se){return Se.align||"left"}),m=0;m<f.length;m+=1)B[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=b=f,k=b.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<b.length;m+=1){for(S[N=b[m]]=h.map(function(Se){return Se[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=S[N],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)H.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[N]=Math.max.apply(null,H)+V+V,H=[]}if(C){var he={};for(m=0;m<b.length;m+=1)he[b[m]]={},he[b[m]].text=w[m],he[b[m]].align=k[m];var de=l.call(this,he,B);I=b.map(function(Se){return new i(c,u,B[Se],de,he[Se].text,void 0,he[Se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var xe=f.reduce(function(Se,K){return Se[K.name]=K.align,Se},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var oe=l.call(this,h[m],B);for(x=0;x<b.length;x+=1){var fe=h[m][b[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:x,data:fe},this),o.call(this,new i(c,u,B[b[x]],oe,fe,m+2,xe[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/g+h+h},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var _7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ww=w7(N7),k7=[100,200,300,400,500,600,700,800,900],UW=w7(k7);function Bb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return _7[i=i||"normal"]?i:"normal"}(e.style),a=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof Ww[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function V3(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var VW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function H3(e){return e.trimLeft()}function qW(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function $W(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var yx,W3,G3,s0,vx,Y3,K3,Z3,zb=["times"];function X3(e,t,r,a,s){var i=4,o=Q3;switch(s){case Vt.API.image_compression.FAST:i=1,o=J3;break;case Vt.API.image_compression.MEDIUM:i=6,o=eS;break;case Vt.API.image_compression.SLOW:i=9,o=tS}e=function(c,u,h,f){for(var g,m=c.length/u,y=new Uint8Array(c.length+m),x=[HW,J3,Q3,eS,tS],N=0;N<m;N+=1){var b=N*u,w=c.subarray(b,b+u);if(f)y.set(f(w,h,g),b+N);else{for(var k=x.length,S=[],B=0;B<k;B+=1)S[B]=x[B](w,h,g);var H=GW(S.concat());y.set(S[H],b+N)}g=w}return y}(e,t,Math.ceil(r*a/8),o);var l=Bw(e,{level:i});return Vt.API.__addimage__.arrayBufferToBinaryString(l)}function HW(e){var t=Array.apply([],e);return t.unshift(0),t}function J3(e,t){var r=e.length,a=[];a[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function Q3(e,t,r){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function eS(e,t,r){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function tS(e,t,r){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=WW(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function WW(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=s&&a<=i?e:s<=i?t:r}function GW(e){var t=e.map(function(r){return r.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Ub(e,t,r){var a=t*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1;return j7(e,s)>>i&o}function rS(e,t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,c=(t&l)<<o;(function(u,h,f){if(h+1<u.byteLength)u.setUint16(h,f,!1);else{var g=f>>8&255;u.setUint8(h,g)}})(e,i,j7(e,i)&~(l<<o)&65535|c)}function j7(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function YW(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,h=[],f=0,g=null,m=0,y=null;for(this.width=r,this.height=a;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,g=e[t++],1&x||(g=null),m=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,S=e[t++],B=S>>6&1,H=1<<1+(7&S),I=l,D=c,C=!1;S>>7&&(C=!0,I=t,D=H,t+=3*H);var G=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}h.push({x:N,y:b,width:w,height:k,has_local_palette:C,palette_offset:I,palette_size:D,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!B,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(V){if(V<0||V>=h.length)throw new Error("Frame index out of range.");return h[V]},this.decodeAndBlitFrameBGRA=function(V,Y){var ee=this.frameInfo(V),he=ee.width*ee.height,de=new Uint8Array(he);aS(e,ee.data_offset,de,he);var xe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var fe=ee.width,Se=r-fe,K=fe,A=4*(ee.y*r+ee.x),q=4*((ee.y+ee.height)*r+ee.x),F=A,R=4*Se;ee.interlaced===!0&&(R+=4*r*7);for(var W=8,Z=0,ie=de.length;Z<ie;++Z){var re=de[Z];if(K===0&&(K=fe,(F+=R)>=q&&(R=4*Se+4*r*(W-1),F=A+(fe+Se)*(W<<1),W>>=1)),re===oe)F+=4;else{var X=e[xe+3*re],ke=e[xe+3*re+1],Pe=e[xe+3*re+2];Y[F++]=Pe,Y[F++]=ke,Y[F++]=X,Y[F++]=255}--K}},this.decodeAndBlitFrameRGBA=function(V,Y){var ee=this.frameInfo(V),he=ee.width*ee.height,de=new Uint8Array(he);aS(e,ee.data_offset,de,he);var xe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var fe=ee.width,Se=r-fe,K=fe,A=4*(ee.y*r+ee.x),q=4*((ee.y+ee.height)*r+ee.x),F=A,R=4*Se;ee.interlaced===!0&&(R+=4*r*7);for(var W=8,Z=0,ie=de.length;Z<ie;++Z){var re=de[Z];if(K===0&&(K=fe,(F+=R)>=q&&(R=4*Se+4*r*(W-1),F=A+(fe+Se)*(W<<1),W>>=1)),re===oe)F+=4;else{var X=e[xe+3*re],ke=e[xe+3*re+1],Pe=e[xe+3*re+2];Y[F++]=X,Y[F++]=ke,Y[F++]=Pe,Y[F++]=255}--K}}}function aS(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,h=0,f=0,g=0,m=e[t++],y=new Int32Array(4096),x=null;;){for(;h<16&&m!==0;)f|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<c)break;var N=f&u;if(f>>=c,h-=c,N!==i){if(N===o)break;for(var b=N<l?N:x,w=0,k=b;k>i;)k=y[k]>>8,++w;var S=k;if(g+w+(b!==N?1:0)>a)return void ha.log("Warning, gif stream longer than expected.");r[g++]=S;var B=g+=w;for(b!==N&&(r[g++]=S),k=b;w--;)k=y[k],r[--B]=255&k,k>>=8;x!==null&&l<4096&&(y[l++]=x<<8|S,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=N}else l=o+1,u=(1<<(c=s+1))-1,x=null}return g!==a&&ha.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Vb(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),x=[],N=0,b=7,w=new Array(64),k=new Array(64),S=new Array(64),B=new Array(256),H=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(A,q){for(var F=0,R=0,W=new Array,Z=1;Z<=16;Z++){for(var ie=1;ie<=A[Z];ie++)W[q[R]]=[],W[q[R]][0]=F,W[q[R]][1]=Z,R++,F++;F*=2}return W}function xe(A){for(var q=A[0],F=A[1]-1;F>=0;)q&1<<F&&(N|=1<<b),F--,--b<0&&(N==255?(oe(255),oe(0)):oe(N),b=7,N=0)}function oe(A){x.push(A)}function fe(A){oe(A>>8&255),oe(255&A)}function Se(A,q,F,R,W){for(var Z,ie=W[0],re=W[240],X=function(ae,Oe){var Ge,at,yt,wt,ot,jt,Et,Te,it,gt,_t=0;for(it=0;it<8;++it){Ge=ae[_t],at=ae[_t+1],yt=ae[_t+2],wt=ae[_t+3],ot=ae[_t+4],jt=ae[_t+5],Et=ae[_t+6];var br=Ge+(Te=ae[_t+7]),Qt=Ge-Te,nt=at+Et,Wt=at-Et,kr=yt+jt,Ct=yt-jt,wr=wt+ot,Bt=wt-ot,$t=br+wr,Er=br-wr,Jt=nt+kr,Ot=nt-kr;ae[_t]=$t+Jt,ae[_t+4]=$t-Jt;var gr=.707106781*(Ot+Er);ae[_t+2]=Er+gr,ae[_t+6]=Er-gr;var Js=.382683433*(($t=Bt+Ct)-(Ot=Wt+Qt)),dn=.5411961*$t+Js,Ti=1.306562965*Ot+Js,Qs=.707106781*(Jt=Ct+Wt),qt=Qt+Qs,Ci=Qt-Qs;ae[_t+5]=Ci+dn,ae[_t+3]=Ci-dn,ae[_t+1]=qt+Ti,ae[_t+7]=qt-Ti,_t+=8}for(_t=0,it=0;it<8;++it){Ge=ae[_t],at=ae[_t+8],yt=ae[_t+16],wt=ae[_t+24],ot=ae[_t+32],jt=ae[_t+40],Et=ae[_t+48];var Li=Ge+(Te=ae[_t+56]),Dn=Ge-Te,ms=at+Et,Tr=at-Et,St=yt+jt,te=yt-jt,be=wt+ot,me=wt-ot,pe=Li+be,ve=Li-be,Ne=ms+St,Ie=ms-St;ae[_t]=pe+Ne,ae[_t+32]=pe-Ne;var We=.707106781*(Ie+ve);ae[_t+16]=ve+We,ae[_t+48]=ve-We;var ze=.382683433*((pe=me+te)-(Ie=Tr+Dn)),Ue=.5411961*pe+ze,$e=1.306562965*Ie+ze,ht=.707106781*(Ne=te+Tr),pt=Dn+ht,At=Dn-ht;ae[_t+40]=At+Ue,ae[_t+24]=At-Ue,ae[_t+8]=pt+$e,ae[_t+56]=pt-$e,_t++}for(it=0;it<64;++it)gt=ae[it]*Oe[it],m[it]=gt>0?gt+.5|0:gt-.5|0;return m}(A,q),ke=0;ke<64;++ke)y[I[ke]]=X[ke];var Pe=y[0]-F;F=y[0],Pe==0?xe(R[0]):(xe(R[g[Z=32767+Pe]]),xe(f[Z]));for(var De=63;De>0&&y[De]==0;)De--;if(De==0)return xe(ie),F;for(var Ye,ce=1;ce<=De;){for(var Ae=ce;y[ce]==0&&ce<=De;)++ce;var je=ce-Ae;if(je>=16){Ye=je>>4;for(var et=1;et<=Ye;++et)xe(re);je&=15}Z=32767+y[ce],xe(W[(je<<4)+g[Z]]),xe(f[Z]),ce++}return De!=63&&xe(ie),F}function K(A){A=Math.min(Math.max(A,1),100),i!=A&&(function(q){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],R=0;R<64;R++){var W=o((F[R]*q+50)/100);W=Math.min(Math.max(W,1),255),l[I[R]]=W}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var re=o((Z[ie]*q+50)/100);re=Math.min(Math.max(re,1),255),c[I[ie]]=re}for(var X=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Pe=0;Pe<8;Pe++)for(var De=0;De<8;De++)u[ke]=1/(l[I[ke]]*X[Pe]*X[De]*8),h[ke]=1/(c[I[ke]]*X[Pe]*X[De]*8),ke++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),i=A)}this.encode=function(A,q){q&&K(q),x=new Array,N=0,b=7,fe(65496),fe(65504),fe(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),fe(1),fe(1),oe(0),oe(0),function(){fe(65499),fe(132),oe(0);for(var at=0;at<64;at++)oe(l[at]);oe(1);for(var yt=0;yt<64;yt++)oe(c[yt])}(),function(at,yt){fe(65472),fe(17),oe(8),fe(yt),fe(at),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(A.width,A.height),function(){fe(65476),fe(418),oe(0);for(var at=0;at<16;at++)oe(D[at+1]);for(var yt=0;yt<=11;yt++)oe(C[yt]);oe(16);for(var wt=0;wt<16;wt++)oe(G[wt+1]);for(var ot=0;ot<=161;ot++)oe(O[ot]);oe(1);for(var jt=0;jt<16;jt++)oe(V[jt+1]);for(var Et=0;Et<=11;Et++)oe(Y[Et]);oe(17);for(var Te=0;Te<16;Te++)oe(ee[Te+1]);for(var it=0;it<=161;it++)oe(he[it])}(),fe(65498),fe(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var F=0,R=0,W=0;N=0,b=7,this.encode.displayName="_encode_";for(var Z,ie,re,X,ke,Pe,De,Ye,ce,Ae=A.data,je=A.width,et=A.height,ae=4*je,Oe=0;Oe<et;){for(Z=0;Z<ae;){for(ke=ae*Oe+Z,De=-1,Ye=0,ce=0;ce<64;ce++)Pe=ke+(Ye=ce>>3)*ae+(De=4*(7&ce)),Oe+Ye>=et&&(Pe-=ae*(Oe+1+Ye-et)),Z+De>=ae&&(Pe-=Z+De-ae+4),ie=Ae[Pe++],re=Ae[Pe++],X=Ae[Pe++],w[ce]=(H[ie]+H[re+256|0]+H[X+512|0]>>16)-128,k[ce]=(H[ie+768|0]+H[re+1024|0]+H[X+1280|0]>>16)-128,S[ce]=(H[ie+1280|0]+H[re+1536|0]+H[X+1792|0]>>16)-128;F=Se(w,u,F,t,a),R=Se(k,h,R,r,s),W=Se(S,h,W,r,s),Z+=32}Oe+=8}if(b>=0){var Ge=[];Ge[1]=b+1,Ge[0]=(1<<b+1)-1,xe(Ge)}return fe(65497),new Uint8Array(x)},e=e||50,function(){for(var A=String.fromCharCode,q=0;q<256;q++)B[q]=A(q)}(),t=de(D,C),r=de(V,Y),a=de(G,O),s=de(ee,he),function(){for(var A=1,q=2,F=1;F<=15;F++){for(var R=A;R<q;R++)g[32767+R]=F,f[32767+R]=[],f[32767+R][1]=F,f[32767+R][0]=R;for(var W=-(q-1);W<=-A;W++)g[32767+W]=F,f[32767+W]=[],f[32767+W][1]=F,f[32767+W][0]=q-1+W;A<<=1,q<<=1}}(),function(){for(var A=0;A<256;A++)H[A]=19595*A,H[A+256|0]=38470*A,H[A+512|0]=7471*A+32768,H[A+768|0]=-11059*A,H[A+1024|0]=-21709*A,H[A+1280|0]=32768*A+8421375,H[A+1536|0]=-27439*A,H[A+1792|0]=-5329*A}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nS(e){function t(C){if(!C)throw Error("assert :P")}function r(C,G,O){for(var V=0;4>V;V++)if(C[G+V]!=O.charCodeAt(V))return!0;return!1}function a(C,G,O,V,Y){for(var ee=0;ee<Y;ee++)C[G+ee]=O[V+ee]}function s(C,G,O,V){for(var Y=0;Y<V;Y++)C[G+Y]=O}function i(C){return new Int32Array(C)}function o(C,G){for(var O=[],V=0;V<C;V++)O.push(new G);return O}function l(C,G){var O=[];return function V(Y,ee,he){for(var de=he[ee],xe=0;xe<de&&(Y.push(he.length>ee+1?[]:new G),!(he.length<ee+1));xe++)V(Y[xe],ee+1,he)}(O,0,C),O}var c=function(){var C=this;function G(v,j){for(var M=1<<j-1>>>0;v&M;)M>>>=1;return M?(v&M-1)+M:v}function O(v,j,M,z,Q){t(!(z%M));do v[j+(z-=M)]=Q;while(0<z)}function V(v,j,M,z,Q){if(t(2328>=Q),512>=Q)var ne=i(512);else if((ne=i(Q))==null)return 0;return function(le,ue,ge,we,Le,qe){var _e,Me,Fe=ue,Qe=1<<ge,Ve=i(16),tt=i(16);for(t(Le!=0),t(we!=null),t(le!=null),t(0<ge),Me=0;Me<Le;++Me){if(15<we[Me])return 0;++Ve[we[Me]]}if(Ve[0]==Le)return 0;for(tt[1]=0,_e=1;15>_e;++_e){if(Ve[_e]>1<<_e)return 0;tt[_e+1]=tt[_e]+Ve[_e]}for(Me=0;Me<Le;++Me)_e=we[Me],0<we[Me]&&(qe[tt[_e]++]=Me);if(tt[15]==1)return(we=new Y).g=0,we.value=qe[0],O(le,Fe,1,Qe,we),Qe;var rt,ft=-1,ut=Qe-1,zt=0,Mt=1,dr=1,It=1<<ge;for(Me=0,_e=1,Le=2;_e<=ge;++_e,Le<<=1){if(Mt+=dr<<=1,0>(dr-=Ve[_e]))return 0;for(;0<Ve[_e];--Ve[_e])(we=new Y).g=_e,we.value=qe[Me++],O(le,Fe+zt,Le,It,we),zt=G(zt,_e)}for(_e=ge+1,Le=2;15>=_e;++_e,Le<<=1){if(Mt+=dr<<=1,0>(dr-=Ve[_e]))return 0;for(;0<Ve[_e];--Ve[_e]){if(we=new Y,(zt&ut)!=ft){for(Fe+=It,rt=1<<(ft=_e)-ge;15>ft&&!(0>=(rt-=Ve[ft]));)++ft,rt<<=1;Qe+=It=1<<(rt=ft-ge),le[ue+(ft=zt&ut)].g=rt+ge,le[ue+ft].value=Fe-ue-ft}we.g=_e-ge,we.value=qe[Me++],O(le,Fe+(zt>>ge),Le,It,we),zt=G(zt,_e)}}return Mt!=2*tt[15]-1?0:Qe}(v,j,M,z,Q,ne)}function Y(){this.value=this.g=0}function ee(){this.value=this.g=0}function he(){this.G=o(5,Y),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xo,ee)}function de(v,j,M,z){t(v!=null),t(j!=null),t(2147483648>z),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=j,v.pa=M,v.Jd=j,v.Yc=M+z,v.Zc=4<=z?M+z-4+1:M,ie(v)}function xe(v,j){for(var M=0;0<j--;)M|=X(v,128)<<j;return M}function oe(v,j){var M=xe(v,j);return re(v)?-M:M}function fe(v,j,M,z){var Q,ne=0;for(t(v!=null),t(j!=null),t(4294967288>z),v.Sb=z,v.Ra=0,v.u=0,v.h=0,4<z&&(z=4),Q=0;Q<z;++Q)ne+=j[M+Q]<<8*Q;v.Ra=ne,v.bb=z,v.oa=j,v.pa=M}function Se(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Di-8>>>0,++v.bb,v.u-=8;R(v)&&(v.h=1,v.u=0)}function K(v,j){if(t(0<=j),!v.h&&j<=Va){var M=F(v)&Rs[j];return v.u+=j,Se(v),M}return v.h=1,v.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(v){return v.Ra>>>(v.u&Di-1)>>>0}function R(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Di}function W(v,j){v.u=j,v.h=R(v)}function Z(v){v.u>=il&&(t(v.u>=il),Se(v))}function ie(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function re(v){return xe(v,1)}function X(v,j){var M=v.Ca;0>v.b&&ie(v);var z=v.b,Q=M*j>>>8,ne=(v.I>>>z>Q)+0;for(ne?(M-=Q,v.I-=Q+1<<z>>>0):M=Q+1,z=M,Q=0;256<=z;)Q+=8,z>>=8;return z=7^Q+yo[z],v.b-=z,v.Ca=(M<<z)-1,ne}function ke(v,j,M){v[j+0]=M>>24&255,v[j+1]=M>>16&255,v[j+2]=M>>8&255,v[j+3]=255&M}function Pe(v,j){return v[j+0]|v[j+1]<<8}function De(v,j){return Pe(v,j)|v[j+2]<<16}function Ye(v,j){return Pe(v,j)|Pe(v,j+2)<<16}function ce(v,j){var M=1<<j;return t(v!=null),t(0<j),v.X=i(M),v.X==null?0:(v.Mb=32-j,v.Xa=j,1)}function Ae(v,j){t(v!=null),t(j!=null),t(v.Xa==j.Xa),a(j.X,0,v.X,0,1<<j.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function et(v,j,M,z){t(M!=null),t(z!=null);var Q=M[0],ne=z[0];return Q==0&&(Q=(v*ne+j/2)/j),ne==0&&(ne=(j*Q+v/2)/v),0>=Q||0>=ne?0:(M[0]=Q,z[0]=ne,1)}function ae(v,j){return v+(1<<j)-1>>>j}function Oe(v,j){return((4278255360&v)+(4278255360&j)>>>0&4278255360)+((16711935&v)+(16711935&j)>>>0&16711935)>>>0}function Ge(v,j){C[j]=function(M,z,Q,ne,le,ue,ge){var we;for(we=0;we<le;++we){var Le=C[v](ue[ge+we-1],Q,ne+we);ue[ge+we]=Oe(M[z+we],Le)}}}function at(){this.ud=this.hd=this.jd=0}function yt(v,j){return((4278124286&(v^j))>>>1)+(v&j)>>>0}function wt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function ot(v,j){return wt(v+(v-j+.5>>1))}function jt(v,j,M){return Math.abs(j-M)-Math.abs(v-M)}function Et(v,j,M,z,Q,ne,le){for(z=ne[le-1],M=0;M<Q;++M)ne[le+M]=z=Oe(v[j+M],z)}function Te(v,j,M,z,Q){var ne;for(ne=0;ne<M;++ne){var le=v[j+ne],ue=le>>8&255,ge=16711935&(ge=(ge=16711935&le)+((ue<<16)+ue));z[Q+ne]=(4278255360&le)+ge>>>0}}function it(v,j){j.jd=255&v,j.hd=v>>8&255,j.ud=v>>16&255}function gt(v,j,M,z,Q,ne){var le;for(le=0;le<z;++le){var ue=j[M+le],ge=ue>>>8,we=ue,Le=255&(Le=(Le=ue>>>16)+((v.jd<<24>>24)*(ge<<24>>24)>>>5));we=255&(we=(we+=(v.hd<<24>>24)*(ge<<24>>24)>>>5)+((v.ud<<24>>24)*(Le<<24>>24)>>>5)),Q[ne+le]=(4278255360&ue)+(Le<<16)+we}}function _t(v,j,M,z,Q){C[j]=function(ne,le,ue,ge,we,Le,qe,_e,Me){for(ge=qe;ge<_e;++ge)for(qe=0;qe<Me;++qe)we[Le++]=Q(ue[z(ne[le++])])},C[v]=function(ne,le,ue,ge,we,Le,qe){var _e=8>>ne.b,Me=ne.Ea,Fe=ne.K[0],Qe=ne.w;if(8>_e)for(ne=(1<<ne.b)-1,Qe=(1<<_e)-1;le<ue;++le){var Ve,tt=0;for(Ve=0;Ve<Me;++Ve)Ve&ne||(tt=z(ge[we++])),Le[qe++]=Q(Fe[tt&Qe]),tt>>=_e}else C["VP8LMapColor"+M](ge,we,Fe,Qe,Le,qe,le,ue,Me)}}function br(v,j,M,z,Q){for(M=j+M;j<M;){var ne=v[j++];z[Q++]=ne>>16&255,z[Q++]=ne>>8&255,z[Q++]=255&ne}}function Qt(v,j,M,z,Q){for(M=j+M;j<M;){var ne=v[j++];z[Q++]=ne>>16&255,z[Q++]=ne>>8&255,z[Q++]=255&ne,z[Q++]=ne>>24&255}}function nt(v,j,M,z,Q){for(M=j+M;j<M;){var ne=(le=v[j++])>>16&240|le>>12&15,le=240&le|le>>28&15;z[Q++]=ne,z[Q++]=le}}function Wt(v,j,M,z,Q){for(M=j+M;j<M;){var ne=(le=v[j++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;z[Q++]=ne,z[Q++]=le}}function kr(v,j,M,z,Q){for(M=j+M;j<M;){var ne=v[j++];z[Q++]=255&ne,z[Q++]=ne>>8&255,z[Q++]=ne>>16&255}}function Ct(v,j,M,z,Q,ne){if(ne==0)for(M=j+M;j<M;)ke(z,((ne=v[j++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Q+=32;else a(z,Q,v,j,M)}function wr(v,j){C[j][0]=C[v+"0"],C[j][1]=C[v+"1"],C[j][2]=C[v+"2"],C[j][3]=C[v+"3"],C[j][4]=C[v+"4"],C[j][5]=C[v+"5"],C[j][6]=C[v+"6"],C[j][7]=C[v+"7"],C[j][8]=C[v+"8"],C[j][9]=C[v+"9"],C[j][10]=C[v+"10"],C[j][11]=C[v+"11"],C[j][12]=C[v+"12"],C[j][13]=C[v+"13"],C[j][14]=C[v+"0"],C[j][15]=C[v+"0"]}function Bt(v){return v==$h||v==Hh||v==Wh||v==d}function $t(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $t,this.f.kb=new Er,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Js(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function dn(v,j){var M=v.T,z=j.ba.f.RGBA,Q=z.eb,ne=z.fb+v.ka*z.A,le=Kn[j.ba.S],ue=v.y,ge=v.O,we=v.f,Le=v.N,qe=v.ea,_e=v.W,Me=j.cc,Fe=j.dc,Qe=j.Mc,Ve=j.Nc,tt=v.ka,rt=v.ka+v.T,ft=v.U,ut=ft+1>>1;for(tt==0?le(ue,ge,null,null,we,Le,qe,_e,we,Le,qe,_e,Q,ne,null,null,ft):(le(j.ec,j.fc,ue,ge,Me,Fe,Qe,Ve,we,Le,qe,_e,Q,ne-z.A,Q,ne,ft),++M);tt+2<rt;tt+=2)Me=we,Fe=Le,Qe=qe,Ve=_e,Le+=v.Rc,_e+=v.Rc,ne+=2*z.A,le(ue,(ge+=2*v.fa)-v.fa,ue,ge,Me,Fe,Qe,Ve,we,Le,qe,_e,Q,ne-z.A,Q,ne,ft);return ge+=v.fa,v.j+rt<v.o?(a(j.ec,j.fc,ue,ge,ft),a(j.cc,j.dc,we,Le,ut),a(j.Mc,j.Nc,qe,_e,ut),M--):1&rt||le(ue,ge,null,null,we,Le,qe,_e,we,Le,qe,_e,Q,ne+z.A,null,null,ft),M}function Ti(v,j,M){var z=v.F,Q=[v.J];if(z!=null){var ne=v.U,le=j.ba.S,ue=le==Ou||le==Wh;j=j.ba.f.RGBA;var ge=[0],we=v.ka;ge[0]=v.T,v.Kb&&(we==0?--ge[0]:(--we,Q[0]-=v.width),v.j+v.ka+v.T==v.o&&(ge[0]=v.o-v.j-we));var Le=j.eb;we=j.fb+we*j.A,v=Qf(z,Q[0],v.width,ne,ge,Le,we+(ue?0:3),j.A),t(M==ge),v&&Bt(le)&&No(Le,we,ue,ne,ge,j.A)}return 0}function Qs(v){var j=v.ma,M=j.ba.S,z=11>M,Q=M==Mu||M==Ru||M==Ou||M==qh||M==12||Bt(M);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Cu(j.Oa,v,Q?11:12))return 0;if(Q&&Bt(M)&&rl(),v.da)alert("todo:use_scaling");else{if(z){if(j.Ib=Js,v.Kb){if(M=v.U+1>>1,j.memory=i(v.U+2*M),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+v.U,j.Mc=j.cc,j.Nc=j.dc+M,j.Ib=dn,rl()}}else alert("todo:EmitYUV");Q&&(j.Jb=Ti,z&&Sn())}if(z&&!cN){for(v=0;256>v;++v)oM[v]=89858*(v-128)+Rp>>Mp,dM[v]=-22014*(v-128)+Rp,cM[v]=-45773*(v-128),lM[v]=113618*(v-128)+Rp>>Mp;for(v=sm;v<yv;++v)j=76283*(v-16)+Rp>>Mp,uM[v-sm]=Gt(j,255),hM[v-sm]=Gt(j+8>>4,15);cN=1}return 1}function qt(v){var j=v.ma,M=v.U,z=v.T;return t(!(1&v.ka)),0>=M||0>=z?0:(M=j.Ib(v,j),j.Jb!=null&&j.Jb(v,j,M),j.Dc+=M,1)}function Ci(v){v.ma.memory=null}function Li(v,j,M,z){return K(v,8)!=47?0:(j[0]=K(v,14)+1,M[0]=K(v,14)+1,z[0]=K(v,1),K(v,3)!=0?0:!v.h)}function Dn(v,j){if(4>v)return v+1;var M=v-2>>1;return(2+(1&v)<<M)+K(j,M)+1}function ms(v,j){return 120<j?j-120:1<=(M=((M=Ee[j-1])>>4)*v+(8-(15&M)))?M:1;var M}function Tr(v,j,M){var z=F(M),Q=v[j+=255&z].g-8;return 0<Q&&(W(M,M.u+8),z=F(M),j+=v[j].value,j+=z&(1<<Q)-1),W(M,M.u+v[j].g),v[j].value}function St(v,j,M){return M.g+=v.g,M.value+=v.value<<j>>>0,t(8>=M.g),v.g}function te(v,j,M){var z=v.xc;return t((j=z==0?0:v.vc[v.md*(M>>z)+(j>>z)])<v.Wb),v.Ya[j]}function be(v,j,M,z){var Q=v.ab,ne=v.c*j,le=v.C;j=le+j;var ue=M,ge=z;for(z=v.Ta,M=v.Ua;0<Q--;){var we=v.gc[Q],Le=le,qe=j,_e=ue,Me=ge,Fe=(ge=z,ue=M,we.Ea);switch(t(Le<qe),t(qe<=we.nc),we.hc){case 2:Oa(_e,Me,(qe-Le)*Fe,ge,ue);break;case 0:var Qe=Le,Ve=qe,tt=ge,rt=ue,ft=(It=we).Ea;Qe==0&&(Lu(_e,Me,null,null,1,tt,rt),Et(_e,Me+1,0,0,ft-1,tt,rt+1),Me+=ft,rt+=ft,++Qe);for(var ut=1<<It.b,zt=ut-1,Mt=ae(ft,It.b),dr=It.K,It=It.w+(Qe>>It.b)*Mt;Qe<Ve;){var Cr=dr,En=It,ur=1;for(xs(_e,Me,tt,rt-ft,1,tt,rt);ur<ft;){var Ft=(ur&~zt)+ut;Ft>ft&&(Ft=ft),(0,xd[Cr[En++]>>8&15])(_e,Me+ +ur,tt,rt+ur-ft,Ft-ur,tt,rt+ur),ur=Ft}Me+=ft,rt+=ft,++Qe&zt||(It+=Mt)}qe!=we.nc&&a(ge,ue-Fe,ge,ue+(qe-Le-1)*Fe,Fe);break;case 1:for(Fe=_e,Ve=Me,ft=(_e=we.Ea)-(rt=_e&~(tt=(Me=1<<we.b)-1)),Qe=ae(_e,we.b),ut=we.K,we=we.w+(Le>>we.b)*Qe;Le<qe;){for(zt=ut,Mt=we,dr=new at,It=Ve+rt,Cr=Ve+_e;Ve<It;)it(zt[Mt++],dr),_c(dr,Fe,Ve,Me,ge,ue),Ve+=Me,ue+=Me;Ve<Cr&&(it(zt[Mt++],dr),_c(dr,Fe,Ve,ft,ge,ue),Ve+=ft,ue+=ft),++Le&tt||(we+=Qe)}break;case 3:if(_e==ge&&Me==ue&&0<we.b){for(Ve=ge,_e=Fe=ue+(qe-Le)*Fe-(rt=(qe-Le)*ae(we.Ea,we.b)),Me=ge,tt=ue,Qe=[],rt=(ft=rt)-1;0<=rt;--rt)Qe[rt]=Me[tt+rt];for(rt=ft-1;0<=rt;--rt)Ve[_e+rt]=Qe[rt];ol(we,Le,qe,ge,Fe,ge,ue)}else ol(we,Le,qe,_e,Me,ge,ue)}ue=z,ge=M}ge!=M&&a(z,M,ue,ge,ne)}function me(v,j){var M=v.V,z=v.Ba+v.c*v.C,Q=j-v.C;if(t(j<=v.l.o),t(16>=Q),0<Q){var ne=v.l,le=v.Ta,ue=v.Ua,ge=ne.width;if(be(v,Q,M,z),Q=ue=[ue],t((M=v.C)<(z=j)),t(ne.v<ne.va),z>ne.o&&(z=ne.o),M<ne.j){var we=ne.j-M;M=ne.j,Q[0]+=we*ge}if(M>=z?M=0:(Q[0]+=4*ne.v,ne.ka=M-ne.j,ne.U=ne.va-ne.v,ne.T=z-M,M=1),M){if(ue=ue[0],11>(M=v.ca).S){var Le=M.f.RGBA,qe=(z=M.S,Q=ne.U,ne=ne.T,we=Le.eb,Le.A),_e=ne;for(Le=Le.fb+v.Ma*Le.A;0<_e--;){var Me=le,Fe=ue,Qe=Q,Ve=we,tt=Le;switch(z){case Vh:Hl(Me,Fe,Qe,Ve,tt);break;case Mu:bo(Me,Fe,Qe,Ve,tt);break;case $h:bo(Me,Fe,Qe,Ve,tt),No(Ve,tt,0,Qe,1,0);break;case rm:wo(Me,Fe,Qe,Ve,tt);break;case Ru:Ct(Me,Fe,Qe,Ve,tt,1);break;case Hh:Ct(Me,Fe,Qe,Ve,tt,1),No(Ve,tt,0,Qe,1,0);break;case Ou:Ct(Me,Fe,Qe,Ve,tt,0);break;case Wh:Ct(Me,Fe,Qe,Ve,tt,0),No(Ve,tt,1,Qe,1,0);break;case qh:Ii(Me,Fe,Qe,Ve,tt);break;case d:Ii(Me,Fe,Qe,Ve,tt),Jf(Ve,tt,Qe,1,0);break;case Cp:Os(Me,Fe,Qe,Ve,tt);break;default:t(0)}ue+=ge,Le+=qe}v.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=M.height)}}v.C=j,t(v.C<=v.i)}function pe(v){var j;if(0<v.ua)return 0;for(j=0;j<v.Wb;++j){var M=v.Ya[j].G,z=v.Ya[j].H;if(0<M[1][z[1]+0].g||0<M[2][z[2]+0].g||0<M[3][z[3]+0].g)return 0}return 1}function ve(v,j,M,z,Q,ne){if(v.Z!=0){var le=v.qd,ue=v.rd;for(t(Yr[v.Z]!=null);j<M;++j)Yr[v.Z](le,ue,z,Q,z,Q,ne),le=z,ue=Q,Q+=ne;v.qd=le,v.rd=ue}}function Ne(v,j){var M=v.l.ma,z=M.Z==0||M.Z==1?v.l.j:v.C;if(z=v.C<z?z:v.C,t(j<=v.l.o),j>z){var Q=v.l.width,ne=M.ca,le=M.tb+Q*z,ue=v.V,ge=v.Ba+v.c*z,we=v.gc;t(v.ab==1),t(we[0].hc==3),hn(we[0],z,j,ue,ge,ne,le),ve(M,z,j,ne,le,Q)}v.C=v.Ma=j}function Ie(v,j,M,z,Q,ne,le){var ue=v.$/z,ge=v.$%z,we=v.m,Le=v.s,qe=M+v.$,_e=qe;Q=M+z*Q;var Me=M+z*ne,Fe=280+Le.ua,Qe=v.Pb?ue:16777216,Ve=0<Le.ua?Le.Wa:null,tt=Le.wc,rt=qe<Me?te(Le,ge,ue):null;t(v.C<ne),t(Me<=Q);var ft=!1;e:for(;;){for(;ft||qe<Me;){var ut=0;if(ue>=Qe){var zt=qe-M;t((Qe=v).Pb),Qe.wd=Qe.m,Qe.xd=zt,0<Qe.s.ua&&Ae(Qe.s.Wa,Qe.s.vb),Qe=ue+He}if(ge&tt||(rt=te(Le,ge,ue)),t(rt!=null),rt.Qb&&(j[qe]=rt.qb,ft=!0),!ft)if(Z(we),rt.jc){ut=we,zt=j;var Mt=qe,dr=rt.pd[F(ut)&xo-1];t(rt.jc),256>dr.g?(W(ut,ut.u+dr.g),zt[Mt]=dr.value,ut=0):(W(ut,ut.u+dr.g-256),t(256<=dr.value),ut=dr.value),ut==0&&(ft=!0)}else ut=Tr(rt.G[0],rt.H[0],we);if(we.h)break;if(ft||256>ut){if(!ft)if(rt.nd)j[qe]=(rt.qb|ut<<8)>>>0;else{if(Z(we),ft=Tr(rt.G[1],rt.H[1],we),Z(we),zt=Tr(rt.G[2],rt.H[2],we),Mt=Tr(rt.G[3],rt.H[3],we),we.h)break;j[qe]=(Mt<<24|ft<<16|ut<<8|zt)>>>0}if(ft=!1,++qe,++ge>=z&&(ge=0,++ue,le!=null&&ue<=ne&&!(ue%16)&&le(v,ue),Ve!=null))for(;_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut}else if(280>ut){if(ut=Dn(ut-256,we),zt=Tr(rt.G[4],rt.H[4],we),Z(we),zt=ms(z,zt=Dn(zt,we)),we.h)break;if(qe-M<zt||Q-qe<ut)break e;for(Mt=0;Mt<ut;++Mt)j[qe+Mt]=j[qe+Mt-zt];for(qe+=ut,ge+=ut;ge>=z;)ge-=z,++ue,le!=null&&ue<=ne&&!(ue%16)&&le(v,ue);if(t(qe<=Q),ge&tt&&(rt=te(Le,ge,ue)),Ve!=null)for(;_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut}else{if(!(ut<Fe))break e;for(ft=ut-280,t(Ve!=null);_e<qe;)ut=j[_e++],Ve.X[(506832829*ut&4294967295)>>>Ve.Mb]=ut;ut=qe,t(!(ft>>>(zt=Ve).Xa)),j[ut]=zt.X[ft],ft=!0}ft||t(we.h==R(we))}if(v.Pb&&we.h&&qe<Q)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ae(v.s.vb,v.s.Wa);else{if(we.h)break e;le!=null&&le(v,ue>ne?ne:ue),v.a=0,v.$=qe-M}return 1}return v.a=3,0}function We(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var j=v.Wa;j!=null&&(j.X=null),v.vb=null,t(v!=null)}function ze(){var v=new er;return v==null?null:(v.a=0,v.xb=am,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),Oa=Te,_c=gt,Hl=br,bo=Qt,Ii=nt,Os=Wt,wo=kr,C.VP8LMapColor32b=vo,C.VP8LMapColor8b=$l,v)}function Ue(v,j,M,z,Q){var ne=1,le=[v],ue=[j],ge=z.m,we=z.s,Le=null,qe=0;e:for(;;){if(M)for(;ne&&K(ge,1);){var _e=le,Me=ue,Fe=z,Qe=1,Ve=Fe.m,tt=Fe.gc[Fe.ab],rt=K(Ve,2);if(Fe.Oc&1<<rt)ne=0;else{switch(Fe.Oc|=1<<rt,tt.hc=rt,tt.Ea=_e[0],tt.nc=Me[0],tt.K=[null],++Fe.ab,t(4>=Fe.ab),rt){case 0:case 1:tt.b=K(Ve,3)+2,Qe=Ue(ae(tt.Ea,tt.b),ae(tt.nc,tt.b),0,Fe,tt.K),tt.K=tt.K[0];break;case 3:var ft,ut=K(Ve,8)+1,zt=16<ut?0:4<ut?1:2<ut?2:3;if(_e[0]=ae(tt.Ea,zt),tt.b=zt,ft=Qe=Ue(ut,1,0,Fe,tt.K)){var Mt,dr=ut,It=tt,Cr=1<<(8>>It.b),En=i(Cr);if(En==null)ft=0;else{var ur=It.K[0],Ft=It.w;for(En[0]=It.K[0][0],Mt=1;Mt<1*dr;++Mt)En[Mt]=Oe(ur[Ft+Mt],En[Mt-1]);for(;Mt<4*Cr;++Mt)En[Mt]=0;It.K[0]=null,It.K[0]=En,ft=1}}Qe=ft;break;case 2:break;default:t(0)}ne=Qe}}if(le=le[0],ue=ue[0],ne&&K(ge,1)&&!(ne=1<=(qe=K(ge,4))&&11>=qe)){z.a=3;break e}var kt;if(kt=ne)t:{var rn,ir,Mr,_a=z,Zn=le,Fs=ue,$a=qe,ws=M,Bs=_a.m,Tn=_a.s,Rr=[null],Kr=1,Ha=0,Zr=Be[$a];r:for(;;){if(ws&&K(Bs,1)){var Xn=K(Bs,3)+2,dl=ae(Zn,Xn),an=ae(Fs,Xn),di=dl*an;if(!Ue(dl,an,0,_a,Rr))break r;for(Rr=Rr[0],Tn.xc=Xn,rn=0;rn<di;++rn){var ua=Rr[rn]>>8&65535;Rr[rn]=ua,ua>=Kr&&(Kr=ua+1)}}if(Bs.h)break r;for(ir=0;5>ir;++ir){var Cn=T[ir];!ir&&0<$a&&(Cn+=1<<$a),Ha<Cn&&(Ha=Cn)}var Bi=o(Kr*Zr,Y),zs=Kr,zi=o(zs,he);if(zi==null)var Ui=null;else t(65536>=zs),Ui=zi;var ui=i(Ha);if(Ui==null||ui==null||Bi==null){_a.a=1;break r}var Vi=Bi;for(rn=Mr=0;rn<Kr;++rn){var pa=Ui[rn],qi=pa.G,ul=pa.H,Du=0,Nc=1,Jn=0;for(ir=0;5>ir;++ir){Cn=T[ir],qi[ir]=Vi,ul[ir]=Mr,!ir&&0<$a&&(Cn+=1<<$a);n:{var Dp,vv=Cn,Ip=_a,im=ui,gM=Vi,pM=Mr,bv=0,_d=Ip.m,xM=K(_d,1);if(s(im,0,0,vv),xM){var yM=K(_d,1)+1,vM=K(_d,1),hN=K(_d,vM==0?1:8);im[hN]=1,yM==2&&(im[hN=K(_d,8)]=1);var Fp=1}else{var fN=i(19),mN=K(_d,4)+4;if(19<mN){Ip.a=3;var Bp=0;break n}for(Dp=0;Dp<mN;++Dp)fN[se[Dp]]=K(_d,3);var wv=void 0,om=void 0,gN=Ip,bM=fN,zp=vv,pN=im,_v=0,Nd=gN.m,xN=8,yN=o(128,Y);a:for(;V(yN,0,7,bM,19);){if(K(Nd,1)){var wM=2+2*K(Nd,3);if((wv=2+K(Nd,wM))>zp)break a}else wv=zp;for(om=0;om<zp&&wv--;){Z(Nd);var vN=yN[0+(127&F(Nd))];W(Nd,Nd.u+vN.g);var Yh=vN.value;if(16>Yh)pN[om++]=Yh,Yh!=0&&(xN=Yh);else{var _M=Yh==16,bN=Yh-16,NM=_[bN],wN=K(Nd,p[bN])+NM;if(om+wN>zp)break a;for(var kM=_M?xN:0;0<wN--;)pN[om++]=kM}}_v=1;break a}_v||(gN.a=3),Fp=_v}(Fp=Fp&&!_d.h)&&(bv=V(gM,pM,8,im,vv)),Fp&&bv!=0?Bp=bv:(Ip.a=3,Bp=0)}if(Bp==0)break r;if(Nc&&U[ir]==1&&(Nc=Vi[Mr].g==0),Du+=Vi[Mr].g,Mr+=Bp,3>=ir){var lm,Nv=ui[0];for(lm=1;lm<Cn;++lm)ui[lm]>Nv&&(Nv=ui[lm]);Jn+=Nv}}if(pa.nd=Nc,pa.Qb=0,Nc&&(pa.qb=(qi[3][ul[3]+0].value<<24|qi[1][ul[1]+0].value<<16|qi[2][ul[2]+0].value)>>>0,Du==0&&256>qi[0][ul[0]+0].value&&(pa.Qb=1,pa.qb+=qi[0][ul[0]+0].value<<8)),pa.jc=!pa.Qb&&6>Jn,pa.jc){var Up,kc=pa;for(Up=0;Up<xo;++Up){var kd=Up,jd=kc.pd[kd],Vp=kc.G[0][kc.H[0]+kd];256<=Vp.value?(jd.g=Vp.g+256,jd.value=Vp.value):(jd.g=0,jd.value=0,kd>>=St(Vp,8,jd),kd>>=St(kc.G[1][kc.H[1]+kd],16,jd),kd>>=St(kc.G[2][kc.H[2]+kd],0,jd),St(kc.G[3][kc.H[3]+kd],24,jd))}}}Tn.vc=Rr,Tn.Wb=Kr,Tn.Ya=Ui,Tn.yc=Bi,kt=1;break t}kt=0}if(!(ne=kt)){z.a=3;break e}if(0<qe){if(we.ua=1<<qe,!ce(we.Wa,qe)){z.a=1,ne=0;break e}}else we.ua=0;var kv=z,_N=le,jM=ue,jv=kv.s,Sv=jv.xc;if(kv.c=_N,kv.i=jM,jv.md=ae(_N,Sv),jv.wc=Sv==0?-1:(1<<Sv)-1,M){z.xb=gv;break e}if((Le=i(le*ue))==null){z.a=1,ne=0;break e}ne=(ne=Ie(z,Le,0,le,ue,ue,null))&&!ge.h;break e}return ne?(Q!=null?Q[0]=Le:(t(Le==null),t(M)),z.$=0,M||We(we)):We(we),ne}function $e(v,j){var M=v.c*v.i,z=M+j+16*j;return t(v.c<=j),v.V=i(z),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+M+j,1)}function ht(v,j){var M=v.C,z=j-M,Q=v.V,ne=v.Ba+v.c*M;for(t(j<=v.l.o);0<z;){var le=16<z?16:z,ue=v.l.ma,ge=v.l.width,we=ge*le,Le=ue.ca,qe=ue.tb+ge*M,_e=v.Ta,Me=v.Ua;be(v,le,Q,ne),Ep(_e,Me,Le,qe,we),ve(ue,M,M+le,Le,qe,ge),z-=le,Q+=le*v.c,M+=le}t(M==j),v.C=v.Ma=j}function pt(){this.ub=this.yd=this.td=this.Rb=0}function At(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Nt(){this.Yb=function(){var v=[];return function j(M,z,Q){for(var ne=Q[z],le=0;le<ne&&(M.push(Q.length>z+1?[]:0),!(Q.length<z+1));le++)j(M[le],z+1,Q)}(v,0,[3,11]),v}()}function Kt(){this.jb=i(3),this.Wc=l([4,8],Nt),this.Xc=l([4,17],Nt)}function Vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function yr(){this.ld=this.La=this.dd=this.tc=0}function Ta(){this.Na=this.la=0}function ei(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pi(){this.uc=this.M=this.Nb=0,this.wa=Array(new yr),this.Y=0,this.ya=Array(new Gn),this.aa=0,this.l=new qr}function Ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ti(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new pt,this.Kc=new At,this.ed=new Vr,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Pi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,A),this.ia=0,this.pb=o(4,ei),this.Pa=new Kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new Ta),this.sb=0,this.wa=Array(new yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gn),this.L=this.aa=0,this.gd=l([4,2],yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gt(v,j){return 0>v?0:v>j?j:v}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ld(){var v=new ti;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Ht||(Ht=rr)),v}function ca(v,j,M){return v.a==0&&(v.a=j,v.sc=M,v.cb=0),0}function Wo(v,j,M){return 3<=M&&v[j+0]==157&&v[j+1]==1&&v[j+2]==42}function ri(v,j){if(v==null)return 0;if(v.a=0,v.sc="OK",j==null)return ca(v,2,"null VP8Io passed to VP8GetHeaders()");var M=j.data,z=j.w,Q=j.ha;if(4>Q)return ca(v,7,"Truncated header.");var ne=M[z+0]|M[z+1]<<8|M[z+2]<<16,le=v.Od;if(le.Rb=!(1&ne),le.td=ne>>1&7,le.yd=ne>>4&1,le.ub=ne>>5,3<le.td)return ca(v,3,"Incorrect keyframe parameters.");if(!le.yd)return ca(v,4,"Frame not displayable.");z+=3,Q-=3;var ue=v.Kc;if(le.Rb){if(7>Q)return ca(v,7,"cannot parse picture header");if(!Wo(M,z,Q))return ca(v,3,"Bad code word");ue.c=16383&(M[z+4]<<8|M[z+3]),ue.Td=M[z+4]>>6,ue.i=16383&(M[z+6]<<8|M[z+5]),ue.Ud=M[z+6]>>6,z+=7,Q-=7,v.za=ue.c+15>>4,v.Ub=ue.i+15>>4,j.width=ue.c,j.height=ue.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((ne=v.Pa).jb,0,255,ne.jb.length),t((ne=v.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,s(ne.Zb,0,0,ne.Zb.length),s(ne.Lb,0,0,ne.Lb)}if(le.ub>Q)return ca(v,7,"bad partition length");de(ne=v.m,M,z,le.ub),z+=le.ub,Q-=le.ub,le.Rb&&(ue.Ld=re(ne),ue.Kd=re(ne)),ue=v.Qa;var ge,we=v.Pa;if(t(ne!=null),t(ue!=null),ue.Cb=re(ne),ue.Cb){if(ue.Bb=re(ne),re(ne)){for(ue.Fb=re(ne),ge=0;4>ge;++ge)ue.Zb[ge]=re(ne)?oe(ne,7):0;for(ge=0;4>ge;++ge)ue.Lb[ge]=re(ne)?oe(ne,6):0}if(ue.Bb)for(ge=0;3>ge;++ge)we.jb[ge]=re(ne)?xe(ne,8):255}else ue.Bb=0;if(ne.Ka)return ca(v,3,"cannot parse segment header");if((ue=v.ed).zd=re(ne),ue.Tb=xe(ne,6),ue.wb=xe(ne,3),ue.Pc=re(ne),ue.Pc&&re(ne)){for(we=0;4>we;++we)re(ne)&&(ue.vd[we]=oe(ne,6));for(we=0;4>we;++we)re(ne)&&(ue.od[we]=oe(ne,6))}if(v.L=ue.Tb==0?0:ue.zd?1:2,ne.Ka)return ca(v,3,"cannot parse filter header");var Le=Q;if(Q=ge=z,z=ge+Le,ue=Le,v.Xb=(1<<xe(v.m,2))-1,Le<3*(we=v.Xb))M=7;else{for(ge+=3*we,ue-=3*we,Le=0;Le<we;++Le){var qe=M[Q+0]|M[Q+1]<<8|M[Q+2]<<16;qe>ue&&(qe=ue),de(v.Jc[+Le],M,ge,qe),ge+=qe,ue-=qe,Q+=3}de(v.Jc[+we],M,ge,ue),M=ge<z?0:5}if(M!=0)return ca(v,M,"cannot parse partitions");for(M=xe(ge=v.m,7),Q=re(ge)?oe(ge,4):0,z=re(ge)?oe(ge,4):0,ue=re(ge)?oe(ge,4):0,we=re(ge)?oe(ge,4):0,ge=re(ge)?oe(ge,4):0,Le=v.Qa,qe=0;4>qe;++qe){if(Le.Cb){var _e=Le.Zb[qe];Le.Fb||(_e+=M)}else{if(0<qe){v.pb[qe]=v.pb[0];continue}_e=M}var Me=v.pb[qe];Me.Sc[0]=ct[Gt(_e+Q,127)],Me.Sc[1]=Tt[Gt(_e+0,127)],Me.Eb[0]=2*ct[Gt(_e+z,127)],Me.Eb[1]=101581*Tt[Gt(_e+ue,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=ct[Gt(_e+we,117)],Me.Qc[1]=Tt[Gt(_e+ge,127)],Me.lc=_e+ge}if(!le.Rb)return ca(v,4,"Not a key frame.");for(re(ne),le=v.Pa,M=0;4>M;++M){for(Q=0;8>Q;++Q)for(z=0;3>z;++z)for(ue=0;11>ue;++ue)we=X(ne,wd[M][Q][z][ue])?xe(ne,8):ci[M][Q][z][ue],le.Wc[M][Q].Yb[z][ue]=we;for(Q=0;17>Q;++Q)le.Xc[M][Q]=le.Wc[M][mv[Q]]}return v.kc=re(ne),v.kc&&(v.Bd=xe(ne,8)),v.cb=1}function rr(v,j,M,z,Q,ne,le){var ue=j[Q].Yb[M];for(M=0;16>Q;++Q){if(!X(v,ue[M+0]))return Q;for(;!X(v,ue[M+1]);)if(ue=j[++Q].Yb[0],M=0,Q==16)return 16;var ge=j[Q+1].Yb;if(X(v,ue[M+2])){var we=v,Le=0;if(X(we,(_e=ue)[(qe=M)+3]))if(X(we,_e[qe+6])){for(ue=0,qe=2*(Le=X(we,_e[qe+8]))+(_e=X(we,_e[qe+9+Le])),Le=0,_e=hr[qe];_e[ue];++ue)Le+=Le+X(we,_e[ue]);Le+=3+(8<<qe)}else X(we,_e[qe+7])?(Le=7+2*X(we,165),Le+=X(we,145)):Le=5+X(we,159);else Le=X(we,_e[qe+4])?3+X(we,_e[qe+5]):2;ue=ge[2]}else Le=1,ue=ge[1];ge=le+Yn[Q],0>(we=v).b&&ie(we);var qe,_e=we.b,Me=(qe=we.Ca>>1)-(we.I>>_e)>>31;--we.b,we.Ca+=Me,we.Ca|=1,we.I-=(qe+1&Me)<<_e,ne[ge]=((Le^Me)-Me)*z[(0<Q)+0]}return 16}function ga(v){var j=v.rb[v.sb-1];j.la=0,j.Na=0,s(v.zc,0,0,v.zc.length),v.ja=0}function gs(v,j,M,z,Q){Q=v[j+M+32*z]+(Q>>3),v[j+M+32*z]=-256&Q?0>Q?0:255:Q}function Ca(v,j,M,z,Q,ne){gs(v,j,0,M,z+Q),gs(v,j,1,M,z+ne),gs(v,j,2,M,z-ne),gs(v,j,3,M,z-Q)}function za(v){return(20091*v>>16)+v}function Dh(v,j,M,z){var Q,ne=0,le=i(16);for(Q=0;4>Q;++Q){var ue=v[j+0]+v[j+8],ge=v[j+0]-v[j+8],we=(35468*v[j+4]>>16)-za(v[j+12]),Le=za(v[j+4])+(35468*v[j+12]>>16);le[ne+0]=ue+Le,le[ne+1]=ge+we,le[ne+2]=ge-we,le[ne+3]=ue-Le,ne+=4,j++}for(Q=ne=0;4>Q;++Q)ue=(v=le[ne+0]+4)+le[ne+8],ge=v-le[ne+8],we=(35468*le[ne+4]>>16)-za(le[ne+12]),gs(M,z,0,0,ue+(Le=za(le[ne+4])+(35468*le[ne+12]>>16))),gs(M,z,1,0,ge+we),gs(M,z,2,0,ge-we),gs(M,z,3,0,ue-Le),ne++,z+=32}function cd(v,j,M,z){var Q=v[j+0]+4,ne=35468*v[j+4]>>16,le=za(v[j+4]),ue=35468*v[j+1]>>16;Ca(M,z,0,Q+le,v=za(v[j+1]),ue),Ca(M,z,1,Q+ne,v,ue),Ca(M,z,2,Q-ne,v,ue),Ca(M,z,3,Q-le,v,ue)}function Go(v,j,M,z,Q){Dh(v,j,M,z),Q&&Dh(v,j+16,M,z+4)}function Fr(v,j,M,z){Wl(v,j+0,M,z,1),Wl(v,j+32,M,z+128,1)}function fo(v,j,M,z){var Q;for(v=v[j+0]+4,Q=0;4>Q;++Q)for(j=0;4>j;++j)gs(M,z,j,Q,v)}function Bl(v,j,M,z){v[j+0]&&Dr(v,j+0,M,z),v[j+16]&&Dr(v,j+16,M,z+4),v[j+32]&&Dr(v,j+32,M,z+128),v[j+48]&&Dr(v,j+48,M,z+128+4)}function mo(v,j,M,z){var Q,ne=i(16);for(Q=0;4>Q;++Q){var le=v[j+0+Q]+v[j+12+Q],ue=v[j+4+Q]+v[j+8+Q],ge=v[j+4+Q]-v[j+8+Q],we=v[j+0+Q]-v[j+12+Q];ne[0+Q]=le+ue,ne[8+Q]=le-ue,ne[4+Q]=we+ge,ne[12+Q]=we-ge}for(Q=0;4>Q;++Q)le=(v=ne[0+4*Q]+3)+ne[3+4*Q],ue=ne[1+4*Q]+ne[2+4*Q],ge=ne[1+4*Q]-ne[2+4*Q],we=v-ne[3+4*Q],M[z+0]=le+ue>>3,M[z+16]=we+ge>>3,M[z+32]=le-ue>>3,M[z+48]=we-ge>>3,z+=64}function Yo(v,j,M){var z,Q=j-32,ne=vs,le=255-v[Q-1];for(z=0;z<M;++z){var ue,ge=ne,we=le+v[j-1];for(ue=0;ue<M;++ue)v[j+ue]=ge[we+v[Q+ue]];j+=32}}function pc(v,j){Yo(v,j,4)}function _u(v,j){Yo(v,j,8)}function Nu(v,j){Yo(v,j,16)}function zl(v,j){var M;for(M=0;16>M;++M)a(v,j+32*M,v,j-32,16)}function dd(v,j){var M;for(M=16;0<M;--M)s(v,j,v[j-1],16),j+=32}function Ms(v,j,M){var z;for(z=0;16>z;++z)s(j,M+32*z,v,16)}function ud(v,j){var M,z=16;for(M=0;16>M;++M)z+=v[j-1+32*M]+v[j+M-32];Ms(z>>5,v,j)}function Ul(v,j){var M,z=8;for(M=0;16>M;++M)z+=v[j-1+32*M];Ms(z>>4,v,j)}function xc(v,j){var M,z=8;for(M=0;16>M;++M)z+=v[j+M-32];Ms(z>>4,v,j)}function Zf(v,j){Ms(128,v,j)}function xt(v,j,M){return v+2*j+M+2>>2}function ai(v,j){var M,z=j-32;for(z=new Uint8Array([xt(v[z-1],v[z+0],v[z+1]),xt(v[z+0],v[z+1],v[z+2]),xt(v[z+1],v[z+2],v[z+3]),xt(v[z+2],v[z+3],v[z+4])]),M=0;4>M;++M)a(v,j+32*M,z,0,z.length)}function $r(v,j){var M=v[j-1],z=v[j-1+32],Q=v[j-1+64],ne=v[j-1+96];ke(v,j+0,16843009*xt(v[j-1-32],M,z)),ke(v,j+32,16843009*xt(M,z,Q)),ke(v,j+64,16843009*xt(z,Q,ne)),ke(v,j+96,16843009*xt(Q,ne,ne))}function Ih(v,j){var M,z=4;for(M=0;4>M;++M)z+=v[j+M-32]+v[j-1+32*M];for(z>>=3,M=0;4>M;++M)s(v,j+32*M,z,4)}function Mi(v,j){var M=v[j-1+0],z=v[j-1+32],Q=v[j-1+64],ne=v[j-1-32],le=v[j+0-32],ue=v[j+1-32],ge=v[j+2-32],we=v[j+3-32];v[j+0+96]=xt(z,Q,v[j-1+96]),v[j+1+96]=v[j+0+64]=xt(M,z,Q),v[j+2+96]=v[j+1+64]=v[j+0+32]=xt(ne,M,z),v[j+3+96]=v[j+2+64]=v[j+1+32]=v[j+0+0]=xt(le,ne,M),v[j+3+64]=v[j+2+32]=v[j+1+0]=xt(ue,le,ne),v[j+3+32]=v[j+2+0]=xt(ge,ue,le),v[j+3+0]=xt(we,ge,ue)}function Ri(v,j){var M=v[j+1-32],z=v[j+2-32],Q=v[j+3-32],ne=v[j+4-32],le=v[j+5-32],ue=v[j+6-32],ge=v[j+7-32];v[j+0+0]=xt(v[j+0-32],M,z),v[j+1+0]=v[j+0+32]=xt(M,z,Q),v[j+2+0]=v[j+1+32]=v[j+0+64]=xt(z,Q,ne),v[j+3+0]=v[j+2+32]=v[j+1+64]=v[j+0+96]=xt(Q,ne,le),v[j+3+32]=v[j+2+64]=v[j+1+96]=xt(ne,le,ue),v[j+3+64]=v[j+2+96]=xt(le,ue,ge),v[j+3+96]=xt(ue,ge,ge)}function ku(v,j){var M=v[j-1+0],z=v[j-1+32],Q=v[j-1+64],ne=v[j-1-32],le=v[j+0-32],ue=v[j+1-32],ge=v[j+2-32],we=v[j+3-32];v[j+0+0]=v[j+1+64]=ne+le+1>>1,v[j+1+0]=v[j+2+64]=le+ue+1>>1,v[j+2+0]=v[j+3+64]=ue+ge+1>>1,v[j+3+0]=ge+we+1>>1,v[j+0+96]=xt(Q,z,M),v[j+0+64]=xt(z,M,ne),v[j+0+32]=v[j+1+96]=xt(M,ne,le),v[j+1+32]=v[j+2+96]=xt(ne,le,ue),v[j+2+32]=v[j+3+96]=xt(le,ue,ge),v[j+3+32]=xt(ue,ge,we)}function Ko(v,j){var M=v[j+0-32],z=v[j+1-32],Q=v[j+2-32],ne=v[j+3-32],le=v[j+4-32],ue=v[j+5-32],ge=v[j+6-32],we=v[j+7-32];v[j+0+0]=M+z+1>>1,v[j+1+0]=v[j+0+64]=z+Q+1>>1,v[j+2+0]=v[j+1+64]=Q+ne+1>>1,v[j+3+0]=v[j+2+64]=ne+le+1>>1,v[j+0+32]=xt(M,z,Q),v[j+1+32]=v[j+0+96]=xt(z,Q,ne),v[j+2+32]=v[j+1+96]=xt(Q,ne,le),v[j+3+32]=v[j+2+96]=xt(ne,le,ue),v[j+3+64]=xt(le,ue,ge),v[j+3+96]=xt(ue,ge,we)}function Vl(v,j){var M=v[j-1+0],z=v[j-1+32],Q=v[j-1+64],ne=v[j-1+96];v[j+0+0]=M+z+1>>1,v[j+2+0]=v[j+0+32]=z+Q+1>>1,v[j+2+32]=v[j+0+64]=Q+ne+1>>1,v[j+1+0]=xt(M,z,Q),v[j+3+0]=v[j+1+32]=xt(z,Q,ne),v[j+3+32]=v[j+1+64]=xt(Q,ne,ne),v[j+3+64]=v[j+2+64]=v[j+0+96]=v[j+1+96]=v[j+2+96]=v[j+3+96]=ne}function Zo(v,j){var M=v[j-1+0],z=v[j-1+32],Q=v[j-1+64],ne=v[j-1+96],le=v[j-1-32],ue=v[j+0-32],ge=v[j+1-32],we=v[j+2-32];v[j+0+0]=v[j+2+32]=M+le+1>>1,v[j+0+32]=v[j+2+64]=z+M+1>>1,v[j+0+64]=v[j+2+96]=Q+z+1>>1,v[j+0+96]=ne+Q+1>>1,v[j+3+0]=xt(ue,ge,we),v[j+2+0]=xt(le,ue,ge),v[j+1+0]=v[j+3+32]=xt(M,le,ue),v[j+1+32]=v[j+3+64]=xt(z,M,le),v[j+1+64]=v[j+3+96]=xt(Q,z,M),v[j+1+96]=xt(ne,Q,z)}function ba(v,j){var M;for(M=0;8>M;++M)a(v,j+32*M,v,j-32,8)}function Xo(v,j){var M;for(M=0;8>M;++M)s(v,j,v[j-1],8),j+=32}function go(v,j,M){var z;for(z=0;8>z;++z)s(j,M+32*z,v,8)}function Fh(v,j){var M,z=8;for(M=0;8>M;++M)z+=v[j+M-32]+v[j-1+32*M];go(z>>4,v,j)}function ju(v,j){var M,z=4;for(M=0;8>M;++M)z+=v[j+M-32];go(z>>3,v,j)}function hd(v,j){var M,z=4;for(M=0;8>M;++M)z+=v[j-1+32*M];go(z>>3,v,j)}function fd(v,j){go(128,v,j)}function Jo(v,j,M){var z=v[j-M],Q=v[j+0],ne=3*(Q-z)+bd[1020+v[j-2*M]-v[j+M]],le=Gl[112+(ne+4>>3)];v[j-M]=vs[255+z+Gl[112+(ne+3>>3)]],v[j+0]=vs[255+Q-le]}function md(v,j,M,z){var Q=v[j+0],ne=v[j+M];return Is[255+v[j-2*M]-v[j-M]]>z||Is[255+ne-Q]>z}function cr(v,j,M,z){return 4*Is[255+v[j-M]-v[j+0]]+Is[255+v[j-2*M]-v[j+M]]<=z}function Su(v,j,M,z,Q){var ne=v[j-3*M],le=v[j-2*M],ue=v[j-M],ge=v[j+0],we=v[j+M],Le=v[j+2*M],qe=v[j+3*M];return 4*Is[255+ue-ge]+Is[255+le-we]>z?0:Is[255+v[j-4*M]-ne]<=Q&&Is[255+ne-le]<=Q&&Is[255+le-ue]<=Q&&Is[255+qe-Le]<=Q&&Is[255+Le-we]<=Q&&Is[255+we-ge]<=Q}function jn(v,j,M,z){var Q=2*z+1;for(z=0;16>z;++z)cr(v,j+z,M,Q)&&Jo(v,j+z,M)}function Qo(v,j,M,z){var Q=2*z+1;for(z=0;16>z;++z)cr(v,j+z*M,1,Q)&&Jo(v,j+z*M,1)}function Au(v,j,M,z){var Q;for(Q=3;0<Q;--Q)jn(v,j+=4*M,M,z)}function Bh(v,j,M,z){var Q;for(Q=3;0<Q;--Q)Qo(v,j+=4,M,z)}function Oi(v,j,M,z,Q,ne,le,ue){for(ne=2*ne+1;0<Q--;){if(Su(v,j,M,ne,le))if(md(v,j,M,ue))Jo(v,j,M);else{var ge=v,we=j,Le=M,qe=ge[we-2*Le],_e=ge[we-Le],Me=ge[we+0],Fe=ge[we+Le],Qe=ge[we+2*Le],Ve=27*(rt=bd[1020+3*(Me-_e)+bd[1020+qe-Fe]])+63>>7,tt=18*rt+63>>7,rt=9*rt+63>>7;ge[we-3*Le]=vs[255+ge[we-3*Le]+rt],ge[we-2*Le]=vs[255+qe+tt],ge[we-Le]=vs[255+_e+Ve],ge[we+0]=vs[255+Me-Ve],ge[we+Le]=vs[255+Fe-tt],ge[we+2*Le]=vs[255+Qe-rt]}j+=z}}function el(v,j,M,z,Q,ne,le,ue){for(ne=2*ne+1;0<Q--;){if(Su(v,j,M,ne,le))if(md(v,j,M,ue))Jo(v,j,M);else{var ge=v,we=j,Le=M,qe=ge[we-Le],_e=ge[we+0],Me=ge[we+Le],Fe=Gl[112+(4+(Qe=3*(_e-qe))>>3)],Qe=Gl[112+(Qe+3>>3)],Ve=Fe+1>>1;ge[we-2*Le]=vs[255+ge[we-2*Le]+Ve],ge[we-Le]=vs[255+qe+Qe],ge[we+0]=vs[255+_e-Fe],ge[we+Le]=vs[255+Me-Ve]}j+=z}}function Eu(v,j,M,z,Q,ne){Oi(v,j,M,1,16,z,Q,ne)}function yc(v,j,M,z,Q,ne){Oi(v,j,1,M,16,z,Q,ne)}function zh(v,j,M,z,Q,ne){var le;for(le=3;0<le;--le)el(v,j+=4*M,M,1,16,z,Q,ne)}function E(v,j,M,z,Q,ne){var le;for(le=3;0<le;--le)el(v,j+=4,1,M,16,z,Q,ne)}function J(v,j,M,z,Q,ne,le,ue){Oi(v,j,Q,1,8,ne,le,ue),Oi(M,z,Q,1,8,ne,le,ue)}function ye(v,j,M,z,Q,ne,le,ue){Oi(v,j,1,Q,8,ne,le,ue),Oi(M,z,1,Q,8,ne,le,ue)}function Ce(v,j,M,z,Q,ne,le,ue){el(v,j+4*Q,Q,1,8,ne,le,ue),el(M,z+4*Q,Q,1,8,ne,le,ue)}function Re(v,j,M,z,Q,ne,le,ue){el(v,j+4,1,Q,8,ne,le,ue),el(M,z+4,1,Q,8,ne,le,ue)}function Ze(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new Y}function er(){this.xb=this.a=0,this.l=new qr,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=o(4,Pt),this.Oc=0}function nr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jr(v,j,M,z,Q,ne,le){for(v=v==null?0:v[j+0],j=0;j<le;++j)Q[ne+j]=v+M[z+j]&255,v=Q[ne+j]}function wa(v,j,M,z,Q,ne,le){var ue;if(v==null)jr(null,null,M,z,Q,ne,le);else for(ue=0;ue<le;++ue)Q[ne+ue]=v[j+ue]+M[z+ue]&255}function Ua(v,j,M,z,Q,ne,le){if(v==null)jr(null,null,M,z,Q,ne,le);else{var ue,ge=v[j+0],we=ge,Le=ge;for(ue=0;ue<le;++ue)we=Le+(ge=v[j+ue])-we,Le=M[z+ue]+(-256&we?0>we?0:255:we)&255,we=ge,Q[ne+ue]=Le}}function Hr(v,j,M,z){var Q=j.width,ne=j.o;if(t(v!=null&&j!=null),0>M||0>=z||M+z>ne)return null;if(!v.Cc){if(v.ga==null){var le;if(v.ga=new nr,(le=v.ga==null)||(le=j.width*j.o,t(v.Gb.length==0),v.Gb=i(le),v.Uc=0,v.Gb==null?le=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,le=1),le=!le),!le){le=v.ga;var ue=v.Fa,ge=v.P,we=v.qc,Le=v.mb,qe=v.nb,_e=ge+1,Me=we-1,Fe=le.l;if(t(ue!=null&&Le!=null&&j!=null),Yr[0]=null,Yr[1]=jr,Yr[2]=wa,Yr[3]=Ua,le.ca=Le,le.tb=qe,le.c=j.width,le.i=j.height,t(0<le.c&&0<le.i),1>=we)j=0;else if(le.$a=3&ue[ge+0],le.Z=ue[ge+0]>>2&3,le.Lc=ue[ge+0]>>4&3,ge=ue[ge+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ge)j=0;else if(Fe.put=qt,Fe.ac=Qs,Fe.bc=Ci,Fe.ma=le,Fe.width=j.width,Fe.height=j.height,Fe.Da=j.Da,Fe.v=j.v,Fe.va=j.va,Fe.j=j.j,Fe.o=j.o,le.$a)e:{t(le.$a==1),j=ze();t:for(;;){if(j==null){j=0;break e}if(t(le!=null),le.mc=j,j.c=le.c,j.i=le.i,j.l=le.l,j.l.ma=le,j.l.width=le.c,j.l.height=le.i,j.a=0,fe(j.m,ue,_e,Me),!Ue(le.c,le.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&pe(j.s)?(le.ic=1,ue=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(ue),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(le.ic=0,j=$e(j,le.c)),!j))break t;j=1;break e}le.mc=null,j=0}else j=Me>=le.c*le.i;le=!j}if(le)return null;v.ga.Lc!=1?v.Ga=0:z=ne-M}t(v.ga!=null),t(M+z<=ne);e:{if(j=(ue=v.ga).c,ne=ue.l.o,ue.$a==0){if(_e=v.rc,Me=v.Vc,Fe=v.Fa,ge=v.P+1+M*j,we=v.mb,Le=v.nb+M*j,t(ge<=v.P+v.qc),ue.Z!=0)for(t(Yr[ue.Z]!=null),le=0;le<z;++le)Yr[ue.Z](_e,Me,Fe,ge,we,Le,j),_e=we,Me=Le,Le+=j,ge+=j;else for(le=0;le<z;++le)a(we,Le,Fe,ge,j),_e=we,Me=Le,Le+=j,ge+=j;v.rc=_e,v.Vc=Me}else{if(t(ue.mc!=null),j=M+z,t((le=ue.mc)!=null),t(j<=le.i),le.C>=j)j=1;else if(ue.ic||Sn(),ue.ic){ue=le.V,_e=le.Ba,Me=le.c;var Qe=le.i,Ve=(Fe=1,ge=le.$/Me,we=le.$%Me,Le=le.m,qe=le.s,le.$),tt=Me*Qe,rt=Me*j,ft=qe.wc,ut=Ve<rt?te(qe,we,ge):null;t(Ve<=tt),t(j<=Qe),t(pe(qe));t:for(;;){for(;!Le.h&&Ve<rt;){if(we&ft||(ut=te(qe,we,ge)),t(ut!=null),Z(Le),256>(Qe=Tr(ut.G[0],ut.H[0],Le)))ue[_e+Ve]=Qe,++Ve,++we>=Me&&(we=0,++ge<=j&&!(ge%16)&&Ne(le,ge));else{if(!(280>Qe)){Fe=0;break t}Qe=Dn(Qe-256,Le);var zt,Mt=Tr(ut.G[4],ut.H[4],Le);if(Z(Le),!(Ve>=(Mt=ms(Me,Mt=Dn(Mt,Le)))&&tt-Ve>=Qe)){Fe=0;break t}for(zt=0;zt<Qe;++zt)ue[_e+Ve+zt]=ue[_e+Ve+zt-Mt];for(Ve+=Qe,we+=Qe;we>=Me;)we-=Me,++ge<=j&&!(ge%16)&&Ne(le,ge);Ve<rt&&we&ft&&(ut=te(qe,we,ge))}t(Le.h==R(Le))}Ne(le,ge>j?j:ge);break t}!Fe||Le.h&&Ve<tt?(Fe=0,le.a=Le.h?5:3):le.$=Ve,j=Fe}else j=Ie(le,le.V,le.Ba,le.c,le.i,j,ht);if(!j){z=0;break e}}M+z>=ne&&(v.Cc=1),z=1}if(!z)return null;if(v.Cc&&((z=v.ga)!=null&&(z.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+M*Q}function Qa(v,j,M,z,Q,ne){for(;0<Q--;){var le,ue=v,ge=j+(M?1:0),we=v,Le=j+(M?0:3);for(le=0;le<z;++le){var qe=we[Le+4*le];qe!=255&&(qe*=32897,ue[ge+4*le+0]=ue[ge+4*le+0]*qe>>23,ue[ge+4*le+1]=ue[ge+4*le+1]*qe>>23,ue[ge+4*le+2]=ue[ge+4*le+2]*qe>>23)}j+=ne}}function Ra(v,j,M,z,Q){for(;0<z--;){var ne;for(ne=0;ne<M;++ne){var le=v[j+2*ne+0],ue=15&(we=v[j+2*ne+1]),ge=4369*ue,we=(240&we|we>>4)*ge>>16;v[j+2*ne+0]=(240&le|le>>4)*ge>>16&240|(15&le|le<<4)*ge>>16>>4&15,v[j+2*ne+1]=240&we|ue}j+=Q}}function un(v,j,M,z,Q,ne,le,ue){var ge,we,Le=255;for(we=0;we<Q;++we){for(ge=0;ge<z;++ge){var qe=v[j+ge];ne[le+4*ge]=qe,Le&=qe}j+=M,le+=ue}return Le!=255}function ni(v,j,M,z,Q){var ne;for(ne=0;ne<Q;++ne)M[z+ne]=v[j+ne]>>8}function Sn(){No=Qa,Jf=Ra,Qf=un,Ep=ni}function tl(v,j,M){C[v]=function(z,Q,ne,le,ue,ge,we,Le,qe,_e,Me,Fe,Qe,Ve,tt,rt,ft){var ut,zt=ft-1>>1,Mt=ue[ge+0]|we[Le+0]<<16,dr=qe[_e+0]|Me[Fe+0]<<16;t(z!=null);var It=3*Mt+dr+131074>>2;for(j(z[Q+0],255&It,It>>16,Qe,Ve),ne!=null&&(It=3*dr+Mt+131074>>2,j(ne[le+0],255&It,It>>16,tt,rt)),ut=1;ut<=zt;++ut){var Cr=ue[ge+ut]|we[Le+ut]<<16,En=qe[_e+ut]|Me[Fe+ut]<<16,ur=Mt+Cr+dr+En+524296,Ft=ur+2*(Cr+dr)>>3;It=Ft+Mt>>1,Mt=(ur=ur+2*(Mt+En)>>3)+Cr>>1,j(z[Q+2*ut-1],255&It,It>>16,Qe,Ve+(2*ut-1)*M),j(z[Q+2*ut-0],255&Mt,Mt>>16,Qe,Ve+(2*ut-0)*M),ne!=null&&(It=ur+dr>>1,Mt=Ft+En>>1,j(ne[le+2*ut-1],255&It,It>>16,tt,rt+(2*ut-1)*M),j(ne[le+2*ut+0],255&Mt,Mt>>16,tt,rt+(2*ut+0)*M)),Mt=Cr,dr=En}1&ft||(It=3*Mt+dr+131074>>2,j(z[Q+ft-1],255&It,It>>16,Qe,Ve+(ft-1)*M),ne!=null&&(It=3*dr+Mt+131074>>2,j(ne[le+ft-1],255&It,It>>16,tt,rt+(ft-1)*M)))}}function rl(){Kn[Vh]=pv,Kn[Mu]=Lp,Kn[rm]=xv,Kn[Ru]=Gh,Kn[Ou]=nm,Kn[qh]=Pp,Kn[Cp]=sM,Kn[$h]=Lp,Kn[Hh]=Gh,Kn[Wh]=nm,Kn[d]=Pp}function An(v){return v&-16384?0>v?0:255:v>>iM}function al(v,j){return An((19077*v>>8)+(26149*j>>8)-14234)}function ql(v,j,M){return An((19077*v>>8)-(6419*j>>8)-(13320*M>>8)+8708)}function vc(v,j){return An((19077*v>>8)+(33050*j>>8)-17685)}function po(v,j,M,z,Q){z[Q+0]=al(v,M),z[Q+1]=ql(v,j,M),z[Q+2]=vc(v,j)}function en(v,j,M,z,Q){z[Q+0]=vc(v,j),z[Q+1]=ql(v,j,M),z[Q+2]=al(v,M)}function bc(v,j,M,z,Q){var ne=ql(v,j,M);j=ne<<3&224|vc(v,j)>>3,z[Q+0]=248&al(v,M)|ne>>5,z[Q+1]=j}function wc(v,j,M,z,Q){var ne=240&vc(v,j)|15;z[Q+0]=240&al(v,M)|ql(v,j,M)>>4,z[Q+1]=ne}function gd(v,j,M,z,Q){z[Q+0]=255,po(v,j,M,z,Q+1)}function Tu(v,j,M,z,Q){en(v,j,M,z,Q),z[Q+3]=255}function da(v,j,M,z,Q){po(v,j,M,z,Q),z[Q+3]=255}function ps(v,j,M){C[v]=function(z,Q,ne,le,ue,ge,we,Le,qe){for(var _e=Le+(-2&qe)*M;Le!=_e;)j(z[Q+0],ne[le+0],ue[ge+0],we,Le),j(z[Q+1],ne[le+0],ue[ge+0],we,Le+M),Q+=2,++le,++ge,Le+=2*M;1&qe&&j(z[Q+0],ne[le+0],ue[ge+0],we,Le)}}function pd(v,j,M){return M==0?v==0?j==0?6:5:j==0?4:0:M}function si(v,j,M,z,Q){switch(v>>>30){case 3:Wl(j,M,z,Q,0);break;case 2:li(j,M,z,Q);break;case 1:Dr(j,M,z,Q)}}function ii(v,j){var M,z,Q=j.M,ne=j.Nb,le=v.oc,ue=v.pc+40,ge=v.oc,we=v.pc+584,Le=v.oc,qe=v.pc+600;for(M=0;16>M;++M)le[ue+32*M-1]=129;for(M=0;8>M;++M)ge[we+32*M-1]=129,Le[qe+32*M-1]=129;for(0<Q?le[ue-1-32]=ge[we-1-32]=Le[qe-1-32]=129:(s(le,ue-32-1,127,21),s(ge,we-32-1,127,9),s(Le,qe-32-1,127,9)),z=0;z<v.za;++z){var _e=j.ya[j.aa+z];if(0<z){for(M=-1;16>M;++M)a(le,ue+32*M-4,le,ue+32*M+12,4);for(M=-1;8>M;++M)a(ge,we+32*M-4,ge,we+32*M+4,4),a(Le,qe+32*M-4,Le,qe+32*M+4,4)}var Me=v.Gd,Fe=v.Hd+z,Qe=_e.ad,Ve=_e.Hc;if(0<Q&&(a(le,ue-32,Me[Fe].y,0,16),a(ge,we-32,Me[Fe].f,0,8),a(Le,qe-32,Me[Fe].ea,0,8)),_e.Za){var tt=le,rt=ue-32+16;for(0<Q&&(z>=v.za-1?s(tt,rt,Me[Fe].y[15],4):a(tt,rt,Me[Fe+1].y,0,4)),M=0;4>M;M++)tt[rt+128+M]=tt[rt+256+M]=tt[rt+384+M]=tt[rt+0+M];for(M=0;16>M;++M,Ve<<=2)tt=le,rt=ue+dN[M],Fi[_e.Ob[M]](tt,rt),si(Ve,Qe,16*+M,tt,rt)}else if(tt=pd(z,Q,_e.Ob[0]),Yl[tt](le,ue),Ve!=0)for(M=0;16>M;++M,Ve<<=2)si(Ve,Qe,16*+M,le,ue+dN[M]);for(M=_e.Gc,tt=pd(z,Q,_e.Dd),jo[tt](ge,we),jo[tt](Le,qe),Ve=Qe,tt=ge,rt=we,255&(_e=0|M)&&(170&_e?Ds(Ve,256,tt,rt):Wr(Ve,256,tt,rt)),_e=Le,Ve=qe,255&(M>>=8)&&(170&M?Ds(Qe,320,_e,Ve):Wr(Qe,320,_e,Ve)),Q<v.Ub-1&&(a(Me[Fe].y,0,le,ue+480,16),a(Me[Fe].f,0,ge,we+224,8),a(Me[Fe].ea,0,Le,qe+224,8)),M=8*ne*v.B,Me=v.sa,Fe=v.ta+16*z+16*ne*v.R,Qe=v.qa,_e=v.ra+8*z+M,Ve=v.Ha,tt=v.Ia+8*z+M,M=0;16>M;++M)a(Me,Fe+M*v.R,le,ue+32*M,16);for(M=0;8>M;++M)a(Qe,_e+M*v.B,ge,we+32*M,8),a(Ve,tt+M*v.B,Le,qe+32*M,8)}}function oi(v,j,M,z,Q,ne,le,ue,ge){var we=[0],Le=[0],qe=0,_e=ge!=null?ge.kd:0,Me=ge??new lt;if(v==null||12>M)return 7;Me.data=v,Me.w=j,Me.ha=M,j=[j],M=[M],Me.gb=[Me.gb];e:{var Fe=j,Qe=M,Ve=Me.gb;if(t(v!=null),t(Qe!=null),t(Ve!=null),Ve[0]=0,12<=Qe[0]&&!r(v,Fe[0],"RIFF")){if(r(v,Fe[0]+8,"WEBP")){Ve=3;break e}var tt=Ye(v,Fe[0]+4);if(12>tt||4294967286<tt){Ve=3;break e}if(_e&&tt>Qe[0]-8){Ve=7;break e}Ve[0]=tt,Fe[0]+=12,Qe[0]-=12}Ve=0}if(Ve!=0)return Ve;for(tt=0<Me.gb[0],M=M[0];;){e:{var rt=v;Qe=j,Ve=M;var ft=we,ut=Le,zt=Fe=[0];if((It=qe=[qe])[0]=0,8>Ve[0])Ve=7;else{if(!r(rt,Qe[0],"VP8X")){if(Ye(rt,Qe[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Mt=Ye(rt,Qe[0]+8),dr=1+De(rt,Qe[0]+12);if(2147483648<=dr*(rt=1+De(rt,Qe[0]+15))){Ve=3;break e}zt!=null&&(zt[0]=Mt),ft!=null&&(ft[0]=dr),ut!=null&&(ut[0]=rt),Qe[0]+=18,Ve[0]-=18,It[0]=1}Ve=0}}if(qe=qe[0],Fe=Fe[0],Ve!=0)return Ve;if(Qe=!!(2&Fe),!tt&&qe)return 3;if(ne!=null&&(ne[0]=!!(16&Fe)),le!=null&&(le[0]=Qe),ue!=null&&(ue[0]=0),le=we[0],Fe=Le[0],qe&&Qe&&ge==null){Ve=0;break}if(4>M){Ve=7;break}if(tt&&qe||!tt&&!qe&&!r(v,j[0],"ALPH")){M=[M],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{Mt=v,Ve=j,tt=M;var It=Me.gb;ft=Me.na,ut=Me.P,zt=Me.Sa,dr=22,t(Mt!=null),t(tt!=null),rt=Ve[0];var Cr=tt[0];for(t(ft!=null),t(zt!=null),ft[0]=null,ut[0]=null,zt[0]=0;;){if(Ve[0]=rt,tt[0]=Cr,8>Cr){Ve=7;break e}var En=Ye(Mt,rt+4);if(4294967286<En){Ve=3;break e}var ur=8+En+1&-2;if(dr+=ur,0<It&&dr>It){Ve=3;break e}if(!r(Mt,rt,"VP8 ")||!r(Mt,rt,"VP8L")){Ve=0;break e}if(Cr[0]<ur){Ve=7;break e}r(Mt,rt,"ALPH")||(ft[0]=Mt,ut[0]=rt+8,zt[0]=En),rt+=ur,Cr-=ur}}if(M=M[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ve!=0)break}M=[M],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(It=v,Ve=j,tt=M,ft=Me.gb[0],ut=Me.Ja,zt=Me.xa,Mt=Ve[0],rt=!r(It,Mt,"VP8 "),dr=!r(It,Mt,"VP8L"),t(It!=null),t(tt!=null),t(ut!=null),t(zt!=null),8>tt[0])Ve=7;else{if(rt||dr){if(It=Ye(It,Mt+4),12<=ft&&It>ft-12){Ve=3;break e}if(_e&&It>tt[0]-8){Ve=7;break e}ut[0]=It,Ve[0]+=8,tt[0]-=8,zt[0]=dr}else zt[0]=5<=tt[0]&&It[Mt+0]==47&&!(It[Mt+4]>>5),ut[0]=tt[0];Ve=0}if(M=M[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],j=j[0],Ve!=0)break;if(4294967286<Me.Ja)return 3;if(ue==null||Qe||(ue[0]=Me.xa?2:1),le=[le],Fe=[Fe],Me.xa){if(5>M){Ve=7;break}ue=le,_e=Fe,Qe=ne,v==null||5>M?v=0:5<=M&&v[j+0]==47&&!(v[j+4]>>5)?(tt=[0],It=[0],ft=[0],fe(ut=new q,v,j,M),Li(ut,tt,It,ft)?(ue!=null&&(ue[0]=tt[0]),_e!=null&&(_e[0]=It[0]),Qe!=null&&(Qe[0]=ft[0]),v=1):v=0):v=0}else{if(10>M){Ve=7;break}ue=Fe,v==null||10>M||!Wo(v,j+3,M-3)?v=0:(_e=v[j+0]|v[j+1]<<8|v[j+2]<<16,Qe=16383&(v[j+7]<<8|v[j+6]),v=16383&(v[j+9]<<8|v[j+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Me.Ja||!Qe||!v?v=0:(le&&(le[0]=Qe),ue&&(ue[0]=v),v=1))}if(!v||(le=le[0],Fe=Fe[0],qe&&(we[0]!=le||Le[0]!=Fe)))return 3;ge!=null&&(ge[0]=Me,ge.offset=j-ge.w,t(4294967286>j-ge.w),t(ge.offset==ge.ha-M));break}return Ve==0||Ve==7&&qe&&ge==null?(ne!=null&&(ne[0]|=Me.na!=null&&0<Me.na.length),z!=null&&(z[0]=le),Q!=null&&(Q[0]=Fe),0):Ve}function Cu(v,j,M){var z=j.width,Q=j.height,ne=0,le=0,ue=z,ge=Q;if(j.Da=v!=null&&0<v.Da,j.Da&&(ue=v.cd,ge=v.bd,ne=v.v,le=v.j,11>M||(ne&=-2,le&=-2),0>ne||0>le||0>=ue||0>=ge||ne+ue>z||le+ge>Q))return 0;if(j.v=ne,j.j=le,j.va=ne+ue,j.o=le+ge,j.U=ue,j.T=ge,j.da=v!=null&&0<v.da,j.da){if(!et(ue,ge,M=[v.ib],ne=[v.hb]))return 0;j.ib=M[0],j.hb=ne[0]}return j.ob=v!=null&&v.ob,j.Kb=v==null||!v.Sd,j.da&&(j.ob=j.ib<3*z/4&&j.hb<3*Q/4,j.Kb=0),1}function nl(v){if(v==null)return 2;if(11>v.S){var j=v.f.RGBA;j.fb+=(v.height-1)*j.A,j.A=-j.A}else j=v.f.kb,v=v.height,j.O+=(v-1)*j.fa,j.fa=-j.fa,j.N+=(v-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(v-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(v-1)*j.lb,j.lb=-j.lb);return 0}function sl(v,j,M,z){if(z==null||0>=v||0>=j)return 2;if(M!=null){if(M.Da){var Q=M.cd,ne=M.bd,le=-2&M.v,ue=-2&M.j;if(0>le||0>ue||0>=Q||0>=ne||le+Q>v||ue+ne>j)return 2;v=Q,j=ne}if(M.da){if(!et(v,j,Q=[M.ib],ne=[M.hb]))return 2;v=Q[0],j=ne[0]}}z.width=v,z.height=j;e:{var ge=z.width,we=z.height;if(v=z.S,0>=ge||0>=we||!(v>=Vh&&13>v))v=2;else{if(0>=z.Rd&&z.sd==null){le=ne=Q=j=0;var Le=(ue=ge*uN[v])*we;if(11>v||(ne=(we+1)/2*(j=(ge+1)/2),v==12&&(le=(Q=ge)*we)),(we=i(Le+2*ne+le))==null){v=1;break e}z.sd=we,11>v?((ge=z.f.RGBA).eb=we,ge.fb=0,ge.A=ue,ge.size=Le):((ge=z.f.kb).y=we,ge.O=0,ge.fa=ue,ge.Fd=Le,ge.f=we,ge.N=0+Le,ge.Ab=j,ge.Cd=ne,ge.ea=we,ge.W=0+Le+ne,ge.Db=j,ge.Ed=ne,v==12&&(ge.F=we,ge.J=0+Le+2*ne),ge.Tc=le,ge.lb=Q)}if(j=1,Q=z.S,ne=z.width,le=z.height,Q>=Vh&&13>Q)if(11>Q)v=z.f.RGBA,j&=(ue=Math.abs(v.A))*(le-1)+ne<=v.size,j&=ue>=ne*uN[Q],j&=v.eb!=null;else{v=z.f.kb,ue=(ne+1)/2,Le=(le+1)/2,ge=Math.abs(v.fa),we=Math.abs(v.Ab);var qe=Math.abs(v.Db),_e=Math.abs(v.lb),Me=_e*(le-1)+ne;j&=ge*(le-1)+ne<=v.Fd,j&=we*(Le-1)+ue<=v.Cd,j=(j&=qe*(Le-1)+ue<=v.Ed)&ge>=ne&we>=ue&qe>=ue,j&=v.y!=null,j&=v.f!=null,j&=v.ea!=null,Q==12&&(j&=_e>=ne,j&=Me<=v.Tc,j&=v.F!=null)}else j=0;v=j?0:2}}return v!=0||M!=null&&M.fd&&(v=nl(z)),v}var xo=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Va=24,Di=32,il=8,yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(v){return v},C.Predictor2=function(v,j,M){return j[M+0]},C.Predictor3=function(v,j,M){return j[M+1]},C.Predictor4=function(v,j,M){return j[M-1]},C.Predictor5=function(v,j,M){return yt(yt(v,j[M+1]),j[M+0])},C.Predictor6=function(v,j,M){return yt(v,j[M-1])},C.Predictor7=function(v,j,M){return yt(v,j[M+0])},C.Predictor8=function(v,j,M){return yt(j[M-1],j[M+0])},C.Predictor9=function(v,j,M){return yt(j[M+0],j[M+1])},C.Predictor10=function(v,j,M){return yt(yt(v,j[M-1]),yt(j[M+0],j[M+1]))},C.Predictor11=function(v,j,M){var z=j[M+0];return 0>=jt(z>>24&255,v>>24&255,(j=j[M-1])>>24&255)+jt(z>>16&255,v>>16&255,j>>16&255)+jt(z>>8&255,v>>8&255,j>>8&255)+jt(255&z,255&v,255&j)?z:v},C.Predictor12=function(v,j,M){var z=j[M+0];return(wt((v>>24&255)+(z>>24&255)-((j=j[M-1])>>24&255))<<24|wt((v>>16&255)+(z>>16&255)-(j>>16&255))<<16|wt((v>>8&255)+(z>>8&255)-(j>>8&255))<<8|wt((255&v)+(255&z)-(255&j)))>>>0},C.Predictor13=function(v,j,M){var z=j[M-1];return(ot((v=yt(v,j[M+0]))>>24&255,z>>24&255)<<24|ot(v>>16&255,z>>16&255)<<16|ot(v>>8&255,z>>8&255)<<8|ot(255&v,255&z))>>>0};var Lu=C.PredictorAdd0;C.PredictorAdd1=Et,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var xs=C.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Oa,ol=C.ColorIndexInverseTransform,vo=C.MapARGB,hn=C.VP8LColorIndexInverseTransformAlpha,$l=C.MapAlpha,xd=C.VP8LPredictorsAdd=[];xd.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var _c,Hl,bo,Ii,Os,wo,_o,Wl,li,Ds,Dr,Wr,Da,qa,ll,ys,cl,Uh,Pu,jp,Xf,Sp,yd,Ap,No,Jf,Qf,Ep,ko=i(511),em=i(2041),tm=i(225),vd=i(767),Tp=0,bd=em,Gl=tm,vs=vd,Is=ko,Vh=0,Mu=1,rm=2,Ru=3,Ou=4,qh=5,Cp=6,$h=7,Hh=8,Wh=9,d=10,p=[2,3,7],_=[3,3,11],T=[280,256,256,256,40],U=[0,1,1,1,0],se=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ee=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Be=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],He=8,ct=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ht=null,hr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ci=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yl=[],Fi=[],jo=[],gv=1,am=2,Yr=[],Kn=[];tl("UpsampleRgbLinePair",po,3),tl("UpsampleBgrLinePair",en,3),tl("UpsampleRgbaLinePair",da,4),tl("UpsampleBgraLinePair",Tu,4),tl("UpsampleArgbLinePair",gd,4),tl("UpsampleRgba4444LinePair",wc,2),tl("UpsampleRgb565LinePair",bc,2);var pv=C.UpsampleRgbLinePair,xv=C.UpsampleBgrLinePair,Lp=C.UpsampleRgbaLinePair,Gh=C.UpsampleBgraLinePair,nm=C.UpsampleArgbLinePair,Pp=C.UpsampleRgba4444LinePair,sM=C.UpsampleRgb565LinePair,Mp=16,Rp=1<<Mp-1,sm=-227,yv=482,iM=6,cN=0,oM=i(256),lM=i(256),cM=i(256),dM=i(256),uM=i(yv-sm),hM=i(yv-sm);ps("YuvToRgbRow",po,3),ps("YuvToBgrRow",en,3),ps("YuvToRgbaRow",da,4),ps("YuvToBgraRow",Tu,4),ps("YuvToArgbRow",gd,4),ps("YuvToRgba4444Row",wc,2),ps("YuvToRgb565Row",bc,2);var dN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Op=[0,2,8],fM=[8,7,6,4,4,2,2,2,1,1,1,1],mM=1;this.WebPDecodeRGBA=function(v,j,M,z,Q){var ne=Mu,le=new Ze,ue=new Jt;le.ba=ue,ue.S=ne,ue.width=[ue.width],ue.height=[ue.height];var ge=ue.width,we=ue.height,Le=new Ot;if(Le==null||v==null)var qe=2;else t(Le!=null),qe=oi(v,j,M,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(qe!=0?ge=0:(ge!=null&&(ge[0]=Le.width[0]),we!=null&&(we[0]=Le.height[0]),ge=1),ge){ue.width=ue.width[0],ue.height=ue.height[0],z!=null&&(z[0]=ue.width),Q!=null&&(Q[0]=ue.height);e:{if(z=new qr,(Q=new lt).data=v,Q.w=j,Q.ha=M,Q.kd=1,j=[0],t(Q!=null),((v=oi(Q.data,Q.w,Q.ha,null,null,null,j,null,Q))==0||v==7)&&j[0]&&(v=4),(j=v)==0){if(t(le!=null),z.data=Q.data,z.w=Q.w+Q.offset,z.ha=Q.ha-Q.offset,z.put=qt,z.ac=Qs,z.bc=Ci,z.ma=le,Q.xa){if((v=ze())==null){le=1;break e}if(function(_e,Me){var Fe=[0],Qe=[0],Ve=[0];t:for(;;){if(_e==null)return 0;if(Me==null)return _e.a=2,0;if(_e.l=Me,_e.a=0,fe(_e.m,Me.data,Me.w,Me.ha),!Li(_e.m,Fe,Qe,Ve)){_e.a=3;break t}if(_e.xb=am,Me.width=Fe[0],Me.height=Qe[0],!Ue(Fe[0],Qe[0],1,_e,null))break t;return 1}return t(_e.a!=0),0}(v,z)){if(z=(j=sl(z.width,z.height,le.Oa,le.ba))==0){t:{z=v;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((M=z.l)!=null),t((Q=M.ma)!=null),z.xb!=0){if(z.ca=Q.ba,z.tb=Q.tb,t(z.ca!=null),!Cu(Q.Oa,M,Ru)){z.a=2;break r}if(!$e(z,M.width)||M.da)break r;if((M.da||Bt(z.ca.S))&&Sn(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Sn()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!ce(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Ie(z,z.V,z.Ba,z.c,z.i,M.o,me))break r;Q.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(j=v.a)}else j=v.a}else{if((v=new ld)==null){le=1;break e}if(v.Fa=Q.na,v.P=Q.P,v.qc=Q.Sa,ri(v,z)){if((j=sl(z.width,z.height,le.Oa,le.ba))==0){if(v.Aa=0,M=le.Oa,t((Q=v)!=null),M!=null){if(0<(ge=0>(ge=M.Md)?0:100<ge?255:255*ge/100)){for(we=Le=0;4>we;++we)12>(qe=Q.pb[we]).lc&&(qe.ia=ge*fM[0>qe.lc?0:qe.lc]>>3),Le|=qe.ia;Le&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=M.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(_e,Me){if(_e==null)return 0;if(Me==null)return ca(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!ri(_e,Me))return 0;if(t(_e.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(_e.L=0);var Fe=Op[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Me.v-Fe>>4,_e.zb=Me.j-Fe>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Me.o+15+Fe>>4,_e.Hb=Me.va+15+Fe>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var Qe=_e.ed;for(Fe=0;4>Fe;++Fe){var Ve;if(_e.Qa.Cb){var tt=_e.Qa.Lb[Fe];_e.Qa.Fb||(tt+=Qe.Tb)}else tt=Qe.Tb;for(Ve=0;1>=Ve;++Ve){var rt=_e.gd[Fe][Ve],ft=tt;if(Qe.Pc&&(ft+=Qe.vd[0],Ve&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var ut=ft;0<Qe.wb&&(ut=4<Qe.wb?ut>>2:ut>>1)>9-Qe.wb&&(ut=9-Qe.wb),1>ut&&(ut=1),rt.dd=ut,rt.tc=2*ft+ut,rt.ld=40<=ft?2:15<=ft?1:0}else rt.tc=0;rt.La=Ve}}}Fe=0}else ca(_e,6,"Frame setup failed"),Fe=_e.a;if(Fe=Fe==0){if(Fe){_e.$c=0,0<_e.Aa||(_e.Ic=mM);t:{Fe=_e.Ic,Qe=4*(ut=_e.za);var zt=32*ut,Mt=ut+1,dr=0<_e.L?ut*(0<_e.Aa?2:1):0,It=(_e.Aa==2?2:1)*ut;if((rt=Qe+832+(Ve=3*(16*Fe+Op[_e.L])/2*zt)+(tt=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=rt)Fe=0;else{if(rt>_e.Vb){if(_e.Vb=0,_e.Ec=i(rt),_e.Fc=0,_e.Ec==null){Fe=ca(_e,1,"no memory during frame initialization.");break t}_e.Vb=rt}rt=_e.Ec,ft=_e.Fc,_e.Ac=rt,_e.Bc=ft,ft+=Qe,_e.Gd=o(zt,Ps),_e.Hd=0,_e.rb=o(Mt+1,Ta),_e.sb=1,_e.wa=dr?o(dr,yr):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=ut),t(!0),_e.oc=rt,_e.pc=ft,ft+=832,_e.ya=o(It,Gn),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=ut),_e.R=16*ut,_e.B=8*ut,ut=(zt=Op[_e.L])*_e.R,zt=zt/2*_e.B,_e.sa=rt,_e.ta=ft+ut,_e.qa=_e.sa,_e.ra=_e.ta+16*Fe*_e.R+zt,_e.Ha=_e.qa,_e.Ia=_e.ra+8*Fe*_e.B+zt,_e.$c=0,ft+=Ve,_e.mb=tt?rt:null,_e.nb=tt?ft:null,t(ft+tt<=_e.Fc+_e.Vb),ga(_e),s(_e.Ac,_e.Bc,0,Qe),Fe=1}}if(Fe){if(Me.ka=0,Me.y=_e.sa,Me.O=_e.ta,Me.f=_e.qa,Me.N=_e.ra,Me.ea=_e.Ha,Me.Vd=_e.Ia,Me.fa=_e.R,Me.Rc=_e.B,Me.F=null,Me.J=0,!Tp){for(Fe=-255;255>=Fe;++Fe)ko[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)em[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)tm[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)vd[255+Fe]=0>Fe?0:255<Fe?255:Fe;Tp=1}_o=mo,Wl=Go,Ds=Fr,Dr=fo,Wr=Bl,li=cd,Da=Eu,qa=yc,ll=J,ys=ye,cl=zh,Uh=E,Pu=Ce,jp=Re,Xf=jn,Sp=Qo,yd=Au,Ap=Bh,Fi[0]=Ih,Fi[1]=pc,Fi[2]=ai,Fi[3]=$r,Fi[4]=Mi,Fi[5]=ku,Fi[6]=Ri,Fi[7]=Ko,Fi[8]=Zo,Fi[9]=Vl,Yl[0]=ud,Yl[1]=Nu,Yl[2]=zl,Yl[3]=dd,Yl[4]=Ul,Yl[5]=xc,Yl[6]=Zf,jo[0]=Fh,jo[1]=_u,jo[2]=ba,jo[3]=Xo,jo[4]=hd,jo[5]=ju,jo[6]=fd,Fe=1}else Fe=0}Fe&&(Fe=function(Cr,En){for(Cr.M=0;Cr.M<Cr.Va;++Cr.M){var ur,Ft=Cr.Jc[Cr.M&Cr.Xb],kt=Cr.m,rn=Cr;for(ur=0;ur<rn.za;++ur){var ir=kt,Mr=rn,_a=Mr.Ac,Zn=Mr.Bc+4*ur,Fs=Mr.zc,$a=Mr.ya[Mr.aa+ur];if(Mr.Qa.Bb?$a.$b=X(ir,Mr.Pa.jb[0])?2+X(ir,Mr.Pa.jb[2]):X(ir,Mr.Pa.jb[1]):$a.$b=0,Mr.kc&&($a.Ad=X(ir,Mr.Bd)),$a.Za=!X(ir,145)+0,$a.Za){var ws=$a.Ob,Bs=0;for(Mr=0;4>Mr;++Mr){var Tn,Rr=Fs[0+Mr];for(Tn=0;4>Tn;++Tn){Rr=bs[_a[Zn+Tn]][Rr];for(var Kr=tn[X(ir,Rr[0])];0<Kr;)Kr=tn[2*Kr+X(ir,Rr[Kr])];Rr=-Kr,_a[Zn+Tn]=Rr}a(ws,Bs,_a,Zn,4),Bs+=4,Fs[0+Mr]=Rr}}else Rr=X(ir,156)?X(ir,128)?1:3:X(ir,163)?2:0,$a.Ob[0]=Rr,s(_a,Zn,Rr,4),s(Fs,0,Rr,4);$a.Dd=X(ir,142)?X(ir,114)?X(ir,183)?1:3:2:0}if(rn.m.Ka)return ca(Cr,7,"Premature end-of-partition0 encountered.");for(;Cr.ja<Cr.za;++Cr.ja){if(rn=Ft,ir=(kt=Cr).rb[kt.sb-1],_a=kt.rb[kt.sb+kt.ja],ur=kt.ya[kt.aa+kt.ja],Zn=kt.kc?ur.Ad:0)ir.la=_a.la=0,ur.Za||(ir.Na=_a.Na=0),ur.Hc=0,ur.Gc=0,ur.ia=0;else{var Ha,Zr;if(ir=_a,_a=rn,Zn=kt.Pa.Xc,Fs=kt.ya[kt.aa+kt.ja],$a=kt.pb[Fs.$b],Mr=Fs.ad,ws=0,Bs=kt.rb[kt.sb-1],Rr=Tn=0,s(Mr,ws,0,384),Fs.Za)var Xn=0,dl=Zn[3];else{Kr=i(16);var an=ir.Na+Bs.Na;if(an=Ht(_a,Zn[1],an,$a.Eb,0,Kr,0),ir.Na=Bs.Na=(0<an)+0,1<an)_o(Kr,0,Mr,ws);else{var di=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)Mr[ws+Kr]=di}Xn=1,dl=Zn[0]}var ua=15&ir.la,Cn=15&Bs.la;for(Kr=0;4>Kr;++Kr){var Bi=1&Cn;for(di=Zr=0;4>di;++di)ua=ua>>1|(Bi=(an=Ht(_a,dl,an=Bi+(1&ua),$a.Sc,Xn,Mr,ws))>Xn)<<7,Zr=Zr<<2|(3<an?3:1<an?2:Mr[ws+0]!=0),ws+=16;ua>>=4,Cn=Cn>>1|Bi<<7,Tn=(Tn<<8|Zr)>>>0}for(dl=ua,Xn=Cn>>4,Ha=0;4>Ha;Ha+=2){for(Zr=0,ua=ir.la>>4+Ha,Cn=Bs.la>>4+Ha,Kr=0;2>Kr;++Kr){for(Bi=1&Cn,di=0;2>di;++di)an=Bi+(1&ua),ua=ua>>1|(Bi=0<(an=Ht(_a,Zn[2],an,$a.Qc,0,Mr,ws)))<<3,Zr=Zr<<2|(3<an?3:1<an?2:Mr[ws+0]!=0),ws+=16;ua>>=2,Cn=Cn>>1|Bi<<5}Rr|=Zr<<4*Ha,dl|=ua<<4<<Ha,Xn|=(240&Cn)<<Ha}ir.la=dl,Bs.la=Xn,Fs.Hc=Tn,Fs.Gc=Rr,Fs.ia=43690&Rr?0:$a.ia,Zn=!(Tn|Rr)}if(0<kt.L&&(kt.wa[kt.Y+kt.ja]=kt.gd[ur.$b][ur.Za],kt.wa[kt.Y+kt.ja].La|=!Zn),rn.Ka)return ca(Cr,7,"Premature end-of-file encountered.")}if(ga(Cr),kt=En,rn=1,ur=(Ft=Cr).D,ir=0<Ft.L&&Ft.M>=Ft.zb&&Ft.M<=Ft.Va,Ft.Aa==0)t:{if(ur.M=Ft.M,ur.uc=ir,ii(Ft,ur),rn=1,ur=(Zr=Ft.D).Nb,ir=(Rr=Op[Ft.L])*Ft.R,_a=Rr/2*Ft.B,Kr=16*ur*Ft.R,di=8*ur*Ft.B,Zn=Ft.sa,Fs=Ft.ta-ir+Kr,$a=Ft.qa,Mr=Ft.ra-_a+di,ws=Ft.Ha,Bs=Ft.Ia-_a+di,Cn=(ua=Zr.M)==0,Tn=ua>=Ft.Va-1,Ft.Aa==2&&ii(Ft,Zr),Zr.uc)for(Bi=(an=Ft).D.M,t(an.D.uc),Zr=an.yb;Zr<an.Hb;++Zr){Xn=Zr,dl=Bi;var zs=(zi=(Jn=an).D).Nb;Ha=Jn.R;var zi=zi.wa[zi.Y+Xn],Ui=Jn.sa,ui=Jn.ta+16*zs*Ha+16*Xn,Vi=zi.dd,pa=zi.tc;if(pa!=0)if(t(3<=pa),Jn.L==1)0<Xn&&Sp(Ui,ui,Ha,pa+4),zi.La&&Ap(Ui,ui,Ha,pa),0<dl&&Xf(Ui,ui,Ha,pa+4),zi.La&&yd(Ui,ui,Ha,pa);else{var qi=Jn.B,ul=Jn.qa,Du=Jn.ra+8*zs*qi+8*Xn,Nc=Jn.Ha,Jn=Jn.Ia+8*zs*qi+8*Xn;zs=zi.ld,0<Xn&&(qa(Ui,ui,Ha,pa+4,Vi,zs),ys(ul,Du,Nc,Jn,qi,pa+4,Vi,zs)),zi.La&&(Uh(Ui,ui,Ha,pa,Vi,zs),jp(ul,Du,Nc,Jn,qi,pa,Vi,zs)),0<dl&&(Da(Ui,ui,Ha,pa+4,Vi,zs),ll(ul,Du,Nc,Jn,qi,pa+4,Vi,zs)),zi.La&&(cl(Ui,ui,Ha,pa,Vi,zs),Pu(ul,Du,Nc,Jn,qi,pa,Vi,zs))}}if(Ft.ia&&alert("todo:DitherRow"),kt.put!=null){if(Zr=16*ua,ua=16*(ua+1),Cn?(kt.y=Ft.sa,kt.O=Ft.ta+Kr,kt.f=Ft.qa,kt.N=Ft.ra+di,kt.ea=Ft.Ha,kt.W=Ft.Ia+di):(Zr-=Rr,kt.y=Zn,kt.O=Fs,kt.f=$a,kt.N=Mr,kt.ea=ws,kt.W=Bs),Tn||(ua-=Rr),ua>kt.o&&(ua=kt.o),kt.F=null,kt.J=null,Ft.Fa!=null&&0<Ft.Fa.length&&Zr<ua&&(kt.J=Hr(Ft,kt,Zr,ua-Zr),kt.F=Ft.mb,kt.F==null&&kt.F.length==0)){rn=ca(Ft,3,"Could not decode alpha data.");break t}Zr<kt.j&&(Rr=kt.j-Zr,Zr=kt.j,t(!(1&Rr)),kt.O+=Ft.R*Rr,kt.N+=Ft.B*(Rr>>1),kt.W+=Ft.B*(Rr>>1),kt.F!=null&&(kt.J+=kt.width*Rr)),Zr<ua&&(kt.O+=kt.v,kt.N+=kt.v>>1,kt.W+=kt.v>>1,kt.F!=null&&(kt.J+=kt.v),kt.ka=Zr-kt.j,kt.U=kt.va-kt.v,kt.T=ua-Zr,rn=kt.put(kt))}ur+1!=Ft.Ic||Tn||(a(Ft.sa,Ft.ta-ir,Zn,Fs+16*Ft.R,ir),a(Ft.qa,Ft.ra-_a,$a,Mr+8*Ft.B,_a),a(Ft.Ha,Ft.Ia-_a,ws,Bs+8*Ft.B,_a))}if(!rn)return ca(Cr,6,"Output aborted.")}return 1}(_e,Me)),Me.bc!=null&&Me.bc(Me),Fe&=1}return Fe?(_e.cb=0,Fe):0})(v,z)||(j=v.a)}}else j=v.a}j==0&&le.Oa!=null&&le.Oa.fd&&(j=nl(le.ba))}le=j}ne=le!=0?null:11>ne?ue.f.RGBA.eb:ue.f.kb.y}else ne=null;return ne};var uN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,G){for(var O="",V=0;V<4;V++)O+=String.fromCharCode(C[G++]);return O}function h(C,G){return C[G+0]|C[G+1]<<8}function f(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16)>>>0}function g(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16|C[G+3]<<24)>>>0}new c;var m=[0],y=[0],x=[],N=new c,b=e,w=function(C,G){var O={},V=0,Y=!1,ee=0,he=0;if(O.frames=[],!function(A,q){for(var F=0;F<4;F++)if(A[q+F]!="RIFF".charCodeAt(F))return!0;return!1}(C,G)){for(g(C,G+=4),G+=8;G<C.length;){var de=u(C,G),xe=g(C,G+=4);G+=4;var oe=xe+(1&xe);switch(de){case"VP8 ":case"VP8L":O.frames[V]===void 0&&(O.frames[V]={}),(K=O.frames[V]).src_off=Y?he:G-8,K.src_size=ee+xe+8,V++,Y&&(Y=!1,ee=0,he=0);break;case"VP8X":(K=O.header={}).feature_flags=C[G];var fe=G+4;K.canvas_width=1+f(C,fe),fe+=3,K.canvas_height=1+f(C,fe),fe+=3;break;case"ALPH":Y=!0,ee=oe+8,he=G-8;break;case"ANIM":(K=O.header).bgcolor=g(C,G),fe=G+4,K.loop_count=h(C,fe),fe+=2;break;case"ANMF":var Se,K;(K=O.frames[V]={}).offset_x=2*f(C,G),G+=3,K.offset_y=2*f(C,G),G+=3,K.width=1+f(C,G),G+=3,K.height=1+f(C,G),G+=3,K.duration=f(C,G),G+=3,Se=C[G++],K.dispose=1&Se,K.blend=Se>>1&1}de!="ANMF"&&(G+=oe)}return O}}(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var k=w.header?w.header:null,S=w.frames?w.frames:null;if(k){k.loop_counter=k.loop_count,m=[k.canvas_height],y=[k.canvas_width];for(var B=0;B<S.length&&S[B].blend!=0;B++);}var H=S[0],I=N.WebPDecodeRGBA(b,H.src_off,H.src_size,y,m);H.rgba=I,H.imgwidth=y[0],H.imgheight=m[0];for(var D=0;D<y[0]*m[0]*4;D++)x[D]=I[D];return this.width=y,this.height=m,this.data=x,this}(function(e){var t,r,a,s,i,o,l,c,u,h=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var f=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=A;Object.defineProperty(this,"pdf",{get:function(){return q}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(ce){F=!!ce}});var R=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return R},set:function(ce){R=!!ce}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(ce){isNaN(ce)||(W=ce)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(ce){isNaN(ce)||(Z=ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ce){var Ae;typeof ce=="number"?Ae=[ce,ce,ce,ce]:((Ae=new Array(4))[0]=ce[0],Ae[1]=ce.length>=2?ce[1]:Ae[0],Ae[2]=ce.length>=3?ce[2]:Ae[0],Ae[3]=ce.length>=4?ce[3]:Ae[1]),u.margin=Ae}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(ce){ie=ce}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(ce){re=ce}});var X=[];Object.defineProperty(this,"pageBreaks",{get:function(){return X},set:function(ce){X=ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ce){ce instanceof h&&(u=ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ce){u.path=ce}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ce){ke=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var Ae;Ae=g(ce),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var Ae=g(ce);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var Pe=null,De=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(ce){Pe=null,De=null,Ye=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var Ae;if(this.ctx.font=ce,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ce))!==null){var je=Ae[1];Ae[2];var et=Ae[3],ae=Ae[4];Ae[5];var Oe=Ae[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(Ge==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var at=function(_t){var br,Qt,nt=[],Wt=_t.trim();if(Wt==="")return zb;if(Wt in q3)return[q3[Wt]];for(;Wt!=="";){switch(Qt=null,br=(Wt=H3(Wt)).charAt(0)){case'"':case"'":Qt=qW(Wt.substring(1),br);break;default:Qt=$W(Wt)}if(Qt===null||(nt.push(Qt[0]),(Wt=H3(Qt[1]))!==""&&Wt.charAt(0)!==","))return zb;Wt=Wt.replace(/^,/,"")}return nt}(Oe);if(this.fontFaces){var yt=function(_t,br){var Qt=_t.getFontList(),nt=JSON.stringify(Qt);if(Pe===null||De!==nt){var Wt=function(kr){var Ct=[];return Object.keys(kr).forEach(function(wr){kr[wr].forEach(function(Bt){var $t=null;switch(Bt){case"bold":$t={family:wr,weight:"bold"};break;case"italic":$t={family:wr,style:"italic"};break;case"bolditalic":$t={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:wr}}$t!==null&&($t.ref={name:wr,style:Bt},Ct.push($t))})}),Ct}(Qt);Pe=function(kr){for(var Ct={},wr=0;wr<kr.length;++wr){var Bt=Bb(kr[wr]),$t=Bt.family,Er=Bt.stretch,Jt=Bt.style,Ot=Bt.weight;Ct[$t]=Ct[$t]||{},Ct[$t][Er]=Ct[$t][Er]||{},Ct[$t][Er][Jt]=Ct[$t][Er][Jt]||{},Ct[$t][Er][Jt][Ot]=Bt}return Ct}(Wt.concat(br)),De=nt}return Pe}(this.pdf,this.fontFaces),wt=at.map(function(_t){return{family:_t,stretch:"normal",weight:et,style:je}}),ot=function(_t,br,Qt){for(var nt=(Qt=Qt||{}).defaultFontFamily||"times",Wt=Object.assign({},VW,Qt.genericFontFamilies||{}),kr=null,Ct=null,wr=0;wr<br.length;++wr)if(Wt[(kr=Bb(br[wr])).family]&&(kr.family=Wt[kr.family]),_t.hasOwnProperty(kr.family)){Ct=_t[kr.family];break}if(!(Ct=Ct||_t[nt]))throw new Error("Could not find a font-family for the rule '"+$3(kr)+"' and default family '"+nt+"'.");if(Ct=function(Bt,$t){if($t[Bt])return $t[Bt];var Er=Ww[Bt],Jt=Er<=Ww.normal?-1:1,Ot=V3($t,N7,Er,Jt);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+Bt);return Ot}(kr.stretch,Ct),Ct=function(Bt,$t){if($t[Bt])return $t[Bt];for(var Er=_7[Bt],Jt=0;Jt<Er.length;++Jt)if($t[Er[Jt]])return $t[Er[Jt]];throw new Error("Could not find a matching font-style for "+Bt)}(kr.style,Ct),!(Ct=function(Bt,$t){if($t[Bt])return $t[Bt];if(Bt===400&&$t[500])return $t[500];if(Bt===500&&$t[400])return $t[400];var Er=UW[Bt],Jt=V3($t,k7,Er,Bt<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+Bt);return Jt}(kr.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+$3(kr)+"'.");return Ct}(yt,wt);this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var jt="";(et==="bold"||parseInt(et,10)>=700||je==="bold")&&(jt="bold"),je==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var Et="",Te={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<at.length;it++){if(this.pdf.internal.getFont(at[it],jt,{noFallback:!0,disableWarning:!0})!==void 0){Et=at[it];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(at[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=at[it],jt="bold";else if(this.pdf.internal.getFont(at[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=at[it],jt="normal";break}}if(Et===""){for(var gt=0;gt<at.length;gt++)if(Te[at[gt]]){Et=Te[at[gt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};f.prototype.setLineDash=function(A){this.lineDash=A},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(A,q){if(isNaN(A)||isNaN(q))throw ha.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(A,q)},f.prototype.closePath=function(){var A=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&ta(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){A=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},f.prototype.lineTo=function(A,q){if(isNaN(A)||isNaN(q))throw ha.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(A,q,F,R){if(isNaN(F)||isNaN(R)||isNaN(A)||isNaN(q))throw ha.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new o(F,R)),Z=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},f.prototype.bezierCurveTo=function(A,q,F,R,W,Z){if(isNaN(W)||isNaN(Z)||isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R))throw ha.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(W,Z)),re=this.ctx.transform.applyToPoint(new o(A,q)),X=this.ctx.transform.applyToPoint(new o(F,R));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:X.x,y2:X.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.arc=function(A,q,F,R,W,Z){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R)||isNaN(W))throw ha.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(A,q));A=ie.x,q=ie.y;var re=this.ctx.transform.applyToPoint(new o(0,F)),X=this.ctx.transform.applyToPoint(new o(0,0));F=Math.sqrt(Math.pow(re.x-X.x,2)+Math.pow(re.y-X.y,2))}Math.abs(W-R)>=2*Math.PI&&(R=0,W=2*Math.PI),this.path.push({type:"arc",x:A,y:q,radius:F,startAngle:R,endAngle:W,counterclockwise:Z})},f.prototype.arcTo=function(A,q,F,R,W){throw new Error("arcTo not implemented.")},f.prototype.rect=function(A,q,F,R){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R))throw ha.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,q),this.lineTo(A+F,q),this.lineTo(A+F,q+R),this.lineTo(A,q+R),this.lineTo(A,q),this.lineTo(A+F,q),this.lineTo(A,q)},f.prototype.fillRect=function(A,q,F,R){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R))throw ha.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,q,F,R),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},f.prototype.strokeRect=function(A,q,F,R){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R))throw ha.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(A,q,F,R),this.stroke())},f.prototype.clearRect=function(A,q,F,R){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R))throw ha.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,q,F,R))},f.prototype.save=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var R=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=R}},f.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(q),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(A){var q,F,R,W;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))q=0,F=0,R=0,W=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(Z!==null)q=parseInt(Z[1]),F=parseInt(Z[2]),R=parseInt(Z[3]),W=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)q=parseInt(Z[1]),F=parseInt(Z[2]),R=parseInt(Z[3]),W=parseFloat(Z[4]);else{if(W=1,typeof A=="string"&&A.charAt(0)!=="#"){var ie=new g7(A);A=ie.ok?ie.toHex():"#000000"}A.length===4?(q=A.substring(1,2),q+=q,F=A.substring(2,3),F+=F,R=A.substring(3,4),R+=R):(q=A.substring(1,3),F=A.substring(3,5),R=A.substring(5,7)),q=parseInt(q,16),F=parseInt(F,16),R=parseInt(R,16)}}return{r:q,g:F,b:R,a:W,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(A,q,F,R){if(isNaN(q)||isNaN(F)||typeof A!="string")throw ha.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(R=isNaN(R)?void 0:R,!m.call(this)){var W=oe(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;V.call(this,{text:A,x:q,y:F,scale:Z,angle:W,align:this.textAlign,maxWidth:R})}},f.prototype.strokeText=function(A,q,F,R){if(isNaN(q)||isNaN(F)||typeof A!="string")throw ha.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){R=isNaN(R)?void 0:R;var W=oe(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;V.call(this,{text:A,x:q,y:F,scale:Z,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:R})}},f.prototype.measureText=function(A){if(typeof A!="string")throw ha.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,F=this.pdf.internal.scaleFactor,R=q.internal.getFontSize(),W=q.getStringUnitWidth(A)*R/q.internal.scaleFactor;return new function(Z){var ie=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:W*=Math.round(96*F/72*1e4)/1e4})},f.prototype.scale=function(A,q){if(isNaN(A)||isNaN(q))throw ha.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new c(A,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.rotate=function(A){if(isNaN(A))throw ha.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(A,q){if(isNaN(A)||isNaN(q))throw ha.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new c(1,0,0,1,A,q);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.transform=function(A,q,F,R,W,Z){if(isNaN(A)||isNaN(q)||isNaN(F)||isNaN(R)||isNaN(W)||isNaN(Z))throw ha.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(A,q,F,R,W,Z);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.setTransform=function(A,q,F,R,W,Z){A=isNaN(A)?1:A,q=isNaN(q)?0:q,F=isNaN(F)?0:F,R=isNaN(R)?1:R,W=isNaN(W)?0:W,Z=isNaN(Z)?0:Z,this.ctx.transform=new c(A,q,F,R,W,Z)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(A,q,F,R,W,Z,ie,re,X){var ke=this.pdf.getImageProperties(A),Pe=1,De=1,Ye=1,ce=1;R!==void 0&&re!==void 0&&(Ye=re/R,ce=X/W,Pe=ke.width/R*re/R,De=ke.height/W*X/W),Z===void 0&&(Z=q,ie=F,q=0,F=0),R!==void 0&&re===void 0&&(re=R,X=W),R===void 0&&re===void 0&&(re=ke.width,X=ke.height);var Ae=this.ctx.transform.decompose(),je=oe(Ae.rotate.shx),et=new c,ae=(et=(et=(et=et.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new l(Z-q*Ye,ie-F*ce,R*Pe,W*De));if(this.autoPaging){for(var Oe,Ge=N.call(this,ae),at=[],yt=0;yt<Ge.length;yt+=1)at.indexOf(Ge[yt])===-1&&at.push(Ge[yt]);k(at);for(var wt=at[0],ot=at[at.length-1],jt=wt;jt<ot+1;jt++){this.pdf.setPage(jt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=jt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=jt===1?0:it+(jt-2)*gt;if(this.ctx.clip_path.length!==0){var br=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Oe,this.posX+this.margin[3],-_t+Te+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=br}var Qt=JSON.parse(JSON.stringify(ae));Qt=w([Qt],this.posX+this.margin[3],-_t+Te+this.ctx.prevPageLastElemOffset)[0];var nt=(jt>wt||jt<ot)&&x.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,gt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,je),nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,je)};var N=function(A,q,F){var R=[];q=q||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":R.push(Math.floor((A.y+W)/F)+1);break;case"arc":R.push(Math.floor((A.y+W-A.radius)/F)+1),R.push(Math.floor((A.y+W+A.radius)/F)+1);break;case"qct":var Z=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);R.push(Math.floor((Z.y+W)/F)+1),R.push(Math.floor((Z.y+Z.h+W)/F)+1);break;case"bct":var ie=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);R.push(Math.floor((ie.y+W)/F)+1),R.push(Math.floor((ie.y+ie.h+W)/F)+1);break;case"rect":R.push(Math.floor((A.y+W)/F)+1),R.push(Math.floor((A.y+A.h+W)/F)+1)}for(var re=0;re<R.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<R[re];)b.call(this);return R},b=function(){var A=this.fillStyle,q=this.strokeStyle,F=this.font,R=this.lineCap,W=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=q,this.font=F,this.lineCap=R,this.lineWidth=W,this.lineJoin=Z},w=function(A,q,F){for(var R=0;R<A.length;R++)switch(A[R].type){case"bct":A[R].x2+=q,A[R].y2+=F;case"qct":A[R].x1+=q,A[R].y1+=F;default:A[R].x+=q,A[R].y+=F}return A},k=function(A){return A.sort(function(q,F){return q-F})},S=function(A,q){var F=this.fillStyle,R=this.strokeStyle,W=this.lineCap,Z=this.lineWidth,ie=Math.abs(Z*this.ctx.transform.scaleX),re=this.lineJoin;if(this.autoPaging){for(var X,ke,Pe=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),Ye=[],ce=0;ce<De.length;ce++)if(De[ce].x!==void 0)for(var Ae=N.call(this,De[ce]),je=0;je<Ae.length;je+=1)Ye.indexOf(Ae[je])===-1&&Ye.push(Ae[je]);for(var et=0;et<Ye.length;et++)for(;this.pdf.internal.getNumberOfPages()<Ye[et];)b.call(this);k(Ye);for(var ae=Ye[0],Oe=Ye[Ye.length-1],Ge=ae;Ge<Oe+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=F,this.strokeStyle=R,this.lineCap=W,this.lineWidth=ie,this.lineJoin=re;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=Ge===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=Ge===1?0:wt+(Ge-2)*ot;if(this.ctx.clip_path.length!==0){var Et=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-jt+yt+this.ctx.prevPageLastElemOffset),B.call(this,A,!0),this.path=Et}if(ke=JSON.parse(JSON.stringify(Pe)),this.path=w(ke,this.posX+this.margin[3],-jt+yt+this.ctx.prevPageLastElemOffset),q===!1||Ge===0){var Te=(Ge>ae||Ge<Oe)&&x.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,ot,null).clip().discardPath()),B.call(this,A,q),Te&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}this.path=Pe}else this.lineWidth=ie,B.call(this,A,q),this.lineWidth=Z},B=function(A,q){if((A!=="stroke"||q||!y.call(this))&&(A==="stroke"||q||!m.call(this))){for(var F,R,W=[],Z=this.path,ie=0;ie<Z.length;ie++){var re=Z[ie];switch(re.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:re,deltas:[],abs:[]});break;case"lt":var X=W.length;if(Z[ie-1]&&!isNaN(Z[ie-1].x)&&(F=[re.x-Z[ie-1].x,re.y-Z[ie-1].y],X>0)){for(;X>=0;X--)if(W[X-1].close!==!0&&W[X-1].begin!==!0){W[X-1].deltas.push(F),W[X-1].abs.push(re);break}}break;case"bct":F=[re.x1-Z[ie-1].x,re.y1-Z[ie-1].y,re.x2-Z[ie-1].x,re.y2-Z[ie-1].y,re.x-Z[ie-1].x,re.y-Z[ie-1].y],W[W.length-1].deltas.push(F);break;case"qct":var ke=Z[ie-1].x+2/3*(re.x1-Z[ie-1].x),Pe=Z[ie-1].y+2/3*(re.y1-Z[ie-1].y),De=re.x+2/3*(re.x1-re.x),Ye=re.y+2/3*(re.y1-re.y),ce=re.x,Ae=re.y;F=[ke-Z[ie-1].x,Pe-Z[ie-1].y,De-Z[ie-1].x,Ye-Z[ie-1].y,ce-Z[ie-1].x,Ae-Z[ie-1].y],W[W.length-1].deltas.push(F);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(re)}}R=q?null:A==="stroke"?"stroke":"fill";for(var je=!1,et=0;et<W.length;et++)if(W[et].arc)for(var ae=W[et].abs,Oe=0;Oe<ae.length;Oe++){var Ge=ae[Oe];Ge.type==="arc"?D.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,q,!je):Y.call(this,Ge.x,Ge.y),je=!0}else if(W[et].close===!0)this.pdf.internal.out("h"),je=!1;else if(W[et].begin!==!0){var at=W[et].start.x,yt=W[et].start.y;ee.call(this,W[et].deltas,at,yt),je=!0}R&&C.call(this,R),q&&G.call(this)}},H=function(A){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-F;case"top":return A+q-F;case"hanging":return A+q-2*F;case"middle":return A+q/2-F;default:return A}},I=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(q,F){this.colorStops.push([q,F])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(A,q,F,R,W,Z,ie,re,X){for(var ke=de.call(this,F,R,W,Z),Pe=0;Pe<ke.length;Pe++){var De=ke[Pe];Pe===0&&(X?O.call(this,De.x1+A,De.y1+q):Y.call(this,De.x1+A,De.y1+q)),he.call(this,A,q,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}re?G.call(this):C.call(this,ie)},C=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(A,q){this.pdf.internal.out(r(A)+" "+a(q)+" m")},V=function(A){var q;switch(A.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var F,R,W,Z=this.pdf.getTextDimensions(A.text),ie=H.call(this,A.y),re=I.call(this,ie)-Z.h,X=this.ctx.transform.applyToPoint(new o(A.x,ie));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Pe=new c;Pe=(Pe=(Pe=Pe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var De=this.ctx.transform.applyToRectangle(new l(A.x,ie,Z.w,Z.h)),Ye=Pe.applyToRectangle(new l(A.x,re,Z.w,Z.h)),ce=N.call(this,Ye),Ae=[],je=0;je<ce.length;je+=1)Ae.indexOf(ce[je])===-1&&Ae.push(ce[je]);k(Ae);for(var et=Ae[0],ae=Ae[Ae.length-1],Oe=et;Oe<ae+1;Oe++){this.pdf.setPage(Oe);var Ge=Oe===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],wt=yt-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],jt=ot-this.margin[3],Et=Oe===1?0:at+(Oe-2)*wt;if(this.ctx.clip_path.length!==0){var Te=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(F,this.posX+this.margin[3],-1*Et+Ge),B.call(this,"fill",!0),this.path=Te}var it=w([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(R=this.pdf.internal.getFontSize(),this.pdf.setFontSize(R*A.scale),W=this.lineWidth,this.lineWidth=W*A.scale);var gt=this.autoPaging!=="text";if(gt||it.y+it.h<=yt){if(gt||it.y>=Ge&&it.x<=ot){var _t=gt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||ot-it.x)[0],br=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0],Qt=gt&&(Oe>et||Oe<ae)&&x.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,wt,null).clip().discardPath()),this.pdf.text(_t,br.x,br.y,{angle:A.angle,align:q,renderingMode:A.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else it.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-it.y);A.scale>=.01&&(this.pdf.setFontSize(R),this.lineWidth=W)}}else A.scale>=.01&&(R=this.pdf.internal.getFontSize(),this.pdf.setFontSize(R*A.scale),W=this.lineWidth,this.lineWidth=W*A.scale),this.pdf.text(A.text,X.x+this.posX,X.y+this.posY,{angle:A.angle,align:q,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(R),this.lineWidth=W)},Y=function(A,q,F,R){F=F||0,R=R||0,this.pdf.internal.out(r(A+F)+" "+a(q+R)+" l")},ee=function(A,q,F){return this.pdf.lines(A,q,F,null,null)},he=function(A,q,F,R,W,Z,ie,re){this.pdf.internal.out([t(s(F+A)),t(i(R+q)),t(s(W+A)),t(i(Z+q)),t(s(ie+A)),t(i(re+q)),"c"].join(" "))},de=function(A,q,F,R){for(var W=2*Math.PI,Z=Math.PI/2;q>F;)q-=W;var ie=Math.abs(F-q);ie<W&&R&&(ie=W-ie);for(var re=[],X=R?-1:1,ke=q;ie>1e-5;){var Pe=ke+X*Math.min(ie,Z);re.push(xe.call(this,A,ke,Pe)),ie-=Math.abs(Pe-ke),ke=Pe}return re},xe=function(A,q,F){var R=(F-q)/2,W=A*Math.cos(R),Z=A*Math.sin(R),ie=W,re=-Z,X=ie*ie+re*re,ke=X+ie*W+re*Z,Pe=4/3*(Math.sqrt(2*X*ke)-ke)/(ie*Z-re*W),De=ie-Pe*re,Ye=re+Pe*ie,ce=De,Ae=-Ye,je=R+q,et=Math.cos(je),ae=Math.sin(je);return{x1:A*Math.cos(q),y1:A*Math.sin(q),x2:De*et-Ye*ae,y2:De*ae+Ye*et,x3:ce*et-Ae*ae,y3:ce*ae+Ae*et,x4:A*Math.cos(F),y4:A*Math.sin(F)}},oe=function(A){return 180*A/Math.PI},fe=function(A,q,F,R,W,Z){var ie=A+.5*(F-A),re=q+.5*(R-q),X=W+.5*(F-W),ke=Z+.5*(R-Z),Pe=Math.min(A,W,ie,X),De=Math.max(A,W,ie,X),Ye=Math.min(q,Z,re,ke),ce=Math.max(q,Z,re,ke);return new l(Pe,Ye,De-Pe,ce-Ye)},Se=function(A,q,F,R,W,Z,ie,re){var X,ke,Pe,De,Ye,ce,Ae,je,et,ae,Oe,Ge,at,yt,wt=F-A,ot=R-q,jt=W-F,Et=Z-R,Te=ie-W,it=re-Z;for(ke=0;ke<41;ke++)et=(Ae=(Pe=A+(X=ke/40)*wt)+X*((Ye=F+X*jt)-Pe))+X*(Ye+X*(W+X*Te-Ye)-Ae),ae=(je=(De=q+X*ot)+X*((ce=R+X*Et)-De))+X*(ce+X*(Z+X*it-ce)-je),ke==0?(Oe=et,Ge=ae,at=et,yt=ae):(Oe=Math.min(Oe,et),Ge=Math.min(Ge,ae),at=Math.max(at,et),yt=Math.max(yt,ae));return new l(Math.round(Oe),Math.round(Ge),Math.round(at-Oe),Math.round(yt-Ge))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,q,F=(A=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:q}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(Vt.API),function(e){var t=function(o){var l,c,u,h,f,g,m,y,x,N;for(c=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(N=f%85))/85)-(x=f%85))/85)-(y=f%85))/85)-(m=f%85))/85)%85,c.push(g+33,m+33,y+33,x+33,N+33)):c.push(122);return function(b,w){for(var k=w;k>0;k--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,h,f,g=String,m="length",y=255,x="charCodeAt",N="slice",b="replace";for(o[N](-2),o=o[N](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],h=0,f=(o+=l="uuuuu"[N](o[m]%5||5))[m];f>h;h+=5)c=52200625*(o[x](h)-33)+614125*(o[x](h+1)-33)+7225*(o[x](h+2)-33)+85*(o[x](h+3)-33)+(o[x](h+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(w,k){for(var S=k;S>0;S--)w.pop()}(u,l[m]),g.fromCharCode.apply(g,u)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Bw(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=a(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,r,a){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,h){var f=new XMLHttpRequest,g=0,m=function(y){var x=y.length,N=[],b=String.fromCharCode;for(g=0;g<x;g+=1)N.push(b(255&y.charCodeAt(g)));return N.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(m(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(s,i,o)}catch{}return l}(t,r,a)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):Qx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):Qx(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=ta(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},i=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var y=h[m],x=y.src.find(function(N){return N.format==="truetype"});x&&u.addFont(x.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,h){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,f).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),g=u.call(f,l,c);return o.convert(g,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Vt.getPageSize=function(l,c,u){if(ta(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,x=0,N=0;if(m.hasOwnProperty(g))x=m[g][1]/f,N=m[g][0]/f;else try{x=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",N>x&&(y=N,N=x,x=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>N&&(y=N,N=x,x=y)}return{width:N,height:x,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Bb):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return G3=e,this.internal.events.subscribe("postPutResources",function(){yx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yx!==void 0&&W3!==void 0&&this.internal.out("/Names <</JavaScript "+yx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var f=r.internal.newObject();h.push(f);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var g,m=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},N=4;N<y;N+=2){if(N+=m,t.indexOf(f.charCodeAt(N+1))!==-1){g=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),x={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:g,numcomponents:f.charCodeAt(N+9)};break}m=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:s}}return h}}(Vt.API),Vt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=AW(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,h=i.depth;s=u&&c===1?function(D){for(var C=D.width,G=D.height,O=D.data,V=D.palette,Y=D.depth,ee=!1,he=[],de=[],xe=void 0,oe=!1,fe=0,Se=0;Se<V.length;Se++){var K=Xj(V[Se],4),A=K[0],q=K[1],F=K[2],R=K[3];he.push(A,q,F),R!=null&&(R===0?(fe++,de.length<1&&de.push(Se)):R<255&&(oe=!0))}if(oe||fe>1){ee=!0,de=void 0;var W=C*G;xe=new Uint8Array(W);for(var Z=new DataView(O.buffer),ie=0;ie<W;ie++){var re=Ub(Z,ie,Y),X=Xj(V[re],4)[3];xe[ie]=X}}else fe===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:O,alphaBytes:xe,needSMask:ee,palette:he,mask:de}}(i):c===2||c===4?function(D){for(var C=D.data,G=D.width,O=D.height,V=D.channels,Y=D.depth,ee=V===2?"DeviceGray":"DeviceRGB",he=V-1,de=G*O,xe=he,oe=de*xe,fe=1*de,Se=Math.ceil(oe*Y/8),K=Math.ceil(fe*Y/8),A=new Uint8Array(Se),q=new Uint8Array(K),F=new DataView(C.buffer),R=new DataView(A.buffer),W=new DataView(q.buffer),Z=!1,ie=0;ie<de;ie++){for(var re=ie*V,X=0;X<xe;X++)rS(R,Ub(F,re+X,Y),ie*xe+X,Y);var ke=Ub(F,re+xe,Y);ke<(1<<Y)-1&&(Z=!0),rS(W,ke,1*ie,Y)}return{colorSpace:ee,colorsPerPixel:he,sMaskBitsPerComponent:Z?Y:void 0,colorBytes:A,alphaBytes:q,needSMask:Z}}(i):function(D){var C=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(O){for(var V=O.length,Y=new Uint8Array(2*V),ee=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),he=0;he<V;he++)ee.setUint16(2*he,O[he],!1);return Y}(C):C,needSMask:!1}}(i);var f,g,m,y=s,x=y.colorSpace,N=y.colorsPerPixel,b=y.sMaskBitsPerComponent,w=y.colorBytes,k=y.alphaBytes,S=y.needSMask,B=y.palette,H=y.mask,I=null;return a!==Vt.API.image_compression.NONE&&typeof Bw=="function"?(I=function(D){var C;switch(D){case Vt.API.image_compression.FAST:C=11;break;case Vt.API.image_compression.MEDIUM:C=13;break;case Vt.API.image_compression.SLOW:C=14;break;default:C=12}return C}(a),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(I," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=X3(w,Math.ceil(o*N*h/8),N,h,a),S&&(m=X3(k,Math.ceil(o*b/8),1,b,a))):(f=void 0,g=void 0,e=w,S&&(m=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:f,decodeParameters:g,transparency:H,palette:B,sMask:m,predictor:I,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:b,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,a,s){var i=new YW(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new Vb(100).encode(u,100);return e.processJPEG.call(this,h,r,a,s)},e.processGIF87A=e.processGIF89A}(Vt.API),fl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ha.log("bit decode error:"+r)}},fl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},fl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},fl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},fl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,h=a*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},fl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},fl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},fl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},fl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,s){var i=new fl(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Vb(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}}(Vt.API),nS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,s){var i=new nS(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Vb(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}}(Vt.API),Vt.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var h=a[u],f=a[u+1],g=a[u+2],m=a[u+3];i[l++]=h,i[l++]=f,i[l++]=g,o[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},s0=Vt.API,vx=s0.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=t.doKerning!==!1,g=0,m=e.length,y=0,x=l[0]||c,N=[];for(r=0;r<m;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(g=f&&ta(u[a])==="object"&&!isNaN(parseInt(u[a][y],10))?u[a][y]/h:0,N.push((l[a]||x)/c+g)),y=a;return N},Y3=s0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return s0.processArabic&&(e=s0.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:vx.apply(this,arguments).reduce(function(i,o){return i+o},0)},K3=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},Z3=function(e,t,r){r||(r={});var a,s,i,o,l,c,u,h=[],f=[h],g=r.textIndent||0,m=0,y=0,x=e.split(" "),N=vx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];x.map(function(S){(S=S.split(/\s*\n/)).length>1?w=w.concat(S.map(function(B,H){return(H&&B.length?`
`:"")+B})):w.push(S[0])}),x=w,c=Y3.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var k=0;if(a=x[i],c&&a[0]==`
`&&(a=a.substr(1),k=1),g+m+(y=(s=vx.apply(this,[a,r])).reduce(function(S,B){return S+B},0))>t||k){if(y>t){for(l=K3.apply(this,[a,s,t-(g+m),t]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);y=s.slice(a.length-(h[0]?h[0].length:0)).reduce(function(S,B){return S+B},0)}else h=[a];f.push(h),g=y+c,m=N}else h.push(a),g+=m+y,m=N}return u=c?function(S,B){return(B?b:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(u)},s0.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=a.length;l<c;l++)u=u.concat(Z3.apply(this,[a[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[r[i]]=t[i],s[t[i]]=r[i];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=e.__fontmetrics__.compress=function(g){var m,y,x,N,b=["{"];for(var w in g){if(m=g[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=o(w).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof m=="number")m<0?(x=o(m).slice(3),N="-"):(x=o(m).slice(2),N=""),x=N+x.slice(0,-1)+s[x.slice(-1)];else{if(ta(m)!=="object")throw new Error("Don't know what to do with value type "+ta(m)+".");x=l(m)}b.push(y+x)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,x,N,b={},w=1,k=b,S=[],B="",H="",I=g.length-1,D=1;D<I;D+=1)(N=g[D])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(N):N=="{"?(S.push([k,x]),k={},x=void 0):N=="}"?((y=S.pop())[0][y[1]]=k,x=void 0,k=y[0]):N=="-"?w=-1:x===void 0?a.hasOwnProperty(N)?(B+=a[N],x=parseInt(B,16)*w,w=1,B=""):B+=N:a.hasOwnProperty(N)?(H+=a[N],k[x]=parseInt(H,16)*w,w=1,x=void 0,H=""):H+=N;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var m=g.font,y=f.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var x=h.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(Vt.API),function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(ty(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])}(Vt),Vt.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw ha.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw ha.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ar.canvg?Promise.resolve(ar.canvg):Qx(()=>import("./index.es-DvVaVqfu.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},Vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},Vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,f=0;function g(y,x){var N,b=!1;for(N=0;N<y.length;N+=1)y[N]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(ta(e)==="object"){for(s in e)if(i=e[s],g(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(a=!1);a===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,g=i.length;f<g;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},a=function(i){var o,l,c,u,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,g=(l=Object.keys(i).sort(function(m,y){return m-y})).length;f<g;f++)o=l[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var x=u();h({data:m,addLength1:!0,objectId:x}),c("endobj");var N=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+y0(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+y0(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+y0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var y=u();h({data:g,addLength1:!0,objectId:y}),c("endobj");var x=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+y0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+y0(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,h=i.options||{},f=i.mutex||{},g=f.pdfEscape,m=f.activeFontKey,y=f.fonts,x=m,N="",b=0,w="",k=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:f};for(w=l,x=m,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?N+=w[b]:N+="";var S="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?S=g(N,x).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(S=r(N,y[x])),f.isHex=!0,{text:S,x:c,y:u,options:h,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,u,h,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,k=0;this.__bidiEngine__={};var S=function(O){var V=O.charCodeAt(),Y=V>>8,ee=x[Y];return ee!==void 0?f[256*ee+(255&V)]:Y===252||Y===253?"AL":b.test(Y)?"L":Y===8?"R":"N"},B=function(O){for(var V,Y=0;Y<O.length;Y++){if((V=S(O.charAt(Y)))==="L")return!1;if(V==="R")return!0}return!1},H=function(O,V,Y,ee){var he,de,xe,oe,fe=V[ee];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(fe="AN");break;case"AL":w=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":ee<1||ee+1>=V.length||(he=Y[ee-1])!=="EN"&&he!=="AN"||(de=V[ee+1])!=="EN"&&de!=="AN"?fe="N":w&&(de="AN"),fe=de===he?de:"N";break;case"ES":fe=(he=ee>0?Y[ee-1]:"B")==="EN"&&ee+1<V.length&&V[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&Y[ee-1]==="EN"){fe="EN";break}if(w){fe="N";break}for(xe=ee+1,oe=V.length;xe<oe&&V[xe]==="ET";)xe++;fe=xe<oe&&V[xe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(oe=V.length,xe=ee+1;xe<oe&&V[xe]==="NSM";)xe++;if(xe<oe){var Se=O[ee],K=Se>=1425&&Se<=2303||Se===64286;if(he=V[xe],K&&(he==="R"||he==="AL")){fe="R";break}}}fe=ee<1||(he=V[ee-1])==="B"?"N":Y[ee-1];break;case"B":w=!1,s=!0,fe=k;break;case"S":i=!0,fe="N"}return fe},I=function(O,V,Y){var ee=O.split("");return Y&&D(ee,Y,{hiLevel:k}),ee.reverse(),V&&V.reverse(),ee.join("")},D=function(O,V,Y){var ee,he,de,xe,oe,fe=-1,Se=O.length,K=0,A=[],q=k?m:g,F=[];for(w=!1,s=!1,i=!1,he=0;he<Se;he++)F[he]=S(O[he]);for(de=0;de<Se;de++){if(oe=K,A[de]=H(O,F,A,de),ee=240&(K=q[oe][y[A[de]]]),K&=15,V[de]=xe=q[K][5],ee>0)if(ee===16){for(he=fe;he<de;he++)V[he]=1;fe=-1}else fe=-1;if(q[K][6])fe===-1&&(fe=de);else if(fe>-1){for(he=fe;he<de;he++)V[he]=xe;fe=-1}F[de]==="B"&&(V[de]=0),Y.hiLevel|=xe}i&&function(R,W,Z){for(var ie=0;ie<Z;ie++)if(R[ie]==="S"){W[ie]=k;for(var re=ie-1;re>=0&&R[re]==="WS";re--)W[re]=k}}(F,V,Se)},C=function(O,V,Y,ee,he){if(!(he.hiLevel<O)){if(O===1&&k===1&&!s)return V.reverse(),void(Y&&Y.reverse());for(var de,xe,oe,fe,Se=V.length,K=0;K<Se;){if(ee[K]>=O){for(oe=K+1;oe<Se&&ee[oe]>=O;)oe++;for(fe=K,xe=oe-1;fe<xe;fe++,xe--)de=V[fe],V[fe]=V[xe],V[xe]=de,Y&&(de=Y[fe],Y[fe]=Y[xe],Y[xe]=de);K=oe}K++}}},G=function(O,V,Y){var ee=O.split(""),he={hiLevel:k};return Y||(Y=[]),D(ee,Y,he),function(de,xe,oe){if(oe.hiLevel!==0&&h)for(var fe,Se=0;Se<de.length;Se++)xe[Se]===1&&(fe=N.indexOf(de[Se]))>=0&&(de[Se]=N[fe+1])}(ee,Y,he),C(2,ee,V,Y,he),C(1,ee,V,Y,he),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(O,V,Y){if(function(he,de){if(de)for(var xe=0;xe<he.length;xe++)de[xe]=xe;l===void 0&&(l=B(he)),u===void 0&&(u=B(he))}(O,V),o||!c||u)if(o&&c&&l^u)k=l?1:0,O=I(O,V,Y);else if(!o&&c&&u)k=l?1:0,O=G(O,V,Y),O=I(O,V);else if(!o||l||c||u){if(o&&!c&&l^u)O=I(O,V),l?(k=0,O=G(O,V,Y)):(k=1,O=G(O,V,Y),O=I(O,V));else if(o&&l&&!c&&u)k=1,O=G(O,V,Y),O=I(O,V);else if(!o&&!c&&l^u){var ee=h;l?(k=1,O=G(O,V,Y),k=0,h=!1,O=G(O,V,Y),h=ee):(k=0,O=G(O,V,Y),O=I(O,V),k=1,h=!1,O=G(O,V,Y),h=ee,O=I(O,V))}}else k=0,O=G(O,V,Y);else k=l?1:0,O=G(O,V,Y);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new hu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new cG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KW(this.contents),this.head=new XW(this),this.name=new rG(this),this.cmap=new S7(this),this.toUnicode={},this.hhea=new JW(this),this.maxp=new aG(this),this.hmtx=new nG(this),this.post=new eG(this),this.os2=new QW(this),this.loca=new lG(this),this.glyf=new sG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var Fl,hu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e}(),KW=function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,c,u,h,f,g,m,y,x;for(x in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),h=16*m-f,(s=new hu).writeInt(this.scalarType),s.writeShort(m),s.writeShort(f),s.writeShort(o),s.writeShort(h),i=16*m,u=s.pos+i,l=null,y=[],r)for(g=r[x],s.writeString(x),s.writeInt(e(g)),s.writeInt(u),s.writeInt(g.length),y=y.concat(g),x==="head"&&(l=u),u+=g.length;u%4;)y.push(0),u++;return s.write(y),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=A7.call(r);r.length%4;)r.push(0);for(i=new hu(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t}(),ZW={}.hasOwnProperty,mc=function(e,t){for(var r in t)ZW.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Fl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var XW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new hu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),sS=function(){function e(t,r){var a,s,i,o,l,c,u,h,f,g,m,y,x,N,b,w,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,i=function(){var S,B;for(B=[],c=S=0;0<=g?S<g:S>g;c=0<=g?++S:--S)B.push(t.readUInt16());return B}(),t.pos+=2,x=function(){var S,B;for(B=[],c=S=0;0<=g?S<g:S>g;c=0<=g?++S:--S)B.push(t.readUInt16());return B}(),u=function(){var S,B;for(B=[],c=S=0;0<=g?S<g:S>g;c=0<=g?++S:--S)B.push(t.readUInt16());return B}(),h=function(){var S,B;for(B=[],c=S=0;0<=g?S<g:S>g;c=0<=g?++S:--S)B.push(t.readUInt16());return B}(),s=(this.length-t.pos+this.offset)/2,l=function(){var S,B;for(B=[],c=S=0;0<=s?S<s:S>s;c=0<=s?++S:--S)B.push(t.readUInt16());return B}(),c=b=0,k=i.length;b<k;c=++b)for(N=i[c],a=w=y=x[c];y<=N?w<=N:w>=N;a=y<=N?++w:--w)h[c]===0?o=a+u[c]:(o=l[h[c]/2+(a-y)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[a]=65535&o}t.pos=f}return e.encode=function(t,r){var a,s,i,o,l,c,u,h,f,g,m,y,x,N,b,w,k,S,B,H,I,D,C,G,O,V,Y,ee,he,de,xe,oe,fe,Se,K,A,q,F,R,W,Z,ie,re,X,ke,Pe;switch(ee=new hu,o=Object.keys(t).sort(function(De,Ye){return De-Ye}),r){case"macroman":for(x=0,N=function(){var De=[];for(y=0;y<256;++y)De.push(0);return De}(),w={0:0},i={},he=0,fe=o.length;he<fe;he++)w[re=t[s=o[he]]]==null&&(w[re]=++x),i[s]={old:t[s],new:w[t[s]]},N[s]=w[t[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(N),{charMap:i,subtable:ee.data,maxGlyphID:x+1};case"unicode":for(V=[],f=[],k=0,w={},a={},b=u=null,de=0,Se=o.length;de<Se;de++)w[B=t[s=o[de]]]==null&&(w[B]=++k),a[s]={old:B,new:w[B]},l=w[B]-s,b!=null&&l===u||(b&&f.push(b),V.push(s),u=l),b=s;for(b&&f.push(b),f.push(65535),V.push(65535),G=2*(C=V.length),D=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,I=2*C-D,c=[],H=[],m=[],y=xe=0,K=V.length;xe<K;y=++xe){if(O=V[y],h=f[y],O===65535){c.push(0),H.push(0);break}if(O-(Y=a[O].new)>=32768)for(c.push(0),H.push(2*(m.length+C-y)),s=oe=O;O<=h?oe<=h:oe>=h;s=O<=h?++oe:--oe)m.push(a[s].new);else c.push(Y-O),H.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*C+2*m.length),ee.writeUInt16(0),ee.writeUInt16(G),ee.writeUInt16(D),ee.writeUInt16(g),ee.writeUInt16(I),Z=0,A=f.length;Z<A;Z++)s=f[Z],ee.writeUInt16(s);for(ee.writeUInt16(0),ie=0,q=V.length;ie<q;ie++)s=V[ie],ee.writeUInt16(s);for(X=0,F=c.length;X<F;X++)l=c[X],ee.writeUInt16(l);for(ke=0,R=H.length;ke<R;ke++)S=H[ke],ee.writeUInt16(S);for(Pe=0,W=m.length;Pe<W;Pe++)x=m[Pe],ee.writeUInt16(x);return{charMap:a,subtable:ee.data,maxGlyphID:k+1}}},e}(),S7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new sS(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,s;return r==null&&(r="macroman"),a=sS.encode(t,r),(s=new hu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),JW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),QW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),eG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),tG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,s,i,o,l,c,u,h,f,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=h=0,f=a.length;h<f;i=++h)s=a[i],t.pos=s.offset,u=t.readString(s.length),o=new tG(u,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),aG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),nG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,f,g;for(g=[],u=0,h=(f=this.metrics).length;u<h;u++)i=f[u],g.push(i.advance);return g}).call(this),a=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),A7=[].slice,sG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,s,i,o,l,c,u,h,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new hu(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new oG(l,u,f,c,h):new iG(l,o,u,f,c,h),this.cache[t]))},e.prototype.encode=function(t,r,a){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e}(),iG=function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),oG=function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new hu(A7.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),lG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mc(e,Fl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),cG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,c,u,h,f,g,m,y,x,N,b;for(s in a=S7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},b=a.charMap)m[(c=b[s]).old]=c.new;for(y in g=a.maxGlyphID,o)y in m||(m[y]=g++);return h=function(w){var k,S;for(k in S={},w)S[w[k]]=k;return S}(m),f=Object.keys(h).sort(function(w,k){return w-k}),x=function(){var w,k,S;for(S=[],w=0,k=f.length;w<k;w++)l=f[w],S.push(h[l]);return S}(),i=this.font.glyf.encode(o,x,m),u=this.font.loca.encode(i.offsets,x),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)a=r[l],u.push(t.convert(a));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var s1={};s1.version="0.18.5";var E7=1252,dG=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],T7=function(e){dG.indexOf(e)!=-1&&(E7=e)};function uG(){T7(1252)}var Bg=function(e){T7(e)};function hG(){Bg(1200),uG()}var bx=function(t){return String.fromCharCode(t)},iS=function(t){return String.fromCharCode(t)},i1,Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zg(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,a=e.charCodeAt(u++),o=(r&3)<<4|a>>4,s=e.charCodeAt(u++),l=(a&15)<<2|s>>6,c=s&63,isNaN(a)?l=c=64:isNaN(s)&&(c=64),t+=Wd.charAt(i)+Wd.charAt(o)+Wd.charAt(l)+Wd.charAt(c);return t}function td(e){var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Wd.indexOf(e.charAt(u++)),o=Wd.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Wd.indexOf(e.charAt(u++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=Wd.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),od=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function vh(e){return Br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function oS(e){return Br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Nl=function(t){return Br?od(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function ev(e){if(typeof ArrayBuffer>"u")return Nl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function gp(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fG(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var os=Br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:od(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function mG(e){for(var t=[],r=0,a=e.length+250,s=vh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=vh(65535),a=65530)}return t.push(s.slice(0,r)),os(t)}var rg=/\u0000/g,wx=/[\u0001-\u0006]/g;function ef(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function jl(e,t){var r=""+e;return r.length>=t?r:Za("0",t-r.length)+r}function t4(e,t){var r=""+e;return r.length>=t?r:Za(" ",t-r.length)+r}function o1(e,t){var r=""+e;return r.length>=t?r:r+Za(" ",t-r.length)}function gG(e,t){var r=""+Math.round(e);return r.length>=t?r:Za("0",t-r.length)+r}function pG(e,t){var r=""+e;return r.length>=t?r:Za("0",t-r.length)+r}var lS=Math.pow(2,32);function i0(e,t){if(e>lS||e<-lS)return gG(e,t);var r=Math.round(e);return pG(r,t)}function l1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var cS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xG(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ja={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},dS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function c1(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,l=0,c=1,u=0,h=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*o+i,h=f*u+c,!(s-f<5e-8));)s=1/(s-f),i=o,o=l,c=u,u=h;if(h>t&&(u>t?(h=c,l=i):(h=u,l=o)),!r)return[0,a*l,h];var g=Math.floor(a*l/h);return[g,a*l-g*h,h]}function _x(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=jG(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var C7=new Date(1899,11,31,0,0,0),vG=C7.getTime(),bG=new Date(1900,2,1,0,0,0);function L7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=bG&&(r+=24*60*60*1e3),(r-(vG+(e.getTimezoneOffset()-C7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function r4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wG(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _G(e){var t=e<0?12:11,r=r4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function NG(e){var t=r4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function kG(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=_G(e):t===10?r=e.toFixed(10).substr(0,12):r=NG(e),r4(wG(r.toUpperCase()))}function Gw(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):kG(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fu(14,L7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jG(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function SG(e,t,r,a){var s="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return qb[r.m-1][1];case 5:return qb[r.m-1][0];default:return qb[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return cS[r.q][0];default:return cS[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?jl(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=jl(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var h=u>0?jl(c,u):"";return h}function Gd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var P7=/%/g;function AG(e,t,r){var a=t.replace(P7,""),s=t.length-a.length;return $c(e,a,r*Math.pow(10,2*s))+Za("%",s)}function EG(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return $c(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function M7(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+M7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var R7=/# (\?+)( ?)\/( ?)(\d+)/;function TG(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?Za(" ",e[1].length+1+e[4].length):t4(o,e[1].length)+e[2]+"/"+e[3]+jl(l,e[4].length))}function CG(e,t,r){return r+(t===0?"":""+t)+Za(" ",e[1].length+2+e[4].length)}var O7=/^#*0*\.([0#]+)/,D7=/\).*[0#]/,I7=/\(###\) ###\\?-####/;function Vs(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function uS(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function hS(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function LG(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function PG(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function So(e,t,r){if(e.charCodeAt(0)===40&&!t.match(D7)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?So("n",a,r):"("+So("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return EG(e,t,r);if(t.indexOf("%")!==-1)return AG(e,t,r);if(t.indexOf("E")!==-1)return M7(t,r);if(t.charCodeAt(0)===36)return"$"+So(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+i0(c,t.length);if(t.match(/^[#?]+$/))return s=i0(r,0),s==="0"&&(s=""),s.length>t.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(R7))return TG(i,c,u);if(t.match(/^#+0+$/))return u+i0(c,t.length-t.indexOf("0"));if(i=t.match(O7))return s=uS(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Vs(i[1])).replace(/\.$/,"."+Vs(i[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+Za("0",Vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+uS(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gd(i0(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+So(e,t,-r):Gd(""+(Math.floor(r)+LG(r,i[1].length)))+"."+jl(hS(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return So(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=ef(So(e,t.replace(/[\\-]/g,""),r)),o=0,ef(ef(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(I7))return s=So(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=c1(c,Math.pow(10,o)-1,!1),s=""+u,h=$c("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=o1(l[2],o),h.length<i[4].length&&(h=Vs(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=c1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?t4(l[1],o)+i[2]+"/"+i[3]+o1(l[2],o):Za(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=i0(r,0),t.length<=s.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,g=t.length-s.length-f;return Vs(t.substr(0,f)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=hS(r,i[1].length),r<0?"-"+So(e,t,-r):Gd(PG(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?jl(0,3-y.length):"")+y})+"."+jl(o,i[1].length);switch(t){case"###,##0.00":return So(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Gd(i0(c,0));return m!=="0"?u+m:"";case"###,###.00":return So(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return So(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function MG(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return $c(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function RG(e,t,r){var a=t.replace(P7,""),s=t.length-a.length;return $c(e,a,r*Math.pow(10,2*s))+Za("%",s)}function F7(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+F7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(D7)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xl("n",a,r):"("+Xl("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return MG(e,t,r);if(t.indexOf("%")!==-1)return RG(e,t,r);if(t.indexOf("E")!==-1)return F7(t,r);if(t.charCodeAt(0)===36)return"$"+Xl(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+jl(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(R7))return CG(i,c,u);if(t.match(/^#+0+$/))return u+jl(c,t.length-t.indexOf("0"));if(i=t.match(O7))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Vs(i[1])).replace(/\.$/,"."+Vs(i[1])),s=s.replace(/\.(\d*)$/,function(y,x){return"."+x+Za("0",Vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xl(e,t,-r):Gd(""+r)+"."+Za("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Xl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=ef(Xl(e,t.replace(/[\\-]/g,""),r)),o=0,ef(ef(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(I7))return s=Xl(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=c1(c,Math.pow(10,o)-1,!1),s=""+u,h=$c("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=o1(l[2],o),h.length<i[4].length&&(h=Vs(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=c1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?t4(l[1],o)+i[2]+"/"+i[3]+o1(l[2],o):Za(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,g=t.length-s.length-f;return Vs(t.substr(0,f)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xl(e,t,-r):Gd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?jl(0,3-y.length):"")+y})+"."+jl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Gd(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Xl(e,t.slice(0,t.lastIndexOf(".")),r)+Vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function $c(e,t,r){return(r|0)===r?Xl(e,t,r):So(e,t,r)}function OG(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var B7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function z7(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":l1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(B7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function DG(e,t,r,a){for(var s=[],i="",o=0,l="",c="t",u,h,f,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!l1(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),y=m==="("||m===")"?m:"t";s[s.length]={t:y,v:m},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=_x(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=_x(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=_x(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",o+=5,g="h"):(x.t="t",++o),u==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(B7)){if(u==null&&(u=_x(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",z7(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var N=0,b=0,w;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,c="h",N<1&&(N=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&s[o].v.match(/[Hh]/)&&(N=1),N<2&&s[o].v.match(/[Mm]/)&&(N=2),N<3&&s[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=SG(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((l=s[S].t)==="?"||l==="D"||(l===" "||l==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;k+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=Gw(t,r);break}var B="",H,I;if(k.length>0){k.charCodeAt(0)==40?(H=t<0&&k.charCodeAt(0)===45?-t:t,I=$c("n",k,H)):(H=t<0&&a>1?-t:t,I=$c("n",k,H),H<0&&s[0]&&s[0].t=="t"&&(I=I.substr(1),s[0].v="-"+s[0].v)),S=I.length-1;var D=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){D=o;break}var C=s.length;if(D===s.length&&I.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=I.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=I.substr(0,S+1),S=-1),s[o].t="t",C=o);S>=0&&C<s.length&&(s[C].v=I.substr(0,S+1)+s[C].v)}else if(D!==s.length&&I.indexOf("E")===-1){for(S=I.indexOf(".")-1,o=D;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")-1:s[o].v.length-1,B=s[o].v.substr(h+1);h>=0;--h)S>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(B=I.charAt(S--)+B);s[o].v=B,s[o].t="t",C=o}for(S>=0&&C<s.length&&(s[C].v=I.substr(0,S+1)+s[C].v),S=I.indexOf(".")+1,o=D;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==D)){for(h=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")+1:0,B=s[o].v.substr(0,h);h<s[o].v.length;++h)S<I.length&&(B+=I.charAt(S++));s[o].v=B,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(H=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=$c(s[o].t,s[o].v,H),s[o].t="t");var G="";for(o=0;o!==s.length;++o)s[o]!=null&&(G+=s[o].v);return G}var fS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mS(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function IG(e,t){var r=OG(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(fS),l=r[1].match(fS);return mS(t,o)?[a,r[0]]:mS(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function fu(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Ja)[e],a==null&&(a=r.table&&r.table[dS[e]]||Ja[dS[e]]),a==null&&(a=yG[e]||"General");break}if(l1(a,0))return Gw(t,r);t instanceof Date&&(t=L7(t,r.date1904));var s=IG(a,t);if(l1(s[1]))return Gw(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return DG(s[1],t,r,s[0])}function U7(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ja[r]==null){t<0&&(t=r);continue}if(Ja[r]==e){t=r;break}}t<0&&(t=391)}return Ja[t]=e,t}function tv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&U7(e[t],t)}function rv(){Ja=xG()}var V7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function FG(e){var t=typeof e=="number"?Ja[e]:e;return t=t.replace(V7,"(\\d+)"),new RegExp("^"+t+"$")}function BG(e,t,r){var a=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(V7)||[]).forEach(function(f,g){var m=parseInt(r[g+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:s=m;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:a==-1&&s==-1&&i==-1?h:u+"T"+h}var zG=function(){var e={};e.version="1.2.0";function t(){for(var I=0,D=new Array(256),C=0;C!=256;++C)I=C,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,D[C]=I;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function a(I){var D=0,C=0,G=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)O[G]=I[G];for(G=0;G!=256;++G)for(C=I[G],D=256+G;D<4096;D+=256)C=O[D]=C>>>8^I[C&255];var V=[];for(G=1;G!=16;++G)V[G-1]=typeof Int32Array<"u"?O.subarray(G*256,G*256+256):O.slice(G*256,G*256+256);return V}var s=a(r),i=s[0],o=s[1],l=s[2],c=s[3],u=s[4],h=s[5],f=s[6],g=s[7],m=s[8],y=s[9],x=s[10],N=s[11],b=s[12],w=s[13],k=s[14];function S(I,D){for(var C=D^-1,G=0,O=I.length;G<O;)C=C>>>8^r[(C^I.charCodeAt(G++))&255];return~C}function B(I,D){for(var C=D^-1,G=I.length-15,O=0;O<G;)C=k[I[O++]^C&255]^w[I[O++]^C>>8&255]^b[I[O++]^C>>16&255]^N[I[O++]^C>>>24]^x[I[O++]]^y[I[O++]]^m[I[O++]]^g[I[O++]]^f[I[O++]]^h[I[O++]]^u[I[O++]]^c[I[O++]]^l[I[O++]]^o[I[O++]]^i[I[O++]]^r[I[O++]];for(G+=15;O<G;)C=C>>>8^r[(C^I[O++])&255];return~C}function H(I,D){for(var C=D^-1,G=0,O=I.length,V=0,Y=0;G<O;)V=I.charCodeAt(G++),V<128?C=C>>>8^r[(C^V)&255]:V<2048?(C=C>>>8^r[(C^(192|V>>6&31))&255],C=C>>>8^r[(C^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,Y=I.charCodeAt(G++)&1023,C=C>>>8^r[(C^(240|V>>8&7))&255],C=C>>>8^r[(C^(128|V>>2&63))&255],C=C>>>8^r[(C^(128|Y>>6&15|(V&3)<<4))&255],C=C>>>8^r[(C^(128|Y&63))&255]):(C=C>>>8^r[(C^(224|V>>12&15))&255],C=C>>>8^r[(C^(128|V>>6&63))&255],C=C>>>8^r[(C^(128|V&63))&255]);return~C}return e.table=r,e.bstr=S,e.buf=B,e.str=H,e}(),oa=function(){var t={};t.version="1.2.1";function r(te,be){for(var me=te.split("/"),pe=be.split("/"),ve=0,Ne=0,Ie=Math.min(me.length,pe.length);ve<Ie;++ve){if(Ne=me[ve].length-pe[ve].length)return Ne;if(me[ve]!=pe[ve])return me[ve]<pe[ve]?-1:1}return me.length-pe.length}function a(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:a(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(0,be+1)}function s(te){if(te.charAt(te.length-1)=="/")return s(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(be+1)}function i(te,be){typeof be=="string"&&(be=new Date(be));var me=be.getHours();me=me<<6|be.getMinutes(),me=me<<5|be.getSeconds()>>>1,te.write_shift(2,me);var pe=be.getFullYear()-1980;pe=pe<<4|be.getMonth()+1,pe=pe<<5|be.getDate(),te.write_shift(2,pe)}function o(te){var be=te.read_shift(2)&65535,me=te.read_shift(2)&65535,pe=new Date,ve=me&31;me>>>=5;var Ne=me&15;me>>>=4,pe.setMilliseconds(0),pe.setFullYear(me+1980),pe.setMonth(Ne-1),pe.setDate(ve);var Ie=be&31;be>>>=5;var We=be&63;return be>>>=6,pe.setHours(be),pe.setMinutes(We),pe.setSeconds(Ie<<1),pe}function l(te){Yi(te,0);for(var be={},me=0;te.l<=te.length-4;){var pe=te.read_shift(2),ve=te.read_shift(2),Ne=te.l+ve,Ie={};switch(pe){case 21589:me=te.read_shift(1),me&1&&(Ie.mtime=te.read_shift(4)),ve>5&&(me&2&&(Ie.atime=te.read_shift(4)),me&4&&(Ie.ctime=te.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}te.l=Ne,be[pe]=Ie}return be}var c;function u(){return c||(c={})}function h(te,be){if(te[0]==80&&te[1]==75)return $t(te,be);if((te[0]|32)==109&&(te[1]|32)==105)return qt(te,be);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var me=3,pe=512,ve=0,Ne=0,Ie=0,We=0,ze=0,Ue=[],$e=te.slice(0,512);Yi($e,0);var ht=f($e);switch(me=ht[0],me){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(ht[1]==0)return $t(te,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}pe!==512&&($e=te.slice(0,pe),Yi($e,28));var pt=te.slice(0,pe);g($e,me);var At=$e.read_shift(4,"i");if(me===3&&At!==0)throw new Error("# Directory Sectors: Expected 0 saw "+At);$e.l+=4,Ie=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),We=$e.read_shift(4,"i"),ve=$e.read_shift(4,"i"),ze=$e.read_shift(4,"i"),Ne=$e.read_shift(4,"i");for(var mt=-1,Nt=0;Nt<109&&(mt=$e.read_shift(4,"i"),!(mt<0));++Nt)Ue[Nt]=mt;var Kt=m(te,pe);N(ze,Ne,Kt,pe,Ue);var Vr=w(Kt,Ie,Ue,pe);Vr[Ie].name="!Directory",ve>0&&We!==Y&&(Vr[We].name="!MiniFAT"),Vr[Ue[0]].name="!FAT",Vr.fat_addrs=Ue,Vr.ssz=pe;var yr={},Ta=[],ei=[],Gn=[];k(Ie,Vr,Kt,Ta,ve,yr,ei,We),y(ei,Gn,Ta),Ta.shift();var Pi={FileIndex:ei,FullPaths:Gn};return be&&be.raw&&(Pi.raw={header:pt,sectors:Kt}),Pi}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(ee,"Header Signature: "),te.l+=16;var be=te.read_shift(2,"u");return[te.read_shift(2,"u"),be]}function g(te,be){var me=9;switch(te.l+=2,me=te.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,be){for(var me=Math.ceil(te.length/be)-1,pe=[],ve=1;ve<me;++ve)pe[ve-1]=te.slice(ve*be,(ve+1)*be);return pe[me-1]=te.slice(me*be),pe}function y(te,be,me){for(var pe=0,ve=0,Ne=0,Ie=0,We=0,ze=me.length,Ue=[],$e=[];pe<ze;++pe)Ue[pe]=$e[pe]=pe,be[pe]=me[pe];for(;We<$e.length;++We)pe=$e[We],ve=te[pe].L,Ne=te[pe].R,Ie=te[pe].C,Ue[pe]===pe&&(ve!==-1&&Ue[ve]!==ve&&(Ue[pe]=Ue[ve]),Ne!==-1&&Ue[Ne]!==Ne&&(Ue[pe]=Ue[Ne])),Ie!==-1&&(Ue[Ie]=pe),ve!==-1&&pe!=Ue[pe]&&(Ue[ve]=Ue[pe],$e.lastIndexOf(ve)<We&&$e.push(ve)),Ne!==-1&&pe!=Ue[pe]&&(Ue[Ne]=Ue[pe],$e.lastIndexOf(Ne)<We&&$e.push(Ne));for(pe=1;pe<ze;++pe)Ue[pe]===pe&&(Ne!==-1&&Ue[Ne]!==Ne?Ue[pe]=Ue[Ne]:ve!==-1&&Ue[ve]!==ve&&(Ue[pe]=Ue[ve]));for(pe=1;pe<ze;++pe)if(te[pe].type!==0){if(We=pe,We!=Ue[We])do We=Ue[We],be[pe]=be[We]+"/"+be[pe];while(We!==0&&Ue[We]!==-1&&We!=Ue[We]);Ue[pe]=-1}for(be[0]+="/",pe=1;pe<ze;++pe)te[pe].type!==2&&(be[pe]+="/")}function x(te,be,me){for(var pe=te.start,ve=te.size,Ne=[],Ie=pe;me&&ve>0&&Ie>=0;)Ne.push(be.slice(Ie*V,Ie*V+V)),ve-=V,Ie=Xu(me,Ie*4);return Ne.length===0?Je(0):os(Ne).slice(0,te.size)}function N(te,be,me,pe,ve){var Ne=Y;if(te===Y){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ie=me[te],We=(pe>>>2)-1;if(!Ie)return;for(var ze=0;ze<We&&(Ne=Xu(Ie,ze*4))!==Y;++ze)ve.push(Ne);N(Xu(Ie,pe-4),be-1,me,pe,ve)}}function b(te,be,me,pe,ve){var Ne=[],Ie=[];ve||(ve=[]);var We=pe-1,ze=0,Ue=0;for(ze=be;ze>=0;){ve[ze]=!0,Ne[Ne.length]=ze,Ie.push(te[ze]);var $e=me[Math.floor(ze*4/pe)];if(Ue=ze*4&We,pe<4+Ue)throw new Error("FAT boundary crossed: "+ze+" 4 "+pe);if(!te[$e])break;ze=Xu(te[$e],Ue)}return{nodes:Ne,data:_S([Ie])}}function w(te,be,me,pe){var ve=te.length,Ne=[],Ie=[],We=[],ze=[],Ue=pe-1,$e=0,ht=0,pt=0,At=0;for($e=0;$e<ve;++$e)if(We=[],pt=$e+be,pt>=ve&&(pt-=ve),!Ie[pt]){ze=[];var mt=[];for(ht=pt;ht>=0;){mt[ht]=!0,Ie[ht]=!0,We[We.length]=ht,ze.push(te[ht]);var Nt=me[Math.floor(ht*4/pe)];if(At=ht*4&Ue,pe<4+At)throw new Error("FAT boundary crossed: "+ht+" 4 "+pe);if(!te[Nt]||(ht=Xu(te[Nt],At),mt[ht]))break}Ne[pt]={nodes:We,data:_S([ze])}}return Ne}function k(te,be,me,pe,ve,Ne,Ie,We){for(var ze=0,Ue=pe.length?2:0,$e=be[te].data,ht=0,pt=0,At;ht<$e.length;ht+=128){var mt=$e.slice(ht,ht+128);Yi(mt,64),pt=mt.read_shift(2),At=o4(mt,0,pt-Ue),pe.push(At);var Nt={name:At,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},Kt=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Kt!==0&&(Nt.ct=S(mt,mt.l-8));var Vr=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Vr!==0&&(Nt.mt=S(mt,mt.l-8)),Nt.start=mt.read_shift(4,"i"),Nt.size=mt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=Y,Nt.name=""),Nt.type===5?(ze=Nt.start,ve>0&&ze!==Y&&(be[ze].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",be[Nt.start]===void 0&&(be[Nt.start]=b(me,Nt.start,be.fat_addrs,be.ssz)),be[Nt.start].name=Nt.name,Nt.content=be[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:ze!==Y&&Nt.start!==Y&&be[ze]&&(Nt.content=x(Nt,be[ze].data,(be[We]||{}).data))),Nt.content&&Yi(Nt.content,0),Ne[At]=Nt,Ie.push(Nt)}}function S(te,be){return new Date((Xi(te,be+4)/1e7*Math.pow(2,32)+Xi(te,be)/1e7-11644473600)*1e3)}function B(te,be){return u(),h(c.readFileSync(te),be)}function H(te,be){var me=be&&be.type;switch(me||Br&&Buffer.isBuffer(te)&&(me="buffer"),me||"base64"){case"file":return B(te,be);case"base64":return h(Nl(td(te)),be);case"binary":return h(Nl(te),be)}return h(te,be)}function I(te,be){var me=be||{},pe=me.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=pe+"/",te.FileIndex[0]={name:pe,type:5}),me.CLSID&&(te.FileIndex[0].clsid=me.CLSID),D(te)}function D(te){var be="Sh33tJ5";if(!oa.find(te,"/"+be)){var me=Je(4);me[0]=55,me[1]=me[3]=50,me[2]=54,te.FileIndex.push({name:be,type:2,content:me,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+be),C(te)}}function C(te,be){I(te);for(var me=!1,pe=!1,ve=te.FullPaths.length-1;ve>=0;--ve){var Ne=te.FileIndex[ve];switch(Ne.type){case 0:pe?me=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(me=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!be)){var Ie=new Date(1987,1,19),We=0,ze=Object.create?Object.create(null):{},Ue=[];for(ve=0;ve<te.FullPaths.length;++ve)ze[te.FullPaths[ve]]=!0,te.FileIndex[ve].type!==0&&Ue.push([te.FullPaths[ve],te.FileIndex[ve]]);for(ve=0;ve<Ue.length;++ve){var $e=a(Ue[ve][0]);pe=ze[$e],pe||(Ue.push([$e,{name:s($e).replace("/",""),type:1,clsid:de,ct:Ie,mt:Ie,content:null}]),ze[$e]=!0)}for(Ue.sort(function(At,mt){return r(At[0],mt[0])}),te.FullPaths=[],te.FileIndex=[],ve=0;ve<Ue.length;++ve)te.FullPaths[ve]=Ue[ve][0],te.FileIndex[ve]=Ue[ve][1];for(ve=0;ve<Ue.length;++ve){var ht=te.FileIndex[ve],pt=te.FullPaths[ve];if(ht.name=s(pt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||de,ve===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(pt.slice(-1)=="/"){for(We=ve+1;We<Ue.length&&a(te.FullPaths[We])!=pt;++We);for(ht.C=We>=Ue.length?-1:We,We=ve+1;We<Ue.length&&a(te.FullPaths[We])!=a(pt);++We);ht.R=We>=Ue.length?-1:We,ht.type=1}else a(te.FullPaths[ve+1]||"")==a(pt)&&(ht.R=ve+1),ht.type=2}}}function G(te,be){var me=be||{};if(me.fileType=="mad")return Ci(te,me);switch(C(te),me.fileType){case"zip":return Jt(te,me)}var pe=function(At){for(var mt=0,Nt=0,Kt=0;Kt<At.FileIndex.length;++Kt){var Vr=At.FileIndex[Kt];if(Vr.content){var yr=Vr.content.length;yr>0&&(yr<4096?mt+=yr+63>>6:Nt+=yr+511>>9)}}for(var Ta=At.FullPaths.length+3>>2,ei=mt+7>>3,Gn=mt+127>>7,Pi=ei+Nt+Ta+Gn,Ps=Pi+127>>7,ti=Ps<=109?0:Math.ceil((Ps-109)/127);Pi+Ps+ti+127>>7>Ps;)ti=++Ps<=109?0:Math.ceil((Ps-109)/127);var Gt=[1,ti,Ps,Gn,Ta,Nt,mt,0];return At.FileIndex[0].size=mt<<6,Gt[7]=(At.FileIndex[0].start=Gt[0]+Gt[1]+Gt[2]+Gt[3]+Gt[4]+Gt[5])+(Gt[6]+7>>3),Gt}(te),ve=Je(pe[7]<<9),Ne=0,Ie=0;{for(Ne=0;Ne<8;++Ne)ve.write_shift(1,he[Ne]);for(Ne=0;Ne<8;++Ne)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),Ne=0;Ne<3;++Ne)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,pe[2]),ve.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:Y),ve.write_shift(4,pe[3]),ve.write_shift(-4,pe[1]?pe[0]-1:Y),ve.write_shift(4,pe[1]),Ne=0;Ne<109;++Ne)ve.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1)}if(pe[1])for(Ie=0;Ie<pe[1];++Ie){for(;Ne<236+Ie*127;++Ne)ve.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1);ve.write_shift(-4,Ie===pe[1]-1?Y:Ie+1)}var We=function(At){for(Ie+=At;Ne<Ie-1;++Ne)ve.write_shift(-4,Ne+1);At&&(++Ne,ve.write_shift(-4,Y))};for(Ie=Ne=0,Ie+=pe[1];Ne<Ie;++Ne)ve.write_shift(-4,xe.DIFSECT);for(Ie+=pe[2];Ne<Ie;++Ne)ve.write_shift(-4,xe.FATSECT);We(pe[3]),We(pe[4]);for(var ze=0,Ue=0,$e=te.FileIndex[0];ze<te.FileIndex.length;++ze)$e=te.FileIndex[ze],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Ie,We(Ue+511>>9)));for(We(pe[6]+7>>3);ve.l&511;)ve.write_shift(-4,xe.ENDOFCHAIN);for(Ie=Ne=0,ze=0;ze<te.FileIndex.length;++ze)$e=te.FileIndex[ze],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Ie,We(Ue+63>>6)));for(;ve.l&511;)ve.write_shift(-4,xe.ENDOFCHAIN);for(Ne=0;Ne<pe[4]<<2;++Ne){var ht=te.FullPaths[Ne];if(!ht||ht.length===0){for(ze=0;ze<17;++ze)ve.write_shift(4,0);for(ze=0;ze<3;++ze)ve.write_shift(4,-1);for(ze=0;ze<12;++ze)ve.write_shift(4,0);continue}$e=te.FileIndex[Ne],Ne===0&&($e.start=$e.size?$e.start-1:Y);var pt=Ne===0&&me.root||$e.name;if(Ue=2*(pt.length+1),ve.write_shift(64,pt,"utf16le"),ve.write_shift(2,Ue),ve.write_shift(1,$e.type),ve.write_shift(1,$e.color),ve.write_shift(-4,$e.L),ve.write_shift(-4,$e.R),ve.write_shift(-4,$e.C),$e.clsid)ve.write_shift(16,$e.clsid,"hex");else for(ze=0;ze<4;++ze)ve.write_shift(4,0);ve.write_shift(4,$e.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,$e.start),ve.write_shift(4,$e.size),ve.write_shift(4,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>=4096)if(ve.l=$e.start+1<<9,Br&&Buffer.isBuffer($e.content))$e.content.copy(ve,ve.l,0,$e.size),ve.l+=$e.size+511&-512;else{for(ze=0;ze<$e.size;++ze)ve.write_shift(1,$e.content[ze]);for(;ze&511;++ze)ve.write_shift(1,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>0&&$e.size<4096)if(Br&&Buffer.isBuffer($e.content))$e.content.copy(ve,ve.l,0,$e.size),ve.l+=$e.size+63&-64;else{for(ze=0;ze<$e.size;++ze)ve.write_shift(1,$e.content[ze]);for(;ze&63;++ze)ve.write_shift(1,0)}if(Br)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function O(te,be){var me=te.FullPaths.map(function(ze){return ze.toUpperCase()}),pe=me.map(function(ze){var Ue=ze.split("/");return Ue[Ue.length-(ze.slice(-1)=="/"?2:1)]}),ve=!1;be.charCodeAt(0)===47?(ve=!0,be=me[0].slice(0,-1)+be):ve=be.indexOf("/")!==-1;var Ne=be.toUpperCase(),Ie=ve===!0?me.indexOf(Ne):pe.indexOf(Ne);if(Ie!==-1)return te.FileIndex[Ie];var We=!Ne.match(wx);for(Ne=Ne.replace(rg,""),We&&(Ne=Ne.replace(wx,"!")),Ie=0;Ie<me.length;++Ie)if((We?me[Ie].replace(wx,"!"):me[Ie]).replace(rg,"")==Ne||(We?pe[Ie].replace(wx,"!"):pe[Ie]).replace(rg,"")==Ne)return te.FileIndex[Ie];return null}var V=64,Y=-2,ee="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(te,be,me){u();var pe=G(te,me);c.writeFileSync(be,pe)}function fe(te){for(var be=new Array(te.length),me=0;me<te.length;++me)be[me]=String.fromCharCode(te[me]);return be.join("")}function Se(te,be){var me=G(te,be);switch(be&&be.type||"buffer"){case"file":return u(),c.writeFileSync(be.filename,me),me;case"binary":return typeof me=="string"?me:fe(me);case"base64":return zg(typeof me=="string"?me:fe(me));case"buffer":if(Br)return Buffer.isBuffer(me)?me:od(me);case"array":return typeof me=="string"?Nl(me):me}return me}var K;function A(te){try{var be=te.InflateRaw,me=new be;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)K=te;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function q(te,be){if(!K)return wr(te,be);var me=K.InflateRaw,pe=new me,ve=pe._processChunk(te.slice(te.l),pe._finishFlushFlag);return te.l+=pe.bytesRead,ve}function F(te){return K?K.deflateRawSync(te):gt(te)}var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ie(te){var be=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(be>>16|be>>8|be)&255}for(var re=typeof Uint8Array<"u",X=re?new Uint8Array(256):[],ke=0;ke<256;++ke)X[ke]=ie(ke);function Pe(te,be){var me=X[te&255];return be<=8?me>>>8-be:(me=me<<8|X[te>>8&255],be<=16?me>>>16-be:(me=me<<8|X[te>>16&255],me>>>24-be))}function De(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=6?0:te[pe+1]<<8))>>>me&3}function Ye(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=5?0:te[pe+1]<<8))>>>me&7}function ce(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=4?0:te[pe+1]<<8))>>>me&15}function Ae(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=3?0:te[pe+1]<<8))>>>me&31}function je(te,be){var me=be&7,pe=be>>>3;return(te[pe]|(me<=1?0:te[pe+1]<<8))>>>me&127}function et(te,be,me){var pe=be&7,ve=be>>>3,Ne=(1<<me)-1,Ie=te[ve]>>>pe;return me<8-pe||(Ie|=te[ve+1]<<8-pe,me<16-pe)||(Ie|=te[ve+2]<<16-pe,me<24-pe)||(Ie|=te[ve+3]<<24-pe),Ie&Ne}function ae(te,be,me){var pe=be&7,ve=be>>>3;return pe<=5?te[ve]|=(me&7)<<pe:(te[ve]|=me<<pe&255,te[ve+1]=(me&7)>>8-pe),be+3}function Oe(te,be,me){var pe=be&7,ve=be>>>3;return me=(me&1)<<pe,te[ve]|=me,be+1}function Ge(te,be,me){var pe=be&7,ve=be>>>3;return me<<=pe,te[ve]|=me&255,me>>>=8,te[ve+1]=me,be+8}function at(te,be,me){var pe=be&7,ve=be>>>3;return me<<=pe,te[ve]|=me&255,me>>>=8,te[ve+1]=me&255,te[ve+2]=me>>>8,be+16}function yt(te,be){var me=te.length,pe=2*me>be?2*me:be+5,ve=0;if(me>=be)return te;if(Br){var Ne=oS(pe);if(te.copy)te.copy(Ne);else for(;ve<te.length;++ve)Ne[ve]=te[ve];return Ne}else if(re){var Ie=new Uint8Array(pe);if(Ie.set)Ie.set(te);else for(;ve<me;++ve)Ie[ve]=te[ve];return Ie}return te.length=pe,te}function wt(te){for(var be=new Array(te),me=0;me<te;++me)be[me]=0;return be}function ot(te,be,me){var pe=1,ve=0,Ne=0,Ie=0,We=0,ze=te.length,Ue=re?new Uint16Array(32):wt(32);for(Ne=0;Ne<32;++Ne)Ue[Ne]=0;for(Ne=ze;Ne<me;++Ne)te[Ne]=0;ze=te.length;var $e=re?new Uint16Array(ze):wt(ze);for(Ne=0;Ne<ze;++Ne)Ue[ve=te[Ne]]++,pe<ve&&(pe=ve),$e[Ne]=0;for(Ue[0]=0,Ne=1;Ne<=pe;++Ne)Ue[Ne+16]=We=We+Ue[Ne-1]<<1;for(Ne=0;Ne<ze;++Ne)We=te[Ne],We!=0&&($e[Ne]=Ue[We+16]++);var ht=0;for(Ne=0;Ne<ze;++Ne)if(ht=te[Ne],ht!=0)for(We=Pe($e[Ne],pe)>>pe-ht,Ie=(1<<pe+4-ht)-1;Ie>=0;--Ie)be[We|Ie<<ht]=ht&15|Ne<<4;return pe}var jt=re?new Uint16Array(512):wt(512),Et=re?new Uint16Array(32):wt(32);if(!re){for(var Te=0;Te<512;++Te)jt[Te]=0;for(Te=0;Te<32;++Te)Et[Te]=0}(function(){for(var te=[],be=0;be<32;be++)te.push(5);ot(te,Et,32);var me=[];for(be=0;be<=143;be++)me.push(8);for(;be<=255;be++)me.push(9);for(;be<=279;be++)me.push(7);for(;be<=287;be++)me.push(8);ot(me,jt,288)})();var it=function(){for(var be=re?new Uint8Array(32768):[],me=0,pe=0;me<Z.length-1;++me)for(;pe<Z[me+1];++pe)be[pe]=me;for(;pe<32768;++pe)be[pe]=29;var ve=re?new Uint8Array(259):[];for(me=0,pe=0;me<W.length-1;++me)for(;pe<W[me+1];++pe)ve[pe]=me;function Ne(We,ze){for(var Ue=0;Ue<We.length;){var $e=Math.min(65535,We.length-Ue),ht=Ue+$e==We.length;for(ze.write_shift(1,+ht),ze.write_shift(2,$e),ze.write_shift(2,~$e&65535);$e-- >0;)ze[ze.l++]=We[Ue++]}return ze.l}function Ie(We,ze){for(var Ue=0,$e=0,ht=re?new Uint16Array(32768):[];$e<We.length;){var pt=Math.min(65535,We.length-$e);if(pt<10){for(Ue=ae(ze,Ue,+($e+pt==We.length)),Ue&7&&(Ue+=8-(Ue&7)),ze.l=Ue/8|0,ze.write_shift(2,pt),ze.write_shift(2,~pt&65535);pt-- >0;)ze[ze.l++]=We[$e++];Ue=ze.l*8;continue}Ue=ae(ze,Ue,+($e+pt==We.length)+2);for(var At=0;pt-- >0;){var mt=We[$e];At=(At<<5^mt)&32767;var Nt=-1,Kt=0;if((Nt=ht[At])&&(Nt|=$e&-32768,Nt>$e&&(Nt-=32768),Nt<$e))for(;We[Nt+Kt]==We[$e+Kt]&&Kt<250;)++Kt;if(Kt>2){mt=ve[Kt],mt<=22?Ue=Ge(ze,Ue,X[mt+1]>>1)-1:(Ge(ze,Ue,3),Ue+=5,Ge(ze,Ue,X[mt-23]>>5),Ue+=3);var Vr=mt<8?0:mt-4>>2;Vr>0&&(at(ze,Ue,Kt-W[mt]),Ue+=Vr),mt=be[$e-Nt],Ue=Ge(ze,Ue,X[mt]>>3),Ue-=3;var yr=mt<4?0:mt-2>>1;yr>0&&(at(ze,Ue,$e-Nt-Z[mt]),Ue+=yr);for(var Ta=0;Ta<Kt;++Ta)ht[At]=$e&32767,At=(At<<5^We[$e])&32767,++$e;pt-=Kt-1}else mt<=143?mt=mt+48:Ue=Oe(ze,Ue,1),Ue=Ge(ze,Ue,X[mt]),ht[At]=$e&32767,++$e}Ue=Ge(ze,Ue,0)-1}return ze.l=(Ue+7)/8|0,ze.l}return function(ze,Ue){return ze.length<8?Ne(ze,Ue):Ie(ze,Ue)}}();function gt(te){var be=Je(50+Math.floor(te.length*1.1)),me=it(te,be);return be.slice(0,me)}var _t=re?new Uint16Array(32768):wt(32768),br=re?new Uint16Array(32768):wt(32768),Qt=re?new Uint16Array(128):wt(128),nt=1,Wt=1;function kr(te,be){var me=Ae(te,be)+257;be+=5;var pe=Ae(te,be)+1;be+=5;var ve=ce(te,be)+4;be+=4;for(var Ne=0,Ie=re?new Uint8Array(19):wt(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,Ue=re?new Uint8Array(8):wt(8),$e=re?new Uint8Array(8):wt(8),ht=Ie.length,pt=0;pt<ve;++pt)Ie[R[pt]]=Ne=Ye(te,be),ze<Ne&&(ze=Ne),Ue[Ne]++,be+=3;var At=0;for(Ue[0]=0,pt=1;pt<=ze;++pt)$e[pt]=At=At+Ue[pt-1]<<1;for(pt=0;pt<ht;++pt)(At=Ie[pt])!=0&&(We[pt]=$e[At]++);var mt=0;for(pt=0;pt<ht;++pt)if(mt=Ie[pt],mt!=0){At=X[We[pt]]>>8-mt;for(var Nt=(1<<7-mt)-1;Nt>=0;--Nt)Qt[At|Nt<<mt]=mt&7|pt<<3}var Kt=[];for(ze=1;Kt.length<me+pe;)switch(At=Qt[je(te,be)],be+=At&7,At>>>=3){case 16:for(Ne=3+De(te,be),be+=2,At=Kt[Kt.length-1];Ne-- >0;)Kt.push(At);break;case 17:for(Ne=3+Ye(te,be),be+=3;Ne-- >0;)Kt.push(0);break;case 18:for(Ne=11+je(te,be),be+=7;Ne-- >0;)Kt.push(0);break;default:Kt.push(At),ze<At&&(ze=At);break}var Vr=Kt.slice(0,me),yr=Kt.slice(me);for(pt=me;pt<286;++pt)Vr[pt]=0;for(pt=pe;pt<30;++pt)yr[pt]=0;return nt=ot(Vr,_t,286),Wt=ot(yr,br,30),be}function Ct(te,be){if(te[0]==3&&!(te[1]&3))return[vh(be),2];for(var me=0,pe=0,ve=oS(be||1<<18),Ne=0,Ie=ve.length>>>0,We=0,ze=0;!(pe&1);){if(pe=Ye(te,me),me+=3,pe>>>1)pe>>1==1?(We=9,ze=5):(me=kr(te,me),We=nt,ze=Wt);else{me&7&&(me+=8-(me&7));var Ue=te[me>>>3]|te[(me>>>3)+1]<<8;if(me+=32,Ue>0)for(!be&&Ie<Ne+Ue&&(ve=yt(ve,Ne+Ue),Ie=ve.length);Ue-- >0;)ve[Ne++]=te[me>>>3],me+=8;continue}for(;;){!be&&Ie<Ne+32767&&(ve=yt(ve,Ne+32767),Ie=ve.length);var $e=et(te,me,We),ht=pe>>>1==1?jt[$e]:_t[$e];if(me+=ht&15,ht>>>=4,!(ht>>>8&255))ve[Ne++]=ht;else{if(ht==256)break;ht-=257;var pt=ht<8?0:ht-4>>2;pt>5&&(pt=0);var At=Ne+W[ht];pt>0&&(At+=et(te,me,pt),me+=pt),$e=et(te,me,ze),ht=pe>>>1==1?Et[$e]:br[$e],me+=ht&15,ht>>>=4;var mt=ht<4?0:ht-2>>1,Nt=Z[ht];for(mt>0&&(Nt+=et(te,me,mt),me+=mt),!be&&Ie<At&&(ve=yt(ve,At+100),Ie=ve.length);Ne<At;)ve[Ne]=ve[Ne-Nt],++Ne}}}return be?[ve,me+7>>>3]:[ve.slice(0,Ne),me+7>>>3]}function wr(te,be){var me=te.slice(te.l||0),pe=Ct(me,be);return te.l+=pe[1],pe[0]}function Bt(te,be){if(te)typeof console<"u"&&console.error(be);else throw new Error(be)}function $t(te,be){var me=te;Yi(me,0);var pe=[],ve=[],Ne={FileIndex:pe,FullPaths:ve};I(Ne,{root:be.root});for(var Ie=me.length-4;(me[Ie]!=80||me[Ie+1]!=75||me[Ie+2]!=5||me[Ie+3]!=6)&&Ie>=0;)--Ie;me.l=Ie+4,me.l+=4;var We=me.read_shift(2);me.l+=6;var ze=me.read_shift(4);for(me.l=ze,Ie=0;Ie<We;++Ie){me.l+=20;var Ue=me.read_shift(4),$e=me.read_shift(4),ht=me.read_shift(2),pt=me.read_shift(2),At=me.read_shift(2);me.l+=8;var mt=me.read_shift(4),Nt=l(me.slice(me.l+ht,me.l+ht+pt));me.l+=ht+pt+At;var Kt=me.l;me.l=mt+4,Er(me,Ue,$e,Ne,Nt),me.l=Kt}return Ne}function Er(te,be,me,pe,ve){te.l+=2;var Ne=te.read_shift(2),Ie=te.read_shift(2),We=o(te);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var ze=te.read_shift(4),Ue=te.read_shift(4),$e=te.read_shift(4),ht=te.read_shift(2),pt=te.read_shift(2),At="",mt=0;mt<ht;++mt)At+=String.fromCharCode(te[te.l++]);if(pt){var Nt=l(te.slice(te.l,te.l+pt));(Nt[21589]||{}).mt&&(We=Nt[21589].mt),((ve||{})[21589]||{}).mt&&(We=ve[21589].mt)}te.l+=pt;var Kt=te.slice(te.l,te.l+Ue);switch(Ie){case 8:Kt=q(te,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var Vr=!1;Ne&8&&(ze=te.read_shift(4),ze==134695760&&(ze=te.read_shift(4),Vr=!0),Ue=te.read_shift(4),$e=te.read_shift(4)),Ue!=be&&Bt(Vr,"Bad compressed size: "+be+" != "+Ue),$e!=me&&Bt(Vr,"Bad uncompressed size: "+me+" != "+$e),Dn(pe,At,Kt,{unsafe:!0,mt:We})}function Jt(te,be){var me=be||{},pe=[],ve=[],Ne=Je(1),Ie=me.compression?8:0,We=0,ze=0,Ue=0,$e=0,ht=0,pt=te.FullPaths[0],At=pt,mt=te.FileIndex[0],Nt=[],Kt=0;for(ze=1;ze<te.FullPaths.length;++ze)if(At=te.FullPaths[ze].slice(pt.length),mt=te.FileIndex[ze],!(!mt.size||!mt.content||At=="Sh33tJ5")){var Vr=$e,yr=Je(At.length);for(Ue=0;Ue<At.length;++Ue)yr.write_shift(1,At.charCodeAt(Ue)&127);yr=yr.slice(0,yr.l),Nt[ht]=zG.buf(mt.content,0);var Ta=mt.content;Ie==8&&(Ta=F(Ta)),Ne=Je(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,We),Ne.write_shift(2,Ie),mt.mt?i(Ne,mt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Nt[ht]),Ne.write_shift(4,Ta.length),Ne.write_shift(4,mt.content.length),Ne.write_shift(2,yr.length),Ne.write_shift(2,0),$e+=Ne.length,pe.push(Ne),$e+=yr.length,pe.push(yr),$e+=Ta.length,pe.push(Ta),Ne=Je(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,We),Ne.write_shift(2,Ie),Ne.write_shift(4,0),Ne.write_shift(-4,Nt[ht]),Ne.write_shift(4,Ta.length),Ne.write_shift(4,mt.content.length),Ne.write_shift(2,yr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Vr),Kt+=Ne.l,ve.push(Ne),Kt+=yr.length,ve.push(yr),++ht}return Ne=Je(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,ht),Ne.write_shift(2,ht),Ne.write_shift(4,Kt),Ne.write_shift(4,$e),Ne.write_shift(2,0),os([os(pe),os(ve),Ne])}var Ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gr(te,be){if(te.ctype)return te.ctype;var me=te.name||"",pe=me.match(/\.([^\.]+)$/);return pe&&Ot[pe[1]]||be&&(pe=(me=be).match(/[\.\\]([^\.\\])+$/),pe&&Ot[pe[1]])?Ot[pe[1]]:"application/octet-stream"}function Js(te){for(var be=zg(te),me=[],pe=0;pe<be.length;pe+=76)me.push(be.slice(pe,pe+76));return me.join(`\r
`)+`\r
`}function dn(te){var be=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],pe=be.split(`\r
`),ve=0;ve<pe.length;++ve){var Ne=pe[ve];if(Ne.length==0){me.push("");continue}for(var Ie=0;Ie<Ne.length;){var We=76,ze=Ne.slice(Ie,Ie+We);ze.charAt(We-1)=="="?We--:ze.charAt(We-2)=="="?We-=2:ze.charAt(We-3)=="="&&(We-=3),ze=Ne.slice(Ie,Ie+We),Ie+=We,Ie<Ne.length&&(ze+="="),me.push(ze)}}return me.join(`\r
`)}function Ti(te){for(var be=[],me=0;me<te.length;++me){for(var pe=te[me];me<=te.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+te[++me];be.push(pe)}for(var ve=0;ve<be.length;++ve)be[ve]=be[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Nl(be.join(`\r
`))}function Qs(te,be,me){for(var pe="",ve="",Ne="",Ie,We=0;We<10;++We){var ze=be[We];if(!ze||ze.match(/^\s*$/))break;var Ue=ze.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":pe=Ue[2].trim();break;case"content-type":Ne=Ue[2].trim();break;case"content-transfer-encoding":ve=Ue[2].trim();break}}switch(++We,ve.toLowerCase()){case"base64":Ie=Nl(td(be.slice(We).join("")));break;case"quoted-printable":Ie=Ti(be.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var $e=Dn(te,pe.slice(me.length),Ie,{unsafe:!0});Ne&&($e.ctype=Ne)}function qt(te,be){if(fe(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=be&&be.root||"",pe=(Br&&Buffer.isBuffer(te)?te.toString("binary"):fe(te)).split(`\r
`),ve=0,Ne="";for(ve=0;ve<pe.length;++ve)if(Ne=pe[ve],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),me||(me=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ne.slice(0,me.length)!=me););var Ie=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var We="--"+(Ie[1]||""),ze=[],Ue=[],$e={FileIndex:ze,FullPaths:Ue};I($e);var ht,pt=0;for(ve=0;ve<pe.length;++ve){var At=pe[ve];At!==We&&At!==We+"--"||(pt++&&Qs($e,pe.slice(ht,ve),me),ht=ve)}return $e}function Ci(te,be){var me=be||{},pe=me.boundary||"SheetJS";pe="------="+pe;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],Ne=te.FullPaths[0],Ie=Ne,We=te.FileIndex[0],ze=1;ze<te.FullPaths.length;++ze)if(Ie=te.FullPaths[ze].slice(Ne.length),We=te.FileIndex[ze],!(!We.size||!We.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Kt){return"_x"+Kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Kt){return"_u"+Kt.charCodeAt(0).toString(16)+"_"});for(var Ue=We.content,$e=Br&&Buffer.isBuffer(Ue)?Ue.toString("binary"):fe(Ue),ht=0,pt=Math.min(1024,$e.length),At=0,mt=0;mt<=pt;++mt)(At=$e.charCodeAt(mt))>=32&&At<128&&++ht;var Nt=ht>=pt*4/5;ve.push(pe),ve.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ie),ve.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ve.push("Content-Type: "+gr(We,Ie)),ve.push(""),ve.push(Nt?dn($e):Js($e))}return ve.push(pe+`--\r
`),ve.join(`\r
`)}function Li(te){var be={};return I(be,te),be}function Dn(te,be,me,pe){var ve=pe&&pe.unsafe;ve||I(te);var Ne=!ve&&oa.find(te,be);if(!Ne){var Ie=te.FullPaths[0];be.slice(0,Ie.length)==Ie?Ie=be:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+be).replace("//","/")),Ne={name:s(be),type:2},te.FileIndex.push(Ne),te.FullPaths.push(Ie),ve||oa.utils.cfb_gc(te)}return Ne.content=me,Ne.size=me?me.length:0,pe&&(pe.CLSID&&(Ne.clsid=pe.CLSID),pe.mt&&(Ne.mt=pe.mt),pe.ct&&(Ne.ct=pe.ct)),Ne}function ms(te,be){I(te);var me=oa.find(te,be);if(me){for(var pe=0;pe<te.FileIndex.length;++pe)if(te.FileIndex[pe]==me)return te.FileIndex.splice(pe,1),te.FullPaths.splice(pe,1),!0}return!1}function Tr(te,be,me){I(te);var pe=oa.find(te,be);if(pe){for(var ve=0;ve<te.FileIndex.length;++ve)if(te.FileIndex[ve]==pe)return te.FileIndex[ve].name=s(me),te.FullPaths[ve]=me,!0}return!1}function St(te){C(te,!0)}return t.find=O,t.read=H,t.parse=h,t.write=Se,t.writeFile=oe,t.utils={cfb_new:Li,cfb_add:Dn,cfb_del:ms,cfb_mov:Tr,cfb_gc:St,ReadShift:ng,CheckField:iL,prep_blob:Yi,bconcat:os,use_zlib:A,_deflateRaw:gt,_inflateRaw:wr,consts:xe},t}();function UG(e){return typeof e=="string"?ev(e):Array.isArray(e)?fG(e):e}function pp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=ev(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Vg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([UG(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=gp(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function fs(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function gS(e,t){for(var r=[],a=fs(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function a4(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function av(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function VG(e){for(var t=[],r=fs(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var d1=new Date(1899,11,30,0,0,0);function ji(e,t){var r=e.getTime(),a=d1.getTime()+(e.getTimezoneOffset()-d1.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var q7=new Date,qG=d1.getTime()+(q7.getTimezoneOffset()-d1.getTimezoneOffset())*6e4,pS=q7.getTimezoneOffset();function $7(e){var t=new Date;return t.setTime(e*24*60*60*1e3+qG),t.getTimezoneOffset()!==pS&&t.setTime(t.getTime()+(t.getTimezoneOffset()-pS)*6e4),t}var xS=new Date("2017-02-19T19:06:09.000Z"),H7=isNaN(xS.getFullYear())?new Date("2/19/17"):xS,$G=H7.getFullYear()==2017;function Zs(e,t){var r=new Date(e);if($G)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(H7.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function nv(e,t){if(Br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function Si(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Si(e[r]));return t}function Za(e,t){for(var r="";r.length<t;)r+=e;return r}function Hc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var HG=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ug(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&HG.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function fr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Br?a=od(r):a=mG(r),oa.utils.cfb_add(e,t,a)}oa.utils.cfb_add(e,t,r)}else e.file(t,r)}function n4(){return oa.utils.cfb_new()}var kn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,WG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},s4=a4(WG),i4=/[&<>'"]/g,GG=/[\u0000-\u0008\u000b-\u001f]/g;function na(e){var t=e+"";return t.replace(i4,function(r){return s4[r]}).replace(GG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yS(e){return na(e).replace(/ /g,"_x0020_")}var W7=/[\u0000-\u001f]/g;function YG(e){var t=e+"";return t.replace(i4,function(r){return s4[r]}).replace(/\n/g,"<br/>").replace(W7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function KG(e){var t=e+"";return t.replace(i4,function(r){return s4[r]}).replace(W7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function ZG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function XG(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $b(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function vS(e){var t=vh(2*e.length),r,a,s=1,i=0,o=0,l;for(a=0;a<e.length;a+=s)s=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function bS(e){return od(e,"binary").toString("utf8")}var Nx="foo bar baz",ag=Br&&(bS(Nx)==$b(Nx)&&bS||vS(Nx)==$b(Nx)&&vS)||$b,Vg=Br?function(e){return od(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},JG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),G7=/(^\s|\s$|\n)/;function ls(e,t){return"<"+e+(t.match(G7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function qg(e){return fs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function vt(e,t,r){return"<"+e+(r!=null?qg(r):"")+(t!=null?(t.match(G7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Yw(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function QG(e,t){switch(typeof e){case"string":var r=vt("vt:lpwstr",na(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return vt((e|0)==e?"vt:i4":"vt:r8",na(String(e)));case"boolean":return vt("vt:bool",e?"true":"false")}if(e instanceof Date)return vt("vt:filetime",Yw(e));throw new Error("Unable to serialize "+e)}var Vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Uf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Zi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eY(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function tY(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var wS=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},_S=Br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:od(t)})):wS(e)}:wS,NS=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(Lm(e,s)));return a.join("").replace(rg,"")},o4=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(rg,""):NS(e,t,r)}:NS,kS=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},Y7=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):kS(e,t,r)}:kS,jS=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(v0(e,s)));return a.join("")},xp=Br?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):jS(t,r,a)}:jS,K7=function(e,t){var r=Xi(e,t);return r>0?xp(e,t+4,t+4+r-1):""},Z7=K7,X7=function(e,t){var r=Xi(e,t);return r>0?xp(e,t+4,t+4+r-1):""},J7=X7,Q7=function(e,t){var r=2*Xi(e,t);return r>0?xp(e,t+4,t+4+r-1):""},eL=Q7,tL=function(t,r){var a=Xi(t,r);return a>0?o4(t,r+4,r+4+a):""},rL=tL,aL=function(e,t){var r=Xi(e,t);return r>0?xp(e,t+4,t+4+r):""},nL=aL,sL=function(e,t){return eY(e,t)},u1=sL,l4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Br&&(Z7=function(t,r){if(!Buffer.isBuffer(t))return K7(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},J7=function(t,r){if(!Buffer.isBuffer(t))return X7(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},eL=function(t,r){if(!Buffer.isBuffer(t))return Q7(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},rL=function(t,r){if(!Buffer.isBuffer(t))return tL(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},nL=function(t,r){if(!Buffer.isBuffer(t))return aL(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},u1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):sL(t,r)},l4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var v0=function(e,t){return e[t]},Lm=function(e,t){return e[t+1]*256+e[t]},rY=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Xu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},aY=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ng(e,t){var r="",a,s,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Lm(this,u)),u+=2;e*=2;break;case"utf8":r=xp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=o4(this,this.l,this.l+e);break;case"wstr":return ng.call(this,e,"dbcs");case"lpstr-ansi":r=Z7(this,this.l),e=4+Xi(this,this.l);break;case"lpstr-cp":r=J7(this,this.l),e=4+Xi(this,this.l);break;case"lpwstr":r=eL(this,this.l),e=4+2*Xi(this,this.l);break;case"lpp4":e=4+Xi(this,this.l),r=rL(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xi(this,this.l),r=nL(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=v0(this,this.l+e++))!==0;)i.push(bx(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Lm(this,this.l+e))!==0;)i.push(bx(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=v0(this,u),this.l=u+1,l=ng.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(bx(Lm(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=v0(this,u),this.l=u+1,l=ng.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(bx(v0(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return a=v0(this,this.l),this.l++,a;case 2:return a=(t==="i"?rY:Lm)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?Xu:aY)(this,this.l),this.l+=4,a):(s=Xi(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=u1(this,this.l):s=u1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=Y7(this,this.l,e);break}}return this.l+=e,r}var nY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},sY=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},iY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function oY(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)iY(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,nY(this,t,this.l);break;case 8:if(a=8,r==="f"){tY(this,t,this.l);break}case 16:break;case-4:a=4,sY(this,t,this.l);break}return this.l+=a,this}function iL(e,t){var r=Y7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Yi(e,t){e.l=t,e.read_shift=ng,e.chk=iL,e.write_shift=oY}function dc(e,t){e.l+=t}function Je(e){var t=vh(e);return Yi(t,0),t}function _i(){var e=[],t=Br?256:2048,r=function(u){var h=Je(u);return Yi(h,0),h},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(u){return a&&u<a.length-a.l?a:(s(),a=r(Math.max(u+1,t)))},o=function(){return s(),os(e)},l=function(u){s(),a=u,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function dt(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=eee[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&l4(r)&&e.push(r)}}function sg(e,t,r){var a=Si(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function SS(e,t,r){var a=Si(e);return a.s=sg(a.s,t.s,r),a.e=sg(a.e,t.s,r),a}function ig(e,t){if(e.cRel&&e.c<0)for(e=Si(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Si(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sa(e);return!e.cRel&&e.cRel!=null&&(r=dY(r)),!e.rRel&&e.rRel!=null&&(r=lY(r)),r}function Hb(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Cs(e.s.c)+":"+(e.e.cRel?"":"$")+Cs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+hs(e.s.r)+":"+(e.e.rRel?"":"$")+hs(e.e.r):ig(e.s,t.biff)+":"+ig(e.e,t.biff)}function c4(e){return parseInt(cY(e),10)-1}function hs(e){return""+(e+1)}function lY(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cY(e){return e.replace(/\$(\d+)$/,"$1")}function d4(e){for(var t=uY(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Cs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function dY(e){return e.replace(/^([A-Z])/,"$$$1")}function uY(e){return e.replace(/^\$([A-Z])/,"$1")}function hY(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function sa(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ho(e){var t=e.indexOf(":");return t==-1?{s:qn(e),e:qn(e)}:{s:qn(e.slice(0,t)),e:qn(e.slice(t+1))}}function _n(e,t){return typeof t>"u"||typeof t=="number"?_n(e.s,e.e):(typeof e!="string"&&(e=sa(e)),typeof t!="string"&&(t=sa(t)),e==t?e:e+":"+t)}function Ea(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function AS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fu(e.z,r?ji(t):t)}catch{}try{return e.w=fu((e.XF||{}).numFmtId||(r?14:0),r?ji(t):t)}catch{return""+t}}function rd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?yp[e.v]||e.v:t==null?AS(e,e.v):AS(e,t))}function Lh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function oL(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?qn(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Ea(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[f].length;++g)if(!(typeof t[f][g]>"u")){var m={v:t[f][g]},y=o+f,x=l+g;if(u.s.r>y&&(u.s.r=y),u.s.c>x&&(u.s.c=x),u.e.r<y&&(u.e.r=y),u.e.c<x&&(u.e.c=x),t[f][g]&&typeof t[f][g]=="object"&&!Array.isArray(t[f][g])&&!(t[f][g]instanceof Date))m=t[f][g];else if(Array.isArray(m.v)&&(m.f=t[f][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(a.nullError)m.t="e",m.v=0;else if(a.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=a.dateNF||Ja[14],a.cellDates?(m.t="d",m.w=fu(m.z,ji(m.v))):(m.t="n",m.v=ji(m.v),m.w=fu(m.z,m.v))):m.t="s";if(s)i[y]||(i[y]=[]),i[y][x]&&i[y][x].z&&(m.z=i[y][x].z),i[y][x]=m;else{var N=sa({c:x,r:y});i[N]&&i[N].z&&(m.z=i[N].z),i[N]=m}}}return u.s.c<1e7&&(i["!ref"]=_n(u)),i}function Vf(e,t){return oL(null,e,t)}function fY(e){return e.read_shift(4,"i")}function Tl(e,t){return t||(t=Je(4)),t.write_shift(4,e),t}function Ls(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $n(e,t){var r=!1;return t==null&&(r=!0,t=Je(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function mY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function gY(e,t){return t||(t=Je(4)),t.write_shift(2,0),t.write_shift(2,0),t}function u4(e,t){var r=e.l,a=e.read_shift(1),s=Ls(e),i=[],o={t:s,h:s};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(mY(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function pY(e,t){var r=!1;return t==null&&(r=!0,t=Je(15+4*e.t.length)),t.write_shift(1,0),$n(e.t,t),r?t.slice(0,t.l):t}var xY=u4;function yY(e,t){var r=!1;return t==null&&(r=!0,t=Je(23+4*e.t.length)),t.write_shift(1,1),$n(e.t,t),t.write_shift(4,1),gY({},t),r?t.slice(0,t.l):t}function Ho(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ph(e,t){return t==null&&(t=Je(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Mh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Rh(e,t){return t==null&&(t=Je(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var vY=Ls,lL=$n;function h4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function h1(e,t){var r=!1;return t==null&&(r=!0,t=Je(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var bY=Ls,Kw=h4,f4=h1;function cL(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?u1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Xu(t,0)>>2;return r?s/100:s}function dL(e,t){t==null&&(t=Je(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function uL(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function wY(e,t){return t||(t=Je(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Oh=uL,qf=wY;function $f(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function bh(e,t){return(t||Je(8)).write_shift(8,e,"f")}function _Y(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var u=LY[s];u&&(t.rgb=FS(u));break;case 2:t.rgb=FS([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function f1(e,t){if(t||(t=Je(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function NY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function kY(e,t){t||(t=Je(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var hL=2,Wi=3,kx=11,m1=19,jx=64,jY=65,SY=71,AY=4108,EY=4126,ns=80,ES={1:{n:"CodePage",t:hL},2:{n:"Category",t:ns},3:{n:"PresentationFormat",t:ns},4:{n:"ByteCount",t:Wi},5:{n:"LineCount",t:Wi},6:{n:"ParagraphCount",t:Wi},7:{n:"SlideCount",t:Wi},8:{n:"NoteCount",t:Wi},9:{n:"HiddenCount",t:Wi},10:{n:"MultimediaClipCount",t:Wi},11:{n:"ScaleCrop",t:kx},12:{n:"HeadingPairs",t:AY},13:{n:"TitlesOfParts",t:EY},14:{n:"Manager",t:ns},15:{n:"Company",t:ns},16:{n:"LinksUpToDate",t:kx},17:{n:"CharacterCount",t:Wi},19:{n:"SharedDoc",t:kx},22:{n:"HyperlinksChanged",t:kx},23:{n:"AppVersion",t:Wi,p:"version"},24:{n:"DigSig",t:jY},26:{n:"ContentType",t:ns},27:{n:"ContentStatus",t:ns},28:{n:"Language",t:ns},29:{n:"Version",t:ns},255:{},2147483648:{n:"Locale",t:m1},2147483651:{n:"Behavior",t:m1},1919054434:{}},TS={1:{n:"CodePage",t:hL},2:{n:"Title",t:ns},3:{n:"Subject",t:ns},4:{n:"Author",t:ns},5:{n:"Keywords",t:ns},6:{n:"Comments",t:ns},7:{n:"Template",t:ns},8:{n:"LastAuthor",t:ns},9:{n:"RevNumber",t:ns},10:{n:"EditTime",t:jx},11:{n:"LastPrinted",t:jx},12:{n:"CreatedDate",t:jx},13:{n:"ModifiedDate",t:jx},14:{n:"PageCount",t:Wi},15:{n:"WordCount",t:Wi},16:{n:"CharCount",t:Wi},17:{n:"Thumbnail",t:SY},18:{n:"Application",t:ns},19:{n:"DocSecurity",t:Wi},255:{},2147483648:{n:"Locale",t:m1},2147483651:{n:"Behavior",t:m1},1919054434:{}};function TY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var CY=TY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),LY=Si(CY),yp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},PY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Sx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function fL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function mL(e,t){var r=VG(PY),a=[],s;a[a.length]=kn,a[a.length]=vt("Types",null,{xmlns:Vn.CT,"xmlns:xsd":Vn.xsd,"xmlns:xsi":Vn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return vt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=vt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Sx[c][t.bookType]||Sx[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){a[a.length]=vt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Sx[c][t.bookType]||Sx[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){a[a.length]=vt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gL(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function tf(e){var t=[kn,vt("Relationships",null,{xmlns:Vn.RELS})];return fs(e["!id"]).forEach(function(r){t[t.length]=vt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ea(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Ir.HLINK,Ir.XPATH,Ir.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function MY(e){var t=[kn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function CS(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function RY(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function OY(e){var t=[kn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(CS(e[r][0],e[r][1])),t.push(RY("",e[r][0]));return t.push(CS("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function pL(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+s1.version+"</meta:generator></office:meta></office:document-meta>"}var oh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Wb(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=na(t),a[a.length]=r?vt(e,t,r):ls(e,t))}function xL(e,t){var r=t||{},a=[kn,vt("cp:coreProperties",null,{"xmlns:cp":Vn.CORE_PROPS,"xmlns:dc":Vn.dc,"xmlns:dcterms":Vn.dcterms,"xmlns:dcmitype":Vn.dcmitype,"xmlns:xsi":Vn.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Wb("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Yw(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&Wb("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Yw(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=oh.length;++i){var o=oh[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Wb(o[0],l,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var rf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],yL=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function vL(e){var t=[],r=vt;return e||(e={}),e.Application="SheetJS",t[t.length]=kn,t[t.length]=vt("Properties",null,{xmlns:Vn.EXT_PROPS,"xmlns:vt":Vn.vt}),rf.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=na(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+na(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function bL(e){var t=[kn,vt("Properties",null,{xmlns:Vn.CUST_PROPS,"xmlns:vt":Vn.vt})];if(!e)return t.join("");var r=1;return fs(e).forEach(function(s){++r,t[t.length]=vt("property",QG(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:na(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var LS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function DY(e,t){var r=[];return fs(LS).map(function(a){for(var s=0;s<oh.length;++s)if(oh[s][1]==a)return oh[s];for(s=0;s<rf.length;++s)if(rf[s][1]==a)return rf[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(ls(LS[a[1]]||a[1],s))}}),vt("DocumentProperties",r.join(""),{xmlns:Zi.o})}function IY(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&fs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<oh.length;++o)if(i==oh[o][1])return;for(o=0;o<rf.length;++o)if(i==rf[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(vt(yS(i),l,{"dt:dt":c}))}}),t&&fs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(vt(yS(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+Zi.o+'">'+s.join("")+"</"+a+">"}function FY(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=Je(8);return o.write_shift(4,a),o.write_shift(4,s),o}function PS(e,t){var r=Je(4),a=Je(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Je(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=FY(t);break;case 31:case 80:for(a=Je(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return os([r,a])}var wL=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function BY(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function MS(e,t,r){var a=Je(8),s=[],i=[],o=8,l=0,c=Je(8),u=Je(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),o+=8+c.length,!t){u=Je(8),u.write_shift(4,0),s.unshift(u);var h=[Je(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Je(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=os(h),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(wL.indexOf(e[l][0])>-1||yL.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],m=0;if(t){m=+t[e[l][0]];var y=r[m];if(y.p=="version"&&typeof g=="string"){var x=g.split(".");g=(+x[0]<<16)+(+x[1]||0)}c=PS(y.t,g)}else{var N=BY(g);N==-1&&(N=31,g=String(g)),c=PS(N,g)}i.push(c),u=Je(8),u.write_shift(4,t?m:2+l),s.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,b),b+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),os([a].concat(s).concat(i))}function RS(e,t,r,a,s,i){var o=Je(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,oa.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=MS(e,r,a);if(l.push(c),s){var u=MS(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return os(l)}function zY(e,t){t||(t=Je(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function UY(e,t){return e.read_shift(t)===1}function qs(e,t){return t||(t=Je(2)),t.write_shift(2,+!!e),t}function _L(e){return e.read_shift(2,"u")}function To(e,t){return t||(t=Je(2)),t.write_shift(2,e),t}function NL(e,t,r){return r||(r=Je(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function kL(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function VY(e){var t=e.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Je(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return os(s)}function qY(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function $Y(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):qY(e,a,r)}function HY(e,t,r){if(r.biff>5)return $Y(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function jL(e,t,r){return r||(r=Je(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function OS(e,t){t||(t=Je(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function WY(e){var t=Je(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),OS(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&OS(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function wh(e,t,r,a){return a||(a=Je(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function GY(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function YY(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function SL(e,t){return t||(t=Je(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function m4(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Je(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function KY(e,t){var r=!t||t.biff==8,a=Je(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function ZY(e,t){var r=!t||t.biff>=8?2:1,a=Je(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function XY(e,t){var r=Je(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=VY(e[s]);var i=os([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function JY(){var e=Je(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function QY(e){var t=Je(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function eK(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=Je(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function tK(e,t,r,a){var s=Je(10);return wh(e,t,a,s),s.write_shift(4,r),s}function rK(e,t,r,a,s){var i=!s||s.biff==8,o=Je(8+ +i+(1+i)*r.length);return wh(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function aK(e,t,r,a){var s=r&&r.biff==5;a||(a=Je(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function nK(e,t){var r=t.biff==8||!t.biff?4:2,a=Je(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function DS(e,t,r,a){var s=r&&r.biff==5;a||(a=Je(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function sK(e){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function iK(e,t,r,a,s,i){var o=Je(8);return wh(e,t,a,o),NL(r,i,o),o}function oK(e,t,r,a){var s=Je(14);return wh(e,t,a,s),bh(r,s),s}function lK(e,t,r){if(r.biff<8)return cK(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(GY(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function cK(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=kL(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function dK(e){var t=Je(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)SL(e[r],t);return t}function uK(e){var t=Je(24),r=qn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return os([t,WY(e[1])])}function hK(e){var t=e[1].Tooltip,r=Je(10+2*(t.length+1));r.write_shift(2,2048);var a=qn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function fK(e){return e||(e=Je(4)),e.write_shift(2,1),e.write_shift(2,1),e}function mK(e,t,r){if(!r.cellStyles)return dc(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function gK(e,t){var r=Je(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function pK(e){for(var t=Je(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function xK(e,t,r){var a=Je(15);return bp(a,e,t),a.write_shift(8,r,"f"),a}function yK(e,t,r){var a=Je(9);return bp(a,e,t),a.write_shift(2,r),a}var vK=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=a4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],h=vh(1);switch(c.type){case"base64":h=Nl(td(l));break;case"binary":h=Nl(l);break;case"buffer":case"array":h=l;break}Yi(h,0);var f=h.read_shift(1),g=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,N=521;f==2&&(x=h.read_shift(2)),h.l+=3,f!=2&&(x=h.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(N=h.read_shift(2));var b=h.read_shift(2),w=c.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var k=[],S={},B=Math.min(h.length,f==2?521:N-10-(m?264:0)),H=y?32:11;h.l<B&&h[h.l]!=13;)switch(S={},S.name=i1.utils.decode(w,h.slice(h.l,h.l+H)).replace(/[\u0000\r\n].*$/g,""),h.l+=H,S.type=String.fromCharCode(h.read_shift(1)),f!=2&&!y&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),f==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&k.push(S),f!=2&&(h.l+=y?13:14),S.type){case"B":(!m||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=N-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=N;var I=0,D=0;for(u[0]=[],D=0;D!=k.length;++D)u[0][D]=k[D].name;for(;x-- >0;){if(h[h.l]===42){h.l+=b;continue}for(++h.l,u[++I]=[],D=0,D=0;D!=k.length;++D){var C=h.slice(h.l,h.l+k[D].len);h.l+=k[D].len,Yi(C,0);var G=i1.utils.decode(w,C);switch(k[D].type){case"C":G.trim().length&&(u[I][D]=G.replace(/\s+$/,""));break;case"D":G.length===8?u[I][D]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):u[I][D]=G;break;case"F":u[I][D]=parseFloat(G.trim());break;case"+":case"I":u[I][D]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":u[I][D]=!0;break;case"N":case"F":u[I][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[I][D]="##MEMO##"+(y?parseInt(G.trim(),10):C.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(u[I][D]=+G||0);break;case"@":u[I][D]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[I][D]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[I][D]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[I][D]=-C.read_shift(-8,"f");break;case"B":if(m&&k[D].len==8){u[I][D]=C.read_shift(8,"f");break}case"G":case"P":C.l+=k[D].len;break;case"0":if(k[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[D].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=k,u}function a(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Vf(r(l,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function s(l,c){try{return Lh(a(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Bg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=_i(),f=v1(l,{header:1,raw:!0,cellDates:!0}),g=f[0],m=f.slice(1),y=l["!cols"]||[],x=0,N=0,b=0,w=1;for(x=0;x<g.length;++x){if(((y[x]||{}).DBF||{}).name){g[x]=y[x].DBF.name,++b;continue}if(g[x]!=null){if(++b,typeof g[x]=="number"&&(g[x]=g[x].toString(10)),typeof g[x]!="string")throw new Error("DBF Invalid column name "+g[x]+" |"+typeof g[x]+"|");if(g.indexOf(g[x])!==x){for(N=0;N<1024;++N)if(g.indexOf(g[x]+"_"+N)==-1){g[x]+="_"+N;break}}}}var k=Ea(l["!ref"]),S=[],B=[],H=[];for(x=0;x<=k.e.c-k.s.c;++x){var I="",D="",C=0,G=[];for(N=0;N<m.length;++N)m[N][x]!=null&&G.push(m[N][x]);if(G.length==0||g[x]==null){S[x]="?";continue}for(N=0;N<G.length;++N){switch(typeof G[N]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=G[N]instanceof Date?"D":"C";break;default:D="C"}C=Math.max(C,String(G[N]).length),I=I&&I!=D?"C":D}C>250&&(C=250),D=((y[x]||{}).DBF||{}).type,D=="C"&&y[x].DBF.len>C&&(C=y[x].DBF.len),I=="B"&&D=="N"&&(I="N",H[x]=y[x].DBF.dec,C=y[x].DBF.len),B[x]=I=="C"||D=="N"?C:i[I]||0,w+=B[x],S[x]=I}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*b),O.write_shift(2,w),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[E7]||3)<<8),x=0,N=0;x<g.length;++x)if(g[x]!=null){var V=h.next(32),Y=(g[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,Y,"sbcs"),V.write_shift(1,S[x]=="?"?"C":S[x],"sbcs"),V.write_shift(4,N),V.write_shift(1,B[x]||i[S[x]]||0),V.write_shift(1,H[x]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),N+=B[x]||i[S[x]]||0}var ee=h.next(264);for(ee.write_shift(4,13),x=0;x<65;++x)ee.write_shift(4,0);for(x=0;x<m.length;++x){var he=h.next(w);for(he.write_shift(1,0),N=0;N<g.length;++N)if(g[N]!=null)switch(S[N]){case"L":he.write_shift(1,m[x][N]==null?63:m[x][N]?84:70);break;case"B":he.write_shift(8,m[x][N]||0,"f");break;case"N":var de="0";for(typeof m[x][N]=="number"&&(de=m[x][N].toFixed(H[N]||0)),b=0;b<B[N]-de.length;++b)he.write_shift(1,32);he.write_shift(1,de,"sbcs");break;case"D":m[x][N]?(he.write_shift(4,("0000"+m[x][N].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(m[x][N].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+m[x][N].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(m[x][N]!=null?m[x][N]:"").slice(0,B[N]);for(he.write_shift(1,xe,"sbcs"),b=0;b<B[N]-xe.length;++b)he.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),bK=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+fs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,m){var y=e[m];return typeof y=="number"?iS(y):y},a=function(g,m,y){var x=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?g:iS(x)};e["|"]=254;function s(g,m){switch(m.type){case"base64":return i(td(g),m);case"binary":return i(g,m);case"buffer":return i(Br&&Buffer.isBuffer(g)?g.toString("binary"):gp(g),m);case"array":return i(nv(g),m)}throw new Error("Unrecognized type "+m.type)}function i(g,m){var y=g.split(/[\n\r]+/),x=-1,N=-1,b=0,w=0,k=[],S=[],B=null,H={},I=[],D=[],C=[],G=0,O;for(+m.codepage>=0&&Bg(+m.codepage);b!==y.length;++b){G=0;var V=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),Y=V.replace(/;;/g,"\0").split(";").map(function(R){return R.replace(/\u0000/g,";")}),ee=Y[0],he;if(V.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&S.push(V.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,xe=!1,oe=!1,fe=!1,Se=-1,K=-1;for(w=1;w<Y.length;++w)switch(Y[w].charAt(0)){case"A":break;case"X":N=parseInt(Y[w].slice(1))-1,xe=!0;break;case"Y":for(x=parseInt(Y[w].slice(1))-1,xe||(N=0),O=k.length;O<=x;++O)k[O]=[];break;case"K":he=Y[w].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Hc(he))?isNaN(Ug(he).getDate())||(he=Zs(he)):(he=Hc(he),B!==null&&z7(B)&&(he=$7(he))),de=!0;break;case"E":fe=!0;var A=yZ(Y[w].slice(1),{r:x,c:N});k[x][N]=[k[x][N],A];break;case"S":oe=!0,k[x][N]=[k[x][N],"S5S"];break;case"G":break;case"R":Se=parseInt(Y[w].slice(1))-1;break;case"C":K=parseInt(Y[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(de&&(k[x][N]&&k[x][N].length==2?k[x][N][0]=he:k[x][N]=he,B=null),oe){if(fe)throw new Error("SYLK shared formula cannot have own formula");var q=Se>-1&&k[Se][K];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");k[x][N][1]=vZ(q[1],{r:x-Se,c:N-K})}break;case"F":var F=0;for(w=1;w<Y.length;++w)switch(Y[w].charAt(0)){case"X":N=parseInt(Y[w].slice(1))-1,++F;break;case"Y":for(x=parseInt(Y[w].slice(1))-1,O=k.length;O<=x;++O)k[O]=[];break;case"M":G=parseInt(Y[w].slice(1))/20;break;case"F":break;case"G":break;case"P":B=S[parseInt(Y[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=Y[w].slice(1).split(" "),O=parseInt(C[0],10);O<=parseInt(C[1],10);++O)G=parseInt(C[2],10),D[O-1]=G===0?{hidden:!0}:{wch:G},g4(D[O-1]);break;case"C":N=parseInt(Y[w].slice(1))-1,D[N]||(D[N]={});break;case"R":x=parseInt(Y[w].slice(1))-1,I[x]||(I[x]={}),G>0?(I[x].hpt=G,I[x].hpx=LL(G)):G===0&&(I[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}F<1&&(B=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return I.length>0&&(H["!rows"]=I),D.length>0&&(H["!cols"]=D),m&&m.sheetRows&&(k=k.slice(0,m.sheetRows)),[k,H]}function o(g,m){var y=s(g,m),x=y[0],N=y[1],b=Vf(x,m);return fs(N).forEach(function(w){b[w]=N[w]}),b}function l(g,m){return Lh(o(g,m),m)}function c(g,m,y,x){var N="C;Y"+(y+1)+";X"+(x+1)+";K";switch(g.t){case"n":N+=g.v||0,g.f&&!g.F&&(N+=";E"+x4(g.f,{r:y,c:x}));break;case"b":N+=g.v?"TRUE":"FALSE";break;case"e":N+=g.w||g.v;break;case"d":N+='"'+(g.w||g.v)+'"';break;case"s":N+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function u(g,m){m.forEach(function(y,x){var N="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?N+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=g1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=p1(y.wpx)),typeof y.wch=="number"&&(N+=Math.round(y.wch))),N.charAt(N.length-1)!=" "&&g.push(N)})}function h(g,m){m.forEach(function(y,x){var N="F;";y.hidden?N+="M0;":y.hpt?N+="M"+20*y.hpt+";":y.hpx&&(N+="M"+20*x1(y.hpx)+";"),N.length>2&&g.push(N+"R"+(x+1))})}function f(g,m){var y=["ID;PWXL;N;E"],x=[],N=Ea(g["!ref"]),b,w=Array.isArray(g),k=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&u(y,g["!cols"]),g["!rows"]&&h(y,g["!rows"]),y.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var S=N.s.r;S<=N.e.r;++S)for(var B=N.s.c;B<=N.e.c;++B){var H=sa({r:S,c:B});b=w?(g[S]||[])[B]:g[H],!(!b||b.v==null&&(!b.f||b.F))&&x.push(c(b,g,S,B))}return y.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),wK=function(){function e(i,o){switch(o.type){case"base64":return t(td(i),o);case"binary":return t(i,o);case"buffer":return t(Br&&Buffer.isBuffer(i)?i.toString("binary"):gp(i),o);case"array":return t(nv(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,h=0,f=[];h!==l.length;++h){if(l[h].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var g=l[h].trim().split(","),m=g[0],y=g[1];++h;for(var x=l[h]||"";(x.match(/["]/g)||[]).length&1&&h<l.length-1;)x+=`
`+l[++h];switch(x=x.trim(),+m){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(Hc(y))?isNaN(Ug(y).getDate())?f[c][u]=y:f[c][u]=Zs(y):f[c][u]=Hc(y),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Vf(e(i,o),o)}function a(i,o){return Lh(r(i,o),o)}var s=function(){var i=function(c,u,h,f,g){c.push(u),c.push(h+","+f),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,h,f){c.push(u+","+h),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],h=Ea(c["!ref"]),f,g=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){o(u,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var x=sa({r:m,c:y});if(f=g?(c[m]||[])[y]:c[x],!f){o(u,1,0,"");continue}switch(f.t){case"n":var N=f.w;!N&&f.v!=null&&(N=f.v),N==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,N,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=fu(f.z||Ja[14],ji(Zs(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,w=u.join(b);return w}}();return{to_workbook:a,to_sheet:r,from_sheet:s}}(),AL=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,g){for(var m=f.split(`
`),y=-1,x=-1,N=0,b=[];N!==m.length;++N){var w=m[N].trim().split(":");if(w[0]==="cell"){var k=qn(w[1]);if(b.length<=k.r)for(y=b.length;y<=k.r;++y)b[y]||(b[y]=[]);switch(y=k.r,x=k.c,w[2]){case"t":b[y][x]=e(w[3]);break;case"v":b[y][x]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[y][x]=!!+w[4];break;default:b[y][x]=+w[4];break}w[2]=="vtf"&&(b[y][x]=[b[y][x],S])}}}return g&&g.sheetRows&&(b=b.slice(0,g.sheetRows)),b}function a(f,g){return Vf(r(f,g),g)}function s(f,g){return Lh(a(f,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var g=[],m=[],y,x="",N=ho(f["!ref"]),b=Array.isArray(f),w=N.s.r;w<=N.e.r;++w)for(var k=N.s.c;k<=N.e.c;++k)if(x=sa({r:w,c:k}),y=b?(f[w]||[])[k]:f[x],!(!y||y.v==null||y.t==="z")){switch(m=["cell",x,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var S=ji(Zs(y.v));m[2]="vtc",m[3]="nd",m[4]=""+S,m[5]=y.w||fu(y.z||Ja[14],S);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:h}}(),_K=function(){function e(h,f,g,m,y){y.raw?f[g][m]=h:h===""||(h==="TRUE"?f[g][m]=!0:h==="FALSE"?f[g][m]=!1:isNaN(Hc(h))?isNaN(Ug(h).getDate())?f[g][m]=h:f[g][m]=Zs(h):f[g][m]=Hc(h))}function t(h,f){var g=f||{},m=[];if(!h||h.length===0)return m;for(var y=h.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var N=10,b=0,w=0;w<=x;++w)b=y[w].indexOf(" "),b==-1?b=y[w].length:b++,N=Math.max(N,b);for(w=0;w<=x;++w){m[w]=[];var k=0;for(e(y[w].slice(0,N).trim(),m,w,k,g),k=1;k<=(y[w].length-N)/10+1;++k)e(y[w].slice(N+(k-1)*10,N+k*10).trim(),m,w,k,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(h){for(var f={},g=!1,m=0,y=0;m<h.length;++m)(y=h.charCodeAt(m))==34?g=!g:!g&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=a;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(x,N){return x[0]-N[0]||a[x[1]]-a[N[1]]}),r[y.pop()[1]]||44}function i(h,f){var g=f||{},m="",y=g.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=s(h.slice(0,1024)):g&&g.FS?m=g.FS:m=s(h.slice(0,1024));var N=0,b=0,w=0,k=0,S=0,B=m.charCodeAt(0),H=!1,I=0,D=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var C=g.dateNF!=null?FG(g.dateNF):null;function G(){var O=h.slice(k,S),V={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)V.t="z";else if(g.raw)V.t="s",V.v=O;else if(O.trim().length===0)V.t="s",V.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(V.t="s",V.v=O.slice(2,-1).replace(/""/g,'"')):bZ(O)?(V.t="n",V.f=O.slice(1)):(V.t="s",V.v=O);else if(O=="TRUE")V.t="b",V.v=!0;else if(O=="FALSE")V.t="b",V.v=!1;else if(!isNaN(w=Hc(O)))V.t="n",g.cellText!==!1&&(V.w=O),V.v=w;else if(!isNaN(Ug(O).getDate())||C&&O.match(C)){V.z=g.dateNF||Ja[14];var Y=0;C&&O.match(C)&&(O=BG(O,g.dateNF,O.match(C)||[]),Y=1),g.cellDates?(V.t="d",V.v=Zs(O,Y)):(V.t="n",V.v=ji(Zs(O,Y))),g.cellText!==!1&&(V.w=fu(V.z,V.v instanceof Date?ji(V.v):V.v)),g.cellNF||delete V.z}else V.t="s",V.v=O;if(V.t=="z"||(g.dense?(y[N]||(y[N]=[]),y[N][b]=V):y[sa({c:b,r:N})]=V),k=S+1,D=h.charCodeAt(k),x.e.c<b&&(x.e.c=b),x.e.r<N&&(x.e.r=N),I==B)++b;else if(b=0,++N,g.sheetRows&&g.sheetRows<=N)return!0}e:for(;S<h.length;++S)switch(I=h.charCodeAt(S)){case 34:D===34&&(H=!H);break;case B:case 10:case 13:if(!H&&G())break e;break}return S-k>0&&G(),y["!ref"]=_n(x),y}function o(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,f):Vf(t(h,f),f)}function l(h,f){var g="",m=f.type=="string"?[0,0,0,0]:Ree(h,f);switch(f.type){case"base64":g=td(h);break;case"binary":g=h;break;case"buffer":f.codepage==65001?g=h.toString("utf8"):f.codepage&&typeof i1<"u"||(g=Br&&Buffer.isBuffer(h)?h.toString("binary"):gp(h));break;case"array":g=nv(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=ag(g.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?g=ag(g):f.type=="binary"&&typeof i1<"u",g.slice(0,19)=="socialcalc:version:"?AL.to_sheet(f.type=="string"?g:ag(g),f):o(g,f)}function c(h,f){return Lh(l(h,f),f)}function u(h){for(var f=[],g=Ea(h["!ref"]),m,y=Array.isArray(h),x=g.s.r;x<=g.e.r;++x){for(var N=[],b=g.s.c;b<=g.e.c;++b){var w=sa({r:x,c:b});if(m=y?(h[x]||[])[b]:h[w],!m||m.v==null){N.push("          ");continue}for(var k=(m.w||(rd(m),m.w)||"").slice(0,10);k.length<10;)k+=" ";N.push(k+(b===0?" ":""))}f.push(N.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),IS=function(){function e(A,q,F){if(A){Yi(A,A.l||0);for(var R=F.Enum||Se;A.l<A.length;){var W=A.read_shift(2),Z=R[W]||R[65535],ie=A.read_shift(2),re=A.l+ie,X=Z.f&&Z.f(A,ie,F);if(A.l=re,q(X,Z,W))return}}}function t(A,q){switch(q.type){case"base64":return r(Nl(td(A)),q);case"binary":return r(Nl(A),q);case"buffer":case"array":return r(A,q)}throw"Unsupported type "+q.type}function r(A,q){if(!A)return A;var F=q||{},R=F.dense?[]:{},W="Sheet1",Z="",ie=0,re={},X=[],ke=[],Pe={s:{r:0,c:0},e:{r:0,c:0}},De=F.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)F.Enum=Se,e(A,function(je,et,ae){switch(ae){case 0:F.vers=je,je>=4096&&(F.qpro=!0);break;case 6:Pe=je;break;case 204:je&&(Z=je);break;case 222:Z=je;break;case 15:case 51:F.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:ae==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=F.dateNF||Ja[14],F.cellDates&&(je[1].t="d",je[1].v=$7(je[1].v))),F.qpro&&je[3]>ie&&(R["!ref"]=_n(Pe),re[W]=R,X.push(W),R=F.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},ie=je[3],W=Z||"Sheet"+(ie+1),Z="");var Oe=F.dense?(R[je[0].r]||[])[je[0].c]:R[sa(je[0])];if(Oe){Oe.t=je[1].t,Oe.v=je[1].v,je[1].z!=null&&(Oe.z=je[1].z),je[1].f!=null&&(Oe.f=je[1].f);break}F.dense?(R[je[0].r]||(R[je[0].r]=[]),R[je[0].r][je[0].c]=je[1]):R[sa(je[0])]=je[1];break}},F);else if(A[2]==26||A[2]==14)F.Enum=K,A[2]==14&&(F.qpro=!0,A.l=0),e(A,function(je,et,ae){switch(ae){case 204:W=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ie&&(R["!ref"]=_n(Pe),re[W]=R,X.push(W),R=F.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},ie=je[3],W="Sheet"+(ie+1)),De>0&&je[0].r>=De)break;F.dense?(R[je[0].r]||(R[je[0].r]=[]),R[je[0].r][je[0].c]=je[1]):R[sa(je[0])]=je[1],Pe.e.c<je[0].c&&(Pe.e.c=je[0].c),Pe.e.r<je[0].r&&(Pe.e.r=je[0].r);break;case 27:je[14e3]&&(ke[je[14e3][0]]=je[14e3][1]);break;case 1537:ke[je[0]]=je[1],je[0]==ie&&(W=je[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(R["!ref"]=_n(Pe),re[Z||W]=R,X.push(Z||W),!ke.length)return{SheetNames:X,Sheets:re};for(var Ye={},ce=[],Ae=0;Ae<ke.length;++Ae)re[X[Ae]]?(ce.push(ke[Ae]||X[Ae]),Ye[ke[Ae]]=re[ke[Ae]]||re[X[Ae]]):(ce.push(ke[Ae]),Ye[ke[Ae]]={"!ref":"A1"});return{SheetNames:ce,Sheets:Ye}}function a(A,q){var F=q||{};if(+F.codepage>=0&&Bg(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var R=_i(),W=Ea(A["!ref"]),Z=Array.isArray(A),ie=[];bt(R,0,i(1030)),bt(R,6,c(W));for(var re=Math.min(W.e.r,8191),X=W.s.r;X<=re;++X)for(var ke=hs(X),Pe=W.s.c;Pe<=W.e.c;++Pe){X===W.s.r&&(ie[Pe]=Cs(Pe));var De=ie[Pe]+ke,Ye=Z?(A[X]||[])[Pe]:A[De];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?bt(R,13,m(X,Pe,Ye.v)):bt(R,14,x(X,Pe,Ye.v));else{var ce=rd(Ye);bt(R,15,f(X,Pe,ce.slice(0,239)))}}return bt(R,1),R.end()}function s(A,q){var F=q||{};if(+F.codepage>=0&&Bg(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var R=_i();bt(R,0,o(A));for(var W=0,Z=0;W<A.SheetNames.length;++W)(A.Sheets[A.SheetNames[W]]||{})["!ref"]&&bt(R,27,fe(A.SheetNames[W],Z++));var ie=0;for(W=0;W<A.SheetNames.length;++W){var re=A.Sheets[A.SheetNames[W]];if(!(!re||!re["!ref"])){for(var X=Ea(re["!ref"]),ke=Array.isArray(re),Pe=[],De=Math.min(X.e.r,8191),Ye=X.s.r;Ye<=De;++Ye)for(var ce=hs(Ye),Ae=X.s.c;Ae<=X.e.c;++Ae){Ye===X.s.r&&(Pe[Ae]=Cs(Ae));var je=Pe[Ae]+ce,et=ke?(re[Ye]||[])[Ae]:re[je];if(!(!et||et.t=="z"))if(et.t=="n")bt(R,23,G(Ye,Ae,ie,et.v));else{var ae=rd(et);bt(R,22,I(Ye,Ae,ie,ae.slice(0,239)))}}++ie}}return bt(R,1),R.end()}function i(A){var q=Je(2);return q.write_shift(2,A),q}function o(A){var q=Je(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var F=0,R=0,W=0,Z=0;Z<A.SheetNames.length;++Z){var ie=A.SheetNames[Z],re=A.Sheets[ie];if(!(!re||!re["!ref"])){++W;var X=ho(re["!ref"]);F<X.e.r&&(F=X.e.r),R<X.e.c&&(R=X.e.c)}}return F>8191&&(F=8191),q.write_shift(2,F),q.write_shift(1,W),q.write_shift(1,R),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(A,q,F){var R={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&F.qpro?(R.s.c=A.read_shift(1),A.l++,R.s.r=A.read_shift(2),R.e.c=A.read_shift(1),A.l++,R.e.r=A.read_shift(2),R):(R.s.c=A.read_shift(2),R.s.r=A.read_shift(2),q==12&&F.qpro&&(A.l+=2),R.e.c=A.read_shift(2),R.e.r=A.read_shift(2),q==12&&F.qpro&&(A.l+=2),R.s.c==65535&&(R.s.c=R.e.c=R.s.r=R.e.r=0),R)}function c(A){var q=Je(8);return q.write_shift(2,A.s.c),q.write_shift(2,A.s.r),q.write_shift(2,A.e.c),q.write_shift(2,A.e.r),q}function u(A,q,F){var R=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(R[0].c=A.read_shift(1),R[3]=A.read_shift(1),R[0].r=A.read_shift(2),A.l+=2):(R[2]=A.read_shift(1),R[0].c=A.read_shift(2),R[0].r=A.read_shift(2)),R}function h(A,q,F){var R=A.l+q,W=u(A,q,F);if(W[1].t="s",F.vers==20768){A.l++;var Z=A.read_shift(1);return W[1].v=A.read_shift(Z,"utf8"),W}return F.qpro&&A.l++,W[1].v=A.read_shift(R-A.l,"cstr"),W}function f(A,q,F){var R=Je(7+F.length);R.write_shift(1,255),R.write_shift(2,q),R.write_shift(2,A),R.write_shift(1,39);for(var W=0;W<R.length;++W){var Z=F.charCodeAt(W);R.write_shift(1,Z>=128?95:Z)}return R.write_shift(1,0),R}function g(A,q,F){var R=u(A,q,F);return R[1].v=A.read_shift(2,"i"),R}function m(A,q,F){var R=Je(7);return R.write_shift(1,255),R.write_shift(2,q),R.write_shift(2,A),R.write_shift(2,F,"i"),R}function y(A,q,F){var R=u(A,q,F);return R[1].v=A.read_shift(8,"f"),R}function x(A,q,F){var R=Je(13);return R.write_shift(1,255),R.write_shift(2,q),R.write_shift(2,A),R.write_shift(8,F,"f"),R}function N(A,q,F){var R=A.l+q,W=u(A,q,F);if(W[1].v=A.read_shift(8,"f"),F.qpro)A.l=R;else{var Z=A.read_shift(2);S(A.slice(A.l,A.l+Z),W),A.l+=Z}return W}function b(A,q,F){var R=q&32768;return q&=-32769,q=(R?A:0)+(q>=8192?q-16384:q),(R?"":"$")+(F?Cs(q):hs(q))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(A,q){Yi(A,0);for(var F=[],R=0,W="",Z="",ie="",re="";A.l<A.length;){var X=A[A.l++];switch(X){case 0:F.push(A.read_shift(8,"f"));break;case 1:Z=b(q[0].c,A.read_shift(2),!0),W=b(q[0].r,A.read_shift(2),!1),F.push(Z+W);break;case 2:{var ke=b(q[0].c,A.read_shift(2),!0),Pe=b(q[0].r,A.read_shift(2),!1);Z=b(q[0].c,A.read_shift(2),!0),W=b(q[0].r,A.read_shift(2),!1),F.push(ke+Pe+":"+Z+W)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(A.read_shift(2));break;case 6:{for(var De="";X=A[A.l++];)De+=String.fromCharCode(X);F.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:re=F.pop(),ie=F.pop(),F.push(["AND","OR"][X-20]+"("+ie+","+re+")");break;default:if(X<32&&k[X])re=F.pop(),ie=F.pop(),F.push(ie+k[X]+re);else if(w[X]){if(R=w[X][1],R==69&&(R=A[A.l++]),R>F.length){console.error("WK1 bad formula parse 0x"+X.toString(16)+":|"+F.join("|")+"|");return}var Ye=F.slice(-R);F.length-=R,F.push(w[X][0]+"("+Ye.join(",")+")")}else return X<=7?console.error("WK1 invalid opcode "+X.toString(16)):X<=24?console.error("WK1 unsupported op "+X.toString(16)):X<=30?console.error("WK1 invalid opcode "+X.toString(16)):X<=115?console.error("WK1 unsupported function opcode "+X.toString(16)):console.error("WK1 unrecognized opcode "+X.toString(16))}}F.length==1?q[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function B(A){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=A.read_shift(2),q[3]=A[A.l++],q[0].c=A[A.l++],q}function H(A,q){var F=B(A);return F[1].t="s",F[1].v=A.read_shift(q-4,"cstr"),F}function I(A,q,F,R){var W=Je(6+R.length);W.write_shift(2,A),W.write_shift(1,F),W.write_shift(1,q),W.write_shift(1,39);for(var Z=0;Z<R.length;++Z){var ie=R.charCodeAt(Z);W.write_shift(1,ie>=128?95:ie)}return W.write_shift(1,0),W}function D(A,q){var F=B(A);F[1].v=A.read_shift(2);var R=F[1].v>>1;if(F[1].v&1)switch(R&7){case 0:R=(R>>3)*5e3;break;case 1:R=(R>>3)*500;break;case 2:R=(R>>3)/20;break;case 3:R=(R>>3)/200;break;case 4:R=(R>>3)/2e3;break;case 5:R=(R>>3)/2e4;break;case 6:R=(R>>3)/16;break;case 7:R=(R>>3)/64;break}return F[1].v=R,F}function C(A,q){var F=B(A),R=A.read_shift(4),W=A.read_shift(4),Z=A.read_shift(2);if(Z==65535)return R===0&&W===3221225472?(F[1].t="e",F[1].v=15):R===0&&W===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var ie=Z&32768;return Z=(Z&32767)-16446,F[1].v=(1-ie*2)*(W*Math.pow(2,Z+32)+R*Math.pow(2,Z)),F}function G(A,q,F,R){var W=Je(14);if(W.write_shift(2,A),W.write_shift(1,F),W.write_shift(1,q),R==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var Z=0,ie=0,re=0,X=0;return R<0&&(Z=1,R=-R),ie=Math.log2(R)|0,R/=Math.pow(2,ie-31),X=R>>>0,X&2147483648||(R/=2,++ie,X=R>>>0),R-=X,X|=2147483648,X>>>=0,R*=Math.pow(2,32),re=R>>>0,W.write_shift(4,re),W.write_shift(4,X),ie+=16383+(Z?32768:0),W.write_shift(2,ie),W}function O(A,q){var F=C(A);return A.l+=q-14,F}function V(A,q){var F=B(A),R=A.read_shift(4);return F[1].v=R>>6,F}function Y(A,q){var F=B(A),R=A.read_shift(8,"f");return F[1].v=R,F}function ee(A,q){var F=Y(A);return A.l+=q-10,F}function he(A,q){return A[A.l+q-1]==0?A.read_shift(q,"cstr"):""}function de(A,q){var F=A[A.l++];F>q-1&&(F=q-1);for(var R="";R.length<F;)R+=String.fromCharCode(A[A.l++]);return R}function xe(A,q,F){if(!(!F.qpro||q<21)){var R=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var W=A.read_shift(q-21,"cstr");return[R,W]}}function oe(A,q){for(var F={},R=A.l+q;A.l<R;){var W=A.read_shift(2);if(W==14e3){for(F[W]=[0,""],F[W][0]=A.read_shift(2);A[A.l];)F[W][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return F}function fe(A,q){var F=Je(5+A.length);F.write_shift(2,14e3),F.write_shift(2,q);for(var R=0;R<A.length;++R){var W=A.charCodeAt(R);F[F.l++]=W>127?95:W}return F[F.l++]=0,F}var Se={0:{n:"BOF",f:_L},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:H},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}}(),NK=/^\s|\s$|[\t\n\r]/;function EL(e,t){if(!t.bookSST)return"";var r=[kn];r[r.length]=vt("sst",null,{xmlns:Uf[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(NK)&&(i+=' xml:space="preserve"'),i+=">"+na(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function kK(e){return[e.read_shift(4),e.read_shift(4)]}function jK(e,t){return t||(t=Je(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var SK=pY;function AK(e){var t=_i();dt(t,159,jK(e));for(var r=0;r<e.length;++r)dt(t,19,SK(e[r]));return dt(t,160),t.end()}function EK(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function TL(e){var t=0,r,a=EK(e),s=a.length+1,i,o,l,c,u;for(r=vh(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var TK=function(){function e(s,i){switch(i.type){case"base64":return t(td(s),i);case"binary":return t(s,i);case"buffer":return t(Br&&Buffer.isBuffer(s)?s.toString("binary"):gp(s),i);case"array":return t(nv(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,f){Array.isArray(l)&&(l[f]=[]);for(var g=/\\\w+\b/g,m=0,y,x=-1;y=g.exec(h);){switch(y[0]){case"\\cell":var N=h.slice(m,g.lastIndex-y[0].length);if(N[0]==" "&&(N=N.slice(1)),++x,N.length){var b={v:N,t:"s"};Array.isArray(l)?l[f][x]=b:l[sa({r:f,c:x})]=b}break}m=g.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=_n(u),l}function r(s,i){return Lh(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=Ea(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var f=sa({r:u,c:h});l=c?(s[u]||[])[h]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(rd(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function FS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var CK=6,Wc=CK;function g1(e){return Math.floor((e+Math.round(128/Wc)/256)*Wc)}function p1(e){return Math.floor((e-5)/Wc*100+.5)/100}function Zw(e){return Math.round((e*Wc+5)/Wc*256)/256}function g4(e){e.width?(e.wpx=g1(e.width),e.wch=p1(e.wpx),e.MDW=Wc):e.wpx?(e.wch=p1(e.wpx),e.width=Zw(e.wch),e.MDW=Wc):typeof e.wch=="number"&&(e.width=Zw(e.wch),e.wpx=g1(e.width),e.MDW=Wc),e.customWidth&&delete e.customWidth}var LK=96,CL=LK;function x1(e){return e*96/CL}function LL(e){return e*CL/96}function PK(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=vt("numFmt",null,{numFmtId:a,formatCode:na(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=vt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function MK(e){var t=[];return t[t.length]=vt("cellXfs",null),e.forEach(function(r){t[t.length]=vt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=vt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function PL(e,t){var r=[kn,vt("styleSheet",null,{xmlns:Uf[0],"xmlns:vt":Vn.vt})],a;return e.SSF&&(a=PK(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=MK(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function RK(e,t){var r=e.read_shift(2),a=Ls(e);return[r,a]}function OK(e,t,r){r||(r=Je(6+4*t.length)),r.write_shift(2,e),$n(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function DK(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=NY(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=_Y(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ls(e),a}function IK(e,t){t||(t=Je(25+4*32)),t.write_shift(2,e.sz*20),kY(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),f1(e.color,t);var a=0;return a=2,t.write_shift(1,a),$n(e.name,t),t.length>t.l?t.slice(0,t.l):t}var FK=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Gb,BK=dc;function BS(e,t){t||(t=Je(4*3+8*7+16*1)),Gb||(Gb=a4(FK));var r=Gb[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(f1({auto:1},t),f1({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function zK(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function ML(e,t,r){r||(r=Je(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bm(e,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var UK=dc;function VK(e,t){return t||(t=Je(51)),t.write_shift(1,0),bm(null,t),bm(null,t),bm(null,t),bm(null,t),bm(null,t),t.length>t.l?t.slice(0,t.l):t}function qK(e,t){return t||(t=Je(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),h1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function $K(e,t,r){var a=Je(2052);return a.write_shift(4,e),h1(t,a),h1(r,a),a.length>a.l?a.slice(0,a.l):a}function HK(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(dt(e,615,Tl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&dt(e,44,OK(s,t[s]))}),dt(e,616))}}function WK(e){var t=1;dt(e,611,Tl(t)),dt(e,43,IK({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(e,612)}function GK(e){var t=2;dt(e,603,Tl(t)),dt(e,45,BS({patternType:"none"})),dt(e,45,BS({patternType:"gray125"})),dt(e,604)}function YK(e){var t=1;dt(e,613,Tl(t)),dt(e,46,VK()),dt(e,614)}function KK(e){var t=1;dt(e,626,Tl(t)),dt(e,47,ML({numFmtId:0},65535)),dt(e,627)}function ZK(e,t){dt(e,617,Tl(t.length)),t.forEach(function(r){dt(e,47,ML(r,0))}),dt(e,618)}function XK(e){var t=1;dt(e,619,Tl(t)),dt(e,48,qK({xfId:0,name:"Normal"})),dt(e,620)}function JK(e){var t=0;dt(e,505,Tl(t)),dt(e,506)}function QK(e){var t=0;dt(e,508,$K(t,"TableStyleMedium9","PivotStyleMedium4")),dt(e,509)}function eZ(e,t){var r=_i();return dt(r,278),HK(r,e.SSF),WK(r),GK(r),YK(r),KK(r),ZK(r,t.cellXfs),XK(r),JK(r),QK(r),dt(r,279),r.end()}function RL(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[kn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function tZ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ls(e)}}function rZ(e){var t=Je(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$n(e.name,t),t.slice(0,t.l)}function aZ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nZ(e){var t=Je(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function sZ(e,t){var r=Je(8+2*t.length);return r.write_shift(4,e),$n(t,r),r.slice(0,r.l)}function iZ(e){return e.l+=4,e.read_shift(4)!=0}function oZ(e,t){var r=Je(8);return r.write_shift(4,e),r.write_shift(4,1),r}function lZ(){var e=_i();return dt(e,332),dt(e,334,Tl(1)),dt(e,335,rZ({name:"XLDAPR",version:12e4,flags:3496657072})),dt(e,336),dt(e,339,sZ(1,"XLDAPR")),dt(e,52),dt(e,35,Tl(514)),dt(e,4096,Tl(0)),dt(e,4097,To(1)),dt(e,36),dt(e,53),dt(e,340),dt(e,337,oZ(1)),dt(e,51,nZ([[1,0]])),dt(e,338),dt(e,333),e.end()}function OL(){var e=[kn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function cZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sa(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var R0=1024;function DL(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[vt("xml",null,{"xmlns:v":Zi.v,"xmlns:o":Zi.o,"xmlns:x":Zi.x,"xmlns:mv":Zi.mv}).replace(/\/>/,">"),vt("o:shapelayout",vt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),vt("v:shapetype",[vt("v:stroke",null,{joinstyle:"miter"}),vt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];R0<e*1e3;)R0+=1e3;return t.forEach(function(i){var o=qn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?vt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=vt("v:fill",c,l),h={on:"t",obscured:"t"};++R0,s=s.concat(["<v:shape"+qg({id:"_x0000_s"+R0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,vt("v:shadow",null,h),vt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ls("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ls("x:AutoFill","False"),ls("x:Row",String(o.r)),ls("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function IL(e){var t=[kn,vt("comments",null,{xmlns:Uf[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=na(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(na(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(ls("t",na(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ls("t",na(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function dZ(e,t,r){var a=[kn,vt("ThreadedComments",null,{xmlns:Vn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(vt("threadedComment",ls("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function uZ(e){var t=[kn,vt("personList",null,{xmlns:Vn.TCMNT,"xmlns:x":Uf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(vt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function hZ(e){var t={};t.iauthor=e.read_shift(4);var r=Oh(e);return t.rfx=r.s,t.ref=sa(r.s),e.l+=16,t}function fZ(e,t){return t==null&&(t=Je(36)),t.write_shift(4,e[1].iauthor),qf(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var mZ=Ls;function gZ(e){return $n(e.slice(0,54))}function pZ(e){var t=_i(),r=[];return dt(t,628),dt(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),dt(t,632,gZ(s.a)))})}),dt(t,631),dt(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:qn(a[0]),e:qn(a[0])};dt(t,635,fZ([i,s])),s.t&&s.t.length>0&&dt(t,637,yY(s)),dt(t,636),delete s.iauthor})}),dt(t,634),dt(t,629),t.end()}function xZ(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&oa.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var FL=["xlsb","xlsm","xlam","biff8","xla"],yZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,c?u+=t.r:--u,s+(l?"":"$")+Cs(h)+(c?"":"$")+hs(u)}return function(s,i){return t=i,s.replace(e,r)}}(),p4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,x4=function(){return function(t,r){return t.replace(p4,function(a,s,i,o,l,c){var u=d4(o)-(i?0:r.c),h=c4(c)-(l?0:r.r),f=h==0?"":l?h+1:"["+h+"]",g=u==0?"":i?u+1:"["+u+"]";return s+"R"+f+"C"+g})}}();function vZ(e,t){return e.replace(p4,function(r,a,s,i,o,l){return a+(s=="$"?s+i:Cs(d4(i)+t.c))+(o=="$"?o+l:hs(c4(l)+t.r))})}function bZ(e){return e.length!=1}function fn(e){e.l+=1}function mu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function BL(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return zL(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=mu(e),l=mu(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function zL(e){var t=mu(e),r=mu(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function wZ(e,t,r){if(r.biff<8)return zL(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=mu(e),o=mu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function UL(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return _Z(e);var a=e.read_shift(r&&r.biff==12?4:2),s=mu(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function _Z(e){var t=mu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function NZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function kZ(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return jZ(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function jZ(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function SZ(e,t,r){var a=(e[e.l++]&96)>>5,s=BL(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function AZ(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=BL(e,i,r);return[a,s,o]}function EZ(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function TZ(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function CZ(e,t,r){var a=(e[e.l++]&96)>>5,s=wZ(e,t-1,r);return[a,s]}function LZ(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function zS(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function PZ(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function MZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function RZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function OZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function DZ(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function VL(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function IZ(e){return e.read_shift(2),VL(e)}function FZ(e){return e.read_shift(2),VL(e)}function BZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=UL(e,0,r);return[a,s]}function zZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=kZ(e,0,r);return[a,s]}function UZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=UL(e,0,r);return[a,s,i]}function VZ(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[VX[s],HL[s],a]}function qZ(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:$Z(e);return[s,(i[0]===0?HL:UX)[i[1]]]}function $Z(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function HZ(e,t,r){e.l+=r&&r.biff==2?3:4}function WZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function GZ(e){return e.l++,yp[e.read_shift(1)]}function YZ(e){return e.l++,e.read_shift(2)}function KZ(e){return e.l++,e.read_shift(1)!==0}function ZZ(e){return e.l++,$f(e)}function XZ(e,t,r){return e.l++,kL(e,t-1,r)}function JZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=UY(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=yp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$f(e);break;case 2:r[1]=HY(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function QZ(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?Oh:YY)(e));return s}function eX(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=JZ(e,r.biff);return o}function tX(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function rX(e,t,r){if(r.biff==5)return aX(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function aX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function nX(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function sX(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function iX(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function oX(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var lX=dc,cX=dc,dX=dc;function vp(e,t,r){return e.l+=2,[NZ(e)]}function y4(e){return e.l+=6,[]}var uX=vp,hX=y4,fX=y4,mX=vp;function qL(e){return e.l+=2,[_L(e),e.read_shift(2)&1]}var gX=vp,pX=qL,xX=y4,yX=vp,vX=vp,bX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=bX[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function _X(e){return e.l+=2,[e.read_shift(4)]}function NX(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function kX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function SX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function AX(e){return e.l+=4,[0,0]}var US={1:{n:"PtgExp",f:WZ},2:{n:"PtgTbl",f:dX},3:{n:"PtgAdd",f:fn},4:{n:"PtgSub",f:fn},5:{n:"PtgMul",f:fn},6:{n:"PtgDiv",f:fn},7:{n:"PtgPower",f:fn},8:{n:"PtgConcat",f:fn},9:{n:"PtgLt",f:fn},10:{n:"PtgLe",f:fn},11:{n:"PtgEq",f:fn},12:{n:"PtgGe",f:fn},13:{n:"PtgGt",f:fn},14:{n:"PtgNe",f:fn},15:{n:"PtgIsect",f:fn},16:{n:"PtgUnion",f:fn},17:{n:"PtgRange",f:fn},18:{n:"PtgUplus",f:fn},19:{n:"PtgUminus",f:fn},20:{n:"PtgPercent",f:fn},21:{n:"PtgParen",f:fn},22:{n:"PtgMissArg",f:fn},23:{n:"PtgStr",f:XZ},26:{n:"PtgSheet",f:NX},27:{n:"PtgEndSheet",f:kX},28:{n:"PtgErr",f:GZ},29:{n:"PtgBool",f:KZ},30:{n:"PtgInt",f:YZ},31:{n:"PtgNum",f:ZZ},32:{n:"PtgArray",f:LZ},33:{n:"PtgFunc",f:VZ},34:{n:"PtgFuncVar",f:qZ},35:{n:"PtgName",f:tX},36:{n:"PtgRef",f:BZ},37:{n:"PtgArea",f:SZ},38:{n:"PtgMemArea",f:nX},39:{n:"PtgMemErr",f:lX},40:{n:"PtgMemNoMem",f:cX},41:{n:"PtgMemFunc",f:sX},42:{n:"PtgRefErr",f:iX},43:{n:"PtgAreaErr",f:EZ},44:{n:"PtgRefN",f:zZ},45:{n:"PtgAreaN",f:CZ},46:{n:"PtgMemAreaN",f:jX},47:{n:"PtgMemNoMemN",f:SX},57:{n:"PtgNameX",f:rX},58:{n:"PtgRef3d",f:UZ},59:{n:"PtgArea3d",f:AZ},60:{n:"PtgRefErr3d",f:oX},61:{n:"PtgAreaErr3d",f:TZ},255:{}},EX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TX={1:{n:"PtgElfLel",f:qL},2:{n:"PtgElfRw",f:yX},3:{n:"PtgElfCol",f:uX},6:{n:"PtgElfRwV",f:vX},7:{n:"PtgElfColV",f:mX},10:{n:"PtgElfRadical",f:gX},11:{n:"PtgElfRadicalS",f:xX},13:{n:"PtgElfColS",f:hX},15:{n:"PtgElfColSV",f:fX},16:{n:"PtgElfRadicalLel",f:pX},25:{n:"PtgList",f:wX},29:{n:"PtgSxName",f:_X},255:{}},CX={0:{n:"PtgAttrNoop",f:AX},1:{n:"PtgAttrSemi",f:DZ},2:{n:"PtgAttrIf",f:RZ},4:{n:"PtgAttrChoose",f:PZ},8:{n:"PtgAttrGoto",f:MZ},16:{n:"PtgAttrSum",f:HZ},32:{n:"PtgAttrBaxcel",f:zS},33:{n:"PtgAttrBaxcel",f:zS},64:{n:"PtgAttrSpace",f:IZ},65:{n:"PtgAttrSpaceSemi",f:FZ},128:{n:"PtgAttrIfError",f:OZ},255:{}};function LX(e,t,r,a){if(a.biff<8)return dc(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=eX(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=QZ(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(dc(e,t)),i}function PX(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=US[i]||US[EX[i]],(i===24||i===25)&&(s=(i===24?TX:CX)[e[e.l+1]]),!s||!s.f?dc(e,t):o.push([s.n,s.f(e,t,r)]);return o}function MX(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var RX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function OX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function $L(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function VS(e,t,r){var a=$L(e,t,r);return a=="#REF"?a:OX(a,r)}function wf(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,u,h,f=0,g=0,m,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,N="",b=0,w=e[0].length;b<w;++b){var k=e[0][b];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:N=Za(" ",e[0][x][1][1]);break;case 1:N=Za("\r",e[0][x][1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+N,x=-1}l.push(u+RX[k[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=sg(k[1][1],o,s),l.push(ig(h,i));break;case"PtgRefN":h=r?sg(k[1][1],r,s):k[1][1],l.push(ig(h,i));break;case"PtgRef3d":f=k[1][1],h=sg(k[1][2],o,s),y=VS(a,f,s),l.push(y+"!"+ig(h,i));break;case"PtgFunc":case"PtgFuncVar":var S=k[1][0],B=k[1][1];S||(S=0),S&=127;var H=S==0?[]:l.slice(-S);l.length-=S,B==="User"&&(B=H.shift()),l.push(B+"("+H.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":m=SS(k[1][1],r?{s:r}:o,s),l.push(Hb(m,s));break;case"PtgArea":m=SS(k[1][1],o,s),l.push(Hb(m,s));break;case"PtgArea3d":f=k[1][1],m=k[1][2],y=VS(a,f,s),l.push(y+"!"+Hb(m,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=k[1][2];var I=(a.names||[])[g-1]||(a[0]||[])[g],D=I?I.Name:"SH33TJSNAME"+String(g);D&&D.slice(0,6)=="_xlfn."&&!s.xlfn&&(D=D.slice(6)),l.push(D);break;case"PtgNameX":var C=k[1][1];g=k[1][2];var G;if(s.biff<=5)C<0&&(C=-C),a[C]&&(G=a[C][g]);else{var O="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][g]&&a[C][g].itab>0&&(O=a.SheetNames[a[C][g].itab-1]+"!"):O=a.SheetNames[g-1]+"!"),a[C]&&a[C][g])O+=a[C][g].Name;else if(a[0]&&a[0][g])O+=a[0][g].Name;else{var V=($L(a,C,s)||"").split(";;");V[g-1]?O=V[g-1]:O+="SH33TJSERRX"}l.push(O);break}G||(G={Name:"SH33TJSERRY"}),l.push(G.Name);break;case"PtgParen":var Y="(",ee=")";if(x>=0){switch(N="",e[0][x][1][0]){case 2:Y=Za(" ",e[0][x][1][1])+Y;break;case 3:Y=Za("\r",e[0][x][1][1])+Y;break;case 4:ee=Za(" ",e[0][x][1][1])+ee;break;case 5:ee=Za("\r",e[0][x][1][1])+ee;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(Y+l.pop()+ee);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:k[1][1],r:k[1][0]};var he={c:r.c,r:r.r};if(a.sharedf[sa(h)]){var de=a.sharedf[sa(h)];l.push(wf(de,o,he,a,s))}else{var xe=!1;for(c=0;c!=a.arrayf.length;++c)if(u=a.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(wf(u[1],o,he,a,s)),xe=!0;break}xe||l.push(k[1])}break;case"PtgArray":l.push("{"+MX(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&oe.indexOf(e[0][b][0])==-1){k=e[0][x];var fe=!0;switch(k[1][0]){case 4:fe=!1;case 0:N=Za(" ",k[1][1]);break;case 5:fe=!1;case 1:N=Za("\r",k[1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((fe?N:"")+l.pop()+(fe?"":N)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function DX(e){if(e==null){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return bh(e);return bh(0)}function IX(e,t,r,a,s){var i=wh(t,r,s),o=DX(e.v),l=Je(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Je(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var f=os([i,o,l,u]);return f}function sv(e,t,r){var a=e.read_shift(4),s=PX(e,a,r),i=e.read_shift(4),o=i>0?LX(e,i,s,r):null;return[s,o]}var FX=sv,iv=sv,BX=sv,zX=sv,UX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},VX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qX(e){var t="of:="+e.replace(p4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $X(e){return e.replace(/\./,"!")}var og=typeof Map<"u";function v4(e,t,r){var a=0,s=e.length;if(r){if(og?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=og?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(og?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function ov(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Wc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=p1(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Zw(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function WL(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function bu(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){U7(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function HX(e,t,r){if(e&&e["!ref"]){var a=Ea(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function WX(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_n(e[r])+'"/>';return t+"</mergeCells>"}function GX(e,t,r,a,s){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Vg(na(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+vt("outlinePr",null,u)}!i&&!l||(s[s.length]=vt("sheetPr",l,o))}var YX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],KX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZX(e){var t={sheet:1};return YX.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),KX.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=TL(e.password).toString(16).toUpperCase()),vt("sheetProtection",null,t)}function XX(e){return WL(e),vt("pageMargins",null,e)}function JX(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=vt("col",null,ov(s,a)));return r[r.length]="</cols>",r.join("")}function QX(e,t,r,a){var s=typeof e.ref=="string"?e.ref:_n(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ho(s);o.s.r==o.e.r&&(o.e.r=ho(t["!ref"]).e.r,s=_n(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),vt("autoFilter",null,{ref:s})}function eJ(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),vt("sheetViews",vt("sheetView",null,s),{})}function tJ(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=yp[e.v];break;case"d":a&&a.cellDates?s=Zs(e.v,-1).toISOString():(e=Si(e),e.t="n",s=""+(e.v=ji(Zs(e.v)))),typeof e.z>"u"&&(e.z=Ja[14]);break;default:s=e.v;break}var l=ls("v",na(s)),c={r:t},u=bu(a.cellXfs,e,a);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=ls("v",""+v4(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=vt("f",na(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),vt("c",l,c)}function rJ(e,t,r,a){var s=[],i=[],o=Ea(e["!ref"]),l="",c,u="",h=[],f=0,g=0,m=e["!rows"],y=Array.isArray(e),x={r:u},N,b=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=Cs(g);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=hs(f),g=o.s.c;g<=o.e.c;++g){c=h[g]+u;var w=y?(e[f]||[])[g]:e[c];w!==void 0&&(l=tJ(w,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(x={r:u},m&&m[f]&&(N=m[f],N.hidden&&(x.hidden=1),b=-1,N.hpx?b=x1(N.hpx):N.hpt&&(b=N.hpt),b>-1&&(x.ht=b,x.customHeight=1),N.level&&(x.outlineLevel=N.level)),s[s.length]=vt("row",i.join(""),x))}if(m)for(;f<m.length;++f)m&&m[f]&&(x={r:f+1},N=m[f],N.hidden&&(x.hidden=1),b=-1,N.hpx?b=x1(N.hpx):N.hpt&&(b=N.hpt),b>-1&&(x.ht=b,x.customHeight=1),N.level&&(x.outlineLevel=N.level),s[s.length]=vt("row","",x));return s.join("")}function GL(e,t,r,a){var s=[kn,vt("worksheet",null,{xmlns:Uf[0],"xmlns:r":Vn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",h=Ea(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=_n(h)}a||(a={}),c["!comments"]=[];var f=[];GX(c,r,e,t,s),s[s.length]=vt("dimension",null,{ref:u}),s[s.length]=eJ(c,t,e,r),t.sheetFormat&&(s[s.length]=vt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=JX(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=rJ(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=ZX(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=QX(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=WX(c["!merges"]));var g=-1,m,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=ea(a,-1,na(x[1].Target).replace(/#.*$/,""),Ir.HLINK),m["r:id"]="rId"+y),(g=x[1].Target.indexOf("#"))>-1&&(m.location=na(x[1].Target.slice(g+1))),x[1].Tooltip&&(m.tooltip=na(x[1].Tooltip)),s[s.length]=vt("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=XX(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=ls("ignoredErrors",vt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=ea(a,-1,"../drawings/drawing"+(e+1)+".xml",Ir.DRAW),s[s.length]=vt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=ea(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ir.VML),s[s.length]=vt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function aJ(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function nJ(e,t,r){var a=Je(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=x1(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var f=-1,g=-1,m=h<<10;m<h+1<<10;++m){u.c=m;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[sa(u)];y&&(f<0&&(f=m),g=m)}f<0||(++l,a.write_shift(4,f),a.write_shift(4,g))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function sJ(e,t,r,a){var s=nJ(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&dt(e,0,s)}var iJ=Oh,oJ=qf;function lJ(){}function cJ(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=vY(e),r}function dJ(e,t,r){r==null&&(r=Je(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return f1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),lL(e,r),r.slice(0,r.l)}function uJ(e){var t=Ho(e);return[t]}function hJ(e,t,r){return r==null&&(r=Je(8)),Ph(t,r)}function fJ(e){var t=Mh(e);return[t]}function mJ(e,t,r){return r==null&&(r=Je(4)),Rh(t,r)}function gJ(e){var t=Ho(e),r=e.read_shift(1);return[t,r,"b"]}function pJ(e,t,r){return r==null&&(r=Je(9)),Ph(t,r),r.write_shift(1,e.v?1:0),r}function xJ(e){var t=Mh(e),r=e.read_shift(1);return[t,r,"b"]}function yJ(e,t,r){return r==null&&(r=Je(5)),Rh(t,r),r.write_shift(1,e.v?1:0),r}function vJ(e){var t=Ho(e),r=e.read_shift(1);return[t,r,"e"]}function bJ(e,t,r){return r==null&&(r=Je(9)),Ph(t,r),r.write_shift(1,e.v),r}function wJ(e){var t=Mh(e),r=e.read_shift(1);return[t,r,"e"]}function _J(e,t,r){return r==null&&(r=Je(8)),Rh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function NJ(e){var t=Ho(e),r=e.read_shift(4);return[t,r,"s"]}function kJ(e,t,r){return r==null&&(r=Je(12)),Ph(t,r),r.write_shift(4,t.v),r}function jJ(e){var t=Mh(e),r=e.read_shift(4);return[t,r,"s"]}function SJ(e,t,r){return r==null&&(r=Je(8)),Rh(t,r),r.write_shift(4,t.v),r}function AJ(e){var t=Ho(e),r=$f(e);return[t,r,"n"]}function EJ(e,t,r){return r==null&&(r=Je(16)),Ph(t,r),bh(e.v,r),r}function TJ(e){var t=Mh(e),r=$f(e);return[t,r,"n"]}function CJ(e,t,r){return r==null&&(r=Je(12)),Rh(t,r),bh(e.v,r),r}function LJ(e){var t=Ho(e),r=cL(e);return[t,r,"n"]}function PJ(e,t,r){return r==null&&(r=Je(12)),Ph(t,r),dL(e.v,r),r}function MJ(e){var t=Mh(e),r=cL(e);return[t,r,"n"]}function RJ(e,t,r){return r==null&&(r=Je(8)),Rh(t,r),dL(e.v,r),r}function OJ(e){var t=Ho(e),r=u4(e);return[t,r,"is"]}function DJ(e){var t=Ho(e),r=Ls(e);return[t,r,"str"]}function IJ(e,t,r){return r==null&&(r=Je(12+4*e.v.length)),Ph(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function FJ(e){var t=Mh(e),r=Ls(e);return[t,r,"str"]}function BJ(e,t,r){return r==null&&(r=Je(8+4*e.v.length)),Rh(t,r),$n(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zJ(e,t,r){var a=e.l+t,s=Ho(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=iv(e,a-e.l,r);o[3]=wf(l,null,s,r.supbooks,r)}else e.l=a;return o}function UJ(e,t,r){var a=e.l+t,s=Ho(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=iv(e,a-e.l,r);o[3]=wf(l,null,s,r.supbooks,r)}else e.l=a;return o}function VJ(e,t,r){var a=e.l+t,s=Ho(e);s.r=r["!row"];var i=$f(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=iv(e,a-e.l,r);o[3]=wf(l,null,s,r.supbooks,r)}else e.l=a;return o}function qJ(e,t,r){var a=e.l+t,s=Ho(e);s.r=r["!row"];var i=Ls(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=iv(e,a-e.l,r);o[3]=wf(l,null,s,r.supbooks,r)}else e.l=a;return o}var $J=Oh,HJ=qf;function WJ(e,t){return t==null&&(t=Je(4)),t.write_shift(4,e),t}function GJ(e,t){var r=e.l+t,a=Oh(e),s=h4(e),i=Ls(e),o=Ls(e),l=Ls(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function YJ(e,t){var r=Je(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));qf({s:qn(e[0]),e:qn(e[0])},r),f4("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return $n(s||"",r),$n(e[1].Tooltip||"",r),$n("",r),r.slice(0,r.l)}function KJ(){}function ZJ(e,t,r){var a=e.l+t,s=uL(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=FX(e,a-e.l,r);o[1]=l}else e.l=a;return o}function XJ(e,t,r){var a=e.l+t,s=Oh(e),i=[s];if(r.cellFormula){var o=zX(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function JJ(e,t,r){r==null&&(r=Je(18));var a=ov(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var YL=["left","right","top","bottom","header","footer"];function QJ(e){var t={};return YL.forEach(function(r){t[r]=$f(e)}),t}function eQ(e,t){return t==null&&(t=Je(6*8)),WL(e),YL.forEach(function(r){bh(e[r],t)}),t}function tQ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function rQ(e,t,r){r==null&&(r=Je(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function aQ(e){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),qf(e,t),t}function nQ(e,t){return t==null&&(t=Je(16*4+2)),t.write_shift(2,e.password?TL(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function sQ(){}function iQ(){}function oQ(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Si(t),t.z=t.z||Ja[14],t.v=ji(Zs(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=bu(s.cellXfs,t,s),t.l&&i["!links"].push([sa(c),t.l]),t.c&&i["!comments"].push([sa(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=v4(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?dt(e,18,SJ(t,c)):dt(e,7,kJ(t,c))):(c.t="str",o?dt(e,17,BJ(t,c)):dt(e,6,IJ(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?dt(e,13,RJ(t,c)):dt(e,2,PJ(t,c)):o?dt(e,16,CJ(t,c)):dt(e,5,EJ(t,c)),!0;case"b":return c.t="b",o?dt(e,15,yJ(t,c)):dt(e,4,pJ(t,c)),!0;case"e":return c.t="e",o?dt(e,14,_J(t,c)):dt(e,3,bJ(t,c)),!0}return o?dt(e,12,mJ(t,c)):dt(e,1,hJ(t,c)),!0}function lQ(e,t,r,a){var s=Ea(t["!ref"]||"A1"),i,o="",l=[];dt(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var h=s.s.r;h<=u;++h){o=hs(h),sJ(e,t,s,h);var f=!1;if(h<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){h===s.s.r&&(l[g]=Cs(g)),i=l[g]+o;var m=c?(t[h]||[])[g]:t[i];if(!m){f=!1;continue}f=oQ(e,m,h,g,a,t,f)}}dt(e,146)}function cQ(e,t){!t||!t["!merges"]||(dt(e,177,WJ(t["!merges"].length)),t["!merges"].forEach(function(r){dt(e,176,HJ(r))}),dt(e,178))}function dQ(e,t){!t||!t["!cols"]||(dt(e,390),t["!cols"].forEach(function(r,a){r&&dt(e,60,JJ(a,r))}),dt(e,391))}function uQ(e,t){!t||!t["!ref"]||(dt(e,648),dt(e,649,aQ(Ea(t["!ref"]))),dt(e,650))}function hQ(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=ea(r,-1,a[1].Target.replace(/#.*$/,""),Ir.HLINK);dt(e,494,YJ(a,s))}}),delete t["!links"]}function fQ(e,t,r,a){if(t["!comments"].length>0){var s=ea(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ir.VML);dt(e,551,f4("rId"+s)),t["!legacy"]=s}}function mQ(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:_n(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=ho(i);l.s.r==l.e.r&&(l.e.r=ho(t["!ref"]).e.r,i=_n(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),dt(e,161,qf(Ea(i))),dt(e,162)}}function gQ(e,t,r){dt(e,133),dt(e,137,rQ(t,r)),dt(e,138),dt(e,134)}function pQ(e,t){t["!protect"]&&dt(e,535,nQ(t["!protect"]))}function xQ(e,t,r,a){var s=_i(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ea(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],dt(s,129),(r.vbaraw||o["!outline"])&&dt(s,147,dJ(l,o["!outline"])),dt(s,148,oJ(c)),gQ(s,o,r.Workbook),dQ(s,o),lQ(s,o,e,t),pQ(s,o),mQ(s,o,r,e),cQ(s,o),hQ(s,o,a),o["!margins"]&&dt(s,476,eQ(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&uQ(s,o),fQ(s,o,e,a),dt(s,130),s.end()}function yQ(e,t){e.l+=10;var r=Ls(e);return{name:r}}var vQ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function bQ(e){return!e.Workbook||!e.Workbook.WBProps?"false":XG(e.Workbook.WBProps.date1904)?"true":"false"}var wQ="][*?/\\".split("");function KL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return wQ.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function _Q(e,t,r){e.forEach(function(a,s){KL(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function NQ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];_Q(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)HX(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function ZL(e){var t=[kn];t[t.length]=vt("workbook",null,{xmlns:Uf[0],"xmlns:r":Vn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(vQ.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=vt("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:na(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=vt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=vt("definedName",na(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function kQ(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Kw(e),r.name=Ls(e),r}function jQ(e,t){return t||(t=Je(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),f4(e.strRelID,t),$n(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function SQ(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Ls(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function AQ(e,t){t||(t=Je(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),lL(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function EQ(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=bY(e),o=BX(e,0,r),l=h4(e);e.l=a;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function TQ(e,t){dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};dt(e,156,jQ(s))}dt(e,144)}function CQ(e,t){t||(t=Je(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return $n("SheetJS",t),$n(s1.version,t),$n(s1.version,t),$n("7262",t),t.length>t.l?t.slice(0,t.l):t}function LQ(e,t){t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function PQ(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(dt(e,135),dt(e,158,LQ(s)),dt(e,136))}}function MQ(e,t){var r=_i();return dt(r,131),dt(r,128,CQ()),dt(r,153,AQ(e.Workbook&&e.Workbook.WBProps||null)),PQ(r,e),TQ(r,e),dt(r,132),r.end()}function RQ(e,t,r){return(t.slice(-4)===".bin"?MQ:ZL)(e)}function OQ(e,t,r,a,s){return(t.slice(-4)===".bin"?xQ:GL)(e,r,a,s)}function DQ(e,t,r){return(t.slice(-4)===".bin"?eZ:PL)(e,r)}function IQ(e,t,r){return(t.slice(-4)===".bin"?AK:EL)(e,r)}function FQ(e,t,r){return(t.slice(-4)===".bin"?pZ:IL)(e)}function BQ(e){return(e.slice(-4)===".bin"?lZ:OL)()}function zQ(e,t){var r=[];return e.Props&&r.push(DY(e.Props,t)),e.Custprops&&r.push(IY(e.Props,e.Custprops)),r.join("")}function UQ(){return""}function VQ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(vt("NumberFormat",null,{"ss:Format":na(Ja[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(vt("Style",i.join(""),o))}),vt("Styles",r.join(""))}function XL(e){return vt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+x4(e.Ref,{r:0,c:0})})}function qQ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(XL(s)))}return vt("Names",r.join(""))}function $Q(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(XL(l)))}return i.join("")}function HQ(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(vt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(vt("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(vt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(vt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(ls("ProtectContents","True")),e["!protect"].objects&&s.push(ls("ProtectObjects","True")),e["!protect"].scenarios&&s.push(ls("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(ls("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(ls("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":vt("WorksheetOptions",s.join(""),{xmlns:Zi.x})}function WQ(e){return e.map(function(t){var r=ZG(t.t||""),a=vt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return vt("Comment",a,{"ss:Author":t.a})}).join("")}function GQ(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+na(x4(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=qn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=na(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=na(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(l["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(l["ss:MergeDown"]=u[h].e.r-u[h].s.r));var f="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",g=String(e.v);break;case"b":f="Boolean",g=e.v?"1":"0";break;case"e":f="Error",g=yp[e.v];break;case"d":f="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ja[14]);break;case"s":f="String",g=KG(e.v||"");break}var m=bu(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var y=e.v!=null?g:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=WQ(e.c)),vt("Cell",x,l)}function YQ(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=LL(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function KQ(e,t,r,a){if(!e["!ref"])return"";var s=Ea(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,b){g4(N);var w=!!N.width,k=ov(b,N),S={"ss:Index":b+1};w&&(S["ss:Width"]=g1(k.width)),N.hidden&&(S["ss:Hidden"]="1"),l.push(vt("Column",null,S))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var h=[YQ(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(g=!0);break}if(!g){var m={r:u,c:f},y=sa(m),x=c?(e[u]||[])[f]:e[y];h.push(GQ(x,y,e,t,r,a,m))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function ZQ(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?$Q(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?KQ(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(HQ(i,t,e,r)),a.join("")}function XQ(e,t){t||(t={}),e.SSF||(e.SSF=Si(Ja)),e.SSF&&(rv(),tv(e.SSF),t.revssf=av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(zQ(e,t)),r.push(UQ()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(vt("Worksheet",ZQ(a,t,e),{"ss:Name":na(e.SheetNames[a])}));return r[2]=VQ(e,t),r[3]=qQ(e),kn+vt("Workbook",r.join(""),{xmlns:Zi.ss,"xmlns:o":Zi.o,"xmlns:x":Zi.x,"xmlns:ss":Zi.ss,"xmlns:dt":Zi.dt,"xmlns:html":Zi.html})}var Yb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JQ(e,t){var r=[],a=[],s=[],i=0,o,l=gS(ES,"n"),c=gS(TS,"n");if(e.Props)for(o=fs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=fs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)wL.indexOf(s[i][0])>-1||yL.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);a.length&&oa.utils.cfb_add(t,"/SummaryInformation",RS(a,Yb.SI,c,TS)),(r.length||u.length)&&oa.utils.cfb_add(t,"/DocumentSummaryInformation",RS(r,Yb.DSI,l,ES,u.length?u:null,Yb.UDI))}function QQ(e,t){var r=t||{},a=oa.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return oa.utils.cfb_add(a,s,JL(e,r)),r.biff==8&&(e.Props||e.Custprops)&&JQ(e,a),r.biff==8&&e.vbaraw&&xZ(a,oa.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var eee={0:{f:aJ},1:{f:uJ},2:{f:LJ},3:{f:vJ},4:{f:gJ},5:{f:AJ},6:{f:DJ},7:{f:NJ},8:{f:qJ},9:{f:VJ},10:{f:zJ},11:{f:UJ},12:{f:fJ},13:{f:MJ},14:{f:wJ},15:{f:xJ},16:{f:TJ},17:{f:FJ},18:{f:jJ},19:{f:u4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:EQ},40:{},42:{},43:{f:DK},44:{f:RK},45:{f:BK},46:{f:UK},47:{f:zK},48:{},49:{f:fY},50:{},51:{f:aZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mK},62:{f:OJ},63:{f:cZ},64:{f:sQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:dc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cJ},148:{f:iJ,p:16},151:{f:KJ},152:{},153:{f:SQ},154:{},155:{},156:{f:kQ},157:{},158:{},159:{T:1,f:kK},160:{T:-1},161:{T:1,f:Oh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$J},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tZ},336:{T:-1},337:{f:iZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Kw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ZJ},427:{f:XJ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:QJ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:GJ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Kw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mZ},633:{T:1},634:{T:-1},635:{T:1,f:hZ},636:{T:-1},637:{f:xY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:iQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function bt(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&l4(r)&&e.push(r)}}function tee(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return bt(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function bp(e,t,r){return e||(e=Je(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function ree(e,t,r,a){var s=Je(9);return bp(s,e,t),NL(r,a||"b",s),s}function aee(e,t,r){var a=Je(8+2*r.length);return bp(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function nee(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?ji(Zs(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?bt(e,2,yK(r,a,s)):bt(e,3,xK(r,a,s));return;case"b":case"e":bt(e,5,ree(r,a,t.v,t.t));return;case"s":case"str":bt(e,4,aee(r,a,(t.v||"").slice(0,255)));return}bt(e,1,bp(null,r,a))}function see(e,t,r,a){var s=Array.isArray(t),i=Ea(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=_n(i)}for(var u=i.s.r;u<=i.e.r;++u){l=hs(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(c[h]=Cs(h)),o=c[h]+l;var f=s?(t[u]||[])[h]:t[o];f&&nee(e,f,u,h)}}}function iee(e,t){for(var r=t||{},a=_i(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return bt(a,r.biff==4?1033:r.biff==3?521:9,m4(e,16,r)),see(a,e.Sheets[e.SheetNames[s]],s,r),bt(a,10),a.end()}function oee(e,t,r){bt(e,49,eK({sz:12,name:"Arial"},r))}function lee(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&bt(e,1054,aK(s,t[s],r))})}function cee(e,t){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),bt(e,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),SL(Ea(t["!ref"]||"A1"),r),r.write_shift(4,4),bt(e,2152,r)}function dee(e,t){for(var r=0;r<16;++r)bt(e,224,DS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){bt(e,224,DS(a,0,t))})}function uee(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];bt(e,440,uK(a)),a[1].Tooltip&&bt(e,2048,hK(a))}delete t["!links"]}function hee(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&bt(e,125,gK(ov(s,a),s))})}}function fee(e,t,r,a,s){var i=16+bu(s.cellXfs,t,s);if(t.v==null&&!t.bf){bt(e,513,wh(r,a,i));return}if(t.bf)bt(e,6,IX(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?ji(Zs(t.v)):t.v;bt(e,515,oK(r,a,o,i));break;case"b":case"e":bt(e,517,iK(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=v4(s.Strings,t.v,s.revStrings);bt(e,253,tK(r,a,l,i))}else bt(e,516,rK(r,a,(t.v||"").slice(0,255),i,s));break;default:bt(e,513,wh(r,a,i))}}function mee(e,t,r){var a=_i(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,h,f="",g=[],m=Ea(i["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}bt(a,2057,m4(r,16,t)),bt(a,13,To(1)),bt(a,12,To(100)),bt(a,15,qs(!0)),bt(a,17,qs(!1)),bt(a,16,bh(.001)),bt(a,95,qs(!0)),bt(a,42,qs(!1)),bt(a,43,qs(!1)),bt(a,130,To(1)),bt(a,128,sK()),bt(a,131,qs(!1)),bt(a,132,qs(!1)),u&&hee(a,i["!cols"]),bt(a,512,nK(m,t)),u&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){f=hs(x);for(var N=m.s.c;N<=m.e.c;++N){x===m.s.r&&(g[N]=Cs(N)),h=g[N]+f;var b=c?(i[x]||[])[N]:i[h];b&&(fee(a,b,x,N,t),u&&b.l&&i["!links"].push([h,b.l]))}}var w=l.CodeName||l.name||s;return u&&bt(a,574,QY((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&bt(a,229,dK(i["!merges"])),u&&uee(a,i),bt(a,442,jL(w)),u&&cee(a,i),bt(a,10),a.end()}function gee(e,t,r){var a=_i(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(bt(a,2057,m4(e,5,r)),r.bookType=="xla"&&bt(a,135),bt(a,225,l?To(1200):null),bt(a,193,zY(2)),c&&bt(a,191),c&&bt(a,192),bt(a,226),bt(a,92,KY("SheetJS",r)),bt(a,66,To(l?1200:1252)),l&&bt(a,353,To(0)),l&&bt(a,448),bt(a,317,pK(e.SheetNames.length)),l&&e.vbaraw&&bt(a,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";bt(a,442,jL(u))}bt(a,156,To(17)),bt(a,25,qs(!1)),bt(a,18,qs(!1)),bt(a,19,To(0)),l&&bt(a,431,qs(!1)),l&&bt(a,444,To(0)),bt(a,61,JY()),bt(a,64,qs(!1)),bt(a,141,To(0)),bt(a,34,qs(bQ(e)=="true")),bt(a,14,qs(!0)),l&&bt(a,439,qs(!1)),bt(a,218,To(0)),oee(a,e,r),lee(a,e.SSF,r),dee(a,r),l&&bt(a,352,qs(!1));var h=a.end(),f=_i();l&&bt(f,140,fK()),l&&r.Strings&&tee(f,252,XY(r.Strings)),bt(f,10);var g=f.end(),m=_i(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var N=h.length+y+g.length;for(x=0;x<e.SheetNames.length;++x){var b=i[x]||{};bt(m,133,ZY({pos:N,hs:b.Hidden||0,dt:0,name:e.SheetNames[x]},r)),N+=t[x].length}var w=m.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var k=[];return h.length&&k.push(h),w.length&&k.push(w),g.length&&k.push(g),os(k)}function pee(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Si(Ja)),e&&e.SSF&&(rv(),tv(e.SSF),r.revssf=av(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,b4(r),r.cellXfs=[],bu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=mee(s,r,e);return a.unshift(gee(e,a,r)),os(a)}function JL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=ho(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return pee(e,t);case 4:case 3:case 2:return iee(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function xee(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var h=sa({r,c:o}),f=a.dense?(e[r]||[])[o]:e[h],g=f&&f.v!=null&&(f.h||YG(f.w||(rd(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),a.editable?g='<span contenteditable="true">'+g+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+f.l.Target+'">'+g+"</a>")),m.id=(a.id||"sjs")+"-"+h,i.push(vt("td",g,m))}}var y="<tr>";return y+i.join("")+"</tr>"}var yee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',vee="</body></html>";function bee(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function QL(e,t){var r=t||{},a=r.header!=null?r.header:yee,s=r.footer!=null?r.footer:vee,i=[a],o=ho(e["!ref"]);r.dense=Array.isArray(e),i.push(bee(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(xee(e,o,l,r));return i.push("</table>"+s),i.join("")}function eP(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?qn(a.origin):a.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var h=ho(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),s==-1&&(u.e.r=s=h.e.r+1)}var f=[],g=0,m=e["!rows"]||(e["!rows"]=[]),y=0,x=0,N=0,b=0,w=0,k=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var S=l[y];if(qS(S)){if(a.display)continue;m[x]={hidden:!0}}var B=S.children;for(N=b=0;N<B.length;++N){var H=B[N];if(!(a.display&&qS(H))){var I=H.hasAttribute("data-v")?H.getAttribute("data-v"):H.hasAttribute("v")?H.getAttribute("v"):JG(H.innerHTML),D=H.getAttribute("data-z")||H.getAttribute("z");for(g=0;g<f.length;++g){var C=f[g];C.s.c==b+i&&C.s.r<x+s&&x+s<=C.e.r&&(b=C.e.c+1-i,g=-1)}k=+H.getAttribute("colspan")||1,((w=+H.getAttribute("rowspan")||1)>1||k>1)&&f.push({s:{r:x+s,c:b+i},e:{r:x+s+(w||1)-1,c:b+i+(k||1)-1}});var G={t:"s",v:I},O=H.getAttribute("data-t")||H.getAttribute("t")||"";I!=null&&(I.length==0?G.t=O||"z":a.raw||I.trim().length==0||O=="s"||(I==="TRUE"?G={t:"b",v:!0}:I==="FALSE"?G={t:"b",v:!1}:isNaN(Hc(I))?isNaN(Ug(I).getDate())||(G={t:"d",v:Zs(I)},a.cellDates||(G={t:"n",v:ji(G.v)}),G.z=a.dateNF||Ja[14]):G={t:"n",v:Hc(I)})),G.z===void 0&&D!=null&&(G.z=D);var V="",Y=H.getElementsByTagName("A");if(Y&&Y.length)for(var ee=0;ee<Y.length&&!(Y[ee].hasAttribute("href")&&(V=Y[ee].getAttribute("href"),V.charAt(0)!="#"));++ee);V&&V.charAt(0)!="#"&&(G.l={Target:V}),a.dense?(e[x+s]||(e[x+s]=[]),e[x+s][b+i]=G):e[sa({c:b+i,r:x+s})]=G,u.e.c<b+i&&(u.e.c=b+i),b+=k}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+s),e["!ref"]=_n(u),x>=c&&(e["!fullref"]=_n((u.e.r=l.length-y+x-1+s,u))),e}function tP(e,t){var r=t||{},a=r.dense?[]:{};return eP(a,e,t)}function wee(e,t){return Lh(tP(e,t),t)}function qS(e){var t="",r=_ee(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function _ee(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Nee=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return kn+t}}(),$S=function(){var e=function(i){return na(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+na(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,h=0,f=ho(i["!ref"]||"A1"),g=i["!merges"]||[],m=0,y=Array.isArray(i);if(i["!cols"])for(h=0;h<=f.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var x="",N=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),h=0;h<f.s.c;++h)c.push(t);for(;h<=f.e.c;++h){var b=!1,w={},k="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>h)&&!(g[m].s.r>u)&&!(g[m].e.c<h)&&!(g[m].e.r<u)){(g[m].s.c!=h||g[m].s.r!=u)&&(b=!0),w["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,w["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(b){c.push(r);continue}var S=sa({r:u,c:h}),B=y?(i[u]||[])[h]:i[S];if(B&&B.f&&(w["table:formula"]=na(qX(B.f)),B.F&&B.F.slice(0,S.length)==S)){var H=ho(B.F);w["table:number-matrix-columns-spanned"]=H.e.c-H.s.c+1,w["table:number-matrix-rows-spanned"]=H.e.r-H.s.r+1}if(!B){c.push(t);continue}switch(B.t){case"b":k=B.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=B.v?"true":"false";break;case"n":k=B.w||String(B.v||0),w["office:value-type"]="float",w["office:value"]=B.v||0;break;case"s":case"str":k=B.v==null?"":B.v,w["office:value-type"]="string";break;case"d":k=B.w||Zs(B.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Zs(B.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var I=e(k);if(B.l&&B.l.Target){var D=B.l.Target;D=D.charAt(0)=="#"?"#"+$X(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),I=vt("text:a",I,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+vt("table:table-cell",vt("text:p",I,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var f=u["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;g4(f),f.ods=l;var g=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var f=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[kn],u=qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=qg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(pL().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(a(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function rP(e,t){if(t.bookType=="fods")return $S(e,t);var r=n4(),a="",s=[],i=[];return a="mimetype",fr(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",fr(r,a,$S(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",fr(r,a,Nee(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",fr(r,a,kn+pL()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",fr(r,a,OY(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",fr(r,a,MY(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function y1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kee(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Nl(Vg(e))}function jee(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function gu(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function See(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function $g(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Jr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function af(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pn(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=$g(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=$g(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var u={data:l,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function rs(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Jr(a*8+s.type)),s.type==2&&t.push(Jr(s.data.length)),t.push(s.data))})}),gu(t)}function ml(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=$g(e,a),i=Pn(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:af(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Pn(l.data),u=af(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+u)}),a[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=af(i[3][0].data)>>>0>0),r.push(o)}return r}function o0(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Jr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Jr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Jr(o.data.length)}],a[2].push({data:rs(o.meta),type:2})});var i=rs(a);t.push(Jr(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),gu(t)}function Aee(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=$g(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[gu(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var h=gu(s);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function gl(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Aee(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return gu(t)}function l0(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Jr(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return gu(t)}function Kb(e,t){var r=new Uint8Array(32),a=y1(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,See(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function Zb(e,t){var r=new Uint8Array(32),a=y1(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function Td(e){var t=Pn(e);return $g(t[1][0].data)}function Eee(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&af(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=y1(e[7][0].data),h=0,f=[],g=y1(e[4][0].data),m=0,y=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),g.setUint16(x*2,65535);continue}u.setUint16(x*2,h,!0),g.setUint16(x*2,m,!0);var N,b;switch(typeof t[x]){case"string":N=Kb({t:"s",v:t[x]},r),b=Zb({t:"s",v:t[x]},r);break;case"number":N=Kb({t:"n",v:t[x]},r),b=Zb({t:"n",v:t[x]},r);break;case"boolean":N=Kb({t:"b",v:t[x]},r),b=Zb({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(N),h+=N.length,y.push(b),m+=b.length,++c}for(e[2][0].data=Jr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),g.setUint16(x*2,65535,!0);return e[6][0].data=gu(f),e[3][0].data=gu(y),c}function Tee(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ho(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(_n(a)));var i=v1(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(F){typeof F=="string"&&o.push(F)})});var l={},c=[],u=oa.read(t.numbers,{type:"base64"});u.FileIndex.map(function(q,F){return[q,u.FullPaths[F]]}).forEach(function(q){var F=q[0],R=q[1];if(F.type==2&&F.name.match(/\.iwa/)){var W=F.content,Z=gl(W),ie=ml(Z);ie.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:R,type:af(re.messages[0].meta[1][0].data)}})}}),c.sort(function(q,F){return q-F});var h=c.filter(function(q){return q>1}).map(function(q){return[q,Jr(q)]});u.FileIndex.map(function(q,F){return[q,u.FullPaths[F]]}).forEach(function(q){var F=q[0];if(q[1],!!F.name.match(/\.iwa/)){var R=ml(gl(F.content));R.forEach(function(W){W.messages.forEach(function(Z){h.forEach(function(ie){W.messages.some(function(re){return af(re.meta[1][0].data)!=11006&&jee(re.data,ie[1])})&&l[ie[0]].deps.push(W.id)})})})}});for(var f=oa.find(u,l[1].location),g=ml(gl(f.content)),m,y=0;y<g.length;++y){var x=g[y];x.id==1&&(m=x)}var N=Td(Pn(m.messages[0].data)[1][0].data);for(f=oa.find(u,l[N].location),g=ml(gl(f.content)),y=0;y<g.length;++y)x=g[y],x.id==N&&(m=x);for(N=Td(Pn(m.messages[0].data)[2][0].data),f=oa.find(u,l[N].location),g=ml(gl(f.content)),y=0;y<g.length;++y)x=g[y],x.id==N&&(m=x);for(N=Td(Pn(m.messages[0].data)[2][0].data),f=oa.find(u,l[N].location),g=ml(gl(f.content)),y=0;y<g.length;++y)x=g[y],x.id==N&&(m=x);var b=Pn(m.messages[0].data);{b[6][0].data=Jr(a.e.r+1),b[7][0].data=Jr(a.e.c+1);var w=Td(b[46][0].data),k=oa.find(u,l[w].location),S=ml(gl(k.content));{for(var B=0;B<S.length&&S[B].id!=w;++B);if(S[B].id!=w)throw"Bad ColumnRowUIDMapArchive";var H=Pn(S[B].messages[0].data);H[1]=[],H[2]=[],H[3]=[];for(var I=0;I<=a.e.c;++I){var D=[];D[1]=D[2]=[{type:0,data:Jr(I+420690)}],H[1].push({type:2,data:rs(D)}),H[2].push({type:0,data:Jr(I)}),H[3].push({type:0,data:Jr(I)})}H[4]=[],H[5]=[],H[6]=[];for(var C=0;C<=a.e.r;++C)D=[],D[1]=D[2]=[{type:0,data:Jr(C+726270)}],H[4].push({type:2,data:rs(D)}),H[5].push({type:0,data:Jr(C)}),H[6].push({type:0,data:Jr(C)});S[B].messages[0].data=rs(H)}k.content=l0(o0(S)),k.size=k.content.length,delete b[46];var G=Pn(b[4][0].data);{G[7][0].data=Jr(a.e.r+1);var O=Pn(G[1][0].data),V=Td(O[2][0].data);k=oa.find(u,l[V].location),S=ml(gl(k.content));{if(S[0].id!=V)throw"Bad HeaderStorageBucket";var Y=Pn(S[0].messages[0].data);for(C=0;C<i.length;++C){var ee=Pn(Y[2][0].data);ee[1][0].data=Jr(C),ee[4][0].data=Jr(i[C].length),Y[2][C]={type:Y[2][0].type,data:rs(ee)}}S[0].messages[0].data=rs(Y)}k.content=l0(o0(S)),k.size=k.content.length;var he=Td(G[2][0].data);k=oa.find(u,l[he].location),S=ml(gl(k.content));{if(S[0].id!=he)throw"Bad HeaderStorageBucket";for(Y=Pn(S[0].messages[0].data),I=0;I<=a.e.c;++I)ee=Pn(Y[2][0].data),ee[1][0].data=Jr(I),ee[4][0].data=Jr(a.e.r+1),Y[2][I]={type:Y[2][0].type,data:rs(ee)};S[0].messages[0].data=rs(Y)}k.content=l0(o0(S)),k.size=k.content.length;var de=Td(G[4][0].data);(function(){for(var q=oa.find(u,l[de].location),F=ml(gl(q.content)),R,W=0;W<F.length;++W){var Z=F[W];Z.id==de&&(R=Z)}var ie=Pn(R.messages[0].data);{ie[3]=[];var re=[];o.forEach(function(Pe,De){re[1]=[{type:0,data:Jr(De)}],re[2]=[{type:0,data:Jr(1)}],re[3]=[{type:2,data:kee(Pe)}],ie[3].push({type:2,data:rs(re)})})}R.messages[0].data=rs(ie);var X=o0(F),ke=l0(X);q.content=ke,q.size=q.content.length})();var xe=Pn(G[3][0].data);{var oe=xe[1][0];delete xe[2];var fe=Pn(oe.data);{var Se=Td(fe[2][0].data);(function(){for(var q=oa.find(u,l[Se].location),F=ml(gl(q.content)),R,W=0;W<F.length;++W){var Z=F[W];Z.id==Se&&(R=Z)}var ie=Pn(R.messages[0].data);{delete ie[6],delete xe[7];var re=new Uint8Array(ie[5][0].data);ie[5]=[];for(var X=0,ke=0;ke<=a.e.r;++ke){var Pe=Pn(re);X+=Eee(Pe,i[ke],o),Pe[1][0].data=Jr(ke),ie[5].push({data:rs(Pe),type:2})}ie[1]=[{type:0,data:Jr(a.e.c+1)}],ie[2]=[{type:0,data:Jr(a.e.r+1)}],ie[3]=[{type:0,data:Jr(X)}],ie[4]=[{type:0,data:Jr(a.e.r+1)}]}R.messages[0].data=rs(ie);var De=o0(F),Ye=l0(De);q.content=Ye,q.size=q.content.length})()}oe.data=rs(fe)}G[3][0].data=rs(xe)}b[4][0].data=rs(G)}m.messages[0].data=rs(b);var K=o0(g),A=l0(K);return f.content=A,f.size=f.content.length,u}function Cee(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function b4(e){Cee([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Lee(e,t){return t.bookType=="ods"?rP(e,t):t.bookType=="numbers"?Tee(e,t):t.bookType=="xlsb"?Pee(e,t):Mee(e,t)}function Pee(e,t){R0=1024,e&&!e.SSF&&(e.SSF=Si(Ja)),e&&e.SSF&&(rv(),tv(e.SSF),t.revssf=av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,og?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=FL.indexOf(t.bookType)>-1,s=fL();b4(t=t||{});var i=n4(),o="",l=0;if(t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fr(i,o,xL(e.Props,t)),s.coreprops.push(o),ea(t.rels,2,o,Ir.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,fr(i,o,vL(e.Props)),s.extprops.push(o),ea(t.rels,3,o,Ir.EXT_PROPS),e.Custprops!==e.Props&&fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fr(i,o,bL(e.Custprops)),s.custprops.push(o),ea(t.rels,4,o,Ir.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],g=(f||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,fr(i,o,OQ(l-1,o,t,e,h)),s.sheets.push(o),ea(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ir.WS[0])}if(f){var m=f["!comments"],y=!1,x="";m&&m.length>0&&(x="xl/comments"+l+"."+r,fr(i,x,FQ(m,x)),s.comments.push(x),ea(h,-1,"../comments"+l+"."+r,Ir.CMNT),y=!0),f["!legacy"]&&y&&fr(i,"xl/drawings/vmlDrawing"+l+".vml",DL(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&fr(i,gL(o),tf(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,fr(i,o,IQ(t.Strings,o,t)),s.strs.push(o),ea(t.wbrels,-1,"sharedStrings."+r,Ir.SST)),o="xl/workbook."+r,fr(i,o,RQ(e,o)),s.workbooks.push(o),ea(t.rels,1,o,Ir.WB),o="xl/theme/theme1.xml",fr(i,o,RL(e.Themes,t)),s.themes.push(o),ea(t.wbrels,-1,"theme/theme1.xml",Ir.THEME),o="xl/styles."+r,fr(i,o,DQ(e,o,t)),s.styles.push(o),ea(t.wbrels,-1,"styles."+r,Ir.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",fr(i,o,e.vbaraw),s.vba.push(o),ea(t.wbrels,-1,"vbaProject.bin",Ir.VBA)),o="xl/metadata."+r,fr(i,o,BQ(o)),s.metadata.push(o),ea(t.wbrels,-1,"metadata."+r,Ir.XLMETA),fr(i,"[Content_Types].xml",mL(s,t)),fr(i,"_rels/.rels",tf(t.rels)),fr(i,"xl/_rels/workbook."+r+".rels",tf(t.wbrels)),delete t.revssf,delete t.ssf,i}function Mee(e,t){R0=1024,e&&!e.SSF&&(e.SSF=Si(Ja)),e&&e.SSF&&(rv(),tv(e.SSF),t.revssf=av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,og?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=FL.indexOf(t.bookType)>-1,s=fL();b4(t=t||{});var i=n4(),o="",l=0;if(t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fr(i,o,xL(e.Props,t)),s.coreprops.push(o),ea(t.rels,2,o,Ir.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,fr(i,o,vL(e.Props)),s.extprops.push(o),ea(t.rels,3,o,Ir.EXT_PROPS),e.Custprops!==e.Props&&fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fr(i,o,bL(e.Custprops)),s.custprops.push(o),ea(t.rels,4,o,Ir.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,fr(i,o,GL(l-1,t,e,f)),s.sheets.push(o),ea(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ir.WS[0])}if(g){var y=g["!comments"],x=!1,N="";if(y&&y.length>0){var b=!1;y.forEach(function(w){w[1].forEach(function(k){k.T==!0&&(b=!0)})}),b&&(N="xl/threadedComments/threadedComment"+l+"."+r,fr(i,N,dZ(y,h,t)),s.threadedcomments.push(N),ea(f,-1,"../threadedComments/threadedComment"+l+"."+r,Ir.TCMNT)),N="xl/comments"+l+"."+r,fr(i,N,IL(y)),s.comments.push(N),ea(f,-1,"../comments"+l+"."+r,Ir.CMNT),x=!0}g["!legacy"]&&x&&fr(i,"xl/drawings/vmlDrawing"+l+".vml",DL(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&fr(i,gL(o),tf(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,fr(i,o,EL(t.Strings,t)),s.strs.push(o),ea(t.wbrels,-1,"sharedStrings."+r,Ir.SST)),o="xl/workbook."+r,fr(i,o,ZL(e)),s.workbooks.push(o),ea(t.rels,1,o,Ir.WB),o="xl/theme/theme1.xml",fr(i,o,RL(e.Themes,t)),s.themes.push(o),ea(t.wbrels,-1,"theme/theme1.xml",Ir.THEME),o="xl/styles."+r,fr(i,o,PL(e,t)),s.styles.push(o),ea(t.wbrels,-1,"styles."+r,Ir.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",fr(i,o,e.vbaraw),s.vba.push(o),ea(t.wbrels,-1,"vbaProject.bin",Ir.VBA)),o="xl/metadata."+r,fr(i,o,OL()),s.metadata.push(o),ea(t.wbrels,-1,"metadata."+r,Ir.XLMETA),h.length>1&&(o="xl/persons/person.xml",fr(i,o,uZ(h)),s.people.push(o),ea(t.wbrels,-1,"persons/person.xml",Ir.PEOPLE)),fr(i,"[Content_Types].xml",mL(s,t)),fr(i,"_rels/.rels",tf(t.rels)),fr(i,"xl/_rels/workbook."+r+".rels",tf(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ree(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=td(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function aP(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return pp(t.file,oa.write(e,{type:Br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return oa.write(e,t)}function Oee(e,t){var r=Si(t||{}),a=Lee(e,r);return Dee(a,r)}function Dee(e,t){var r={},a=Br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?oa.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(ev(s))}return t.password&&typeof encrypt_agile<"u"?aP(encrypt_agile(s,t.password),t):t.type==="file"?pp(t.file,s):t.type=="string"?ag(s):s}function Iee(e,t){var r=t||{},a=QQ(e,r);return aP(a,r)}function Jl(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return zg(Vg(a));case"binary":return Vg(a);case"string":return e;case"file":return pp(t.file,a,"utf8");case"buffer":return Br?od(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Jl(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Fee(e,t){switch(t.type){case"base64":return zg(e);case"binary":return e;case"string":return e;case"file":return pp(t.file,e,"binary");case"buffer":return Br?od(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ax(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?zg(r):t.type=="string"?ag(r):r;case"file":return pp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function nP(e,t){hG(),NQ(e);var r=Si(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=nP(e,r);return r.type="array",ev(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Jl(XQ(e,r),r);case"slk":case"sylk":return Jl(bK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Jl(QL(e.Sheets[e.SheetNames[s]],r),r);case"txt":return Fee(sP(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Jl(w4(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Jl(wK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Ax(vK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Jl(_K.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Jl(TK.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Jl(AL.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Jl(rP(e,r),r);case"wk1":return Ax(IS.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Ax(IS.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ax(JL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Iee(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Oee(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Bee(e,t,r,a,s,i,o,l){var c=hs(r),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var y=o?e[r][m]:e[a[m]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[m]!=null&&(g[i[m]]=u);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[m]!=null){if(x==null)if(y.t=="e"&&x===null)g[i[m]]=null;else if(u!==void 0)g[i[m]]=u;else if(h&&x===null)g[i[m]]=null;else continue;else g[i[m]]=h&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:rd(y,x,l);x!=null&&(f=!1)}}return{row:g,isempty:f}}function v1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?a=1:u.header==="A"?a=2:Array.isArray(u.header)?a=3:u.header==null&&(a=0),typeof h){case"string":c=Ea(h);break;case"number":c=Ea(e["!ref"]),c.s.r=h;break;default:c=h}a>0&&(s=0);var f=hs(c.s.r),g=[],m=[],y=0,x=0,N=Array.isArray(e),b=c.s.r,w=0,k={};N&&!e[b]&&(e[b]=[]);var S=u.skipHidden&&e["!cols"]||[],B=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(S[w]||{}).hidden)switch(g[w]=Cs(w),r=N?e[b][w]:e[g[w]+f],a){case 1:i[w]=w-c.s.c;break;case 2:i[w]=g[w];break;case 3:i[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=rd(r,null,u),x=k[o]||0,!x)k[o]=1;else{do l=o+"_"+x++;while(k[l]);k[o]=x,k[l]=1}i[w]=l}for(b=c.s.r+s;b<=c.e.r;++b)if(!(B[b]||{}).hidden){var H=Bee(e,c,b,g,a,i,N,u);(H.isempty===!1||(a===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=H.row)}return m.length=y,m}var HS=/"/g;function zee(e,t,r,a,s,i,o,l){for(var c=!0,u=[],h="",f=hs(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var m=l.dense?(e[r]||[])[g]:e[a[g]+f];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(l.rawNumbers&&m.t=="n"?m.v:rd(m,null,l));for(var y=0,x=0;y!==h.length;++y)if((x=h.charCodeAt(y))===s||x===i||x===34||l.forceQuotes){h='"'+h.replace(HS,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(HS,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&c?null:u.join(o)}function w4(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=Ea(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",f=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],m=a.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(g[y]||{}).hidden||(f[y]=Cs(y));for(var x=0,N=s.s.r;N<=s.e.r;++N)(m[N]||{}).hidden||(h=zee(e,s,N,f,o,c,i,a),h!=null&&(a.strip&&(h=h.replace(u,"")),(h||a.blankrows!==!1)&&r.push((x++?l:"")+h)));return delete a.dense,r.join("")}function sP(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=w4(e,t);return r}function Uee(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=Ea(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=Cs(l);for(var h=s.s.r;h<=s.e.r;++h)for(i=hs(h),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=u?(e[h]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function iP(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?qn(a.origin):a.origin;o=c.r,l=c.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var f=Ea(i["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(o=f.e.r+1,h.e.r=o+t.length-1+s)}else o==-1&&(o=0,h.e.r=t.length-1+s);var g=a.header||[],m=0;t.forEach(function(x,N){fs(x).forEach(function(b){(m=g.indexOf(b))==-1&&(g[m=g.length]=b);var w=x[b],k="z",S="",B=sa({c:l+m,r:o+N+s});u=Hg(i,B),w&&typeof w=="object"&&!(w instanceof Date)?i[B]=w:(typeof w=="number"?k="n":typeof w=="boolean"?k="b":typeof w=="string"?k="s":w instanceof Date?(k="d",a.cellDates||(k="n",w=ji(w)),S=a.dateNF||Ja[14]):w===null&&a.nullError&&(k="e",w=0),u?(u.t=k,u.v=w,delete u.w,delete u.R,S&&(u.z=S)):i[B]=u={t:k,v:w},S&&(u.z=S))})}),h.e.c=Math.max(h.e.c,l+g.length-1);var y=hs(o);if(s)for(m=0;m<g.length;++m)i[Cs(m+l)+y]={t:"s",v:g[m]};return i["!ref"]=_n(h),i}function Vee(e,t){return iP(null,e,t)}function Hg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=qn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Hg(e,sa(t)):Hg(e,sa({r:t,c:r||0}))}function qee(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function $ee(){return{SheetNames:[],Sheets:{}}}function Hee(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(KL(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Wee(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=qee(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Gee(e,t){return e.z=t,e}function oP(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Yee(e,t,r){return oP(e,"#"+t,r)}function Kee(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Zee(e,t,r,a){for(var s=typeof t!="string"?t:Ea(t),i=typeof t=="string"?t:_n(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=Hg(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var Xb={encode_col:Cs,encode_row:hs,encode_cell:sa,encode_range:_n,decode_col:d4,decode_row:c4,split_cell:hY,decode_cell:qn,decode_range:ho,format_cell:rd,sheet_add_aoa:oL,sheet_add_json:iP,sheet_add_dom:eP,aoa_to_sheet:Vf,json_to_sheet:Vee,table_to_sheet:tP,table_to_book:wee,sheet_to_csv:w4,sheet_to_txt:sP,sheet_to_json:v1,sheet_to_html:QL,sheet_to_formulae:Uee,sheet_to_row_object_array:v1,sheet_get_cell:Hg,book_new:$ee,book_append_sheet:Hee,book_set_sheet_visibility:Wee,cell_set_number_format:Gee,cell_set_hyperlink:oP,cell_set_internal_link:Yee,cell_add_comment:Kee,sheet_set_array_formula:Zee,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},lP={exports:{}};(function(e,t){(function(r,a){a()})(d0,function(){function r(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function a(u,h,f){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){c(g.response,h,f)},g.onerror=function(){console.error("could not download file")},g.send()}function s(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof d0=="object"&&d0.global===d0?d0:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,h,f){var g=o.URL||o.webkitURL,m=document.createElement("a");h=h||u.name||"download",m.download=h,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?i(m):s(m.href)?a(u,h,f):i(m,m.target="_blank")):(m.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(m.href)},4e4),setTimeout(function(){i(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),h);else if(s(u))a(u,h,f);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){i(g)})}}:function(u,h,f,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return a(u,h,f);var m=u.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||m&&y||l)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var k=N.result;k=x?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=k:location=k,g=null},N.readAsDataURL(u)}else{var b=o.URL||o.webkitURL,w=b.createObjectURL(u);g?g.location=w:location.href=w,g=null,setTimeout(function(){b.revokeObjectURL(w)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(lP);var Xee=lP.exports;typeof window<"u"&&Qx(()=>import("./jspdf.plugin.autotable-CyVc7Jkq.js"),[]).then(e=>{e.default});const lg=(e,t="export")=>{const r=new Vt;r.setFontSize(16),r.text(e.title,14,15),r.autoTable({head:[e.headers],body:e.rows,startY:25,styles:{fontSize:9},headStyles:{fillColor:[255,107,53]}}),r.save(`${t}.pdf`)},cg=(e,t="export")=>{const r=Xb.aoa_to_sheet([e.headers,...e.rows]),a=Xb.book_new();Xb.book_append_sheet(a,r,"Sheet1");const s=e.headers.map(()=>({wch:20}));r["!cols"]=s;const i=nP(a,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Xee.saveAs(o,`${t}.xlsx`)},WS=()=>{const e=vr(),{properties:t,deleteProperty:r}=Ah(),[a,s]=P.useState("overview"),[i,o]=P.useState(""),[l,c]=P.useState("all"),[u,h]=P.useState(null),[f,g]=P.useState(""),[m,y]=P.useState("all"),[x,N]=P.useState(null),[b,w]=P.useState(!1),[k,S]=P.useState(!1),[B,H]=P.useState(!1),[I,D]=P.useState([]),[C,G]=P.useState(!1),[O,V]=P.useState(!1),[Y,ee]=P.useState([]),[he,de]=P.useState(!1),[xe,oe]=P.useState(!1),[fe,Se]=P.useState([]),K=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:85,budget:"$2,500/mo",lastContact:"2 days ago",phone:"+1 (555) 123-4567"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:92,budget:"$3,200/mo",lastContact:"1 day ago",phone:"+1 (555) 234-5678"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago",phone:"+1 (555) 345-6789"},{id:"4",name:"David Smith",email:"david.smith@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Lead",score:88,budget:"$2,800/mo",lastContact:"5 hours ago",phone:"+1 (555) 456-7890"},{id:"5",name:"Jessica Williams",email:"jessica.williams@email.com",propertyInterested:"Luxury Condo with City View",status:"In Progress",score:90,budget:"$3,500/mo",lastContact:"12 hours ago",phone:"+1 (555) 567-8901"}],[A,q]=P.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"Approved",score:85,budget:"$2,500/mo",submittedDate:"2025-01-10",lastContact:"2 days ago",phone:"+1 (555) 123-4567"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"Pending",score:92,budget:"$3,200/mo",submittedDate:"2025-01-12",lastContact:"1 day ago",phone:"+1 (555) 234-5678"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",submittedDate:"2025-01-08",lastContact:"3 days ago",phone:"+1 (555) 345-6789"},{id:"4",name:"David Smith",email:"david.smith@email.com",propertyInterested:"Modern Downtown Apartment",status:"Pending",score:88,budget:"$2,800/mo",submittedDate:"2025-01-13",lastContact:"5 hours ago",phone:"+1 (555) 456-7890"},{id:"5",name:"Jessica Williams",email:"jessica.williams@email.com",propertyInterested:"Luxury Condo with City View",status:"Rejected",score:65,budget:"$3,500/mo",submittedDate:"2025-01-05",lastContact:"1 week ago",phone:"+1 (555) 567-8901"},{id:"6",name:"Michael Brown",email:"michael.brown@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:95,budget:"$5,000/mo",submittedDate:"2025-01-09",lastContact:"4 days ago",phone:"+1 (555) 678-9012"}]),F=A.filter(ae=>{const Oe=ae.name.toLowerCase().includes(i.toLowerCase())||ae.email.toLowerCase().includes(i.toLowerCase())||ae.propertyInterested.toLowerCase().includes(i.toLowerCase()),Ge=l==="all"||ae.status===l;return Oe&&Ge}),R=F.filter(ae=>ae.status==="Approved"),W=F.filter(ae=>ae.status==="Pending"),Z=F.sort((ae,Oe)=>new Date(Oe.submittedDate).getTime()-new Date(ae.submittedDate).getTime()),ie=ae=>{q(Oe=>Oe.filter(Ge=>Ge.id!==ae)),h(null)},re=ae=>{q(Oe=>Oe.map(Ge=>Ge.id===ae?{...Ge,status:"Approved"}:Ge))},X=ae=>{q(Oe=>Oe.map(Ge=>Ge.id===ae?{...Ge,status:"Rejected"}:Ge))},ke=ae=>{const Oe=Y.length>0?K.filter(at=>Y.includes(at.id)):K,Ge={title:"Leads Report",headers:["Name","Email","Property","Status","Score","Budget","Last Contact"],rows:Oe.map(at=>[at.name,at.email,at.propertyInterested,at.status,at.score,at.budget,at.lastContact])};ae==="pdf"?lg(Ge,"leads"):cg(Ge,"leads"),V(!1)},Pe=ae=>{const Oe=I.length>0?t.filter(at=>I.includes(at.id)):t,Ge={title:"Properties Report",headers:["Title","Address","Type","Status","Bedrooms","Bathrooms"],rows:Oe.map(at=>{var yt,wt,ot;return[at.title||"",at.address||((yt=at.location)==null?void 0:yt.addressLine1)||"",at.propertyType||"",at.status||"",((wt=at.rooms)==null?void 0:wt.bedrooms)||at.bedrooms||0,((ot=at.rooms)==null?void 0:ot.bathrooms)||at.bathrooms||0]})};ae==="pdf"?lg(Ge,"properties"):cg(Ge,"properties"),H(!1)},De=ae=>{const Oe=fe.length>0?A.filter(at=>fe.includes(at.id)):A,Ge={title:"Applications Report",headers:["Name","Email","Property","Status","Score","Budget","Submitted Date"],rows:Oe.map(at=>[at.name,at.email,at.propertyInterested,at.status,at.score,at.budget,at.submittedDate])};ae==="pdf"?lg(Ge,"applications"):cg(Ge,"applications"),oe(!1)},Ye=ae=>{ee(Oe=>Oe.includes(ae)?Oe.filter(Ge=>Ge!==ae):[...Oe,ae])},ce=ae=>{Se(Oe=>Oe.includes(ae)?Oe.filter(Ge=>Ge!==ae):[...Oe,ae])},Ae=async ae=>{const Oe={title:`Lead: ${ae.name}`,text:`Lead details: ${ae.name} - ${ae.email} - Budget: ${ae.budget}`,url:window.location.href};if(navigator.share)try{await navigator.share(Oe)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${Oe.title}
${Oe.text}`),alert("Lead details copied to clipboard!")},je=async ae=>{const Oe={title:`Property: ${ae.title||ae.name}`,text:`Property: ${ae.title||ae.name} - ${ae.address}`,url:`${window.location.origin}/manager/dashboard/properties/${ae.id}`};if(navigator.share)try{await navigator.share(Oe)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${Oe.title}
${Oe.text}
${Oe.url}`),alert("Property link copied to clipboard!")},et=async ae=>{const Oe={title:`Application: ${ae.name}`,text:`Application from ${ae.name} - ${ae.email} - Property: ${ae.propertyInterested}`,url:window.location.href};if(navigator.share)try{await navigator.share(Oe)}catch{console.log("Share cancelled or failed")}else navigator.clipboard.writeText(`${Oe.title}
${Oe.text}`),alert("Application details copied to clipboard!")};return n.jsxs("div",{className:"space-y-6 font-sans relative",children:[!b&&n.jsxs("button",{onClick:()=>w(!0),className:"fixed bottom-6 right-6 bg-primary hover:bg-primary-dark text-white rounded-full shadow-lg flex items-center gap-2 px-4 py-3 z-40 transition-all duration-300 hover:scale-105",title:"Ask Lakshmi",children:[n.jsx(_l,{className:"w-5 h-5"}),n.jsx("span",{className:"btn-primary",children:"Ask Lakshmi"})]}),n.jsx(Hq,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(dx,{title:"Monthly Revenue",value:"$15,000.00",change:"+8.5%",icon:El,iconColor:"bg-green-500",trendColor:"text-green-600"}),n.jsx(dx,{title:"Active Listings",value:"8",change:"+5%",icon:cc,iconColor:"bg-blue-500",trendColor:"text-blue-600"}),n.jsx(dx,{title:"Total Views",value:"2450",change:"+15.2%",icon:fa,iconColor:"bg-purple-500",trendColor:"text-purple-600"}),n.jsx(dx,{title:"Conversion Rate",value:"12.2%",change:"+5%",icon:Jx,iconColor:"bg-primary",trendColor:"text-primary"})]}),n.jsx(Wq,{activeTab:a,onTabChange:s}),a==="overview"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:n.jsx(x$,{})}),n.jsx("div",{children:n.jsx(y$,{})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"w-5 h-5 text-primary transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Your Properties"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{children:"Filters"})]}),n.jsxs("button",{className:"btn-secondary flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Property"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(ae=>n.jsx($j,{property:ae},ae.id)):n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No properties yet"}),n.jsx("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium",children:"Add Your First Property"})]})})]})]})]}),a==="leads"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Total Leads"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.length})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(uu,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"New Leads"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="New Lead").length})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Jx,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"In Progress"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="In Progress").length})]}),n.jsx("div",{className:"p-3 bg-yellow-500 rounded-lg",children:n.jsx(fa,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Approved"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:K.filter(ae=>ae.status==="Approved").length})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Jx,{className:"w-6 h-6 text-white"})})]})})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search leads...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>G(!C),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),C&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsx("button",{onClick:()=>G(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>V(!O),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),Y.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:Y.length})]}),O&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>ke("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Xm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>ke("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white",children:"Leads Overview"}),n.jsx("button",{onClick:()=>e("/leads"),className:"btn-secondary text-primary hover:text-primary-dark",children:"View All "})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-black",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Lead Name"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:Y.includes(ae.id),onChange:()=>Ye(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:ae.name})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.email}),ae.phone&&n.jsx("div",{className:"caption text-gray-500 dark:text-gray-400",children:ae.phone})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 caption font-medium rounded-full ${ae.status==="New Lead"?"bg-blue-100 text-blue-800":ae.status==="In Progress"?"bg-yellow-100 text-yellow-800":ae.status==="Approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"caption text-gray-500 dark:text-gray-400",children:ae.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap body-text font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(wn,{className:"w-4 h-4"})}),ae.phone&&n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Call",onClick:()=>window.location.href=`tel:${ae.phone}`,children:n.jsx(id,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>e("/leads"),className:"text-primary hover:text-primary-dark",title:"View Details",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ae(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Io,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]})]}),a==="properties"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"section-heading text-gray-800 dark:text-white",children:"Your Properties"})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"btn-primary bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Property"})]})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search properties by name, address, or city...",value:f,onChange:ae=>g(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("select",{value:m,onChange:ae=>y(ae.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Available",children:"Available"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Sold",children:"Sold"}),n.jsx("option",{value:"Rented",children:"Rented"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>S(!k),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),k&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bedrooms"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"})]})]}),n.jsx("button",{onClick:()=>S(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>H(!B),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),I.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:I.length})]}),B&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>Pe("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Xm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>Pe("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white mb-4 transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Recently Added Properties"}),(()=>{const ae=t.filter(Oe=>{var yt,wt,ot;const Ge=((yt=Oe.title)==null?void 0:yt.toLowerCase().includes(f.toLowerCase()))||((wt=Oe.address)==null?void 0:wt.toLowerCase().includes(f.toLowerCase()))||((ot=Oe.city)==null?void 0:ot.toLowerCase().includes(f.toLowerCase())),at=m==="all"||Oe.status===m;return Ge&&at}).sort((Oe,Ge)=>{const at=new Date(Oe.createdAt||0).getTime();return new Date(Ge.createdAt||0).getTime()-at});return ae.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:t.length===0?"No properties yet":"No properties match your search criteria"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ae.map(Oe=>n.jsxs("div",{className:"relative group",children:[n.jsx($j,{property:Oe}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/${Oe.id}`),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"View",children:n.jsx(fa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/edit/${Oe.id}`),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Edit",children:n.jsx(qo,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),n.jsx("button",{onClick:()=>je(Oe),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Share",children:n.jsx(Io,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),n.jsx("button",{onClick:()=>N(Oe.id),className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]},Oe.id))})})()]})]}),t.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white mb-4",children:"Properties Summary"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:t.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Properties"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:t.filter(ae=>ae.status==="available").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:t.filter(ae=>ae.status==="pending").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-700 mb-1",children:t.filter(ae=>ae.status==="sold"||ae.status==="rented").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sold/Rented"})]})]})]})]}),a==="application"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Total Applications"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:A.length})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(Or,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Approved"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:R.length})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Ar,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Pending"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:W.length})]}),n.jsx("div",{className:"p-3 bg-yellow-500 rounded-lg",children:n.jsx(ya,{className:"w-6 h-6 text-white"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1",children:"Rejected"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:A.filter(ae=>ae.status==="Rejected").length})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(As,{className:"w-6 h-6 text-white"})})]})})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search applications by name, email, or property...",value:i,onChange:ae=>o(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("select",{value:l,onChange:ae=>c(ae.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>de(!he),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),he&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"}),n.jsx("input",{type:"number",placeholder:"Max",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm"})]})]}),n.jsx("button",{onClick:()=>de(!1),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Apply Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>oe(!xe),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),fe.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:fe.length})]}),xe&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>De("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Xm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>De("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as Excel"]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:["Approved Applications (",R.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:R.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>ce(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Uo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(wn,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Reject",onClick:()=>X(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:["Pending Applications (",W.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:W.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>ce(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400",children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Uo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(wn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>et(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Io,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Reject",onClick:()=>X(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden relative group transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Application History"}),n.jsx("button",{onClick:()=>e("/application"),className:"text-primary hover:text-primary-dark text-sm font-medium",children:"View All "})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applicant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:Z.map(ae=>n.jsxs("tr",{className:"transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:scale-[1.01] cursor-pointer hover:shadow-sm",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:fe.includes(ae.id),onChange:()=>ce(ae.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ae.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":ae.status==="Pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:ae.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ae.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(ae.submittedDate).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ae.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",onClick:()=>e("/application"),children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Message",onClick:()=>e("/messages"),children:n.jsx(Uo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>et(ae),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Io,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Email",onClick:()=>window.location.href=`mailto:${ae.email}`,children:n.jsx(wn,{className:"w-4 h-4"})}),ae.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Approve",onClick:()=>re(ae.id),children:n.jsx(Ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Reject",onClick:()=>X(ae.id),children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",onClick:()=>h(ae.id),children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]})]}),a==="analytics"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(uu,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"247"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(cc,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:t.length||120}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Properties"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Xy,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"14.7%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(vn,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"18.2%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Monthly Revenue Trend"}),n.jsx("button",{onClick:()=>e("/analytics"),className:"text-primary hover:text-primary-dark text-sm font-medium",children:"View Full Analytics "})]}),(()=>{const ae=[{month:"Jan",value:15e3},{month:"Feb",value:18e3},{month:"Mar",value:22e3},{month:"Apr",value:25e3},{month:"May",value:28e3},{month:"Jun",value:32e3}],Oe=ae.reduce((wt,ot)=>wt+ot.value,0),Ge=Math.round(Oe/ae.length),at=ae.reduce((wt,ot)=>ot.value>wt.value?ot:wt,ae[0]),yt=(ae[ae.length-1].value-ae[0].value)/ae[0].value*100;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["$",(Oe/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"6 months"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Monthly"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["$",(Ge/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Per month"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Best Month"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:at.month}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["$",(at.value/1e3).toFixed(0),"k"]})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",yt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Since Jan"})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"flex items-end justify-between gap-4 h-48",children:ae.map((wt,ot)=>{const jt=Math.max(...ae.map(gt=>gt.value)),Et=wt.value/jt*100,Te=ot>0?ae[ot-1].value:wt.value,it=ot>0?(wt.value-Te)/Te*100:0;return n.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[n.jsxs("div",{className:"w-full flex flex-col items-center mb-2 relative",children:[n.jsx("div",{className:"w-full bg-primary rounded-t-lg transition-all hover:opacity-80 cursor-pointer relative",style:{height:`${Et}%`},children:n.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:["$",(wt.value/1e3).toFixed(0),"k",ot>0&&n.jsxs("span",{className:`ml-1 ${it>=0?"text-green-400":"text-red-400"}`,children:["(",it>=0?"+":"",it.toFixed(1),"%)"]})]})}),n.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-white mt-2",children:["$",(wt.value/1e3).toFixed(0),"k"]})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:wt.month}),ot>0&&n.jsxs("p",{className:`text-xs mt-1 ${it>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[it>=0?"":""," ",Math.abs(it).toFixed(1),"%"]})]},ot)})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"vs Average"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:ae.map((wt,ot)=>{const jt=ot>0?ae[ot-1].value:wt.value,Et=ot>0?(wt.value-jt)/jt*100:0,Te=(wt.value-Ge)/Ge*100;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:wt.month}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:["$",wt.value.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ot>0?n.jsxs("span",{className:`font-medium ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"+":"",Et.toFixed(1),"%"]}):n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ot>0&&n.jsxs("span",{className:`inline-flex items-center ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"":""," ",Math.abs(Et).toFixed(1),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("span",{className:`font-medium ${Te>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Te>=0?"+":"",Te.toFixed(1),"%"]})})]},ot)})})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Key Insights"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{children:[" Revenue has grown by ",n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[yt.toFixed(1),"%"]})," over the past 6 months"]}),n.jsxs("li",{children:[" ",n.jsx("span",{className:"font-semibold",children:at.month})," was the best performing month with $",(at.value/1e3).toFixed(0),"k in revenue"]}),n.jsxs("li",{children:[" Average monthly revenue is ",n.jsxs("span",{className:"font-semibold",children:["$",(Ge/1e3).toFixed(0),"k"]}),", indicating consistent growth"]}),n.jsxs("li",{children:[" Current trend shows ",n.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"positive momentum"})," with steady month-over-month increases"]})]})]})]})})()]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(kC,{className:"w-6 h-6 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Future Property Rate Analysis & Predictions"})]}),(()=>{const ae=[{id:"1",name:"Modern Downtown Apartment",currentRate:45e4,predictedRate1Month:465e3,predictedRate2Months:48e4,trend:"increasing",location:"Downtown",propertyType:"Apartment"},{id:"2",name:"Luxury Condo with City View",currentRate:3500,predictedRate1Month:3625,predictedRate2Months:3750,trend:"increasing",location:"City Center",propertyType:"Condo"},{id:"3",name:"Spacious Penthouse",currentRate:6500,predictedRate1Month:6300,predictedRate2Months:6100,trend:"decreasing",location:"Uptown",propertyType:"Penthouse"},{id:"4",name:"Suburban Family Home",currentRate:32e4,predictedRate1Month:332e3,predictedRate2Months:345e3,trend:"increasing",location:"Suburbs",propertyType:"House"},{id:"5",name:"Beachfront Villa",currentRate:85e4,predictedRate1Month:88e4,predictedRate2Months:91e4,trend:"increasing",location:"Coastal",propertyType:"Villa"}],Oe=ae.length,Ge=ae.filter(ot=>ot.trend==="increasing").length,at=ae.filter(ot=>ot.trend==="decreasing").length,yt=ae.reduce((ot,jt)=>{const Et=(jt.predictedRate1Month-jt.currentRate)/jt.currentRate*100;return ot+Et},0)/Oe,wt=ae.reduce((ot,jt)=>{const Et=(jt.predictedRate2Months-jt.currentRate)/jt.currentRate*100;return ot+Et},0)/Oe;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Increasing"}),n.jsx(vn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:Ge}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",Oe," properties"]})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Decreasing"}),n.jsx(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:at}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",Oe," properties"]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (1 Month)"}),n.jsx(El,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["+",yt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Next month"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (2 Months)"}),n.jsx(Xy,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",wt.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"In 2 months"})]})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Rate Prediction Trend (Next 2 Months)"}),n.jsx(K0,{data:[{label:"Current",value:ae[0].currentRate/1e3},{label:"+1 Month",value:ae[0].predictedRate1Month/1e3},{label:"+2 Months",value:ae[0].predictedRate2Months/1e3}],height:200,color:"#FF6B35"}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 text-center",children:["Sample: ",ae[0].name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Property Rate Predictions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Current Rate"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+1 Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+2 Months"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:ae.map(ot=>{const jt=(ot.predictedRate1Month-ot.currentRate)/ot.currentRate*100,Et=(ot.predictedRate2Months-ot.currentRate)/ot.currentRate*100,Te=ot.currentRate<1e4;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ot.name}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ot.location,"  ",ot.propertyType]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${ot.currentRate.toLocaleString()}/mo`:`$${ot.currentRate.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${ot.predictedRate1Month.toLocaleString()}/mo`:`$${ot.predictedRate1Month.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:Te?`$${ot.predictedRate2Months.toLocaleString()}/mo`:`$${ot.predictedRate2Months.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`font-medium ${jt>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[jt>=0?"+":"",jt.toFixed(1),"% (1M)"]}),n.jsx("br",{}),n.jsxs("span",{className:`font-medium ${Et>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Et>=0?"+":"",Et.toFixed(1),"% (2M)"]})]})}),n.jsx("td",{className:"px-4 py-3",children:ot.trend==="increasing"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[n.jsx(vn,{className:"w-3 h-3"}),"Increasing"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[n.jsx(Jy,{className:"w-3 h-3"}),"Decreasing"]})}),n.jsx("td",{className:"px-4 py-3",children:ot.trend==="increasing"?n.jsxs("div",{className:"text-xs",children:[n.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["Increase by ",Et.toFixed(1),"%"]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Suggested: ",Te?`$${Math.round(ot.currentRate*(1+Et/100)).toLocaleString()}/mo`:`$${Math.round(ot.currentRate*(1+Et/100)).toLocaleString()}`]})]}):n.jsxs("div",{className:"text-xs",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Consider holding"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Market may recover"})]})})]},ot.id)})})]})})]}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-orange-100 dark:from-primary/20 dark:to-orange-900/20 rounded-lg border border-primary/20 dark:border-primary/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ba,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Recommendations for Estate Agents"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Next 2 Months Strategy:"})," Based on market predictions, you can increase rates by an average of ",n.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[wt.toFixed(1),"%"]})," across ",Ge," properties."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Immediate Action (1 Month):"})," Consider increasing rates by ",n.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[yt.toFixed(1),"%"]})," for properties showing upward trends to maximize revenue."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Properties to Focus On:"})," ",ae.filter(ot=>ot.trend==="increasing").map(ot=>ot.name).join(", ")," show strong growth potential."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Market Timing:"})," The predicted ",wt>0?"increase":"decrease"," suggests this is an ",wt>0?"optimal":"cautious"," time to adjust rates. Monitor market conditions weekly."]})]})]})]})]})})]})})()]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Application Status Distribution"}),n.jsx(Qy,{data:[{label:"Approved",value:R.length,color:"#10b981"},{label:"Pending",value:W.length,color:"#f59e0b"},{label:"Rejected",value:A.filter(ae=>ae.status==="Rejected").length,color:"#ef4444"}],size:200})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Lead Status Distribution"}),n.jsx(Qy,{data:[{label:"New Leads",value:K.filter(ae=>ae.status==="New Lead").length,color:"#3b82f6"},{label:"In Progress",value:K.filter(ae=>ae.status==="In Progress").length,color:"#f59e0b"},{label:"Approved",value:K.filter(ae=>ae.status==="Approved").length,color:"#10b981"}],size:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Property Performance Comparison"}),n.jsx(e1,{data:[{label:"Modern Downtown",value:45,color:"#FF6B35"},{label:"Luxury Condo",value:38,color:"#3b82f6"},{label:"Spacious Penthouse",value:52,color:"#10b981"}],title:"Property Views",height:200})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Applications by Property"}),n.jsx(e1,{data:[{label:"Modern Downtown",value:12,color:"#8b5cf6"},{label:"Luxury Condo",value:8,color:"#f59e0b"},{label:"Spacious Penthouse",value:15,color:"#ef4444"}],title:"Applications Received",height:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Revenue Trend (Line Chart)"}),n.jsx(K0,{data:[{label:"Jan",value:15e3},{label:"Feb",value:18e3},{label:"Mar",value:22e3},{label:"Apr",value:25e3},{label:"May",value:28e3},{label:"Jun",value:32e3}],height:200,color:"#FF6B35"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Applications"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversion"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:[{property:"Modern Downtown Apartment",views:45,applications:12,conversionRate:26.7},{property:"Luxury Condo with City View",views:38,applications:8,conversionRate:21.1},{property:"Spacious Penthouse",views:52,applications:15,conversionRate:28.8}].map((ae,Oe)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.property}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.views}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ae.applications}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${ae.conversionRate}%`}})}),n.jsxs("span",{className:"text-sm text-gray-900",children:[ae.conversionRate,"%"]})]})})]},Oe))})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Lead Analytic"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Leads"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"247"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Properties"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:t.length||120})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"14.7%"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Passed"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"36"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Monthly Applications Trend"}),n.jsx(K0,{data:[{label:"Jan",value:8},{label:"Feb",value:12},{label:"Mar",value:15},{label:"Apr",value:18},{label:"May",value:22},{label:"Jun",value:25}],height:200,color:"#3b82f6"})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Application"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>ie(u),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Property"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this property? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{x&&(r(x),N(null))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),n.jsx(v$,{isOpen:b,onClose:()=>w(!1)})]})},gc=({label:e="Back",className:t=""})=>{const r=vr();return n.jsxs("button",{onClick:()=>r(-1),className:`flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors ${t}`,children:[n.jsx(lc,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:e})]})},GS=[{code:"US",name:"United States",currency:"USD"},{code:"IN",name:"India",currency:"INR"},{code:"GB",name:"United Kingdom",currency:"GBP"},{code:"AE",name:"United Arab Emirates",currency:"AED"},{code:"CA",name:"Canada",currency:"CAD"},{code:"AU",name:"Australia",currency:"AUD"},{code:"SG",name:"Singapore",currency:"SGD"},{code:"DE",name:"Germany",currency:"EUR"},{code:"FR",name:"France",currency:"EUR"},{code:"JP",name:"Japan",currency:"JPY"},{code:"CN",name:"China",currency:"CNY"}],Jee=[{value:"apartment",label:"Apartment",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"house",label:"House",icon:n.jsx(mr,{className:"w-5 h-5"})},{value:"condo",label:"Condo",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"townhouse",label:"Townhouse",icon:n.jsx(mr,{className:"w-5 h-5"})},{value:"villa",label:"Villa",icon:n.jsx(mr,{className:"w-5 h-5"})},{value:"penthouse",label:"Penthouse",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"studio",label:"Studio",icon:n.jsx(mr,{className:"w-5 h-5"})},{value:"duplex",label:"Duplex",icon:n.jsx(mr,{className:"w-5 h-5"})},{value:"land",label:"Land",icon:n.jsx(aa,{className:"w-5 h-5"})},{value:"commercial",label:"Commercial",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"industrial",label:"Industrial",icon:n.jsx(Hs,{className:"w-5 h-5"})},{value:"office",label:"Office",icon:n.jsx(Hs,{className:"w-5 h-5"})}],Qee=[{value:"sale",label:"For Sale"},{value:"rent",label:"For Rent"},{value:"lease",label:"For Lease"},{value:"short_term",label:"Short Term Rental"},{value:"vacation",label:"Vacation Rental"}],ete=[{value:"available",label:"Available",color:"bg-green-100 text-green-700"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"sold",label:"Sold",color:"bg-blue-100 text-blue-700"},{value:"rented",label:"Rented",color:"bg-purple-100 text-purple-700"},{value:"under_contract",label:"Under Contract",color:"bg-orange-100 text-orange-700"},{value:"off_market",label:"Off Market",color:"bg-gray-100 text-gray-700"},{value:"coming_soon",label:"Coming Soon",color:"bg-indigo-100 text-indigo-700"}],tte=[{value:"furnished",label:"Fully Furnished"},{value:"semi_furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}],rte=[{value:"new",label:"Brand New"},{value:"excellent",label:"Excellent"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"needs_renovation",label:"Needs Renovation"}],ate=[{value:"north",label:"North"},{value:"south",label:"South"},{value:"east",label:"East"},{value:"west",label:"West"},{value:"northeast",label:"North East"},{value:"northwest",label:"North West"},{value:"southeast",label:"South East"},{value:"southwest",label:"South West"}],nte=[{value:"sqft",label:"Square Feet (sq ft)"},{value:"sqm",label:"Square Meters (sq m)"},{value:"acres",label:"Acres"},{value:"hectares",label:"Hectares"}],ste={interior:[{id:"ac",label:"Air Conditioning",icon:n.jsx(Uj,{className:"w-4 h-4"})},{id:"heating",label:"Central Heating",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"fireplace",label:"Fireplace",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"walk_in_closet",label:"Walk-in Closet",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"hardwood_floors",label:"Hardwood Floors",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"high_ceiling",label:"High Ceilings",icon:n.jsx(mr,{className:"w-4 h-4"})}],exterior:[{id:"balcony",label:"Balcony",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"garden",label:"Garden",icon:n.jsx(Bj,{className:"w-4 h-4"})},{id:"terrace",label:"Terrace",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"patio",label:"Patio",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"deck",label:"Deck",icon:n.jsx(mr,{className:"w-4 h-4"})},{id:"rooftop",label:"Rooftop Access",icon:n.jsx(Hs,{className:"w-4 h-4"})}],community:[{id:"pool",label:"Swimming Pool",icon:n.jsx(zj,{className:"w-4 h-4"})},{id:"gym",label:"Gym / Fitness Center",icon:n.jsx(wb,{className:"w-4 h-4"})},{id:"clubhouse",label:"Clubhouse",icon:n.jsx(Hs,{className:"w-4 h-4"})},{id:"playground",label:"Playground",icon:n.jsx(Bj,{className:"w-4 h-4"})},{id:"tennis_court",label:"Tennis Court",icon:n.jsx(wb,{className:"w-4 h-4"})},{id:"sports_facility",label:"Sports Facility",icon:n.jsx(wb,{className:"w-4 h-4"})}],security:[{id:"24hr_security",label:"24/7 Security",icon:n.jsx(nu,{className:"w-4 h-4"})},{id:"cctv",label:"CCTV Surveillance",icon:n.jsx(Gy,{className:"w-4 h-4"})},{id:"gated_community",label:"Gated Community",icon:n.jsx(nu,{className:"w-4 h-4"})},{id:"intercom",label:"Intercom System",icon:n.jsx(id,{className:"w-4 h-4"})},{id:"fire_alarm",label:"Fire Alarm",icon:n.jsx(Ba,{className:"w-4 h-4"})},{id:"smart_locks",label:"Smart Locks",icon:n.jsx(nu,{className:"w-4 h-4"})}],utilities:[{id:"wifi",label:"WiFi Included",icon:n.jsx(Uj,{className:"w-4 h-4"})},{id:"cable_tv",label:"Cable TV",icon:n.jsx(Mw,{className:"w-4 h-4"})},{id:"water_supply",label:"24/7 Water Supply",icon:n.jsx(zj,{className:"w-4 h-4"})},{id:"power_backup",label:"Power Backup",icon:n.jsx(qc,{className:"w-4 h-4"})},{id:"gas_pipeline",label:"Gas Pipeline",icon:n.jsx(qc,{className:"w-4 h-4"})},{id:"waste_disposal",label:"Waste Disposal",icon:n.jsx(qc,{className:"w-4 h-4"})}]},ite={title:"",propertyType:"apartment",listingType:"sale",status:"available",priceAmount:0,currency:"USD",negotiable:!1,addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"United States",countryCode:"US",neighborhood:"",landmark:"",totalArea:0,carpetArea:0,areaUnit:"sqft",bedrooms:1,bathrooms:1,balconies:0,parkingSpaces:0,floors:1,floorNumber:0,totalFloors:1,yearBuilt:new Date().getFullYear(),furnishing:"unfurnished",condition:"good",facing:"north",amenities:{interior:[],exterior:[],community:[],security:[],utilities:[]},description:"",shortDescription:"",images:[],videos:[],virtualTourUrl:"",contactName:"",contactEmail:"",contactPhone:"",alternatePhone:"",preferredContactMethod:"any",company:"",licenseNumber:"",availableFrom:new Date().toISOString().split("T")[0],minimumLease:12,deposit:0,maintenanceCharges:0,inclusions:"",exclusions:"",featured:!1,published:!1,draft:!0},YS=()=>{var Se;const e=vr(),{id:t}=j_(),{addProperty:r,updateProperty:a,getProperty:s,formatPrice:i,formatArea:o,uploadImages:l}=Ah(),c=!!t,[u,h]=P.useState(1),[f,g]=P.useState(ite),[m,y]=P.useState({}),[x,N]=P.useState([]),[b,w]=P.useState([]),[k,S]=P.useState(!1);P.useEffect(()=>{var K,A,q,F,R,W,Z,ie,re,X,ke,Pe,De,Ye,ce,Ae,je,et,ae,Oe,Ge,at,yt,wt,ot,jt,Et,Te,it,gt,_t,br,Qt;if(c&&t){const nt=s(t);if(nt&&(g({title:nt.title||"",propertyType:nt.propertyType||"apartment",listingType:nt.listingType||"sale",status:nt.status||"available",priceAmount:((K=nt.price)==null?void 0:K.amount)||0,currency:((A=nt.price)==null?void 0:A.currency)||"USD",negotiable:((q=nt.price)==null?void 0:q.negotiable)||!1,addressLine1:((F=nt.location)==null?void 0:F.addressLine1)||nt.address||"",addressLine2:((R=nt.location)==null?void 0:R.addressLine2)||"",city:((W=nt.location)==null?void 0:W.city)||nt.city||"",state:((Z=nt.location)==null?void 0:Z.state)||nt.state||"",postalCode:((ie=nt.location)==null?void 0:ie.postalCode)||nt.zipCode||"",country:((re=nt.location)==null?void 0:re.country)||"United States",countryCode:((X=nt.location)==null?void 0:X.countryCode)||"US",neighborhood:((ke=nt.location)==null?void 0:ke.neighborhood)||"",landmark:((Pe=nt.location)==null?void 0:Pe.landmark)||"",totalArea:((De=nt.dimensions)==null?void 0:De.totalArea)||nt.area||0,carpetArea:((Ye=nt.dimensions)==null?void 0:Ye.carpetArea)||0,areaUnit:((ce=nt.dimensions)==null?void 0:ce.areaUnit)||"sqft",bedrooms:((Ae=nt.rooms)==null?void 0:Ae.bedrooms)||nt.bedrooms||1,bathrooms:((je=nt.rooms)==null?void 0:je.bathrooms)||nt.bathrooms||1,balconies:((et=nt.rooms)==null?void 0:et.balconies)||0,parkingSpaces:((ae=nt.rooms)==null?void 0:ae.parkingSpaces)||0,floors:((Oe=nt.dimensions)==null?void 0:Oe.floors)||1,floorNumber:((Ge=nt.dimensions)==null?void 0:Ge.floorNumber)||0,totalFloors:((at=nt.dimensions)==null?void 0:at.totalFloors)||1,yearBuilt:nt.yearBuilt||new Date().getFullYear(),furnishing:nt.furnishing||"unfurnished",condition:nt.condition||"good",facing:nt.facing||"north",amenities:nt.amenities||{interior:[],exterior:[],community:[],security:[],utilities:[]},description:nt.description||"",shortDescription:nt.shortDescription||"",images:nt.images||[],videos:nt.videos||[],virtualTourUrl:nt.virtualTourUrl||((yt=nt.media)==null?void 0:yt.virtualTourUrl)||"",contactName:((wt=nt.contact)==null?void 0:wt.name)||nt.contactName||"",contactEmail:((ot=nt.contact)==null?void 0:ot.email)||nt.emailAddress||"",contactPhone:((jt=nt.contact)==null?void 0:jt.phone)||nt.phoneNumber||"",alternatePhone:((Et=nt.contact)==null?void 0:Et.alternatePhone)||"",preferredContactMethod:((Te=nt.contact)==null?void 0:Te.preferredContactMethod)||"any",company:((it=nt.contact)==null?void 0:it.company)||"",licenseNumber:((gt=nt.contact)==null?void 0:gt.licenseNumber)||"",availableFrom:nt.availableFrom||new Date().toISOString().split("T")[0],minimumLease:nt.minimumLease||12,deposit:((_t=nt.financial)==null?void 0:_t.deposit)||0,maintenanceCharges:((br=nt.financial)==null?void 0:br.maintenanceCharges)||0,inclusions:nt.inclusions||"",exclusions:nt.exclusions||"",featured:nt.featured||!1,published:nt.published||!1,draft:nt.draft??!0}),(Qt=nt.images)!=null&&Qt.length)){const Wt=nt.images.filter(kr=>typeof kr=="string");N(Wt)}}},[t,c,s]);const B=[{number:1,title:"Basic Info",icon:n.jsx(mr,{className:"w-5 h-5"})},{number:2,title:"Location",icon:n.jsx(aa,{className:"w-5 h-5"})},{number:3,title:"Property Details",icon:n.jsx(qc,{className:"w-5 h-5"})},{number:4,title:"Media & Features",icon:n.jsx(Gy,{className:"w-5 h-5"})},{number:5,title:"Contact & Publish",icon:n.jsx(Or,{className:"w-5 h-5"})}],H=K=>{var q,F,R,W,Z,ie,re,X;const A={};return K===1?((q=f.title)!=null&&q.trim()||(A.title="Property title is required"),f.priceAmount<=0&&(A.priceAmount="Price is required")):K===2?((F=f.addressLine1)!=null&&F.trim()||(A.addressLine1="Address is required"),(R=f.city)!=null&&R.trim()||(A.city="City is required"),(W=f.state)!=null&&W.trim()||(A.state="State/Region is required"),(Z=f.postalCode)!=null&&Z.trim()||(A.postalCode="Postal code is required")):K===3?(f.totalArea<=0&&(A.totalArea="Area is required"),f.bedrooms<0&&(A.bedrooms="Invalid bedrooms"),f.bathrooms<0&&(A.bathrooms="Invalid bathrooms")):K===4?f.images.length===0&&x.length===0&&(A.images="At least one image is required"):K===5&&((ie=f.contactName)!=null&&ie.trim()||(A.contactName="Contact name is required"),(re=f.contactPhone)!=null&&re.trim()||(A.contactPhone="Phone number is required"),(X=f.contactEmail)!=null&&X.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.contactEmail)||(A.contactEmail="Please enter a valid email"):A.contactEmail="Email is required"),y(A),Object.keys(A).length===0},I=()=>{H(u)&&u<5&&h(u+1)},D=()=>{u>1&&h(u-1)},C=(K,A)=>{g(q=>({...q,[K]:A})),m[K]&&y(q=>{const F={...q};return delete F[K],F})},G=K=>{const A=GS.find(q=>q.code===K);A&&g(q=>({...q,country:A.name,countryCode:A.code,currency:A.currency}))},O=(K,A)=>{g(q=>{const F=q.amenities[K]||[],R=F.includes(A)?F.filter(W=>W!==A):[...F,A];return{...q,amenities:{...q.amenities,[K]:R}}})},V=K=>{Array.from(K.target.files||[]).forEach(q=>{if(q.size>10*1024*1024){alert(`${q.name} is too large. Maximum size is 10MB.`);return}const F=new FileReader;F.onload=R=>{var W;(W=R.target)!=null&&W.result&&(N(Z=>[...Z,R.target.result]),g(Z=>({...Z,images:[...Z.images,q]})))},F.readAsDataURL(q)})},Y=K=>{Array.from(K.target.files||[]).forEach(q=>{if(q.size>50*1024*1024){alert(`${q.name} is too large. Maximum size is 50MB.`);return}const F=new FileReader;F.onload=R=>{var W;(W=R.target)!=null&&W.result&&(w(Z=>[...Z,R.target.result]),g(Z=>({...Z,videos:[...Z.videos,q]})))},F.readAsDataURL(q)})},ee=K=>{N(A=>A.filter((q,F)=>F!==K)),g(A=>({...A,images:A.images.filter((q,F)=>F!==K)}))},he=K=>{w(A=>A.filter((q,F)=>F!==K)),g(A=>({...A,videos:A.videos.filter((q,F)=>F!==K)}))},de=async K=>{const A=[],q=[];for(const R of K)typeof R=="string"?A.push(R):q.push(R);let F=[];if(q.length>0)try{F=await l(q)}catch(R){console.error("Failed to upload images:",R);for(const W of q){const Z=await new Promise((ie,re)=>{const X=new FileReader;X.onload=()=>ie(X.result),X.onerror=re,X.readAsDataURL(W)});F.push(Z)}}return[...A,...F]},xe=async()=>{const K=await de(f.images),A=[];return{title:f.title,propertyType:f.propertyType,listingType:f.listingType,status:f.status,description:f.description,shortDescription:f.shortDescription,location:{addressLine1:f.addressLine1,addressLine2:f.addressLine2,city:f.city,state:f.state,postalCode:f.postalCode,country:f.country,countryCode:f.countryCode,neighborhood:f.neighborhood,landmark:f.landmark},address:f.addressLine1,city:f.city,state:f.state,zipCode:f.postalCode,price:{amount:f.priceAmount,currency:f.currency,negotiable:f.negotiable},priceString:i({amount:f.priceAmount,currency:f.currency,negotiable:f.negotiable}),dimensions:{totalArea:f.totalArea,carpetArea:f.carpetArea,areaUnit:f.areaUnit,floors:f.floors,floorNumber:f.floorNumber,totalFloors:f.totalFloors},rooms:{bedrooms:f.bedrooms,bathrooms:f.bathrooms,balconies:f.balconies,parkingSpaces:f.parkingSpaces},bedrooms:f.bedrooms,bathrooms:f.bathrooms,area:f.totalArea,yearBuilt:f.yearBuilt,furnishing:f.furnishing,condition:f.condition,facing:f.facing,amenities:f.amenities,features:[...f.amenities.interior,...f.amenities.exterior,...f.amenities.community,...f.amenities.security,...f.amenities.utilities],images:K,videos:A,virtualTourUrl:f.virtualTourUrl,media:{images:K.map((q,F)=>({id:`img-${F}`,url:q,type:"image",isPrimary:F===0,order:F,uploadedAt:new Date().toISOString()})),videos:A.map((q,F)=>({id:`vid-${F}`,url:q,type:"video",order:F,uploadedAt:new Date().toISOString()})),floorPlans:[],virtualTourUrl:f.virtualTourUrl},contact:{name:f.contactName,email:f.contactEmail,phone:f.contactPhone,alternatePhone:f.alternatePhone,preferredContactMethod:f.preferredContactMethod,company:f.company,licenseNumber:f.licenseNumber},contactName:f.contactName,phoneNumber:f.contactPhone,emailAddress:f.contactEmail,availableFrom:f.availableFrom,minimumLease:f.minimumLease,inclusions:f.inclusions,exclusions:f.exclusions,financial:{deposit:f.deposit,maintenanceCharges:f.maintenanceCharges,maintenanceFrequency:"monthly"},featured:f.featured}},oe=async()=>{S(!0);try{const K=await xe();if(c&&t)await a(t,{...K,draft:!0,published:!1});else if(!await r({...K,draft:!0,published:!1}))throw new Error("Failed to save property");e("/manager/dashboard/properties")}catch(K){console.error("Error saving draft:",K),alert("Failed to save draft. Please try again.")}finally{S(!1)}},fe=async()=>{if(H(5)){S(!0);try{const K=await xe();if(c&&t)await a(t,{...K,published:!0,draft:!1});else if(!await r({...K,published:!0,draft:!1}))throw new Error("Failed to publish property");e("/manager/dashboard/properties")}catch(K){console.error("Error publishing:",K),alert("Failed to publish property. Please try again.")}finally{S(!1)}}};return n.jsxs("div",{className:"max-w-6xl mx-auto font-sans pb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:c?"Edit Property":"Add New Property"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c?"Update your property listing":"Create a new property listing with all the details"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:oe,disabled:k,className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:k?"Saving...":"Save Draft"}),n.jsxs("button",{onClick:fe,disabled:k,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:[f.featured&&n.jsx(kl,{className:"w-4 h-4"}),k?"Publishing...":"Publish Property"]})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("div",{className:"flex items-center justify-between overflow-x-auto pb-2",children:B.map((K,A)=>n.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[n.jsx("button",{onClick:()=>u>K.number&&h(K.number),className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm transition-all ${u>=K.number?"bg-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"} ${u>K.number?"cursor-pointer hover:scale-110":""}`,children:u>K.number?n.jsx(Ar,{className:"w-5 h-5"}):K.icon}),n.jsx("span",{className:`mt-2 text-xs font-medium text-center hidden md:block ${u>=K.number?"text-primary":"text-gray-500 dark:text-gray-400"}`,children:K.title})]}),A<B.length-1&&n.jsx("div",{className:`flex-1 h-1 mx-2 rounded hidden sm:block ${u>K.number?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`})]},K.number))})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[u===1&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(mr,{className:"w-5 h-5 text-primary"}),"Basic Property Information"]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Title *"}),n.jsx("input",{type:"text",value:f.title,onChange:K=>C("title",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white placeholder-gray-500 ${m.title?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"e.g., Luxurious 3BR Apartment with Ocean View"}),m.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.title})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type *"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Jee.map(K=>n.jsxs("button",{type:"button",onClick:()=>C("propertyType",K.value),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${f.propertyType===K.value?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[K.icon,n.jsx("span",{className:"text-sm font-medium",children:K.label})]},K.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Listing Type *"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Qee.map(K=>n.jsx("button",{type:"button",onClick:()=>C("listingType",K.value),className:`px-4 py-2 rounded-lg border transition-all ${f.listingType===K.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status *"}),n.jsx("select",{value:f.status,onChange:K=>C("status",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:ete.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(El,{className:"w-5 h-5 text-primary"}),"Pricing"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),n.jsx("select",{value:f.countryCode,onChange:K=>G(K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:GS.map(K=>n.jsxs("option",{value:K.code,children:[K.name," (",K.currency,")"]},K.code))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:f.currency}),n.jsx("input",{type:"number",value:f.priceAmount||"",onChange:K=>C("priceAmount",parseFloat(K.target.value)||0),className:`w-full pl-16 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.priceAmount?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"})]}),m.priceAmount&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.priceAmount})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.negotiable,onChange:K=>C("negotiable",K.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Price is Negotiable"})]})})]}),n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.featured,onChange:K=>C("featured",K.target.checked),className:"w-5 h-5 rounded border-yellow-400 text-yellow-600 focus:ring-yellow-500"}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[n.jsx(kl,{className:"w-4 h-4"}),"Mark as Featured Property"]}),n.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-300 mt-1",children:"Featured properties get more visibility and appear at the top of search results"})]})]})})]})]}),u===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(aa,{className:"w-5 h-5 text-primary"}),"Location Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 1 *"}),n.jsx("input",{type:"text",value:f.addressLine1,onChange:K=>C("addressLine1",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.addressLine1?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Street address, building number"}),m.addressLine1&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.addressLine1})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 2"}),n.jsx("input",{type:"text",value:f.addressLine2,onChange:K=>C("addressLine2",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Apartment, suite, unit number (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City *"}),n.jsx("input",{type:"text",value:f.city,onChange:K=>C("city",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.city?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter city"}),m.city&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"State / Region *"}),n.jsx("input",{type:"text",value:f.state,onChange:K=>C("state",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.state?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter state or region"}),m.state&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal / ZIP Code *"}),n.jsx("input",{type:"text",value:f.postalCode,onChange:K=>C("postalCode",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.postalCode?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter postal code"}),m.postalCode&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.postalCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Neighborhood"}),n.jsx("input",{type:"text",value:f.neighborhood,onChange:K=>C("neighborhood",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Enter neighborhood (optional)"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nearby Landmark"}),n.jsx("input",{type:"text",value:f.landmark,onChange:K=>C("landmark",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Near Central Park, 5 min from Airport (optional)"})]})]})]}),u===3&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(vf,{className:"w-5 h-5 text-primary"}),"Area & Dimensions"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Area *"}),n.jsx("input",{type:"number",value:f.totalArea||"",onChange:K=>C("totalArea",parseFloat(K.target.value)||0),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.totalArea?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"}),m.totalArea&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.totalArea})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Carpet Area"}),n.jsx("input",{type:"number",value:f.carpetArea||"",onChange:K=>C("carpetArea",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Area Unit"}),n.jsx("select",{value:f.areaUnit,onChange:K=>C("areaUnit",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:nte.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year Built"}),n.jsx("input",{type:"number",min:"1800",max:new Date().getFullYear(),value:f.yearBuilt||"",onChange:K=>C("yearBuilt",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(cu,{className:"w-5 h-5 text-primary"}),"Rooms & Spaces"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(cu,{className:"w-4 h-4 inline mr-1"})," Bedrooms *"]}),n.jsx("input",{type:"number",min:"0",value:f.bedrooms,onChange:K=>C("bedrooms",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(gh,{className:"w-4 h-4 inline mr-1"})," Bathrooms *"]}),n.jsx("input",{type:"number",min:"0",value:f.bathrooms,onChange:K=>C("bathrooms",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Balconies"}),n.jsx("input",{type:"number",min:"0",value:f.balconies,onChange:K=>C("balconies",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.jsx(F_,{className:"w-4 h-4 inline mr-1"})," Parking Spaces"]}),n.jsx("input",{type:"number",min:"0",value:f.parkingSpaces,onChange:K=>C("parkingSpaces",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Floor Number"}),n.jsx("input",{type:"number",min:"0",value:f.floorNumber,onChange:K=>C("floorNumber",parseInt(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Floors"}),n.jsx("input",{type:"number",min:"1",value:f.totalFloors,onChange:K=>C("totalFloors",parseInt(K.target.value)||1),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facing Direction"}),n.jsx("select",{value:f.facing,onChange:K=>C("facing",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:ate.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(qc,{className:"w-5 h-5 text-primary"}),"Condition & Furnishing"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Furnishing Status"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:tte.map(K=>n.jsx("button",{type:"button",onClick:()=>C("furnishing",K.value),className:`px-4 py-2 rounded-lg border transition-all ${f.furnishing===K.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:K.label},K.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Condition"}),n.jsx("select",{value:f.condition,onChange:K=>C("condition",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:rte.map(K=>n.jsx("option",{value:K.value,children:K.label},K.value))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Or,{className:"w-5 h-5 text-primary"}),"Description"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Description (for cards)"}),n.jsx("input",{type:"text",value:f.shortDescription,onChange:K=>C("shortDescription",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"A brief summary of the property (max 150 chars)",maxLength:150})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Description"}),n.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 p-2 flex gap-2 flex-wrap bg-gray-50 dark:bg-gray-800",children:[n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(sU,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(lV,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(Nq,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx($_,{className:"w-4 h-4"})}),n.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:n.jsx(pV,{className:"w-4 h-4"})})]}),n.jsx("textarea",{value:f.description,onChange:K=>C("description",K.target.value),className:"w-full p-4 min-h-[200px] focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Enter a detailed property description..."})]})]})]})]})]}),u===4&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Gy,{className:"w-5 h-5 text-primary"}),"Property Images"]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors",children:[n.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/png,image/jpg,image/jpeg,image/webp",onChange:V,className:"hidden"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(hp,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload images"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, JPEG, WEBP up to 10MB each"})]})]}),m.images&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.images}),x.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:x.map((K,A)=>n.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[n.jsx("img",{src:K,alt:`Preview ${A+1}`,className:"w-full h-32 object-cover"}),A===0&&n.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-primary text-white text-xs rounded",children:"Primary"}),n.jsx("button",{type:"button",onClick:()=>ee(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(xr,{className:"w-4 h-4"})})]},A))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Mw,{className:"w-5 h-5 text-primary"}),"Property Videos"]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors",children:[n.jsx("input",{type:"file",id:"video-upload",multiple:!0,accept:"video/mp4,video/mov,video/avi",onChange:Y,className:"hidden"}),n.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(Mw,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload videos"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI up to 50MB each"})]})]}),b.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:b.map((K,A)=>n.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[n.jsx("video",{src:K,className:"w-full h-48 object-cover",controls:!0}),n.jsx("button",{type:"button",onClick:()=>he(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(xr,{className:"w-4 h-4"})})]},A))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(U_,{className:"w-5 h-5 text-primary"}),"Virtual Tour"]}),n.jsx("input",{type:"url",value:f.virtualTourUrl,onChange:K=>C("virtualTourUrl",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"https://your-virtual-tour-url.com"})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(kl,{className:"w-5 h-5 text-primary"}),"Amenities & Features"]}),Object.entries(ste).map(([K,A])=>n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 capitalize",children:[K.replace("_"," ")," Features"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(q=>{var F;return n.jsxs("button",{type:"button",onClick:()=>O(K,q.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${(F=f.amenities[K])!=null&&F.includes(q.id)?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:[q.icon,q.label]},q.id)})})]},K))]})]}),u===5&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Nn,{className:"w-5 h-5 text-primary"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Name *"}),n.jsx("input",{type:"text",value:f.contactName,onChange:K=>C("contactName",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.contactName?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter contact name"}),m.contactName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.contactName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:f.contactEmail,onChange:K=>C("contactEmail",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.contactEmail?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter email address"}),m.contactEmail&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:f.contactPhone,onChange:K=>C("contactPhone",K.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${m.contactPhone?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"+1 (555) 000-0000"}),m.contactPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Alternate Phone"}),n.jsx("input",{type:"tel",value:f.alternatePhone,onChange:K=>C("alternatePhone",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"+1 (555) 000-0000 (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),n.jsx("input",{type:"text",value:f.company,onChange:K=>C("company",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Real estate agency (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Number"}),n.jsx("input",{type:"text",value:f.licenseNumber,onChange:K=>C("licenseNumber",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Agent license number (optional)"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(bi,{className:"w-5 h-5 text-primary"}),"Availability & Terms"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Available From"}),n.jsx("input",{type:"date",value:f.availableFrom,onChange:K=>C("availableFrom",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),(f.listingType==="rent"||f.listingType==="lease")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Lease (months)"}),n.jsx("input",{type:"number",min:"1",value:f.minimumLease,onChange:K=>C("minimumLease",parseInt(K.target.value)||1),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Security Deposit (",f.currency,")"]}),n.jsx("input",{type:"number",min:"0",value:f.deposit||"",onChange:K=>C("deposit",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Maintenance Charges (",f.currency,"/month)"]}),n.jsx("input",{type:"number",min:"0",value:f.maintenanceCharges||"",onChange:K=>C("maintenanceCharges",parseFloat(K.target.value)||0),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Inclusions"}),n.jsx("input",{type:"text",value:f.inclusions,onChange:K=>C("inclusions",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Appliances, furniture, utilities"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exclusions"}),n.jsx("input",{type:"text",value:f.exclusions,onChange:K=>C("exclusions",K.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Parking fees, utility bills"})]})]})]}),n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Ar,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium text-lg",children:"Ready to Publish!"}),n.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:"Your property listing is complete. Review the details and publish when ready. You can also save as draft and publish later."})]})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("button",{type:"button",onClick:D,disabled:u===1,className:`px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg flex items-center justify-center gap-2 transition-all ${u===1?"opacity-50 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(sc,{className:"w-5 h-5"}),"Previous"]}),u<5?n.jsxs("button",{type:"button",onClick:I,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg",children:["Next: ",(Se=B[u])==null?void 0:Se.title,n.jsx(Al,{className:"w-5 h-5"})]}):n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:oe,disabled:k,className:"px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all disabled:opacity-50",children:"Save as Draft"}),n.jsxs("button",{type:"button",onClick:fe,disabled:k,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg transition-all shadow-lg disabled:opacity-50 flex items-center gap-2",children:[f.featured&&n.jsx(kl,{className:"w-4 h-4"}),k?"Publishing...":"Publish Property"]})]})]})]})]})},_4=P.createContext({});function Hf(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const N4=typeof window<"u",lv=N4?P.useLayoutEffect:P.useEffect,cv=P.createContext(null);function k4(e,t){e.indexOf(t)===-1&&e.push(t)}function j4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Pl=(e,t,r)=>r>t?t:r<e?e:r;let Wg=()=>{};const ad={},cP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dP(e){return typeof e=="object"&&e!==null}const uP=e=>/^0[^.\s]+$/u.test(e);function S4(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ni=e=>e,ote=(e,t)=>r=>t(e(r)),wp=(...e)=>e.reduce(ote),_f=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class A4{constructor(){this.subscriptions=[]}add(t){return k4(this.subscriptions,t),()=>j4(this.subscriptions,t)}notify(t,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gc=e=>e*1e3,Fo=e=>e/1e3;function E4(e,t){return t?e*(1e3/t):0}const hP=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,lte=1e-7,cte=12;function dte(e,t,r,a,s){let i,o,l=0;do o=t+(r-t)/2,i=hP(o,a,s)-e,i>0?r=o:t=o;while(Math.abs(i)>lte&&++l<cte);return o}function _p(e,t,r,a){if(e===t&&r===a)return Ni;const s=i=>dte(i,0,1,e,r);return i=>i===0||i===1?i:hP(s(i),t,a)}const fP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mP=e=>t=>1-e(1-t),gP=_p(.33,1.53,.69,.99),T4=mP(gP),pP=fP(T4),xP=e=>(e*=2)<1?.5*T4(e):.5*(2-Math.pow(2,-10*(e-1))),C4=e=>1-Math.sin(Math.acos(e)),yP=mP(C4),vP=fP(C4),ute=_p(.42,0,1,1),hte=_p(0,0,.58,1),bP=_p(.42,0,.58,1),fte=e=>Array.isArray(e)&&typeof e[0]!="number",wP=e=>Array.isArray(e)&&typeof e[0]=="number",mte={linear:Ni,easeIn:ute,easeInOut:bP,easeOut:hte,circIn:C4,circInOut:vP,circOut:yP,backIn:T4,backInOut:pP,backOut:gP,anticipate:xP},gte=e=>typeof e=="string",KS=e=>{if(wP(e)){Wg(e.length===4);const[t,r,a,s]=e;return _p(t,r,a,s)}else if(gte(e))return mte[e];return e},Ex=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pte(e,t){let r=new Set,a=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,f=!1,g=!1)=>{const y=g&&s?r:a;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[r,a]=[a,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const xte=40;function _P(e,t){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ex.reduce((k,S)=>(k[S]=pte(i),k),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:f,preRender:g,render:m,postRender:y}=o,x=()=>{const k=ad.useManualTiming?s.timestamp:performance.now();r=!1,ad.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(k-s.timestamp,xte),1)),s.timestamp=k,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),h.process(s),f.process(s),g.process(s),m.process(s),y.process(s),s.isProcessing=!1,r&&t&&(a=!1,e(x))},N=()=>{r=!0,a=!0,s.isProcessing||e(x)};return{schedule:Ex.reduce((k,S)=>{const B=o[S];return k[S]=(H,I=!1,D=!1)=>(r||N(),B.schedule(H,I,D)),k},{}),cancel:k=>{for(let S=0;S<Ex.length;S++)o[Ex[S]].cancel(k)},state:s,steps:o}}const{schedule:Gr,cancel:Ml,state:In,steps:Jb}=_P(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let iy;function yte(){iy=void 0}const Ys={now:()=>(iy===void 0&&Ys.set(In.isProcessing||ad.useManualTiming?In.timestamp:performance.now()),iy),set:e=>{iy=e,queueMicrotask(yte)}},NP=e=>t=>typeof t=="string"&&t.startsWith(e),kP=NP("--"),vte=NP("var(--"),L4=e=>vte(e)?bte.test(e.split("/*")[0].trim()):!1,bte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ZS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Wf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gg={...Wf,transform:e=>Pl(0,1,e)},Tx={...Wf,default:1},dg=e=>Math.round(e*1e5)/1e5,P4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wte(e){return e==null}const _te=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M4=(e,t)=>r=>!!(typeof r=="string"&&_te.test(r)&&r.startsWith(e)||t&&!wte(r)&&Object.prototype.hasOwnProperty.call(r,t)),jP=(e,t,r)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(P4);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Nte=e=>Pl(0,255,e),Qb={...Wf,transform:e=>Math.round(Nte(e))},Qu={test:M4("rgb","red"),parse:jP("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+Qb.transform(e)+", "+Qb.transform(t)+", "+Qb.transform(r)+", "+dg(Gg.transform(a))+")"};function kte(e){let t="",r="",a="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const Xw={test:M4("#"),parse:kte,transform:Qu.transform},Np=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cd=Np("deg"),ic=Np("%"),Lt=Np("px"),jte=Np("vh"),Ste=Np("vw"),XS={...ic,parse:e=>ic.parse(e)/100,transform:e=>ic.transform(e*100)},O0={test:M4("hsl","hue"),parse:jP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+ic.transform(dg(t))+", "+ic.transform(dg(r))+", "+dg(Gg.transform(a))+")"},gn={test:e=>Qu.test(e)||Xw.test(e)||O0.test(e),parse:e=>Qu.test(e)?Qu.parse(e):O0.test(e)?O0.parse(e):Xw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qu.transform(e):O0.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},Ate=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ete(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(P4))==null?void 0:t.length)||0)+(((r=e.match(Ate))==null?void 0:r.length)||0)>0}const SP="number",AP="color",Tte="var",Cte="var(",JS="${}",Lte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yg(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Lte,c=>(gn.test(c)?(a.color.push(i),s.push(AP),r.push(gn.parse(c))):c.startsWith(Cte)?(a.var.push(i),s.push(Tte),r.push(c)):(a.number.push(i),s.push(SP),r.push(parseFloat(c))),++i,JS)).split(JS);return{values:r,split:l,indexes:a,types:s}}function EP(e){return Yg(e).values}function TP(e){const{split:t,types:r}=Yg(e),a=t.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===SP?i+=dg(s[o]):l===AP?i+=gn.transform(s[o]):i+=s[o]}return i}}const Pte=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function Mte(e){const t=EP(e);return TP(e)(t.map(Pte))}const pu={test:Ete,parse:EP,createTransformer:TP,getAnimatableNone:Mte};function e2(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Rte({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=e2(c,l,e+1/3),i=e2(c,l,e),o=e2(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function b1(e,t){return r=>r>0?t:e}const Fa=(e,t,r)=>e+(t-e)*r,t2=(e,t,r)=>{const a=e*e,s=r*(t*t-a)+a;return s<0?0:Math.sqrt(s)},Ote=[Xw,Qu,O0],Dte=e=>Ote.find(t=>t.test(e));function QS(e){const t=Dte(e);if(!t)return!1;let r=t.parse(e);return t===O0&&(r=Rte(r)),r}const e6=(e,t)=>{const r=QS(e),a=QS(t);if(!r||!a)return b1(e,t);const s={...r};return i=>(s.red=t2(r.red,a.red,i),s.green=t2(r.green,a.green,i),s.blue=t2(r.blue,a.blue,i),s.alpha=Fa(r.alpha,a.alpha,i),Qu.transform(s))},Jw=new Set(["none","hidden"]);function Ite(e,t){return Jw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Fte(e,t){return r=>Fa(e,t,r)}function R4(e){return typeof e=="number"?Fte:typeof e=="string"?L4(e)?b1:gn.test(e)?e6:Ute:Array.isArray(e)?CP:typeof e=="object"?gn.test(e)?e6:Bte:b1}function CP(e,t){const r=[...e],a=r.length,s=e.map((i,o)=>R4(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=s[o](i);return r}}function Bte(e,t){const r={...e,...t},a={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(a[s]=R4(e[s])(e[s],t[s]));return s=>{for(const i in a)r[i]=a[i](s);return r}}function zte(e,t){const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][a[i]],l=e.values[o]??0;r[s]=l,a[i]++}return r}const Ute=(e,t)=>{const r=pu.createTransformer(t),a=Yg(e),s=Yg(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?Jw.has(e)&&!s.values.length||Jw.has(t)&&!a.values.length?Ite(e,t):wp(CP(zte(a,s),s.values),r):b1(e,t)};function LP(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Fa(e,t,r):R4(e)(e,t)}const Vte=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Gr.update(t,r),stop:()=>Ml(t),now:()=>In.isProcessing?In.timestamp:Ys.now()}},PP=(e,t,r=10)=>{let a="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)a+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},w1=2e4;function O4(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<w1;)t+=r,a=e.next(t);return t>=w1?1/0:t}function qte(e,t=100,r){const a=r({...e,keyframes:[0,t]}),s=Math.min(O4(a),w1);return{type:"keyframes",ease:i=>a.next(s*i).value/t,duration:Fo(s)}}const $te=5;function MP(e,t,r){const a=Math.max(t-$te,0);return E4(r-e(a),t-a)}const Ka={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},r2=.001;function Hte({duration:e=Ka.duration,bounce:t=Ka.bounce,velocity:r=Ka.velocity,mass:a=Ka.mass}){let s,i,o=1-t;o=Pl(Ka.minDamping,Ka.maxDamping,o),e=Pl(Ka.minDuration,Ka.maxDuration,Fo(e)),o<1?(s=u=>{const h=u*o,f=h*e,g=h-r,m=Qw(u,o),y=Math.exp(-f);return r2-g/m*y},i=u=>{const f=u*o*e,g=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),x=Qw(Math.pow(u,2),o);return(-s(u)+r2>0?-1:1)*((g-m)*y)/x}):(s=u=>{const h=Math.exp(-u*e),f=(u-r)*e+1;return-r2+h*f},i=u=>{const h=Math.exp(-u*e),f=(r-u)*(e*e);return h*f});const l=5/e,c=Gte(s,i,l);if(e=Gc(e),isNaN(c))return{stiffness:Ka.stiffness,damping:Ka.damping,duration:e};{const u=Math.pow(c,2)*a;return{stiffness:u,damping:o*2*Math.sqrt(a*u),duration:e}}}const Wte=12;function Gte(e,t,r){let a=r;for(let s=1;s<Wte;s++)a=a-e(a)/t(a);return a}function Qw(e,t){return e*Math.sqrt(1-t*t)}const Yte=["duration","bounce"],Kte=["stiffness","damping","mass"];function t6(e,t){return t.some(r=>e[r]!==void 0)}function Zte(e){let t={velocity:Ka.velocity,stiffness:Ka.stiffness,damping:Ka.damping,mass:Ka.mass,isResolvedFromDuration:!1,...e};if(!t6(e,Kte)&&t6(e,Yte))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),s=a*a,i=2*Pl(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ka.mass,stiffness:s,damping:i}}else{const r=Hte(e);t={...t,...r,mass:Ka.mass},t.isResolvedFromDuration=!0}return t}function _1(e=Ka.visualDuration,t=Ka.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:g,isResolvedFromDuration:m}=Zte({...r,velocity:-Fo(r.velocity||0)}),y=g||0,x=u/(2*Math.sqrt(c*h)),N=o-i,b=Fo(Math.sqrt(c/h)),w=Math.abs(N)<5;a||(a=w?Ka.restSpeed.granular:Ka.restSpeed.default),s||(s=w?Ka.restDelta.granular:Ka.restDelta.default);let k;if(x<1){const B=Qw(b,x);k=H=>{const I=Math.exp(-x*b*H);return o-I*((y+x*b*N)/B*Math.sin(B*H)+N*Math.cos(B*H))}}else if(x===1)k=B=>o-Math.exp(-b*B)*(N+(y+b*N)*B);else{const B=b*Math.sqrt(x*x-1);k=H=>{const I=Math.exp(-x*b*H),D=Math.min(B*H,300);return o-I*((y+x*b*N)*Math.sinh(D)+B*N*Math.cosh(D))/B}}const S={calculatedDuration:m&&f||null,next:B=>{const H=k(B);if(m)l.done=B>=f;else{let I=B===0?y:0;x<1&&(I=B===0?Gc(y):MP(k,B,H));const D=Math.abs(I)<=a,C=Math.abs(o-H)<=s;l.done=D&&C}return l.value=l.done?o:H,l},toString:()=>{const B=Math.min(O4(S),w1),H=PP(I=>S.next(B*I).value,B,30);return B+"ms "+H},toTransition:()=>{}};return S}_1.applyToOptions=e=>{const t=qte(e,100,_1);return e.ease=t.ease,e.duration=Gc(t.duration),e.type="keyframes",e};function e5({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=e[0],g={done:!1,value:f},m=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let x=r*t;const N=f+x,b=o===void 0?N:o(N);b!==N&&(x=b-f);const w=D=>-x*Math.exp(-D/a),k=D=>b+w(D),S=D=>{const C=w(D),G=k(D);g.done=Math.abs(C)<=u,g.value=g.done?b:G};let B,H;const I=D=>{m(g.value)&&(B=D,H=_1({keyframes:[g.value,y(g.value)],velocity:MP(k,D,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return I(0),{calculatedDuration:null,next:D=>{let C=!1;return!H&&B===void 0&&(C=!0,S(D),I(D)),B!==void 0&&D>=B?H.next(D-B):(!C&&S(D),g)}}}function Xte(e,t,r){const a=[],s=r||ad.mix||LP,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ni:t;l=wp(c,l)}a.push(l)}return a}function D4(e,t,{clamp:r=!0,ease:a,mixer:s}={}){const i=e.length;if(Wg(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Xte(t,a,s),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const g=_f(e[f],e[f+1],h);return l[f](g)};return r?h=>u(Pl(e[0],e[i-1],h)):u}function Jte(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const s=_f(0,t,a);e.push(Fa(r,1,s))}}function RP(e){const t=[0];return Jte(t,e.length-1),t}function Qte(e,t){return e.map(r=>r*t)}function ere(e,t){return e.map(()=>t||bP).splice(0,e.length-1)}function ug({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const s=fte(a)?a.map(KS):KS(a),i={done:!1,value:t[0]},o=Qte(r&&r.length===t.length?r:RP(t),e),l=D4(o,t,{ease:Array.isArray(s)?s:ere(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const tre=e=>e!==null;function I4(e,{repeat:t,repeatType:r="loop"},a,s=1){const i=e.filter(tre),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const rre={decay:e5,inertia:e5,tween:ug,keyframes:ug,spring:_1};function OP(e){typeof e.type=="string"&&(e.type=rre[e.type])}class F4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const are=e=>e/100;class B4 extends F4{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Ys.now()&&this.tick(Ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OP(t);const{type:r=ug,repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||ug;c!==ug&&typeof l[0]!="number"&&(this.mixKeyframes=wp(are,LP(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=O4(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:g,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,S=a;if(f){const D=Math.min(this.currentTime,s)/l;let C=Math.floor(D),G=D%1;!G&&D>=1&&(G=1),G===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(g==="reverse"?(G=1-G,m&&(G-=m/l)):g==="mirror"&&(S=o)),k=Pl(0,1,G)*l}const B=w?{done:!1,value:h[0]}:S.next(k);i&&(B.value=i(B.value));let{done:H}=B;!w&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return I&&y!==e5&&(B.value=I4(h,this.options,N,this.speed)),x&&x(B.value),I&&this.finish(),B}then(t,r){return this.finished.then(t,r)}get duration(){return Fo(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fo(t)}get time(){return Fo(this.currentTime)}set time(t){var r;t=Gc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ys.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Fo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Vte,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function nre(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const eh=e=>e*180/Math.PI,t5=e=>{const t=eh(Math.atan2(e[1],e[0]));return r5(t)},sre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:t5,rotateZ:t5,skewX:e=>eh(Math.atan(e[1])),skewY:e=>eh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},r5=e=>(e=e%360,e<0&&(e+=360),e),r6=t5,a6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),n6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ire={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:a6,scaleY:n6,scale:e=>(a6(e)+n6(e))/2,rotateX:e=>r5(eh(Math.atan2(e[6],e[5]))),rotateY:e=>r5(eh(Math.atan2(-e[2],e[0]))),rotateZ:r6,rotate:r6,skewX:e=>eh(Math.atan(e[4])),skewY:e=>eh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function a5(e){return e.includes("scale")?1:0}function n5(e,t){if(!e||e==="none")return a5(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(r)a=ire,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=sre,s=l}if(!s)return a5(t);const i=a[t],o=s[1].split(",").map(lre);return typeof i=="function"?i(o):o[i]}const ore=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return n5(r,t)};function lre(e){return parseFloat(e.trim())}const Gf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yf=new Set(Gf),s6=e=>e===Wf||e===Lt,cre=new Set(["x","y","z"]),dre=Gf.filter(e=>!cre.has(e));function ure(e){const t=[];return dre.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const Yd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>n5(t,"x"),y:(e,{transform:t})=>n5(t,"y")};Yd.translateX=Yd.x;Yd.translateY=Yd.y;const lh=new Set;let s5=!1,i5=!1,o5=!1;function DP(){if(i5){const e=Array.from(lh).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const s=ure(a);s.length&&(r.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=r.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}i5=!1,s5=!1,lh.forEach(e=>e.complete(o5)),lh.clear()}function IP(){lh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(i5=!0)})}function hre(){o5=!0,IP(),DP(),o5=!1}class z4{constructor(t,r,a,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lh.add(this),s5||(s5=!0,Gr.read(IP),Gr.resolveKeyframes(DP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}nre(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),lh.delete(this)}cancel(){this.state==="scheduled"&&(lh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fre=e=>e.startsWith("--");function mre(e,t,r){fre(t)?e.style.setProperty(t,r):e.style[t]=r}const FP=S4(()=>window.ScrollTimeline!==void 0),gre={};function pre(e,t){const r=S4(e);return()=>gre[t]??r()}const BP=pre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pm=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,i6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pm([0,.65,.55,1]),circOut:Pm([.55,0,1,.45]),backIn:Pm([.31,.01,.66,-.59]),backOut:Pm([.33,1.53,.69,.99])};function zP(e,t){if(e)return typeof e=="function"?BP()?PP(e,t):"ease-out":wP(e)?Pm(e):Array.isArray(e)?e.map(r=>zP(r,t)||i6.easeOut):i6[e]}function xre(e,t,r,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:r};c&&(h.offset=c);const f=zP(l,s);Array.isArray(f)&&(h.easing=f);const g={delay:a,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function UP(e){return typeof e=="function"&&"applyToOptions"in e}function yre({type:e,...t}){return UP(e)&&BP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vre extends F4{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:a,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Wg(typeof t.type!="string");const u=yre(t);this.animation=xre(r,a,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=I4(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):mre(r,a,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return Fo(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fo(t)}get time(){return Fo(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Gc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&FP()?(this.animation.timeline=t,Ni):r(this)}}const VP={anticipate:xP,backInOut:pP,circInOut:vP};function bre(e){return e in VP}function wre(e){typeof e.ease=="string"&&bre(e.ease)&&(e.ease=VP[e.ease])}const a2=10;class _re extends vre{constructor(t){wre(t),OP(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new B4({...o,autoplay:!1}),c=Math.max(a2,Ys.now()-this.startTime),u=Pl(0,a2,c-a2);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const o6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pu.test(e)||e==="0")&&!e.startsWith("url("));function Nre(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function kre(e,t,r,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=o6(s,t),l=o6(i,t);return!o||!l?!1:Nre(e)||(r==="spring"||UP(r))&&a}function l5(e){e.duration=0,e.type="keyframes"}const jre=new Set(["opacity","clipPath","filter","transform"]),Sre=S4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Are(e){var h;const{motionValue:t,name:r,repeatDelay:a,repeatType:s,damping:i,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Sre()&&r&&jre.has(r)&&(r!=="transform"||!u)&&!c&&!a&&s!=="mirror"&&i!==0&&o!=="inertia"}const Ere=40;class Tre extends F4{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...f}){var y;super(),this.stop=()=>{var x,N;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Ys.now();const g={autoplay:t,delay:r,type:a,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:h,...f},m=(h==null?void 0:h.KeyframeResolver)||z4;this.keyframeResolver=new m(l,(x,N,b)=>this.onKeyframesResolved(x,N,g,!b),c,u,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,a,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=a;this.resolvedAt=Ys.now(),kre(t,i,o,l)||((ad.instantAnimations||!c)&&(h==null||h(I4(t,a,r))),t[0]=t[t.length-1],l5(a),a.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ere?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},m=!u&&Are(g)?new _re({...g,element:g.motionValue.owner.current}):new B4(g);m.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),hre()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Cre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lre(e){const t=Cre.exec(e);if(!t)return[,];const[,r,a,s]=t;return[`--${r??a}`,s]}function qP(e,t,r=1){const[a,s]=Lre(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return cP(o)?parseFloat(o):o}return L4(s)?qP(s,t,r+1):s}function U4(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $P=new Set(["width","height","top","left","right","bottom",...Gf]),Pre={test:e=>e==="auto",parse:e=>e},HP=e=>t=>t.test(e),WP=[Wf,Lt,ic,Cd,Ste,jte,Pre],l6=e=>WP.find(HP(e));function Mre(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uP(e):!0}const Rre=new Set(["brightness","contrast","saturate","opacity"]);function Ore(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(P4)||[];if(!a)return e;const s=r.replace(a,"");let i=Rre.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+s+")"}const Dre=/\b([a-z-]*)\(.*?\)/gu,c5={...pu,getAnimatableNone:e=>{const t=e.match(Dre);return t?t.map(Ore).join(" "):e}},c6={...Wf,transform:Math.round},Ire={rotate:Cd,rotateX:Cd,rotateY:Cd,rotateZ:Cd,scale:Tx,scaleX:Tx,scaleY:Tx,scaleZ:Tx,skew:Cd,skewX:Cd,skewY:Cd,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Gg,originX:XS,originY:XS,originZ:Lt},V4={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,inset:Lt,insetBlock:Lt,insetBlockStart:Lt,insetBlockEnd:Lt,insetInline:Lt,insetInlineStart:Lt,insetInlineEnd:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,paddingBlock:Lt,paddingBlockStart:Lt,paddingBlockEnd:Lt,paddingInline:Lt,paddingInlineStart:Lt,paddingInlineEnd:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,marginBlock:Lt,marginBlockStart:Lt,marginBlockEnd:Lt,marginInline:Lt,marginInlineStart:Lt,marginInlineEnd:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt,...Ire,zIndex:c6,fillOpacity:Gg,strokeOpacity:Gg,numOctaves:c6},Fre={...V4,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:c5,WebkitFilter:c5},GP=e=>Fre[e];function YP(e,t){let r=GP(e);return r!==c5&&(r=pu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Bre=new Set(["auto","none","0"]);function zre(e,t,r){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!Bre.has(i)&&Yg(i).values.length&&(s=e[a]),a++}if(s&&r)for(const i of t)e[i]=YP(r,s)}class Ure extends z4{constructor(t,r,a,s,i){super(t,r,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),L4(f))){const g=qP(f,r.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!$P.has(a)||t.length!==2)return;const[s,i]=t,o=l6(s),l=l6(i),c=ZS(s),u=ZS(i);if(c!==u&&Yd[a]){this.needsMeasurement=!0;return}if(o!==l)if(s6(o)&&s6(l))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else Yd[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||Mre(t[s]))&&a.push(s);a.length&&zre(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yd[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Yd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function KP(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const ZP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function q4(e){return dP(e)&&"offsetHeight"in e}const d6=30,Vre=e=>!isNaN(parseFloat(e)),hg={current:void 0};class qre{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const s=Ys.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vre(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new A4);const a=this.events[t].add(r);return t==="change"?()=>{a(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return hg.current&&hg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>d6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,d6);return E4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(e,t){return new qre(e,t)}const{schedule:$4}=_P(queueMicrotask,!1),yl={x:!1,y:!1};function XP(){return yl.x||yl.y}function $re(e){return e==="x"||e==="y"?yl[e]?null:(yl[e]=!0,()=>{yl[e]=!1}):yl.x||yl.y?null:(yl.x=yl.y=!0,()=>{yl.x=yl.y=!1})}function JP(e,t){const r=KP(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[r,s,()=>a.abort()]}function u6(e){return!(e.pointerType==="touch"||XP())}function Hre(e,t,r={}){const[a,s,i]=JP(e,r),o=l=>{if(!u6(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const h=f=>{u6(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const QP=(e,t)=>t?e===t?!0:QP(e,t.parentElement):!1,H4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Wre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e9(e){return Wre.has(e.tagName)||e.isContentEditable===!0}const oy=new WeakSet;function h6(e){return t=>{t.key==="Enter"&&e(t)}}function n2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Gre=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=h6(()=>{if(oy.has(r))return;n2(r,"down");const s=h6(()=>{n2(r,"up")}),i=()=>n2(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function f6(e){return H4(e)&&!XP()}function Yre(e,t,r={}){const[a,s,i]=JP(e,r),o=l=>{const c=l.currentTarget;if(!f6(l))return;oy.add(c);const u=t(c,l),h=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),oy.has(c)&&oy.delete(c),f6(m)&&typeof u=="function"&&u(m,{success:y})},f=m=>{h(m,c===window||c===document||r.useGlobalTarget||QP(c,m.target))},g=m=>{h(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",g,s)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),q4(l)&&(l.addEventListener("focus",u=>Gre(u,s)),!e9(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function W4(e){return dP(e)&&"ownerSVGElement"in e}const ly=new WeakMap;let Ld;const t9=(e,t,r)=>(a,s)=>s&&s[0]?s[0][e+"Size"]:W4(a)&&"getBBox"in a?a.getBBox()[t]:a[r],Kre=t9("inline","width","offsetWidth"),Zre=t9("block","height","offsetHeight");function Xre({target:e,borderBoxSize:t}){var r;(r=ly.get(e))==null||r.forEach(a=>{a(e,{get width(){return Kre(e,t)},get height(){return Zre(e,t)}})})}function Jre(e){e.forEach(Xre)}function Qre(){typeof ResizeObserver>"u"||(Ld=new ResizeObserver(Jre))}function eae(e,t){Ld||Qre();const r=KP(e);return r.forEach(a=>{let s=ly.get(a);s||(s=new Set,ly.set(a,s)),s.add(t),Ld==null||Ld.observe(a)}),()=>{r.forEach(a=>{const s=ly.get(a);s==null||s.delete(t),s!=null&&s.size||Ld==null||Ld.unobserve(a)})}}const cy=new Set;let D0;function tae(){D0=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};cy.forEach(t=>t(e))},window.addEventListener("resize",D0)}function rae(e){return cy.add(e),D0||tae(),()=>{cy.delete(e),!cy.size&&typeof D0=="function"&&(window.removeEventListener("resize",D0),D0=void 0)}}function aae(e,t){return typeof e=="function"?rae(e):eae(e,t)}function r9(e,t){let r;const a=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;r!==o&&e(o),r=o};return Gr.preUpdate(a,!0),()=>Ml(a)}function nae(e){return W4(e)&&e.tagName==="svg"}function sae(...e){const t=!Array.isArray(e[0]),r=t?0:-1,a=e[0+r],s=e[1+r],i=e[2+r],o=e[3+r],l=D4(s,i,o);return t?l(a):l}const Ts=e=>!!(e&&e.getVelocity),iae=[...WP,gn,pu],oae=e=>iae.find(HP(e)),dv=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function m6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lae(...e){return t=>{let r=!1;const a=e.map(s=>{const i=m6(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():m6(e[s],null)}}}}function cae(...e){return P.useCallback(lae(...e),e)}class dae extends P.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,s=q4(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uae({children:e,isPresent:t,anchorX:r,root:a}){var h;const s=P.useId(),i=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(dv),c=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),u=cae(i,c);return P.useInsertionEffect(()=>{const{width:f,height:g,top:m,left:y,right:x}=o.current;if(t||!i.current||!f||!g)return;const N=r==="left"?`left: ${y}`:`right: ${x}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");l&&(b.nonce=l);const w=a??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${N}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[t]),n.jsx(dae,{isPresent:t,childRef:i,sizeRef:o,children:P.cloneElement(e,{ref:u})})}const hae=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=Hf(fae),h=P.useId();let f=!0,g=P.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const y of u.values())if(!y)return;a&&a()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,a]);return i&&f&&(g={...g}),P.useMemo(()=>{u.forEach((m,y)=>u.set(y,!1))},[r]),P.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),o==="popLayout"&&(e=n.jsx(uae,{isPresent:r,anchorX:l,root:c,children:e})),n.jsx(cv.Provider,{value:g,children:e})};function fae(){return new Map}function a9(e=!0){const t=P.useContext(cv);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:s}=t,i=P.useId();P.useEffect(()=>{if(e)return s(i)},[e]);const o=P.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const Cx=e=>e.key||"";function g6(e){const t=[];return P.Children.forEach(e,r=>{P.isValidElement(r)&&t.push(r)}),t}const $s=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=a9(o),f=P.useMemo(()=>g6(e),[e]),g=o&&!u?[]:f.map(Cx),m=P.useRef(!0),y=P.useRef(f),x=Hf(()=>new Map),N=P.useRef(new Set),[b,w]=P.useState(f),[k,S]=P.useState(f);lv(()=>{m.current=!1,y.current=f;for(let I=0;I<k.length;I++){const D=Cx(k[I]);g.includes(D)?(x.delete(D),N.current.delete(D)):x.get(D)!==!0&&x.set(D,!1)}},[k,g.length,g.join("-")]);const B=[];if(f!==b){let I=[...f];for(let D=0;D<k.length;D++){const C=k[D],G=Cx(C);g.includes(G)||(I.splice(D,0,C),B.push(C))}return i==="wait"&&B.length&&(I=B),S(g6(I)),w(f),null}const{forceRender:H}=P.useContext(_4);return n.jsx(n.Fragment,{children:k.map(I=>{const D=Cx(I),C=o&&!u?!1:f===k||g.includes(D),G=()=>{if(N.current.has(D))return;if(N.current.add(D),x.has(D))x.set(D,!0);else return;let O=!0;x.forEach(V=>{V||(O=!1)}),O&&(H==null||H(),S(y.current),o&&(h==null||h()),a&&a())};return n.jsx(hae,{isPresent:C,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:C?void 0:G,anchorX:l,children:I},D)})})},n9=P.createContext({strict:!1}),p6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nf={};for(const e in p6)Nf[e]={isEnabled:t=>p6[e].some(r=>!!t[r])};function mae(e){for(const t in e)Nf[t]={...Nf[t],...e[t]}}const gae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function N1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gae.has(e)}let s9=e=>!N1(e);function pae(e){typeof e=="function"&&(s9=t=>t.startsWith("on")?!N1(t):e(t))}try{pae(require("@emotion/is-prop-valid").default)}catch{}function xae(e,t,r){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(s9(s)||r===!0&&N1(s)||!t&&!N1(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const uv=P.createContext({});function hv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Kg(e){return typeof e=="string"||Array.isArray(e)}const G4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y4=["initial",...G4];function fv(e){return hv(e.animate)||Y4.some(t=>Kg(e[t]))}function i9(e){return!!(fv(e)||e.variants)}function yae(e,t){if(fv(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Kg(r)?r:void 0,animate:Kg(a)?a:void 0}}return e.inherit!==!1?t:{}}function vae(e){const{initial:t,animate:r}=yae(e,P.useContext(uv));return P.useMemo(()=>({initial:t,animate:r}),[x6(t),x6(r)])}function x6(e){return Array.isArray(e)?e.join(" "):e}function y6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const r=y6(e,t.target.x),a=y6(e,t.target.y);return`${r}% ${a}%`}},bae={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,s=pu.parse(e);if(s.length>5)return a;const i=pu.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Fa(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},d5={borderRadius:{...wm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wm,borderTopRightRadius:wm,borderBottomLeftRadius:wm,borderBottomRightRadius:wm,boxShadow:bae};function o9(e,{layout:t,layoutId:r}){return Yf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!d5[e]||e==="opacity")}const wae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_ae=Gf.length;function Nae(e,t,r){let a="",s=!0;for(let i=0;i<_ae;i++){const o=Gf[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=ZP(l,V4[o]);if(!c){s=!1;const h=wae[o]||o;a+=`${h}(${u}) `}r&&(t[o]=u)}}return a=a.trim(),r?a=r(t,s?"":a):s&&(a="none"),a}function K4(e,t,r){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Yf.has(c)){o=!0;continue}else if(kP(c)){s[c]=u;continue}else{const h=ZP(u,V4[c]);c.startsWith("origin")?(l=!0,i[c]=h):a[c]=h}}if(t.transform||(o||r?a.transform=Nae(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;a.transformOrigin=`${c} ${u} ${h}`}}const Z4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l9(e,t,r){for(const a in t)!Ts(t[a])&&!o9(a,r)&&(e[a]=t[a])}function kae({transformTemplate:e},t){return P.useMemo(()=>{const r=Z4();return K4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jae(e,t){const r=e.style||{},a={};return l9(a,r,e),Object.assign(a,kae(e,t)),a}function Sae(e,t){const r={},a=jae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const Aae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Eae={offset:"strokeDashoffset",array:"strokeDasharray"};function Tae(e,t,r=1,a=0,s=!0){e.pathLength=1;const i=s?Aae:Eae;e[i.offset]=Lt.transform(-a);const o=Lt.transform(t),l=Lt.transform(r);e[i.array]=`${o} ${l}`}const Cae=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function c9(e,{attrX:t,attrY:r,attrScale:a,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,h){if(K4(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g}=e;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const m of Cae)f[m]!==void 0&&(g[m]=f[m],delete f[m]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),a!==void 0&&(f.scale=a),s!==void 0&&Tae(f,s,i,o,!1)}const d9=()=>({...Z4(),attrs:{}}),u9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Lae(e,t,r,a){const s=P.useMemo(()=>{const i=d9();return c9(i,t,u9(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};l9(i,e.style,e),s.style={...i,...s.style}}return s}const Pae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X4(e){return typeof e!="string"||e.includes("-")?!1:!!(Pae.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mae(e,t,r,{latestValues:a},s,i=!1,o){const c=(o??X4(e)?Lae:Sae)(t,a,s,e),u=xae(t,typeof e=="string",i),h=e!==P.Fragment?{...u,...c,ref:r}:{},{children:f}=t,g=P.useMemo(()=>Ts(f)?f.get():f,[f]);return P.createElement(e,{...h,children:g})}function v6(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function J4(e,t,r,a){if(typeof t=="function"){const[s,i]=v6(a);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=v6(a);t=t(r!==void 0?r:e.custom,s,i)}return t}function dy(e){return Ts(e)?e.get():e}function Rae({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,s){return{latestValues:Oae(r,a,s,e),renderState:t()}}function Oae(e,t,r,a){const s={},i=a(e,{});for(const g in i)s[g]=dy(i[g]);let{initial:o,animate:l}=e;const c=fv(e),u=i9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!hv(f)){const g=Array.isArray(f)?f:[f];for(let m=0;m<g.length;m++){const y=J4(e,g[m]);if(y){const{transitionEnd:x,transition:N,...b}=y;for(const w in b){let k=b[w];if(Array.isArray(k)){const S=h?k.length-1:0;k=k[S]}k!==null&&(s[w]=k)}for(const w in x)s[w]=x[w]}}}return s}const h9=e=>(t,r)=>{const a=P.useContext(uv),s=P.useContext(cv),i=()=>Rae(e,t,a,s);return r?i():Hf(i)};function Q4(e,t,r){var i;const{style:a}=e,s={};for(const o in a)(Ts(a[o])||t.style&&Ts(t.style[o])||o9(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=a[o]);return s}const Dae=h9({scrapeMotionValuesFromProps:Q4,createRenderState:Z4});function f9(e,t,r){const a=Q4(e,t,r);for(const s in e)if(Ts(e[s])||Ts(t[s])){const i=Gf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}const Iae=h9({scrapeMotionValuesFromProps:f9,createRenderState:d9}),Fae=Symbol.for("motionComponentSymbol");function Bae(e,t,r){const a=P.useRef(r);P.useInsertionEffect(()=>{a.current=r});const s=P.useRef(null);return P.useCallback(i=>{var l;i&&((l=e.onMount)==null||l.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=a.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const eN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zae="framerAppearId",m9="data-"+eN(zae),g9=P.createContext({});function Mm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Uae(e,t,r,a,s,i){var N,b;const{visualElement:o}=P.useContext(uv),l=P.useContext(n9),c=P.useContext(cv),u=P.useContext(dv).reducedMotion,h=P.useRef(null);a=a||l.renderer,!h.current&&a&&(h.current=a(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const f=h.current,g=P.useContext(g9);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Vae(h.current,r,s,g);const m=P.useRef(!1);P.useInsertionEffect(()=>{f&&m.current&&f.update(r,c)});const y=r[m9],x=P.useRef(!!y&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return lv(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),x.current=!1),f.enteringChildren=void 0)}),f}function Vae(e,t,r,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:p9(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Mm(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:c,layoutRoot:u})}function p9(e){if(e)return e.options.allowProjection!==!1?e.projection:p9(e.parent)}function s2(e,{forwardMotionProps:t=!1,type:r}={},a,s){a&&mae(a);const i=r?r==="svg":X4(e),o=i?Iae:Dae;function l(u,h){let f;const g={...P.useContext(dv),...u,layoutId:qae(u)},{isStatic:m}=g,y=vae(u),x=o(u,m);if(!m&&N4){$ae();const N=Hae(g);f=N.MeasureLayout,y.visualElement=Uae(e,x,g,s,N.ProjectionNode,i)}return n.jsxs(uv.Provider,{value:y,children:[f&&y.visualElement?n.jsx(f,{visualElement:y.visualElement,...g}):null,Mae(e,u,Bae(x,y.visualElement,h),x,m,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=P.forwardRef(l);return c[Fae]=e,c}function qae({layoutId:e}){const t=P.useContext(_4).id;return t&&e!==void 0?t+"-"+e:e}function $ae(e,t){P.useContext(n9).strict}function Hae(e){const{drag:t,layout:r}=Nf;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Wae(e,t){if(typeof Proxy>"u")return s2;const r=new Map,a=(i,o)=>s2(i,o,e,t),s=(i,o)=>a(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,s2(o,void 0,e,t)),r.get(o))})}function x9({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function Gae({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yae(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function i2(e){return e===void 0||e===1}function u5({scale:e,scaleX:t,scaleY:r}){return!i2(e)||!i2(t)||!i2(r)}function Gu(e){return u5(e)||y9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y9(e){return b6(e.x)||b6(e.y)}function b6(e){return e&&e!=="0%"}function k1(e,t,r){const a=e-r,s=t*a;return r+s}function w6(e,t,r,a,s){return s!==void 0&&(e=k1(e,s,a)),k1(e,r,a)+t}function h5(e,t=0,r=1,a,s){e.min=w6(e.min,t,r,a,s),e.max=w6(e.max,t,r,a,s)}function v9(e,{x:t,y:r}){h5(e.x,t.translate,t.scale,t.originPoint),h5(e.y,r.translate,r.scale,r.originPoint)}const _6=.999999999999,N6=1.0000000000001;function Kae(e,t,r,a=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&F0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,v9(e,o)),a&&Gu(i.latestValues)&&F0(e,i.latestValues))}t.x<N6&&t.x>_6&&(t.x=1),t.y<N6&&t.y>_6&&(t.y=1)}function I0(e,t){e.min=e.min+t,e.max=e.max+t}function k6(e,t,r,a,s=.5){const i=Fa(e.min,e.max,s);h5(e,t,r,i,a)}function F0(e,t){k6(e.x,t.x,t.scaleX,t.scale,t.originX),k6(e.y,t.y,t.scaleY,t.scale,t.originY)}function b9(e,t){return x9(Yae(e.getBoundingClientRect(),t))}function Zae(e,t,r){const a=b9(e,r),{scroll:s}=t;return s&&(I0(a.x,s.offset.x),I0(a.y,s.offset.y)),a}const j6=()=>({translate:0,scale:1,origin:0,originPoint:0}),B0=()=>({x:j6(),y:j6()}),S6=()=>({min:0,max:0}),Mn=()=>({x:S6(),y:S6()}),f5={current:null},w9={current:!1};function Xae(){if(w9.current=!0,!!N4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>f5.current=e.matches;e.addEventListener("change",t),t()}else f5.current=!1}const Jae=new WeakMap;function Qae(e,t,r){for(const a in t){const s=t[a],i=r[a];if(Ts(s))e.addValue(a,s);else if(Ts(i))e.addValue(a,Sl(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,Sl(o!==void 0?o:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const A6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ene{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ys.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Gr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=fv(r),this.isVariantNode=i9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const m=f[g];c[g]!==void 0&&Ts(m)&&m.set(c[g])}}mount(t){var r;this.current=t,Jae.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(w9.current||Xae(),this.shouldReduceMotion=f5.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ml(this.notifyUpdate),Ml(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Yf.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nf){const r=Nf[t];if(!r)continue;const{isEnabled:a,Feature:s}=r;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<A6.length;a++){const s=A6[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Qae(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Sl(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(cP(a)||uP(a))?a=parseFloat(a):!oae(a)&&pu.test(r)&&(a=YP(t,r)),this.setBaseTarget(t,Ts(a)?a.get():a)),Ts(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=J4(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ts(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new A4),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){$4.render(this.render)}}class _9 extends ene{constructor(){super(...arguments),this.KeyframeResolver=Ure}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ts(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function N9(e,{style:t,vars:r},a,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function tne(e){return window.getComputedStyle(e)}class rne extends _9{constructor(){super(...arguments),this.type="html",this.renderInstance=N9}readValueFromInstance(t,r){var a;if(Yf.has(r))return(a=this.projection)!=null&&a.isProjecting?a5(r):ore(t,r);{const s=tne(t),i=(kP(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return b9(t,r)}build(t,r,a){K4(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return Q4(t,r,a)}}const k9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ane(e,t,r,a){N9(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(k9.has(s)?s:eN(s),t.attrs[s])}class nne extends _9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Yf.has(r)){const a=GP(r);return a&&a.default||0}return r=k9.has(r)?r:eN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return f9(t,r,a)}build(t,r,a){c9(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,s){ane(t,r,a,s)}mount(t){this.isSVGTag=u9(t.tagName),super.mount(t)}}const sne=(e,t)=>t.isSVG??X4(e)?new nne(t):new rne(t,{allowProjection:e!==P.Fragment});function nf(e,t,r){const a=e.getProps();return J4(a,t,r!==void 0?r:a.custom,e)}const m5=e=>Array.isArray(e);function ine(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Sl(r))}function one(e){return m5(e)?e[e.length-1]||0:e}function lne(e,t){const r=nf(e,t);let{transitionEnd:a={},transition:s={},...i}=r||{};i={...i,...a};for(const o in i){const l=one(i[o]);ine(e,o,l)}}function cne(e){return!!(Ts(e)&&e.add)}function g5(e,t){const r=e.getValue("willChange");if(cne(r))return r.add(t);if(!r&&ad.WillChange){const a=new ad.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function j9(e){return e.props[m9]}const dne=e=>e!==null;function une(e,{repeat:t,repeatType:r="loop"},a){const s=e.filter(dne),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const hne={type:"spring",stiffness:500,damping:25,restSpeed:10},fne=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mne={type:"keyframes",duration:.8},gne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pne=(e,{keyframes:t})=>t.length>2?mne:Yf.has(e)?e.startsWith("scale")?fne(t[1]):hne:gne;function xne({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const tN=(e,t,r,a={},s,i)=>o=>{const l=U4(a,e)||{},c=l.delay||a.delay||0;let{elapsed:u=0}=a;u=u-Gc(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};xne(l)||Object.assign(h,pne(e,h)),h.duration&&(h.duration=Gc(h.duration)),h.repeatDelay&&(h.repeatDelay=Gc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(l5(h),h.delay===0&&(f=!0)),(ad.instantAnimations||ad.skipAnimations)&&(f=!0,l5(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const g=une(h.keyframes,l);if(g!==void 0){Gr.update(()=>{h.onUpdate(g),h.onComplete()});return}}return l.isSync?new B4(h):new Tre(h)};function yne({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function S9(e,t,{delay:r=0,transitionOverride:a,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,e.latestValues[h]??null),g=l[h];if(g===void 0||u&&yne(u,h))continue;const m={delay:r,...U4(i||{},h)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===y&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=j9(e);if(b){const w=window.MotionHandoffAnimation(b,h,Gr);w!==null&&(m.startTime=w,x=!0)}}g5(e,h),f.start(tN(h,f,g,e.shouldReduceMotion&&$P.has(h)?{type:!1}:m,e,x));const N=f.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{Gr.update(()=>{o&&lne(e,o)})}),c}function A9(e,t,r,a=0,s=1){const i=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*a;return typeof r=="function"?r(i,o):s===1?i*a:l-i*a}function p5(e,t,r={}){var c;const a=nf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const i=a?()=>Promise.all(S9(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:g}=s;return vne(e,t,u,h,f,g,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function vne(e,t,r=0,a=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(p5(c,t,{...o,delay:r+(typeof a=="function"?0:a)+A9(e.variantChildren,c,a,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function bne(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(i=>p5(e,i,r));a=Promise.all(s)}else if(typeof t=="string")a=p5(e,t,r);else{const s=typeof t=="function"?nf(e,t,r.custom):t;a=Promise.all(S9(e,s,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function E9(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const wne=Y4.length;function T9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?T9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<wne;r++){const a=Y4[r],s=e.props[a];(Kg(s)||s===!1)&&(t[a]=s)}return t}const _ne=[...G4].reverse(),Nne=G4.length;function kne(e){return t=>Promise.all(t.map(({animation:r,options:a})=>bne(e,r,a)))}function jne(e){let t=kne(e),r=E6(),a=!0;const s=c=>(u,h)=>{var g;const f=nf(e,h,c==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:m,transitionEnd:y,...x}=f;u={...u,...x,...y}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,h=T9(e.parent)||{},f=[],g=new Set;let m={},y=1/0;for(let N=0;N<Nne;N++){const b=_ne[N],w=r[b],k=u[b]!==void 0?u[b]:h[b],S=Kg(k),B=b===c?w.isActive:null;B===!1&&(y=N);let H=k===h[b]&&k!==u[b]&&S;if(H&&a&&e.manuallyAnimateOnMount&&(H=!1),w.protectedKeys={...m},!w.isActive&&B===null||!k&&!w.prevProp||hv(k)||typeof k=="boolean")continue;const I=Sne(w.prevProp,k);let D=I||b===c&&w.isActive&&!H&&S||N>y&&S,C=!1;const G=Array.isArray(k)?k:[k];let O=G.reduce(s(b),{});B===!1&&(O={});const{prevResolvedValues:V={}}=w,Y={...V,...O},ee=xe=>{D=!0,g.has(xe)&&(C=!0,g.delete(xe)),w.needsAnimating[xe]=!0;const oe=e.getValue(xe);oe&&(oe.liveStyle=!1)};for(const xe in Y){const oe=O[xe],fe=V[xe];if(m.hasOwnProperty(xe))continue;let Se=!1;m5(oe)&&m5(fe)?Se=!E9(oe,fe):Se=oe!==fe,Se?oe!=null?ee(xe):g.add(xe):oe!==void 0&&g.has(xe)?ee(xe):w.protectedKeys[xe]=!0}w.prevProp=k,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),a&&e.blockInitialAnimation&&(D=!1);const he=H&&I;D&&(!he||C)&&f.push(...G.map(xe=>{const oe={type:b};if(typeof xe=="string"&&a&&!he&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,Se=nf(fe,xe);if(fe.enteringChildren&&Se){const{delayChildren:K}=Se.transition||{};oe.delay=A9(fe.enteringChildren,e,K)}}return{animation:xe,options:oe}}))}if(g.size){const N={};if(typeof u.initial!="boolean"){const b=nf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(N.transition=b.transition)}g.forEach(b=>{const w=e.getBaseTarget(b),k=e.getValue(b);k&&(k.liveStyle=!0),N[b]=w??null}),f.push({animation:N})}let x=!!f.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=E6()}}}function Sne(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E9(t,e):!1}function zu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E6(){return{animate:zu(!0),whileInView:zu(),whileHover:zu(),whileTap:zu(),whileDrag:zu(),whileFocus:zu(),exit:zu()}}class wu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ane extends wu{constructor(t){super(t),t.animationState||(t.animationState=jne(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Ene=0;class Tne extends wu{constructor(){super(...arguments),this.id=Ene++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Cne={animation:{Feature:Ane},exit:{Feature:Tne}};function Zg(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function kp(e){return{point:{x:e.pageX,y:e.pageY}}}const Lne=e=>t=>H4(t)&&e(t,kp(t));function fg(e,t,r,a){return Zg(e,t,Lne(r),a)}const C9=1e-4,Pne=1-C9,Mne=1+C9,L9=.01,Rne=0-L9,One=0+L9;function Ks(e){return e.max-e.min}function Dne(e,t,r){return Math.abs(e-t)<=r}function T6(e,t,r,a=.5){e.origin=a,e.originPoint=Fa(t.min,t.max,e.origin),e.scale=Ks(r)/Ks(t),e.translate=Fa(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Pne&&e.scale<=Mne||isNaN(e.scale))&&(e.scale=1),(e.translate>=Rne&&e.translate<=One||isNaN(e.translate))&&(e.translate=0)}function mg(e,t,r,a){T6(e.x,t.x,r.x,a?a.originX:void 0),T6(e.y,t.y,r.y,a?a.originY:void 0)}function C6(e,t,r){e.min=r.min+t.min,e.max=e.min+Ks(t)}function Ine(e,t,r){C6(e.x,t.x,r.x),C6(e.y,t.y,r.y)}function L6(e,t,r){e.min=t.min-r.min,e.max=e.min+Ks(t)}function j1(e,t,r){L6(e.x,t.x,r.x),L6(e.y,t.y,r.y)}function Ao(e){return[e("x"),e("y")]}const P9=({current:e})=>e?e.ownerDocument.defaultView:null,P6=(e,t)=>Math.abs(e-t);function Fne(e,t){const r=P6(e.x,t.x),a=P6(e.y,t.y);return Math.sqrt(r**2+a**2)}const M6=new Set(["auto","scroll"]);class M9{constructor(t,r,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=l2(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=Fne(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:N}=m,{timestamp:b}=In;this.history.push({...N,timestamp:b});const{onStart:w,onMove:k}=this.handlers;y||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=o2(y,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:N,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=l2(m.type==="pointercancel"?this.lastMoveEventInfo:o2(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),N&&N(m,w)},!H4(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=s||window;const c=kp(t),u=o2(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=In;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=r;g&&g(t,l2(u,this.history)),this.removeListeners=wp(fg(this.contextWindow,"pointermove",this.handlePointerMove),fg(this.contextWindow,"pointerup",this.handlePointerUp),fg(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const a=getComputedStyle(r);(M6.has(a.overflowX)||M6.has(a.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const a=t===window,s=a?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-r.x,y:s.y-r.y};i.x===0&&i.y===0||(a?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Gr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ml(this.updatePoint)}}function o2(e,t){return t?{point:t(e.point)}:e}function R6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function l2({point:e},t){return{point:e,delta:R6(e,R9(t)),offset:R6(e,Bne(t)),velocity:zne(t,.1)}}function Bne(e){return e[0]}function R9(e){return e[e.length-1]}function zne(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const s=R9(e);for(;r>=0&&(a=e[r],!(s.timestamp-a.timestamp>Gc(t)));)r--;if(!a)return{x:0,y:0};const i=Fo(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Une(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?Fa(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?Fa(r,e,a.max):Math.min(e,r)),e}function O6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Vne(e,{top:t,left:r,bottom:a,right:s}){return{x:O6(e.x,r,s),y:O6(e.y,t,a)}}function D6(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function qne(e,t){return{x:D6(e.x,t.x),y:D6(e.y,t.y)}}function $ne(e,t){let r=.5;const a=Ks(e),s=Ks(t);return s>a?r=_f(t.min,t.max-a,e.min):a>s&&(r=_f(e.min,e.max-s,t.min)),Pl(0,1,r)}function Hne(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const x5=.35;function Wne(e=x5){return e===!1?e=0:e===!0&&(e=x5),{x:I6(e,"left","right"),y:I6(e,"top","bottom")}}function I6(e,t,r){return{min:F6(e,t),max:F6(e,r)}}function F6(e,t){return typeof e=="number"?e:e[t]||0}const Gne=new WeakMap;class Yne{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{r?(this.stopAnimation(),this.snapToCursor(kp(f).point)):this.pauseAnimation()},o=(f,g)=>{this.stopAnimation();const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$re(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ao(b=>{let w=this.getAxisMotionValue(b).get()||0;if(ic.test(w)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[b];S&&(w=Ks(S)*(parseFloat(w)/100))}}this.originPoint[b]=w}),x&&Gr.postRender(()=>x(f,g)),g5(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:N}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=g;if(y&&this.currentDirection===null){this.currentDirection=Kne(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),N&&N(f,g)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ao(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new M9(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:P9(this.visualElement),element:this.visualElement.current})}stop(t,r){const a=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Gr.postRender(()=>l(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:s}=this.getProps();if(!a||!Lx(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=Une(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Mm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=Vne(a.layoutBox,t):this.constraints=!1,this.elastic=Wne(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ao(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Hne(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Mm(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Zae(a,s.root,this.visualElement.getTransformPagePoint());let o=qne(s.layout.layoutBox,i);if(r){const l=r(Gae(o));this.hasMutatedConstraints=!!l,l&&(o=x9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ao(h=>{if(!Lx(h,r,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const g=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:a?t[h]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return g5(this.visualElement,t),a.start(tN(t,a,0,r,this.visualElement,!1))}stopAnimation(){Ao(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ao(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Ao(r=>{const{drag:a}=this.getProps();if(!Lx(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r],c=i.get()||0;i.set(t[r]-Fa(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Mm(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ao(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=$ne({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ao(o=>{if(!Lx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Fa(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Gne.set(this.visualElement,this);const t=this.visualElement.current,r=fg(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&!e9(c.target)&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Mm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gr.read(a);const o=Zg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ao(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=x5,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Lx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Kne(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Zne extends wu{constructor(t){super(t),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new Yne(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const B6=e=>(t,r)=>{e&&Gr.postRender(()=>e(t,r))};class Xne extends wu{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(t){this.session=new M9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:B6(t),onStart:B6(r),onMove:a,onEnd:(i,o)=>{delete this.session,s&&Gr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=fg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let c2=!1;class Jne extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),a&&a.register&&s&&a.register(i),c2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:s,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,c2=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Gr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=t;c2=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O9(e){const[t,r]=a9(),a=P.useContext(_4);return n.jsx(Jne,{...e,layoutGroup:a,switchLayoutGroup:P.useContext(g9),isPresent:t,safeToRemove:r})}function Qne(e,t,r){const a=Ts(e)?e:Sl(e);return a.start(tN("",a,t,r)),a.animation}const ese=(e,t)=>e.depth-t.depth;class tse{constructor(){this.children=[],this.isDirty=!1}add(t){k4(this.children,t),this.isDirty=!0}remove(t){j4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ese),this.isDirty=!1,this.children.forEach(t)}}function rse(e,t){const r=Ys.now(),a=({timestamp:s})=>{const i=s-r;i>=t&&(Ml(a),e(i-t))};return Gr.setup(a,!0),()=>Ml(a)}const D9=["TopLeft","TopRight","BottomLeft","BottomRight"],ase=D9.length,z6=e=>typeof e=="string"?parseFloat(e):e,U6=e=>typeof e=="number"||Lt.test(e);function nse(e,t,r,a,s,i){s?(e.opacity=Fa(0,r.opacity??1,sse(a)),e.opacityExit=Fa(t.opacity??1,0,ise(a))):i&&(e.opacity=Fa(t.opacity??1,r.opacity??1,a));for(let o=0;o<ase;o++){const l=`border${D9[o]}Radius`;let c=V6(t,l),u=V6(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||U6(c)===U6(u)?(e[l]=Math.max(Fa(z6(c),z6(u),a),0),(ic.test(u)||ic.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Fa(t.rotate||0,r.rotate||0,a))}function V6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sse=I9(0,.5,yP),ise=I9(.5,.95,Ni);function I9(e,t,r){return a=>a<e?0:a>t?1:r(_f(e,t,a))}function q6(e,t){e.min=t.min,e.max=t.max}function pl(e,t){q6(e.x,t.x),q6(e.y,t.y)}function $6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function H6(e,t,r,a,s){return e-=t,e=k1(e,1/r,a),s!==void 0&&(e=k1(e,1/s,a)),e}function ose(e,t=0,r=1,a=.5,s,i=e,o=e){if(ic.test(t)&&(t=parseFloat(t),t=Fa(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Fa(i.min,i.max,a);e===i&&(l-=t),e.min=H6(e.min,t,r,l,s),e.max=H6(e.max,t,r,l,s)}function W6(e,t,[r,a,s],i,o){ose(e,t[r],t[a],t[s],t.scale,i,o)}const lse=["x","scaleX","originX"],cse=["y","scaleY","originY"];function G6(e,t,r,a){W6(e.x,t,lse,r?r.x:void 0,a?a.x:void 0),W6(e.y,t,cse,r?r.y:void 0,a?a.y:void 0)}function Y6(e){return e.translate===0&&e.scale===1}function F9(e){return Y6(e.x)&&Y6(e.y)}function K6(e,t){return e.min===t.min&&e.max===t.max}function dse(e,t){return K6(e.x,t.x)&&K6(e.y,t.y)}function Z6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B9(e,t){return Z6(e.x,t.x)&&Z6(e.y,t.y)}function X6(e){return Ks(e.x)/Ks(e.y)}function J6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class use{constructor(){this.members=[]}add(t){k4(this.members,t),t.scheduleRender()}remove(t){if(j4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hse(e,t,r){let a="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:g,skewX:m,skewY:y}=r;u&&(a=`perspective(${u}px) ${a}`),h&&(a+=`rotate(${h}deg) `),f&&(a+=`rotateX(${f}deg) `),g&&(a+=`rotateY(${g}deg) `),m&&(a+=`skewX(${m}deg) `),y&&(a+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const d2=["","X","Y","Z"],fse=1e3;let mse=0;function u2(e,t,r,a){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function z9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=j9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Gr,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&z9(a)}function U9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=mse++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xse),this.nodes.forEach(wse),this.nodes.forEach(_se),this.nodes.forEach(yse)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tse)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new A4),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=W4(o)&&!nae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,f=0;const g=()=>this.root.updateBlockedByResize=!1;Gr.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,h&&h(),h=rse(g,250),uy.hasAnimatedSinceResize&&(uy.hasAnimatedSinceResize=!1,this.nodes.forEach(tA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Ase,{onLayoutAnimationStart:x,onLayoutAnimationComplete:N}=u.getProps(),b=!this.targetLayout||!B9(this.targetLayout,m),w=!f&&g;if(this.options.layoutRoot||this.resumeFrom||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...U4(y,"layout"),onPlay:x,onComplete:N};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,w)}else f||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ml(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nse),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bse),this.nodes.forEach(gse),this.nodes.forEach(pse)):this.nodes.forEach(eA),this.clearAllSnapshots();const l=Ys.now();In.delta=Pl(0,1e3/60,l-In.timestamp),In.timestamp=l,In.isProcessing=!0,Jb.update.process(In),Jb.preRender.process(In),Jb.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vse),this.sharedNodes.forEach(kse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ks(this.snapshot.measuredBox.x)&&!Ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!F9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Gu(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Ese(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Mn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Tse))){const{scroll:h}=this.root;h&&(I0(l.x,h.offset.x),I0(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Mn();if(pl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:g}=h;h!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&pl(l,o),I0(l.x,f.offset.x),I0(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Mn();pl(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&F0(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Gu(h.latestValues)&&F0(c,h.latestValues)}return Gu(this.latestValues)&&F0(c,this.latestValues),c}removeTransform(o){const l=Mn();pl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gu(u.latestValues))continue;u5(u.latestValues)&&u.updateSnapshot();const h=Mn(),f=u.measurePageBox();pl(h,f),G6(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Gu(this.latestValues)&&G6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=In.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ine(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pl(this.target,this.layout.layoutBox),v9(this.target,this.targetDelta)):pl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||u5(this.parent.latestValues)||y9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),j1(this.relativeTargetOrigin,l,c),pl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===In.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;pl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Kae(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Mn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($6(this.prevProjectionDelta.x,this.projectionDelta.x),$6(this.prevProjectionDelta.y,this.projectionDelta.y)),mg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!J6(this.projectionDelta.x,this.prevProjectionDelta.x)||!J6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=B0(),this.projectionDelta=B0(),this.projectionDeltaWithTransform=B0()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=B0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Mn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,N=this.getStack(),b=!N||N.members.length<=1,w=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(Sse));this.animationProgress=0;let k;this.mixTargetDelta=S=>{const B=S/1e3;rA(f.x,o.x,B),rA(f.y,o.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(j1(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jse(this.relativeTarget,this.relativeTargetOrigin,g,B),k&&dse(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Mn()),pl(k,this.relativeTarget)),x&&(this.animationValues=h,nse(h,u,this.latestValues,B,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ml(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{uy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.currentAnimation=Qne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&V9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Mn();const f=Ks(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const g=Ks(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}pl(l,c),F0(l,h),mg(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new use),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&u2("z",o,u,this.animationValues);for(let h=0;h<d2.length;h++)u2(`rotate${d2[h]}`,o,u,this.animationValues),u2(`skew${d2[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=dy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=dy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=hse(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:g,y:m}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in d5){if(h[y]===void 0)continue;const{correct:x,applyTo:N,isCSSVariable:b}=d5[y],w=f==="none"?h[y]:x(h[y],u);if(N){const k=N.length;for(let S=0;S<k;S++)o[N[S]]=w}else b?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=u===this?dy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Q6),this.root.sharedNodes.clear()}}}function gse(e){e.updateLayout()}function pse(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ao(f=>{const g=o?t.measuredBox[f]:t.layoutBox[f],m=Ks(g);g.min=a[f].min,g.max=g.min+m}):V9(i,t.layoutBox,a)&&Ao(f=>{const g=o?t.measuredBox[f]:t.layoutBox[f],m=Ks(a[f]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=B0();mg(l,a,t.layoutBox);const c=B0();o?mg(c,e.applyTransform(s,!0),t.measuredBox):mg(c,a,t.layoutBox);const u=!F9(l);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:m}=f;if(g&&m){const y=Mn();j1(y,t.layoutBox,g.layoutBox);const x=Mn();j1(x,a,m.layoutBox),B9(y,x)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function xse(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yse(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vse(e){e.clearSnapshot()}function Q6(e){e.clearMeasurements()}function eA(e){e.isLayoutDirty=!1}function bse(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wse(e){e.resolveTargetDelta()}function _se(e){e.calcProjection()}function Nse(e){e.resetSkewAndRotation()}function kse(e){e.removeLeadSnapshot()}function rA(e,t,r){e.translate=Fa(t.translate,0,r),e.scale=Fa(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function aA(e,t,r,a){e.min=Fa(t.min,r.min,a),e.max=Fa(t.max,r.max,a)}function jse(e,t,r,a){aA(e.x,t.x,r.x,a),aA(e.y,t.y,r.y,a)}function Sse(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ase={duration:.45,ease:[.4,0,.1,1]},nA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sA=nA("applewebkit/")&&!nA("chrome/")?Math.round:Ni;function iA(e){e.min=sA(e.min),e.max=sA(e.max)}function Ese(e){iA(e.x),iA(e.y)}function V9(e,t,r){return e==="position"||e==="preserve-aspect"&&!Dne(X6(t),X6(r),.2)}function Tse(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cse=U9({attachResizeListener:(e,t)=>Zg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h2={current:void 0},q9=U9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!h2.current){const e=new Cse({});e.mount(window),e.setOptions({layoutScroll:!0}),h2.current=e}return h2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lse={pan:{Feature:Xne},drag:{Feature:Zne,ProjectionNode:q9,MeasureLayout:O9}};function oA(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=a[s];i&&Gr.postRender(()=>i(t,kp(t)))}class Pse extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=Hre(t,(r,a)=>(oA(this.node,a,"Start"),s=>oA(this.node,s,"End"))))}unmount(){}}class Mse extends wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wp(Zg(this.node.current,"focus",()=>this.onFocus()),Zg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lA(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=a[s];i&&Gr.postRender(()=>i(t,kp(t)))}class Rse extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=Yre(t,(r,a)=>(lA(this.node,a,"Start"),(s,{success:i})=>lA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const y5=new WeakMap,f2=new WeakMap,Ose=e=>{const t=y5.get(e.target);t&&t(e)},Dse=e=>{e.forEach(Ose)};function Ise({root:e,...t}){const r=e||document;f2.has(r)||f2.set(r,{});const a=f2.get(r),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(Dse,{root:e,...t})),a[s]}function Fse(e,t,r){const a=Ise(t);return y5.set(e,r),a.observe(e),()=>{y5.delete(e),a.unobserve(e)}}const Bse={some:0,all:1};class zse extends wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:Bse[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=u?h:f;g&&g(c)};return Fse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Use(t,r))&&this.startObserver()}unmount(){}}function Use({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Vse={inView:{Feature:zse},tap:{Feature:Rse},focus:{Feature:Mse},hover:{Feature:Pse}},qse={layout:{ProjectionNode:q9,MeasureLayout:O9}},$se={...Cne,...Vse,...Lse,...qse},Yt=Wae($se,sne),Hse=50,cA=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Wse=()=>({time:0,x:cA(),y:cA()}),Gse={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function dA(e,t,r,a){const s=r[t],{length:i,position:o}=Gse[t],l=s.current,c=r.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=_f(0,s.scrollLength,s.current);const u=a-c;s.velocity=u>Hse?0:E4(s.current-l,u)}function Yse(e,t,r){dA(e,"x",t,r),dA(e,"y",t,r),t.time=r}function Kse(e,t){const r={x:0,y:0};let a=e;for(;a&&a!==t;)if(q4(a))r.x+=a.offsetLeft,r.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const s=a.getBoundingClientRect();a=a.parentElement;const i=a.getBoundingClientRect();r.x+=s.left-i.left,r.y+=s.top-i.top}else if(a instanceof SVGGraphicsElement){const{x:s,y:i}=a.getBBox();r.x+=s,r.y+=i;let o=null,l=a.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=a.parentNode;a=o}else break;return r}const v5={start:0,center:.5,end:1};function uA(e,t,r=0){let a=0;if(e in v5&&(e=v5[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?a=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?a=s/100*document.documentElement.clientWidth:e.endsWith("vh")?a=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(a=t*e),r+a}const Zse=[0,0];function Xse(e,t,r,a){let s=Array.isArray(e)?e:Zse,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,v5[e]?e:"0"]),i=uA(s[0],r,a),o=uA(s[1],t),i-o}const Jse={All:[[0,0],[1,1]]},Qse={x:0,y:0};function eie(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function tie(e,t,r){const{offset:a=Jse.All}=r,{target:s=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=s!==e?Kse(s,e):Qse,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:eie(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let h=!t[i].interpolate;const f=a.length;for(let g=0;g<f;g++){const m=Xse(a[g],u[o],c[o],l[i]);!h&&m!==t[i].interpolatorOffsets[g]&&(h=!0),t[i].offset[g]=m}h&&(t[i].interpolate=D4(t[i].offset,RP(a),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Pl(0,1,t[i].interpolate(t[i].current))}function rie(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let a=t;for(;a&&a!==e;)r.x.targetOffset+=a.offsetLeft,r.y.targetOffset+=a.offsetTop,a=a.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function aie(e,t,r,a={}){return{measure:s=>{rie(e,a.target,r),Yse(e,r,s),(a.offset||a.target)&&tie(e,r,a)},notify:()=>t(r)}}const _m=new WeakMap,hA=new WeakMap,m2=new WeakMap,fA=e=>e===document.scrollingElement?window:e;function $9(e,{container:t=document.scrollingElement,...r}={}){if(!t)return Ni;let a=m2.get(t);a||(a=new Set,m2.set(t,a));const s=Wse(),i=aie(t,e,s,r);if(a.add(i),!_m.has(t)){const l=()=>{for(const f of a)f.measure(In.timestamp);Gr.preUpdate(c)},c=()=>{for(const f of a)f.notify()},u=()=>Gr.read(l);_m.set(t,u);const h=fA(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&hA.set(t,aae(t,u)),h.addEventListener("scroll",u,{passive:!0}),u()}const o=_m.get(t);return Gr.read(o,!1,!0),()=>{var u;Ml(o);const l=m2.get(t);if(!l||(l.delete(i),l.size))return;const c=_m.get(t);_m.delete(t),c&&(fA(t).removeEventListener("scroll",c),(u=hA.get(t))==null||u(),window.removeEventListener("resize",c))}}const mA=new Map;function nie(e){const t={value:0},r=$9(a=>{t.value=a[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function H9({source:e,container:t,...r}){const{axis:a}=r;e&&(t=e);const s=mA.get(t)??new Map;mA.set(t,s);const i=r.target??"self",o=s.get(i)??{},l=a+(r.offset??[]).join(",");return o[l]||(o[l]=!r.target&&FP()?new ScrollTimeline({source:t,axis:a}):nie({container:t,...r})),o[l]}function sie(e,t){const r=H9(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:a=>(a.pause(),r9(s=>{a.time=a.iterationDuration*s},r))})}function iie(e){return e.length===2}function oie(e,t){return iie(e)?$9(r=>{e(r[t.axis].progress,r)},t):r9(e,H9(t))}function lie(e,{axis:t="y",container:r=document.scrollingElement,...a}={}){if(!r)return Ni;const s={axis:t,container:r,...a};return typeof e=="function"?oie(e,s):sie(e,s)}const cie=()=>({scrollX:Sl(0),scrollY:Sl(0),scrollXProgress:Sl(0),scrollYProgress:Sl(0)}),Px=e=>e?!e.current:!1;function die({container:e,target:t,...r}={}){const a=Hf(cie),s=P.useRef(null),i=P.useRef(!1),o=P.useCallback(()=>(s.current=lie((l,{x:c,y:u})=>{a.scrollX.set(c.current),a.scrollXProgress.set(c.progress),a.scrollY.set(u.current),a.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(r.offset)]);return lv(()=>{if(i.current=!1,Px(e)||Px(t)){i.current=!0;return}else return o()},[o]),P.useEffect(()=>{if(i.current)return Wg(!Px(e)),Wg(!Px(t)),o()},[o]),a}function uie(e){const t=Hf(()=>Sl(e)),{isStatic:r}=P.useContext(dv);if(r){const[,a]=P.useState(e);P.useEffect(()=>t.on("change",a),[])}return t}function W9(e,t){const r=uie(t()),a=()=>r.set(t());return a(),lv(()=>{const s=()=>Gr.preRender(a,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Ml(a)}}),r}function hie(e){hg.current=[],e();const t=W9(hg.current,e);return hg.current=void 0,t}function fie(e,t,r,a){if(typeof e=="function")return hie(e);const s=typeof t=="function"?t:sae(t,r,a);return Array.isArray(e)?gA(e,s):gA([e],([i])=>s(i))}function gA(e,t){const r=Hf(()=>[]);return W9(e,()=>{r.length=0;const a=e.length;for(let s=0;s<a;s++)r[s]=e[s].get();return t(r)})}const pA=[{label:"Any",min:void 0,max:void 0},{label:"Under $100K",min:0,max:1e5},{label:"$100K - $250K",min:1e5,max:25e4},{label:"$250K - $500K",min:25e4,max:5e5},{label:"$500K - $1M",min:5e5,max:1e6},{label:"$1M - $2M",min:1e6,max:2e6},{label:"$2M+",min:2e6,max:void 0}],mie=[{label:"Any",value:void 0},{label:"Studio",value:0},{label:"1+",value:1},{label:"2+",value:2},{label:"3+",value:3},{label:"4+",value:4},{label:"5+",value:5}],gie=[{value:"apartment",label:"Apartment",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"house",label:"House",icon:n.jsx(mr,{className:"w-4 h-4"})},{value:"condo",label:"Condo",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"townhouse",label:"Townhouse",icon:n.jsx(mr,{className:"w-4 h-4"})},{value:"villa",label:"Villa",icon:n.jsx(mr,{className:"w-4 h-4"})},{value:"penthouse",label:"Penthouse",icon:n.jsx(Hs,{className:"w-4 h-4"})},{value:"studio",label:"Studio",icon:n.jsx(mr,{className:"w-4 h-4"})},{value:"land",label:"Land",icon:n.jsx(yf,{className:"w-4 h-4"})},{value:"commercial",label:"Commercial",icon:n.jsx(Hs,{className:"w-4 h-4"})}],g2=[{value:"available",label:"Available",color:"text-green-700",bgColor:"bg-green-100"},{value:"pending",label:"Pending",color:"text-yellow-700",bgColor:"bg-yellow-100"},{value:"sold",label:"Sold",color:"text-blue-700",bgColor:"bg-blue-100"},{value:"rented",label:"Rented",color:"text-purple-700",bgColor:"bg-purple-100"},{value:"under_contract",label:"Under Contract",color:"text-orange-700",bgColor:"bg-orange-100"},{value:"off_market",label:"Off Market",color:"text-gray-700",bgColor:"bg-gray-100"},{value:"coming_soon",label:"Coming Soon",color:"text-indigo-700",bgColor:"bg-indigo-100"}],pie=[{field:"createdAt",order:"desc",label:"Newest First"},{field:"createdAt",order:"asc",label:"Oldest First"},{field:"price",order:"asc",label:"Price: Low to High"},{field:"price",order:"desc",label:"Price: High to Low"},{field:"area",order:"desc",label:"Area: Large to Small"},{field:"area",order:"asc",label:"Area: Small to Large"},{field:"bedrooms",order:"desc",label:"Bedrooms: Most First"},{field:"views",order:"desc",label:"Most Viewed"},{field:"title",order:"asc",label:"Title: A-Z"}],xie=()=>{const e=vr(),{filteredProperties:t,properties:r,selectedProperties:a,filters:s,sort:i,pagination:o,loading:l,deleteProperty:c,deleteProperties:u,duplicateProperty:h,selectProperty:f,deselectProperty:g,selectAllProperties:m,clearSelection:y,bulkUpdateStatus:x,setFilters:N,clearFilters:b,setSort:w,setPage:k,setLimit:S,exportProperties:B,formatPrice:H,formatArea:I,getPropertyStats:D}=Ah(),[C,G]=P.useState("grid"),[O,V]=P.useState(!1),[Y,ee]=P.useState(null),[he,de]=P.useState(!1),[xe,oe]=P.useState(!1),[fe,Se]=P.useState(!1),[K,A]=P.useState(!1),[q,F]=P.useState(null),[R,W]=P.useState(s.search||""),[Z,ie]=P.useState(0),[re,X]=P.useState(s.bedroomsMin),[ke,Pe]=P.useState(s.propertyType||[]),[De,Ye]=P.useState(s.status||[]),[ce,Ae]=P.useState(s.listingType||[]),je=P.useMemo(()=>D(),[r]);P.useEffect(()=>{const Te=setTimeout(()=>{N({...s,search:R||void 0})},300);return()=>clearTimeout(Te)},[R]);const et=async Te=>{await c(Te),ee(null)},ae=async()=>{await u(a),de(!1),y()},Oe=async Te=>{const it=await h(Te);it&&e(`/manager/dashboard/properties/edit/${it.id}`)},Ge=Te=>{const it=a.length>0?a:void 0;B(Te,it),oe(!1)},at=()=>{const Te=pA[Z];N({...s,search:R||void 0,priceMin:Te.min,priceMax:Te.max,bedroomsMin:re,propertyType:ke.length>0?ke:void 0,status:De.length>0?De:void 0,listingType:ce.length>0?ce:void 0}),V(!1)},yt=()=>{W(""),ie(0),X(void 0),Pe([]),Ye([]),Ae([]),b()},wt=Te=>{a.includes(Te)?g(Te):f(Te)},ot=async Te=>{await x(a,Te),y(),A(!1)},jt=Te=>{const it=g2.find(gt=>gt.value===Te);return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${it==null?void 0:it.bgColor} ${it==null?void 0:it.color}`,children:(it==null?void 0:it.label)||Te})},Et=P.useMemo(()=>{var it,gt,_t;let Te=0;return s.search&&Te++,(s.priceMin!==void 0||s.priceMax!==void 0)&&Te++,s.bedroomsMin!==void 0&&Te++,(it=s.propertyType)!=null&&it.length&&Te++,(gt=s.status)!=null&&gt.length&&Te++,(_t=s.listingType)!=null&&_t.length&&Te++,Te},[s]);return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Properties"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Manage all your property listings (",o.total," total)"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"hidden xl:flex items-center gap-2 mr-4",children:[n.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[je.available," Available"]}),n.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:[je.pending," Pending"]}),n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[je.sold," Sold"]})]}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-all shadow-lg hover:shadow-xl",children:[n.jsx(Cl,{className:"w-5 h-5"}),"Add Property"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by title, address, city...",value:R,onChange:Te=>W(Te.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 transition-all"}),R&&n.jsx("button",{onClick:()=>W(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(xr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>V(!O),className:`flex items-center gap-2 px-4 py-2.5 border rounded-lg transition-all ${O||Et>0?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Filters"}),Et>0&&n.jsx("span",{className:"w-5 h-5 bg-primary text-white text-xs rounded-full flex items-center justify-center",children:Et})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>Se(!fe),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:[n.jsx(Yz,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Sort"}),n.jsx(xf,{className:"w-4 h-4"})]}),n.jsx($s,{children:fe&&n.jsx(Yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:pie.map((Te,it)=>n.jsx("button",{onClick:()=>{w({field:Te.field,order:Te.order}),Se(!1)},className:`w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors first:rounded-t-lg last:rounded-b-lg ${i.field===Te.field&&i.order===Te.order?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:Te.label},it))})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>oe(!xe),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Export"})]}),n.jsx($s,{children:xe&&n.jsxs(Yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[n.jsxs("button",{onClick:()=>Ge("csv"),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg",children:[n.jsx(Or,{className:"w-4 h-4"}),"Export as CSV"]}),n.jsxs("button",{onClick:()=>Ge("json"),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-b-lg",children:[n.jsx(qU,{className:"w-4 h-4"}),"Export as JSON"]})]})})]}),n.jsx("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[{mode:"grid",icon:n.jsx(V_,{className:"w-4 h-4"})},{mode:"list",icon:n.jsx($_,{className:"w-4 h-4"})},{mode:"map",icon:n.jsx(yf,{className:"w-4 h-4"})}].map(({mode:Te,icon:it})=>n.jsx("button",{onClick:()=>G(Te),className:`p-2 rounded-md transition-all ${C===Te?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:it},Te))})]})]}),n.jsx($s,{children:a.length>0&&n.jsx(Yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.length," selected"]}),n.jsx("button",{onClick:y,className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Clear selection"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>A(!K),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:[n.jsx(qc,{className:"w-4 h-4"}),"Change Status",n.jsx(xf,{className:"w-4 h-4"})]}),n.jsx($s,{children:K&&n.jsx(Yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:g2.map(Te=>n.jsxs("button",{onClick:()=>ot(Te.value),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 first:rounded-t-lg last:rounded-b-lg",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${Te.bgColor}`}),Te.label]},Te.value))})})]}),n.jsxs("button",{onClick:()=>de(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-all",children:[n.jsx(Ss,{className:"w-4 h-4"}),"Delete Selected"]})]})]})})})]}),n.jsx($s,{children:O&&n.jsx(Yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Advanced Filters"}),n.jsx("button",{onClick:yt,className:"text-sm text-primary hover:underline",children:"Clear All"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),n.jsx("select",{value:Z,onChange:Te=>ie(Number(Te.target.value)),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:pA.map((Te,it)=>n.jsx("option",{value:it,children:Te.label},it))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bedrooms"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:mie.map(Te=>n.jsx("button",{onClick:()=>X(Te.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${re===Te.value?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:Te.label},Te.label))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:gie.slice(0,5).map(Te=>n.jsxs("button",{onClick:()=>{ke.includes(Te.value)?Pe(ke.filter(it=>it!==Te.value)):Pe([...ke,Te.value])},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ke.includes(Te.value)?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[Te.icon,Te.label]},Te.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:g2.slice(0,4).map(Te=>n.jsx("button",{onClick:()=>{De.includes(Te.value)?Ye(De.filter(it=>it!==Te.value)):Ye([...De,Te.value])},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${De.includes(Te.value)?`${Te.bgColor} ${Te.color}`:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:Te.label},Te.value))})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:"Cancel"}),n.jsx("button",{onClick:at,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all",children:"Apply Filters"})]})]})})}),l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-12 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(mr,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"No properties found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:Et>0?"Try adjusting your filters to see more results.":"Start by adding your first property listing."}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Et>0&&n.jsx("button",{onClick:yt,className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:"Clear Filters"}),n.jsxs("button",{onClick:()=>e("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 transition-all",children:[n.jsx(Cl,{className:"w-5 h-5"}),"Add Property"]})]})]}):C==="grid"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((Te,it)=>{var gt,_t,br,Qt,nt,Wt,kr,Ct,wr,Bt,$t,Er,Jt,Ot;return n.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:it*.05},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden group hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"absolute top-3 left-3 z-10",children:n.jsx("button",{onClick:gr=>{gr.stopPropagation(),wt(Te.id)},className:`w-6 h-6 rounded flex items-center justify-center transition-all ${a.includes(Te.id)?"bg-primary text-white":"bg-white/90 text-gray-400 opacity-0 group-hover:opacity-100"}`,children:a.includes(Te.id)?n.jsx(Ij,{className:"w-4 h-4"}):n.jsx(Fj,{className:"w-4 h-4"})})}),n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 cursor-pointer",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:[(br=(_t=(gt=Te.media)==null?void 0:gt.images)==null?void 0:_t[0])!=null&&br.url||Te.images&&Te.images[0]?n.jsx("img",{src:((Wt=(nt=(Qt=Te.media)==null?void 0:Qt.images)==null?void 0:nt[0])==null?void 0:Wt.url)||(typeof((kr=Te.images)==null?void 0:kr[0])=="string"?Te.images[0]:""),alt:Te.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(mr,{className:"w-16 h-16 text-gray-300"})}),n.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[Te.featured&&n.jsxs("span",{className:"px-2 py-1 bg-yellow-500 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(kl,{className:"w-3 h-3"})," Featured"]}),Te.verified&&n.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(Y0,{className:"w-3 h-3"})," Verified"]})]}),n.jsx("div",{className:"absolute bottom-3 left-3",children:jt(Te.status)}),n.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-50 transition-colors",children:n.jsx(ed,{className:"w-4 h-4 text-gray-600"})}),n.jsx("button",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-50 transition-colors",children:n.jsx(Io,{className:"w-4 h-4 text-gray-600"})})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white truncate cursor-pointer hover:text-primary transition-colors",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:Te.title}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1 truncate",children:[n.jsx(aa,{className:"w-3 h-3 flex-shrink-0"}),((Ct=Te.location)==null?void 0:Ct.city)||Te.city,", ",((wr=Te.location)==null?void 0:wr.state)||Te.state]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>F(q===Te.id?null:Te.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(Ky,{className:"w-5 h-5"})}),n.jsx($s,{children:q===Te.id&&n.jsxs(Yt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[n.jsxs("button",{onClick:()=>{e(`/manager/dashboard/properties/${Te.id}`),F(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg",children:[n.jsx(fa,{className:"w-4 h-4"})," View"]}),n.jsxs("button",{onClick:()=>{e(`/manager/dashboard/properties/edit/${Te.id}`),F(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsx(qo,{className:"w-4 h-4"})," Edit"]}),n.jsxs("button",{onClick:()=>{Oe(Te.id),F(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsx(Yy,{className:"w-4 h-4"})," Duplicate"]}),n.jsxs("button",{onClick:()=>{ee(Te.id),F(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg",children:[n.jsx(Ss,{className:"w-4 h-4"})," Delete"]})]})})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("span",{className:"text-xl font-bold text-primary",children:(Bt=Te.price)!=null&&Bt.amount?H(Te.price):Te.priceString||"Price on Request"}),Te.listingType==="rent"&&n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/month"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(cu,{className:"w-4 h-4"}),(($t=Te.rooms)==null?void 0:$t.bedrooms)||Te.bedrooms||0]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(gh,{className:"w-4 h-4"}),((Er=Te.rooms)==null?void 0:Er.bathrooms)||Te.bathrooms||0]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vf,{className:"w-4 h-4"}),I(((Jt=Te.dimensions)==null?void 0:Jt.totalArea)||Te.area||0,((Ot=Te.dimensions)==null?void 0:Ot.areaUnit)||"sqft")]})]}),Te.analytics&&(Te.analytics.views>0||Te.analytics.inquiries>0)&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-800 flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"w-3 h-3"}),Te.analytics.views," views"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(B_,{className:"w-3 h-3"}),Te.analytics.inquiries," inquiries"]})]})]})]},Te.id)})}):C==="list"?n.jsx("div",{className:"space-y-4",children:t.map((Te,it)=>{var gt,_t,br,Qt,nt,Wt,kr,Ct,wr,Bt,$t,Er,Jt,Ot,gr,Js;return n.jsx(Yt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:it*.03},className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden hover:shadow-lg transition-all",children:n.jsxs("div",{className:"flex flex-col md:flex-row",children:[n.jsxs("div",{className:"relative md:w-72 h-48 md:h-auto flex-shrink-0",children:[n.jsx("button",{onClick:()=>wt(Te.id),className:`absolute top-3 left-3 z-10 w-6 h-6 rounded flex items-center justify-center transition-all ${a.includes(Te.id)?"bg-primary text-white":"bg-white/90 text-gray-400"}`,children:a.includes(Te.id)?n.jsx(Ij,{className:"w-4 h-4"}):n.jsx(Fj,{className:"w-4 h-4"})}),n.jsx("div",{className:"h-full bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 cursor-pointer",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:(br=(_t=(gt=Te.media)==null?void 0:gt.images)==null?void 0:_t[0])!=null&&br.url||Te.images&&Te.images[0]?n.jsx("img",{src:((Wt=(nt=(Qt=Te.media)==null?void 0:Qt.images)==null?void 0:nt[0])==null?void 0:Wt.url)||(typeof((kr=Te.images)==null?void 0:kr[0])=="string"?Te.images[0]:""),alt:Te.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx(mr,{className:"w-16 h-16 text-gray-300"})})})]}),n.jsxs("div",{className:"flex-1 p-4 md:p-6 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white cursor-pointer hover:text-primary transition-colors",onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),children:Te.title}),jt(Te.status),Te.featured&&n.jsxs("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full flex items-center gap-1",children:[n.jsx(kl,{className:"w-3 h-3"})," Featured"]})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[n.jsx(aa,{className:"w-3 h-3"}),((Ct=Te.location)==null?void 0:Ct.addressLine1)||Te.address,", ",((wr=Te.location)==null?void 0:wr.city)||Te.city,", ",((Bt=Te.location)==null?void 0:Bt.state)||Te.state]})]}),n.jsx("span",{className:"text-xl font-bold text-primary ml-4",children:($t=Te.price)!=null&&$t.amount?H(Te.price):Te.priceString||"Price on Request"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-2",children:Te.shortDescription||((Er=Te.description)==null?void 0:Er.slice(0,150))})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(cu,{className:"w-4 h-4"}),((Jt=Te.rooms)==null?void 0:Jt.bedrooms)||Te.bedrooms||0," beds"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(gh,{className:"w-4 h-4"}),((Ot=Te.rooms)==null?void 0:Ot.bathrooms)||Te.bathrooms||0," baths"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vf,{className:"w-4 h-4"}),I(((gr=Te.dimensions)==null?void 0:gr.totalArea)||Te.area||0,((Js=Te.dimensions)==null?void 0:Js.areaUnit)||"sqft")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bi,{className:"w-4 h-4"}),new Date(Te.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/${Te.id}`),className:"p-2 text-gray-600 hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"View",children:n.jsx(fa,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>e(`/manager/dashboard/properties/edit/${Te.id}`),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:n.jsx(qo,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Oe(Te.id),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Duplicate",children:n.jsx(Yy,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ee(Te.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:n.jsx(Ss,{className:"w-5 h-5"})})]})]})]})]})},Te.id)})}):n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 h-[600px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx(yf,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Map view coming soon"}),n.jsx("p",{className:"text-sm",children:"Switch to grid or list view to see your properties"})]})}),o.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(o.page-1)*o.limit+1," - ",Math.min(o.page*o.limit,o.total)," of ",o.total]}),n.jsxs("select",{value:o.limit,onChange:Te=>S(Number(Te.target.value)),className:"px-2 py-1 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:[n.jsx("option",{value:12,children:"12 per page"}),n.jsx("option",{value:24,children:"24 per page"}),n.jsx("option",{value:48,children:"48 per page"}),n.jsx("option",{value:96,children:"96 per page"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("button",{onClick:()=>k(1),disabled:o.page===1,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(sc,{className:"w-4 h-4"}),n.jsx(sc,{className:"w-4 h-4 -ml-2"})]}),n.jsx("button",{onClick:()=>k(o.page-1),disabled:o.page===1,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(sc,{className:"w-4 h-4"})}),n.jsx("div",{className:"flex items-center gap-1 mx-2",children:Array.from({length:Math.min(5,o.totalPages)},(Te,it)=>{let gt;return o.totalPages<=5||o.page<=3?gt=it+1:o.page>=o.totalPages-2?gt=o.totalPages-4+it:gt=o.page-2+it,n.jsx("button",{onClick:()=>k(gt),className:`w-10 h-10 rounded-lg font-medium transition-colors ${o.page===gt?"bg-primary text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:gt},gt)})}),n.jsx("button",{onClick:()=>k(o.page+1),disabled:o.page===o.totalPages,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Al,{className:"w-4 h-4"})}),n.jsxs("button",{onClick:()=>k(o.totalPages),disabled:o.page===o.totalPages,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(Al,{className:"w-4 h-4"}),n.jsx(Al,{className:"w-4 h-4 -ml-2"})]})]})]}),n.jsx($s,{children:Y&&n.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Yt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:"Delete Property"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"Are you sure you want to delete this property? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>ee(null),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:()=>et(Y),className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Property"})]})]})})}),n.jsx($s,{children:he&&n.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Yt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:["Delete ",a.length," Properties"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"Are you sure you want to delete these properties? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete All"})]})]})})})]})},yie=()=>{var C,G,O,V,Y,ee,he,de,xe,oe,fe,Se,K,A,q,F,R,W,Z,ie,re,X,ke,Pe,De,Ye,ce,Ae,je,et;const{id:e}=j_(),t=vr(),{getProperty:r,deleteProperty:a,formatPrice:s,formatArea:i,incrementViews:o,duplicateProperty:l}=Ah(),[c,u]=P.useState(!1),[h,f]=P.useState(0),[g,m]=P.useState(!1),[y,x]=P.useState(!1),[N,b]=P.useState(!1),w=e?r(e):void 0;if(P.useEffect(()=>{e&&o(e)},[e,o]),!w)return n.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:n.jsx(mr,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Property not found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),n.jsxs("button",{onClick:()=>t("/manager/dashboard/properties"),className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[n.jsx(lc,{className:"w-5 h-5"}),"Back to Properties"]})]});const k=async()=>{e&&(await a(e),t("/manager/dashboard/properties"))},S=async()=>{if(e){const ae=await l(e);ae&&t(`/manager/dashboard/properties/edit/${ae.id}`)}},B=async ae=>{const Oe=window.location.href,Ge=w.title;switch(ae){case"copy":await navigator.clipboard.writeText(Oe),alert("Link copied to clipboard!");break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(`${Ge} - ${Oe}`)}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(Oe)}&text=${encodeURIComponent(Ge)}`);break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Oe)}`);break;case"email":window.open(`mailto:?subject=${encodeURIComponent(Ge)}&body=${encodeURIComponent(`Check out this property: ${Oe}`)}`);break}x(!1)},H=((G=(C=w.media)==null?void 0:C.images)==null?void 0:G.map(ae=>ae.url))||((O=w.images)==null?void 0:O.filter(ae=>typeof ae=="string"))||[],I=ae=>{const Oe={available:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",sold:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",rented:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",under_contract:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",off_market:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400",coming_soon:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"};return Oe[ae]||Oe.available},D=ae=>ae.replace(/_/g," ").replace(/\b\w/g,Oe=>Oe.toUpperCase());return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 font-sans pb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("button",{onClick:()=>t("/manager/dashboard/properties"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors w-fit",children:[n.jsx(lc,{className:"w-5 h-5"}),"Back to Properties"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>b(!N),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${N?"border-red-300 bg-red-50 dark:bg-red-900/20 text-red-600":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(ed,{className:`w-5 h-5 ${N?"fill-current":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Favorite"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsx(Io,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),n.jsx($s,{children:y&&n.jsx(Yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 z-50",children:[{id:"copy",label:"Copy Link",icon:n.jsx(Or,{className:"w-4 h-4"})},{id:"whatsapp",label:"WhatsApp",icon:n.jsx(Qm,{className:"w-4 h-4"})},{id:"email",label:"Email",icon:n.jsx(wn,{className:"w-4 h-4"})}].map(ae=>n.jsxs("button",{onClick:()=>B(ae.id),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 first:rounded-t-lg last:rounded-b-lg",children:[ae.icon,ae.label]},ae.id))})})]}),n.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsx(Yy,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Duplicate"})]}),n.jsxs("button",{onClick:()=>t(`/manager/dashboard/properties/edit/${e}`),className:"flex items-center gap-2 px-4 py-2 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-700 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[n.jsx(qo,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[n.jsx(Ss,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[H.length>0?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 cursor-pointer",onClick:()=>m(!0),children:n.jsx("img",{src:H[h],alt:`${w.title} - Image ${h+1}`,className:"w-full h-full object-cover"})}),H.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(ae=>ae===0?H.length-1:ae-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-900/90 rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-900 transition-colors",children:n.jsx(sc,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>f(ae=>ae===H.length-1?0:ae+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/90 dark:bg-gray-900/90 rounded-full flex items-center justify-center shadow-lg hover:bg-white dark:hover:bg-gray-900 transition-colors",children:n.jsx(Al,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),n.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${I(w.status)}`,children:D(w.status)}),w.featured&&n.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(kl,{className:"w-4 h-4"})," Featured"]}),w.verified&&n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(Y0,{className:"w-4 h-4"})," Verified"]})]}),n.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-1.5 bg-black/60 text-white rounded-full text-sm",children:[h+1," / ",H.length]})]}):n.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary/20 via-purple-400/20 to-pink-400/20 flex items-center justify-center",children:n.jsx(mr,{className:"w-24 h-24 text-gray-300"})}),H.length>1&&n.jsx("div",{className:"p-4 flex gap-2 overflow-x-auto custom-scrollbar",children:H.map((ae,Oe)=>n.jsx("button",{onClick:()=>f(Oe),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${Oe===h?"border-primary shadow-lg":"border-transparent opacity-70 hover:opacity-100"}`,children:n.jsx("img",{src:ae,alt:`Thumbnail ${Oe+1}`,className:"w-full h-full object-cover"})},Oe))})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-2",children:w.title}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(aa,{className:"w-5 h-5 text-primary"}),((V=w.location)==null?void 0:V.addressLine1)||w.address,", ",((Y=w.location)==null?void 0:Y.city)||w.city,", ",((ee=w.location)==null?void 0:ee.state)||w.state,((he=w.location)==null?void 0:he.country)&&`, ${w.location.country}`]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:(de=w.price)!=null&&de.amount?s(w.price):w.priceString||"Price on Request"}),w.listingType==="rent"&&n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"per month"}),((xe=w.price)==null?void 0:xe.negotiable)&&n.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Price Negotiable"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-6 border-y border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(cu,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((oe=w.rooms)==null?void 0:oe.bedrooms)||w.bedrooms||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bedrooms"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(gh,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((fe=w.rooms)==null?void 0:fe.bathrooms)||w.bathrooms||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bathrooms"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(vf,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i(((Se=w.dimensions)==null?void 0:Se.totalArea)||w.area||0,((K=w.dimensions)==null?void 0:K.areaUnit)||"sqft")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Area"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(F_,{className:"w-6 h-6 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:((A=w.rooms)==null?void 0:A.parkingSpaces)||0}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Parking"})]})]}),n.jsxs("div",{className:"py-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Description"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap leading-relaxed",children:w.description||"No description available."})]}),n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Property Details"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Property Type"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:((q=w.propertyType)==null?void 0:q.replace("_"," "))||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Listing Type"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:((F=w.listingType)==null?void 0:F.replace("_"," "))||"N/A"})]}),w.yearBuilt&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Year Built"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:w.yearBuilt})]}),w.furnishing&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Furnishing"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.furnishing.replace("_"," ")})]}),w.condition&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Condition"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.condition.replace("_"," ")})]}),w.facing&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Facing"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white capitalize",children:w.facing.replace("_"," ")})]}),((R=w.dimensions)==null?void 0:R.floorNumber)!==void 0&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Floor"}),n.jsxs("p",{className:"font-medium text-gray-800 dark:text-white",children:[w.dimensions.floorNumber," of ",w.dimensions.totalFloors]})]}),w.propertyId&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Property ID"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:w.propertyId})]})]})]}),w.amenities&&n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Amenities & Features"}),Object.entries(w.amenities).map(([ae,Oe])=>!Oe||Oe.length===0?null:n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 capitalize",children:ae.replace("_"," ")}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Oe.map((Ge,at)=>n.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm",children:[n.jsx(Ar,{className:"w-4 h-4"}),Ge.replace(/_/g," ").replace(/\b\w/g,yt=>yt.toUpperCase())]},at))})]},ae)),w.features&&w.features.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:w.features.map((ae,Oe)=>n.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm",children:[n.jsx(Ar,{className:"w-4 h-4"}),ae]},Oe))})]}),(w.virtualTourUrl||((W=w.media)==null?void 0:W.virtualTourUrl))&&n.jsxs("div",{className:"py-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Virtual Tour"}),n.jsxs("a",{href:w.virtualTourUrl||((Z=w.media)==null?void 0:Z.virtualTourUrl),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[n.jsx(U_,{className:"w-5 h-5"}),"View Virtual Tour"]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 sticky top-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(Nn,{className:"w-5 h-5 text-primary"}),"Contact Agent"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:((ie=w.contact)==null?void 0:ie.name)||w.contactName||"Property Manager"}),((re=w.contact)==null?void 0:re.company)&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.contact.company})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:`tel:${((X=w.contact)==null?void 0:X.phone)||w.phoneNumber}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(id,{className:"w-5 h-5 text-primary"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((ke=w.contact)==null?void 0:ke.phone)||w.phoneNumber||"N/A"})]}),n.jsxs("a",{href:`mailto:${((Pe=w.contact)==null?void 0:Pe.email)||w.emailAddress}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(wn,{className:"w-5 h-5 text-primary"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:((De=w.contact)==null?void 0:De.email)||w.emailAddress||"N/A"})]})]}),n.jsxs("button",{className:"w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(Qm,{className:"w-5 h-5"}),"Send Message"]}),n.jsxs("button",{className:"w-full py-3 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(bi,{className:"w-5 h-5"}),"Schedule Viewing"]})]})]}),w.analytics&&n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(vn,{className:"w-5 h-5 text-primary"}),"Property Analytics"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(fa,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.views||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Views"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(Qm,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.inquiries||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Inquiries"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(ed,{className:"w-5 h-5 text-red-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.favorites||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Favorites"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx(Io,{className:"w-5 h-5 text-purple-500 mx-auto mb-1"}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:w.analytics.shares||0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Shares"})]})]})]}),(w.availableFrom||((Ye=w.financial)==null?void 0:Ye.deposit)||w.inclusions||w.exclusions)&&n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(Or,{className:"w-5 h-5 text-primary"}),"Additional Information"]}),n.jsxs("div",{className:"space-y-3",children:[w.availableFrom&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(ya,{className:"w-4 h-4"})," Available From"]}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:new Date(w.availableFrom).toLocaleDateString()})]}),((ce=w.financial)==null?void 0:ce.deposit)&&w.financial.deposit>0&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(nu,{className:"w-4 h-4"})," Security Deposit"]}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:s({amount:w.financial.deposit,currency:((Ae=w.price)==null?void 0:Ae.currency)||"USD",negotiable:!1})})]}),((je=w.financial)==null?void 0:je.maintenanceCharges)&&w.financial.maintenanceCharges>0&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[n.jsx(El,{className:"w-4 h-4"})," Maintenance"]}),n.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[s({amount:w.financial.maintenanceCharges,currency:((et=w.price)==null?void 0:et.currency)||"USD",negotiable:!1}),"/mo"]})]}),w.inclusions&&n.jsxs("div",{className:"py-2 border-b border-gray-100 dark:border-gray-800",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Inclusions"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white mt-1",children:w.inclusions})]}),w.exclusions&&n.jsxs("div",{className:"py-2",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Exclusions"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-white mt-1",children:w.exclusions})]})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[n.jsxs("p",{children:["Listed: ",new Date(w.createdAt).toLocaleDateString()]}),n.jsxs("p",{children:["Last Updated: ",new Date(w.updatedAt).toLocaleDateString()]}),w.propertyId&&n.jsxs("p",{children:["ID: ",w.propertyId]})]})]})]}),n.jsx($s,{children:g&&H.length>0&&n.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",onClick:()=>m(!1),children:[n.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white p-2",children:n.jsx(xr,{className:"w-8 h-8"})}),n.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(Oe=>Oe===0?H.length-1:Oe-1)},className:"absolute left-4 text-white/80 hover:text-white p-2",children:n.jsx(sc,{className:"w-10 h-10"})}),n.jsx("img",{src:H[h],alt:`${w.title} - Full size`,className:"max-h-[90vh] max-w-[90vw] object-contain",onClick:ae=>ae.stopPropagation()}),n.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(Oe=>Oe===H.length-1?0:Oe+1)},className:"absolute right-4 text-white/80 hover:text-white p-2",children:n.jsx(Al,{className:"w-10 h-10"})}),n.jsxs("div",{className:"absolute bottom-4 text-white/80 text-sm",children:[h+1," / ",H.length]})]})}),n.jsx($s,{children:c&&n.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(Yt.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ss,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white text-center mb-2",children:"Delete Property"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:['Are you sure you want to delete "',w.title,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Property"})]})]})})})]})},Ws=({title:e,value:t,icon:r,iconColor:a,bgColor:s="bg-white dark:bg-black"})=>n.jsxs("div",{className:`${s} rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4 relative overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.03] hover:brightness-110 dark:hover:brightness-125`,children:[n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 dark:group-hover:opacity-15 transition-opacity duration-300 bg-gradient-to-br from-white/60 dark:from-white/40 via-transparent to-transparent"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"secondary-label text-gray-600 dark:text-gray-400 mb-1 transition-colors duration-300 group-hover:text-gray-800 dark:group-hover:text-gray-200",children:e}),n.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white transition-all duration-300 group-hover:scale-105",children:t})]}),n.jsx("div",{className:`${a} p-3 rounded-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:rotate-3`,children:n.jsx(r,{className:"w-6 h-6 text-white transition-transform duration-300 group-hover:scale-110"})})]})]}),vie=({isOpen:e,onClose:t,onSave:r,existingLead:a})=>{const{properties:s}=Ah(),[i,o]=P.useState({name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",propertyInterested:(a==null?void 0:a.propertyInterested)||"",status:(a==null?void 0:a.status)||"New Lead",score:(a==null?void 0:a.score)||0,budget:(a==null?void 0:a.budget)||"",lastContact:(a==null?void 0:a.lastContact)||"Just now"}),[l,c]=P.useState({});P.useEffect(()=>{o(a?{name:a.name,email:a.email,phone:a.phone||"",propertyInterested:a.propertyInterested,status:a.status,score:a.score,budget:a.budget,lastContact:a.lastContact}:{name:"",email:"",phone:"",propertyInterested:"",status:"New Lead",score:0,budget:"",lastContact:"Just now"})},[a,e]);const u=(g,m)=>{o(y=>({...y,[g]:m})),l[g]&&c(y=>{const x={...y};return delete x[g],x})},h=()=>{const g={};return i.name.trim()||(g.name="Name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(g.email="Invalid email format"):g.email="Email is required",i.propertyInterested.trim()||(g.propertyInterested="Property interested is required"),(i.score<0||i.score>100)&&(g.score="Score must be between 0 and 100"),i.budget.trim()||(g.budget="Budget is required"),c(g),Object.keys(g).length===0},f=g=>{g.preventDefault(),h()&&(r(i),o({name:"",email:"",phone:"",propertyInterested:"",status:"New Lead",score:0,budget:"",lastContact:"Just now"}),t())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a?"Edit Lead":"Add New Lead"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xr,{className:"w-5 h-5 text-gray-600"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:g=>u("name",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter lead name"}),l.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:i.email,onChange:g=>u("email",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),l.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:g=>u("phone",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{value:i.status,onChange:g=>u("status",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Interested *"}),s.length>0?n.jsxs("select",{value:i.propertyInterested,onChange:g=>u("propertyInterested",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.propertyInterested?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Select a property"}),s.map(g=>{const m=g.address?`${g.title} - ${g.address}${g.price?` (${g.price})`:""}`:g.price?`${g.title} (${g.price})`:g.title;return n.jsx("option",{value:g.title,children:m},g.id)}),i.propertyInterested&&!s.find(g=>g.title===i.propertyInterested)&&n.jsx("option",{value:i.propertyInterested,children:i.propertyInterested})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",value:i.propertyInterested,onChange:g=>u("propertyInterested",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.propertyInterested?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name (no properties available)"}),n.jsx("p",{className:"text-xs text-gray-500",children:"No properties available. Please add properties first or enter manually."})]}),l.propertyInterested&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Score (0-100) *"}),n.jsx("input",{type:"number",min:"0",max:"100",value:i.score,onChange:g=>u("score",parseInt(g.target.value)||0),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.score?"border-red-500":"border-gray-300"}`,placeholder:"Enter score"}),l.score&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget *"}),n.jsx("input",{type:"text",value:i.budget,onChange:g=>u("budget",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.budget?"border-red-500":"border-gray-300"}`,placeholder:"e.g., $2,500/mo"}),l.budget&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.budget})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:a?"Update Lead":"Create Lead"})]})]})]})}):null},bie=()=>{vr();const{leads:e,addLead:t,updateLead:r,deleteLead:a}=D_(),[s,i]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(null),[h,f]=P.useState(null),[g,m]=P.useState(null),[y,x]=P.useState(!1),[N,b]=P.useState(!1),[w,k]=P.useState([]),[S,B]=P.useState("all"),[H,I]=P.useState("all"),D=e.filter(A=>{const q=A.name.toLowerCase().includes(s.toLowerCase())||A.email.toLowerCase().includes(s.toLowerCase())||A.propertyInterested.toLowerCase().includes(s.toLowerCase()),F=S==="all"||A.status===S,R=H==="all"||H==="high"&&A.score>=90||H==="medium"&&A.score>=70&&A.score<90||H==="low"&&A.score<70;return q&&F&&R}),C=()=>{u(null),l(!0)},G=A=>{u(A),l(!0)},O=A=>{c?r(c.id,A):t(A),l(!1),u(null)},V=A=>{a(A),f(null),k(q=>q.filter(F=>F!==A))},Y=A=>{const q=w.length>0?e.filter(R=>w.includes(R.id)):D,F={title:"Leads Export",headers:["Name","Email","Property Interested","Status","Score","Budget","Last Contact"],rows:q.map(R=>[R.name,R.email,R.propertyInterested,R.status,R.score,R.budget,R.lastContact])};A==="pdf"?lg(F,`leads_${new Date().toISOString().split("T")[0]}`):cg(F,`leads_${new Date().toISOString().split("T")[0]}`),b(!1),k([])},ee=async A=>{const q={title:`Lead: ${A.name}`,text:`Lead Details
Name: ${A.name}
Email: ${A.email}
Property: ${A.propertyInterested}
Status: ${A.status}`,url:window.location.href};if(navigator.share)try{await navigator.share(q)}catch(F){console.log("Error sharing:",F)}else navigator.clipboard.writeText(q.text),alert("Lead details copied to clipboard!")},he=A=>{k(q=>q.includes(A)?q.filter(F=>F!==A):[...q,A])},de=()=>{w.length===D.length?k([]):k(D.map(A=>A.id))},xe=e.filter(A=>A.status==="New Lead").length,oe=e.filter(A=>A.status==="In Progress").length,fe=e.filter(A=>A.status==="Approved").length,Se=e.filter(A=>A.status==="Rejected").length,K=fe;return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Leads & Clients"}),n.jsx("p",{className:"text-gray-600",children:"Manage your leads and clients relationships"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Leads",value:xe,icon:Pw,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"In Progress",value:oe,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Approved",value:fe,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Rejected",value:Se,icon:As,iconColor:"bg-red-500"}),n.jsx(Ws,{title:"Total Clients",value:K,icon:uu,iconColor:"bg-purple-500"})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search Leads",value:s,onChange:A=>i(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),y&&n.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:S,onChange:A=>B(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Lead",children:"New Lead"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score"}),n.jsxs("select",{value:H,onChange:A=>I(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Scores"}),n.jsx("option",{value:"high",children:"High (90+)"}),n.jsx("option",{value:"medium",children:"Medium (70-89)"}),n.jsx("option",{value:"low",children:"Low (<70)"})]})]}),n.jsx("button",{onClick:()=>{B("all"),I("all"),x(!1)},className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>b(!N),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),w.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:w.length})]}),N&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>Y("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Xm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>Y("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as Excel"]})]})]}),n.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Lead"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Leads Overview"}),w.length>0&&n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.length," selected"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:w.length===D.length&&D.length>0,onChange:de,className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Leads"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:D.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:w.includes(A.id),onChange:()=>he(A.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:A.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.status==="New Lead"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":A.status==="In Progress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":A.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:A.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:A.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>m(A.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>G(A),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Edit",children:n.jsx(qo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`mailto:${A.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",children:n.jsx(wn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>A.phone&&(window.location.href=`tel:${A.phone}`),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Call",children:n.jsx(id,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ee(A),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Io,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>f(A.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},A.id))})]})})]}),n.jsx(vie,{isOpen:o,onClose:()=>{l(!1),u(null)},onSave:O,existingLead:c}),g&&(()=>{const A=e.find(q=>q.id===g);return A?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Lead Details"}),n.jsx("button",{onClick:()=>m(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(fa,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.email})]}),A.phone&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Property Interested"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${A.status==="New Lead"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":A.status==="In Progress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":A.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:A.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Score"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.budget})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Contact"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:A.lastContact})]})]}),n.jsx("div",{className:"flex gap-3 justify-end mt-6",children:n.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null})(),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Delete Lead"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this lead? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>f(null),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>V(h),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},wie=()=>{vr();const[e,t]=P.useState(""),[r,a]=P.useState(!1),[s,i]=P.useState(!1),[o,l]=P.useState(null),[c,u]=P.useState(null),[h,f]=P.useState(!1),[g,m]=P.useState(!1),[y,x]=P.useState([]),[N,b]=P.useState("all"),[w,k]=P.useState("all"),[S,B]=P.useState(null),[H,I]=P.useState({name:"",email:"",propertyInterested:"",budget:"",notes:""}),[D,C]=P.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",propertyInterested:"Modern Downtown Apartment",status:"New Application",score:85,budget:"$2,500/mo",lastContact:"2 days ago"},{id:"2",name:"Michel Chen",email:"michel.chen@email.com",propertyInterested:"Luxury Condo with City View",status:"In Review",score:92,budget:"$3,200/mo",lastContact:"1 day ago"},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",propertyInterested:"Spacious Penthouse",status:"Approved",score:78,budget:"$4,500/mo",lastContact:"3 days ago"}]),G=D.filter(fe=>{const Se=fe.name.toLowerCase().includes(e.toLowerCase())||fe.email.toLowerCase().includes(e.toLowerCase())||fe.propertyInterested.toLowerCase().includes(e.toLowerCase()),K=N==="all"||fe.status===N,A=w==="all"||w==="high"&&fe.score>=90||w==="medium"&&fe.score>=70&&fe.score<90||w==="low"&&fe.score<70;return Se&&K&&A}),O=fe=>{fe.preventDefault();const Se={id:Date.now().toString(),name:H.name,email:H.email,propertyInterested:H.propertyInterested,status:"New Application",score:Math.floor(Math.random()*30)+70,budget:H.budget||"$0/mo",lastContact:"Just now"};C([...D,Se]),a(!1),I({name:"",email:"",propertyInterested:"",budget:"",notes:""})},V=fe=>{B(fe),I({name:fe.name,email:fe.email,propertyInterested:fe.propertyInterested,budget:fe.budget,notes:""}),i(!0)},Y=fe=>{fe.preventDefault(),S&&(C(D.map(Se=>Se.id===S.id?{...Se,name:H.name,email:H.email,propertyInterested:H.propertyInterested,budget:H.budget}:Se)),i(!1),B(null),I({name:"",email:"",propertyInterested:"",budget:"",notes:""}))},ee=fe=>{C(D.filter(Se=>Se.id!==fe)),l(null)},he=fe=>{const Se=y.length>0?D.filter(A=>y.includes(A.id)):G,K={title:"Applications Export",headers:["Name","Email","Property Interested","Status","Score","Budget","Last Contact"],rows:Se.map(A=>[A.name,A.email,A.propertyInterested,A.status,A.score,A.budget,A.lastContact])};fe==="pdf"?lg(K,`applications_${new Date().toISOString().split("T")[0]}`):cg(K,`applications_${new Date().toISOString().split("T")[0]}`),f(!1),x([])},de=async fe=>{const Se={title:`Application: ${fe.name}`,text:`Application details for ${fe.name}
Email: ${fe.email}
Property: ${fe.propertyInterested}
Status: ${fe.status}`,url:window.location.href};if(navigator.share)try{await navigator.share(Se)}catch(K){console.log("Error sharing:",K)}else navigator.clipboard.writeText(Se.text),alert("Application details copied to clipboard!")},xe=fe=>{x(Se=>Se.includes(fe)?Se.filter(K=>K!==fe):[...Se,fe])},oe=()=>{y.length===G.length?x([]):x(G.map(fe=>fe.id))};return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Application"}),n.jsx("p",{className:"text-gray-600",children:"Review and manage client applications"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Applications",value:1,icon:Or,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"In Review",value:1,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Approved",value:1,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Rejected",value:1,icon:As,iconColor:"bg-red-500"}),n.jsx(Ws,{title:"Total",value:0,icon:Zm,iconColor:"bg-purple-500"})]}),n.jsx("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search Applications",value:e,onChange:fe=>t(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>m(!g),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"More Filters"})]}),g&&n.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-10 min-w-[250px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:N,onChange:fe=>b(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"New Application",children:"New Application"}),n.jsx("option",{value:"In Review",children:"In Review"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Score"}),n.jsxs("select",{value:w,onChange:fe=>k(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All Scores"}),n.jsx("option",{value:"high",children:"High (90+)"}),n.jsx("option",{value:"medium",children:"Medium (70-89)"}),n.jsx("option",{value:"low",children:"Low (<70)"})]})]}),n.jsx("button",{onClick:()=>{b("all"),k("all"),m(!1)},className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Es,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Export"}),y.length>0&&n.jsx("span",{className:"bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:y.length})]}),h&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:[n.jsxs("button",{onClick:()=>he("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Xm,{className:"w-4 h-4"}),"Export as PDF"]}),n.jsxs("button",{onClick:()=>he("excel"),className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Jm,{className:"w-4 h-4"}),"Export as Excel"]})]})]}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Application"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Applications Overview"}),y.length>0&&n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.length," selected"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:y.length===G.length&&G.length>0,onChange:oe,className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Leads"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Property Interested"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:G.map(fe=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:y.includes(fe.id),onChange:()=>xe(fe.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.name}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.propertyInterested})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${fe.status==="New Application"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":fe.status==="In Review"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":fe.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:fe.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.score})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:fe.budget})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.lastContact})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>u(fe.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>V(fe),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Edit",children:n.jsx(qo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`mailto:${fe.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Email",children:n.jsx(wn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.location.href=`tel:${fe.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Call",children:n.jsx(id,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>de(fe),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",title:"Share",children:n.jsx(Io,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>l(fe.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",children:n.jsx(Ss,{className:"w-4 h-4"})})]})})]},fe.id))})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Add New Application"}),n.jsx("button",{onClick:()=>{a(!1),I({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Applicant Name *"}),n.jsx("input",{type:"text",value:H.name,onChange:fe=>I({...H,name:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:H.email,onChange:fe=>I({...H,email:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Interested *"}),n.jsx("input",{type:"text",value:H.propertyInterested,onChange:fe=>I({...H,propertyInterested:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget"}),n.jsx("input",{type:"text",value:H.budget,onChange:fe=>I({...H,budget:fe.target.value}),placeholder:"$0/mo",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),n.jsx("textarea",{value:H.notes,onChange:fe=>I({...H,notes:fe.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{a(!1),I({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Add Application"})]})]})]})}),s&&S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Edit Application"}),n.jsx("button",{onClick:()=>{i(!1),B(null),I({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Applicant Name *"}),n.jsx("input",{type:"text",value:H.name,onChange:fe=>I({...H,name:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:H.email,onChange:fe=>I({...H,email:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Interested *"}),n.jsx("input",{type:"text",value:H.propertyInterested,onChange:fe=>I({...H,propertyInterested:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget"}),n.jsx("input",{type:"text",value:H.budget,onChange:fe=>I({...H,budget:fe.target.value}),placeholder:"$0/mo",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),B(null),I({name:"",email:"",propertyInterested:"",budget:"",notes:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Update Application"})]})]})]})}),c&&(()=>{const fe=D.find(Se=>Se.id===c);return fe?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Application Details"}),n.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Property Interested"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.propertyInterested})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${fe.status==="New Application"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":fe.status==="In Review"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":fe.status==="Approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:fe.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Score"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.score})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.budget})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Contact"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:fe.lastContact})]})]}),n.jsx("div",{className:"flex gap-3 justify-end mt-6",children:n.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null})(),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Delete Application"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>ee(o),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},_ie=({appointments:e,onDateClick:t,onAppointmentClick:r})=>{const[a,s]=P.useState(new Date),i=a.getFullYear(),o=a.getMonth(),l=new Date(i,o,1),u=new Date(i,o+1,0).getDate(),h=l.getDay(),f=["January","February","March","April","May","June","July","August","September","October","November","December"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=()=>{s(new Date(i,o-1,1))},y=()=>{s(new Date(i,o+1,1))},x=()=>{s(new Date)},N=k=>{const S=k.toISOString().split("T")[0];return e.filter(B=>B.date===S)},b=k=>{const S=new Date;return k.getDate()===S.getDate()&&k.getMonth()===S.getMonth()&&k.getFullYear()===S.getFullYear()},w=k=>{const S=new Date(i,o,k);t&&t(S)};return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(sc,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[f[o]," ",i]}),n.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Al,{className:"w-5 h-5 text-gray-600"})})]}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg text-sm font-medium transition-colors",children:"Today"})]}),n.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:g.map(k=>n.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:k},k))}),n.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:h}).map((k,S)=>n.jsx("div",{className:"aspect-square"},`empty-${S}`)),Array.from({length:u}).map((k,S)=>{const B=S+1,H=new Date(i,o,B),I=N(H),D=b(H);return n.jsx("div",{onClick:()=>w(B),className:`aspect-square border border-gray-200 rounded-lg p-2 cursor-pointer transition-all hover:border-primary hover:bg-primary/5 ${D?"bg-primary/10 border-primary":""}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:`text-sm font-medium mb-1 ${D?"text-primary":"text-gray-800"}`,children:B}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[I.slice(0,2).map(C=>n.jsxs("div",{onClick:G=>{G.stopPropagation(),r&&r(C)},className:`text-xs p-1 mb-1 rounded truncate cursor-pointer ${C.status==="Confirmed"?"bg-green-100 text-green-800":C.status==="Pending"?"bg-yellow-100 text-yellow-800":C.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,title:C.clientName,children:[C.time," - ",C.clientName]},C.id)),I.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",I.length-2," more"]})]})]})},B)})]})]})},Nie=({isOpen:e,onClose:t,onSave:r,selectedDate:a,existingAppointment:s})=>{const[i,o]=P.useState({clientName:(s==null?void 0:s.clientName)||"",date:(s==null?void 0:s.date)||(a?a.toISOString().split("T")[0]:""),time:(s==null?void 0:s.time)||"",description:(s==null?void 0:s.description)||"",status:(s==null?void 0:s.status)||"Pending",property:(s==null?void 0:s.property)||"",phone:(s==null?void 0:s.phone)||"",email:(s==null?void 0:s.email)||""}),[l,c]=P.useState({}),u=(g,m)=>{o(y=>({...y,[g]:m})),l[g]&&c(y=>{const x={...y};return delete x[g],x})},h=()=>{const g={};return i.clientName.trim()||(g.clientName="Client name is required"),i.date||(g.date="Date is required"),i.time||(g.time="Time is required"),i.description.trim()||(g.description="Description is required"),c(g),Object.keys(g).length===0},f=g=>{g.preventDefault(),h()&&(r(i),o({clientName:"",date:a?a.toISOString().split("T")[0]:"",time:"",description:"",status:"Pending",property:"",phone:"",email:""}),t())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Edit Appointment":"Add New Appointment"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xr,{className:"w-5 h-5 text-gray-600"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),n.jsx("input",{type:"text",value:i.clientName,onChange:g=>u("clientName",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.clientName?"border-red-500":"border-gray-300"}`,placeholder:"Enter client name"}),l.clientName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.clientName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{value:i.status,onChange:g=>u("status",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Confirmed",children:"Confirmed"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),n.jsx("input",{type:"date",value:i.date,onChange:g=>u("date",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.date?"border-red-500":"border-gray-300"}`}),l.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),n.jsx("input",{type:"time",value:i.time,onChange:g=>u("time",g.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.time?"border-red-500":"border-gray-300"}`}),l.time&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.time})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),n.jsx("input",{type:"text",value:i.property,onChange:g=>u("property",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter property name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:g=>u("phone",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:i.email,onChange:g=>u("email",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:i.description,onChange:g=>u("description",g.target.value),rows:4,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ${l.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter appointment description"}),l.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:s?"Update Appointment":"Create Appointment"})]})]})]})}):null},kie=()=>{vr();const[e,t]=P.useState("list"),[r,a]=P.useState(!1),[s,i]=P.useState(),[o,l]=P.useState(null),[c,u]=P.useState(null),[h,f]=P.useState([{id:"1",clientName:"Sarah Johnson",date:"2025-01-15",time:"10:00 AM",description:"Property viewing - Modern Downtown Apartment",status:"Confirmed"},{id:"2",clientName:"Michel Chen",date:"2025-01-16",time:"2:00 PM",description:"Property viewing - Luxury Condo with City View",status:"Confirmed"},{id:"3",clientName:"Emily Rodriguez",date:"2025-01-17",time:"11:00 AM",description:"Property viewing - Spacious Penthouse",status:"Pending"},{id:"4",clientName:"David Smith",date:"2025-01-18",time:"3:30 PM",description:"Property viewing - Modern Downtown Apartment",status:"Completed"}]),g=w=>{if(o)f(k=>k.map(S=>S.id===o.id?{...w,id:o.id}:S)),l(null);else{const k={...w,id:Date.now().toString()};f(S=>[...S,k])}a(!1),i(void 0)},m=w=>{f(k=>k.filter(S=>S.id!==w)),u(null)},y=w=>{i(w),a(!0)},x=w=>{l(w),a(!0)},N=w=>{l(w),a(!0)},b=w=>new Date(w).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Appointment"}),n.jsx("p",{className:"text-gray-600",children:"Manage client appointments"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(Ws,{title:"New Appointments",value:1,icon:bi,iconColor:"bg-blue-500"}),n.jsx(Ws,{title:"Confirmed",value:2,icon:Ar,iconColor:"bg-green-500"}),n.jsx(Ws,{title:"Pending",value:1,icon:ya,iconColor:"bg-yellow-500"}),n.jsx(Ws,{title:"Completed",value:1,icon:fU,iconColor:"bg-purple-500"}),n.jsx(Ws,{title:"Cancelled",value:0,icon:As,iconColor:"bg-red-500"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("button",{onClick:()=>t(e==="list"?"calendar":"list"),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${e==="calendar"?"bg-primary text-white border-primary":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(bi,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Calendar"})]}),n.jsxs("button",{onClick:()=>{l(null),i(void 0),a(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Add New Appointment"})]})]}),e==="calendar"&&n.jsx(_ie,{appointments:h,onDateClick:y,onAppointmentClick:x}),e==="list"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Appointments (",h.length,")"]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:h.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"No appointments scheduled"}),n.jsx("button",{onClick:()=>{l(null),i(void 0),a(!0)},className:"bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium",children:"Add Your First Appointment"})]}):h.map(w=>n.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(bi,{className:"w-6 h-6 text-primary"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:w.clientName}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="Confirmed"?"bg-green-100 text-green-800":w.status==="Pending"?"bg-yellow-100 text-yellow-800":w.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:w.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bi,{className:"w-4 h-4"}),n.jsx("span",{children:b(w.date)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ya,{className:"w-4 h-4"}),n.jsx("span",{children:w.time})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"w-4 h-4"}),n.jsx("span",{children:w.property||"Property Location"})]})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",onClick:()=>x(w),children:n.jsx(fa,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",onClick:()=>N(w),children:n.jsx(qo,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",onClick:()=>u(w.id),children:n.jsx(Ss,{className:"w-5 h-5"})})]})]})},w.id))})]}),n.jsx(Nie,{isOpen:r,onClose:()=>{a(!1),l(null),i(void 0)},onSave:g,selectedDate:s,existingAppointment:o}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Appointment"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this appointment? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>m(c),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})},xA={"Smileys & People":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Animals & Nature":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Food & Drink":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Travel & Places":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Activities:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Symbols:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","0","1","2","3","4","5","6","7","8","9","","","#","*","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jie=({onEmojiSelect:e,isOpen:t,onClose:r})=>{const[a,s]=P.useState("Smileys & People"),i=P.useRef(null);return P.useEffect(()=>{const o=l=>{i.current&&!i.current.contains(l.target)&&r()};return t&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t,r]),t?n.jsxs("div",{ref:i,className:"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-80 h-96 flex flex-col z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Emoji"}),n.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(xr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),n.jsx("div",{className:"flex gap-1 p-2 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:Object.keys(xA).map(o=>n.jsx("button",{onClick:()=>s(o),className:`px-2 py-1 text-xs rounded transition-colors whitespace-nowrap ${a===o?"bg-primary text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o.split(" ")[0]},o))}),n.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:n.jsx("div",{className:"grid grid-cols-8 gap-1",children:xA[a].map((o,l)=>n.jsx("button",{onClick:()=>{e(o),r()},className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:o},l))})})]}):null},Sie=()=>{const[e,t]=P.useState("1"),[r,a]=P.useState(""),[s,i]=P.useState(!1),[o,l]=P.useState([]),c=P.useRef(null),u=[{id:"1",name:"Sarah Jenner",avatar:"SJ",lastMessage:"Thank you for the information!",timestamp:"2 min ago",unread:2,messages:[{id:"1",text:"Hello, I'm interested in the Modern Downtown Apartment.",sender:"contact",timestamp:"10:30 AM"},{id:"2",text:"Hi Sarah! I'd be happy to help you with that property.",sender:"user",timestamp:"10:32 AM"},{id:"3",text:"Could you provide more details about the amenities?",sender:"contact",timestamp:"10:35 AM"},{id:"4",text:"Of course! The apartment includes a gym, parking, and balcony.",sender:"user",timestamp:"10:36 AM"},{id:"5",text:"Thank you for the information!",sender:"contact",timestamp:"10:40 AM"}]},{id:"2",name:"Emily Rodrigues",avatar:"ER",lastMessage:"When can we schedule a viewing?",timestamp:"15 min ago",unread:0,messages:[]},{id:"3",name:"David Smith",avatar:"DS",lastMessage:"I have a few questions about the lease terms.",timestamp:"1 hour ago",unread:1,messages:[]}],h=u.find(x=>x.id===e),f=()=>{(r.trim()||o.length>0)&&(console.log("Sending message:",r,"Attachments:",o),a(""),l([]))},g=x=>{const b=Array.from(x.target.files||[]).map(w=>({name:w.name,type:w.type.startsWith("image/")?"image":w.type.startsWith("video/")?"video":"file",file:w}));l(w=>[...w,...b]),c.current&&(c.current.value="")},m=x=>{l(N=>N.filter((b,w)=>w!==x))},y=x=>{a(N=>N+x)};return n.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col font-sans",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Messages"})]}),n.jsxs("div",{className:"flex-1 flex gap-4 bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-800 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:u.map(x=>n.jsx("div",{onClick:()=>t(x.id),className:`p-4 border-b border-gray-200 dark:border-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors ${e===x.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:x.avatar}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white truncate",children:x.name}),x.unread>0&&n.jsx("span",{className:"bg-primary text-white text-xs font-medium px-2 py-0.5 rounded-full",children:x.unread})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1",children:x.lastMessage}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:x.timestamp})]})]})},x.id))})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:h?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-semibold",children:h.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:h.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Online"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:h.messages.map(x=>n.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${x.sender==="user"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[n.jsx("p",{className:"text-sm",children:x.text}),n.jsx("p",{className:`text-xs mt-1 ${x.sender==="user"?"text-white/70":"text-gray-400 dark:text-gray-500"}`,children:x.timestamp})]})},x.id))}),o.length>0&&n.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((x,N)=>n.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2",children:[x.type==="image"?n.jsx(q_,{className:"w-4 h-4 text-blue-500"}):x.type==="video"?n.jsx(Or,{className:"w-4 h-4 text-purple-500"}):n.jsx(KU,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate max-w-[150px]",children:x.name}),n.jsx("button",{onClick:()=>m(N),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:n.jsx(xr,{className:"w-3 h-3 text-gray-500"})})]},N))})}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 relative",children:[n.jsx("input",{ref:c,type:"file",multiple:!0,onChange:g,className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx,.txt"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"relative",children:n.jsx("button",{onClick:()=>{var x;return(x=c.current)==null?void 0:x.click()},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Attach file",children:n.jsx(AC,{className:"w-5 h-5"})})}),n.jsx("input",{type:"text",value:r,onChange:x=>a(x.target.value),onKeyPress:x=>x.key==="Enter"&&!x.shiftKey&&f(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>i(!s),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Add emoji",children:n.jsx(EC,{className:"w-5 h-5"})}),n.jsx(jie,{isOpen:s,onClose:()=>i(!1),onEmojiSelect:y})]}),n.jsx("button",{onClick:f,disabled:!r.trim()&&o.length===0,className:"p-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Eh,{className:"w-5 h-5"})})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a conversation to start chatting"})})]})]})},Aie=()=>{const{properties:e}=Ah(),{leads:t}=D_(),r=[{id:"1",name:"Sarah Johnson",status:"Approved"},{id:"2",name:"Michael Chen",status:"Pending"},{id:"3",name:"Emily Rodriguez",status:"Approved"},{id:"4",name:"David Smith",status:"Pending"},{id:"5",name:"Jessica Williams",status:"Rejected"},{id:"6",name:"Robert Brown",status:"Approved"}],a=r.filter(o=>o.status==="Approved"),s=r.filter(o=>o.status==="Pending"),i=[{month:"Jan",value:15e3,change:0},{month:"Feb",value:18e3,change:20},{month:"Mar",value:22e3,change:22.2},{month:"Apr",value:25e3,change:13.6},{month:"May",value:28e3,change:12},{month:"Jun",value:32e3,change:14.3}];return i.reduce((o,l)=>o+l.value,0),i.reduce((o,l)=>l.value>o.value?l:o,i[0]),(i[i.length-1].value-i[0].value)/i[0].value*100,n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Analytics"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(uu,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"247"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(cc,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:e.length||120}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Xy,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"14.7%"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(vn,{className:"w-6 h-6 text-white"})}),n.jsx(vn,{className:"w-5 h-5 text-green-500"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"18.2%"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Monthly Revenue Trend"})}),(()=>{const o=[{month:"Jan",value:15e3},{month:"Feb",value:18e3},{month:"Mar",value:22e3},{month:"Apr",value:25e3},{month:"May",value:28e3},{month:"Jun",value:32e3}],l=o.reduce((f,g)=>f+g.value,0),c=Math.round(l/o.length),u=o.reduce((f,g)=>g.value>f.value?g:f,o[0]),h=(o[o.length-1].value-o[0].value)/o[0].value*100;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["$",(l/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"6 months"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Monthly"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["$",(c/1e3).toFixed(0),"k"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Per month"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Best Month"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:u.month}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["$",(u.value/1e3).toFixed(0),"k"]})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",h.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Since Jan"})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"flex items-end justify-between gap-4 h-48",children:o.map((f,g)=>{const m=Math.max(...o.map(b=>b.value)),y=f.value/m*100,x=g>0?o[g-1].value:f.value,N=g>0?(f.value-x)/x*100:0;return n.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[n.jsxs("div",{className:"w-full flex flex-col items-center mb-2 relative",children:[n.jsx("div",{className:"w-full bg-primary rounded-t-lg transition-all hover:opacity-80 cursor-pointer relative",style:{height:`${y}%`},children:n.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:["$",(f.value/1e3).toFixed(0),"k",g>0&&n.jsxs("span",{className:`ml-1 ${N>=0?"text-green-400":"text-red-400"}`,children:["(",N>=0?"+":"",N.toFixed(1),"%)"]})]})}),n.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-white mt-2",children:["$",(f.value/1e3).toFixed(0),"k"]})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:f.month}),g>0&&n.jsxs("p",{className:`text-xs mt-1 ${N>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[N>=0?"":""," ",Math.abs(N).toFixed(1),"%"]})]},g)})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"vs Average"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:o.map((f,g)=>{const m=g>0?o[g-1].value:f.value,y=g>0?(f.value-m)/m*100:0,x=(f.value-c)/c*100;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:f.month}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:["$",f.value.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:g>0?n.jsxs("span",{className:`font-medium ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"+":"",y.toFixed(1),"%"]}):n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:g>0&&n.jsxs("span",{className:`inline-flex items-center ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"":""," ",Math.abs(y).toFixed(1),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("span",{className:`font-medium ${x>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[x>=0?"+":"",x.toFixed(1),"%"]})})]},g)})})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Key Insights"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{children:[" Revenue has grown by ",n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[h.toFixed(1),"%"]})," over the past 6 months"]}),n.jsxs("li",{children:[" ",n.jsx("span",{className:"font-semibold",children:u.month})," was the best performing month with $",(u.value/1e3).toFixed(0),"k in revenue"]}),n.jsxs("li",{children:[" Average monthly revenue is ",n.jsxs("span",{className:"font-semibold",children:["$",(c/1e3).toFixed(0),"k"]}),", indicating consistent growth"]}),n.jsxs("li",{children:[" Current trend shows ",n.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"positive momentum"})," with steady month-over-month increases"]})]})]})]})})()]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(kC,{className:"w-6 h-6 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Future Property Rate Analysis & Predictions"})]}),(()=>{const o=[{id:"1",name:"Modern Downtown Apartment",currentRate:45e4,predictedRate1Month:465e3,predictedRate2Months:48e4,trend:"increasing",location:"Downtown",propertyType:"Apartment"},{id:"2",name:"Luxury Condo with City View",currentRate:3500,predictedRate1Month:3625,predictedRate2Months:3750,trend:"increasing",location:"City Center",propertyType:"Condo"},{id:"3",name:"Spacious Penthouse",currentRate:6500,predictedRate1Month:6300,predictedRate2Months:6100,trend:"decreasing",location:"Uptown",propertyType:"Penthouse"},{id:"4",name:"Suburban Family Home",currentRate:32e4,predictedRate1Month:332e3,predictedRate2Months:345e3,trend:"increasing",location:"Suburbs",propertyType:"House"},{id:"5",name:"Beachfront Villa",currentRate:85e4,predictedRate1Month:88e4,predictedRate2Months:91e4,trend:"increasing",location:"Coastal",propertyType:"Villa"}],l=o.length,c=o.filter(g=>g.trend==="increasing").length,u=o.filter(g=>g.trend==="decreasing").length,h=o.reduce((g,m)=>{const y=(m.predictedRate1Month-m.currentRate)/m.currentRate*100;return g+y},0)/l,f=o.reduce((g,m)=>{const y=(m.predictedRate2Months-m.currentRate)/m.currentRate*100;return g+y},0)/l;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Increasing"}),n.jsx(vn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:c}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",l," properties"]})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Decreasing"}),n.jsx(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:u}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",l," properties"]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (1 Month)"}),n.jsx(El,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["+",h.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Next month"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (2 Months)"}),n.jsx(Xy,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",f.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"In 2 months"})]})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Rate Prediction Trend (Next 2 Months)"}),n.jsx(K0,{data:[{label:"Current",value:o[0].currentRate/1e3},{label:"+1 Month",value:o[0].predictedRate1Month/1e3},{label:"+2 Months",value:o[0].predictedRate2Months/1e3}],height:200,color:"#FF6B35"}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 text-center",children:["Sample: ",o[0].name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Property Rate Predictions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Current Rate"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+1 Month"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+2 Months"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:o.map(g=>{const m=(g.predictedRate1Month-g.currentRate)/g.currentRate*100,y=(g.predictedRate2Months-g.currentRate)/g.currentRate*100,x=g.currentRate<1e4;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.name}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.location,"  ",g.propertyType]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${g.currentRate.toLocaleString()}/mo`:`$${g.currentRate.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${g.predictedRate1Month.toLocaleString()}/mo`:`$${g.predictedRate1Month.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:x?`$${g.predictedRate2Months.toLocaleString()}/mo`:`$${g.predictedRate2Months.toLocaleString()}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[m>=0?"+":"",m.toFixed(1),"% (1M)"]}),n.jsx("br",{}),n.jsxs("span",{className:`font-medium ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"+":"",y.toFixed(1),"% (2M)"]})]})}),n.jsx("td",{className:"px-4 py-3",children:g.trend==="increasing"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[n.jsx(vn,{className:"w-3 h-3"}),"Increasing"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[n.jsx(Jy,{className:"w-3 h-3"}),"Decreasing"]})}),n.jsx("td",{className:"px-4 py-3",children:g.trend==="increasing"?n.jsxs("div",{className:"text-xs",children:[n.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["Increase by ",y.toFixed(1),"%"]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Suggested: ",x?`$${Math.round(g.currentRate*(1+y/100)).toLocaleString()}/mo`:`$${Math.round(g.currentRate*(1+y/100)).toLocaleString()}`]})]}):n.jsxs("div",{className:"text-xs",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Consider holding"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Market may recover"})]})})]},g.id)})})]})})]}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-orange-100 dark:from-primary/20 dark:to-orange-900/20 rounded-lg border border-primary/20 dark:border-primary/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ba,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Recommendations for Estate Agents"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Next 2 Months Strategy:"})," Based on market predictions, you can increase rates by an average of ",n.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[f.toFixed(1),"%"]})," across ",c," properties."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Immediate Action (1 Month):"})," Consider increasing rates by ",n.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[h.toFixed(1),"%"]})," for properties showing upward trends to maximize revenue."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Properties to Focus On:"})," ",o.filter(g=>g.trend==="increasing").map(g=>g.name).join(", ")," show strong growth potential."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary font-bold",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Market Timing:"})," The predicted ",f>0?"increase":"decrease"," suggests this is an ",f>0?"optimal":"cautious"," time to adjust rates. Monitor market conditions weekly."]})]})]})]})]})})]})})()]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Application Status Distribution"}),n.jsx(Qy,{data:[{label:"Approved",value:a.length,color:"#10b981"},{label:"Pending",value:s.length,color:"#f59e0b"},{label:"Rejected",value:r.filter(o=>o.status==="Rejected").length,color:"#ef4444"}],size:200})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Lead Status Distribution"}),n.jsx(Qy,{data:[{label:"New Leads",value:t.filter(o=>o.status==="New Lead").length,color:"#3b82f6"},{label:"In Progress",value:t.filter(o=>o.status==="In Progress").length,color:"#f59e0b"},{label:"Approved",value:t.filter(o=>o.status==="Approved").length,color:"#10b981"}],size:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Property Performance Comparison"}),n.jsx(e1,{data:[{label:"Modern Downtown",value:45,color:"#FF6B35"},{label:"Luxury Condo",value:38,color:"#3b82f6"},{label:"Spacious Penthouse",value:52,color:"#10b981"}],title:"Property Views",height:200})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Applications by Property"}),n.jsx(e1,{data:[{label:"Modern Downtown",value:12,color:"#8b5cf6"},{label:"Luxury Condo",value:8,color:"#f59e0b"},{label:"Spacious Penthouse",value:15,color:"#ef4444"}],title:"Applications Received",height:200})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Revenue Trend (Line Chart)"}),n.jsx(K0,{data:[{label:"Jan",value:15e3},{label:"Feb",value:18e3},{label:"Mar",value:22e3},{label:"Apr",value:25e3},{label:"May",value:28e3},{label:"Jun",value:32e3}],height:200,color:"#FF6B35"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Property Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Views"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applications"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Conversion"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:[{property:"Modern Downtown Apartment",views:45,applications:12,conversionRate:26.7},{property:"Luxury Condo with City View",views:38,applications:8,conversionRate:21.1},{property:"Spacious Penthouse",views:52,applications:15,conversionRate:28.8}].map((o,l)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.property}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.views}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:o.applications}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${o.conversionRate}%`}})}),n.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[o.conversionRate,"%"]})]})})]},l))})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Lead Analytic"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"247"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:e.length||120})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"14.7%"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Passed"}),n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"36"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Monthly Applications Trend"}),n.jsx(K0,{data:[{label:"Jan",value:8},{label:"Feb",value:12},{label:"Mar",value:15},{label:"Apr",value:18},{label:"May",value:22},{label:"Jun",value:25}],height:200,color:"#3b82f6"})]})]})]})},Eie=()=>{const[e,t]=P.useState("Current Month"),r=[{id:"1",invoiceId:"INV-2025-001",property:"Modern Downtown Apartment",project:"Property Management",amount:"$2,500.00",status:"Paid",date:"2025-01-10"},{id:"2",invoiceId:"INV-2025-002",property:"Luxury Condo with City View",project:"Property Management",amount:"$3,200.00",status:"Pending",date:"2025-01-12"},{id:"3",invoiceId:"INV-2025-003",property:"Spacious Penthouse",project:"Property Management",amount:"$1,000.00",status:"Overdue",date:"2025-01-05"},{id:"4",invoiceId:"INV-2025-004",property:"Modern Downtown Apartment",project:"Property Management",amount:"$2,500.00",status:"Paid",date:"2025-01-08"}];return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"page-title text-gray-800 dark:text-white mb-1",children:"Billing & Payments"})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[n.jsx("h2",{className:"section-heading text-gray-800 dark:text-white",children:"Revenue Overview"}),n.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 dark:bg-black dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{children:"Current Month"}),n.jsx("option",{children:"Last Month"}),n.jsx("option",{children:"Last 3 Months"}),n.jsx("option",{children:"Last 6 Months"}),n.jsx("option",{children:"This Year"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(El,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-green-700 dark:text-green-400 mb-1",children:"$2,500.00"}),n.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Total Revenue"})]}),n.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 border border-primary/20 dark:border-primary/40 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(El,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-primary dark:text-orange-400 mb-1",children:"$3,200.00"}),n.jsx("p",{className:"text-sm text-primary/80 dark:text-orange-300",children:"Pending Payments"})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(El,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-3xl font-bold text-red-700 dark:text-red-400 mb-1",children:"$1,000.00"}),n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:n.jsxs("h2",{className:"section-heading text-gray-800 dark:text-white",children:["Invoices (",r.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-black",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Invoice ID"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Project"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left caption text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:r.map(a=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:a.invoiceId})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:a.property})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text text-gray-900 dark:text-white",children:a.project})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"body-text font-medium text-gray-900 dark:text-white",children:a.amount})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.status==="Paid"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap body-text font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View",children:n.jsx(fa,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",title:"Download",children:n.jsx(Es,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})]})},Tie=()=>{const e=vr(),{user:t,profile:r,loading:a,profileLoading:s,error:i,isAuthenticated:o,isSupabaseConfigured:l,updateProfile:c,signOut:u,getDisplayName:h,getRole:f,getAvatarUrl:g}=Z1(),[m,y]=P.useState(!1),[x,N]=P.useState(!1),[b,w]=P.useState(!1),[k,S]=P.useState(!1),[B,H]=P.useState(null),[I,D]=P.useState(!1),[C,G]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,V]=P.useState({full_name:"",email:"",phone:"",location:"",bio:"",company_name:"",role:"user",avatar_url:"",is_verified:!1,created_at:""});P.useEffect(()=>{var K,A,q,F;r?V({full_name:r.full_name||"",email:r.email||(t==null?void 0:t.email)||"",phone:r.phone||"",location:r.location||"",bio:r.bio||"",company_name:r.company_name||"",role:r.role||"user",avatar_url:r.avatar_url||"",is_verified:r.is_verified||!1,created_at:r.created_at||""}):t&&V({full_name:((K=t.user_metadata)==null?void 0:K.full_name)||"",email:t.email||"",phone:((A=t.user_metadata)==null?void 0:A.phone)||"",location:"",bio:"",company_name:"",role:((q=t.user_metadata)==null?void 0:q.role)||"user",avatar_url:((F=t.user_metadata)==null?void 0:F.avatar_url)||"",is_verified:!1,created_at:t.created_at||""})},[r,t]);const Y=(K,A)=>{V(q=>({...q,[K]:A})),H(null),D(!1)},ee=async()=>{S(!0),H(null),D(!1);try{const K=await c({full_name:O.full_name,phone:O.phone,location:O.location,bio:O.bio,company_name:O.company_name});K.error?H(K.error):(D(!0),y(!1),setTimeout(()=>D(!1),3e3))}catch(K){H(K.message||"Failed to save profile")}finally{S(!1)}},he=()=>{y(!1),H(null),r&&V({full_name:r.full_name||"",email:r.email||(t==null?void 0:t.email)||"",phone:r.phone||"",location:r.location||"",bio:r.bio||"",company_name:r.company_name||"",role:r.role||"user",avatar_url:r.avatar_url||"",is_verified:r.is_verified||!1,created_at:r.created_at||""})},de=K=>{if(K.preventDefault(),C.newPassword!==C.confirmPassword){alert("New passwords do not match");return}if(C.newPassword.length<8){alert("Password must be at least 8 characters long");return}console.log("Changing password..."),N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully")},xe=()=>{b?window.confirm("Are you sure you want to disable Two-Factor Authentication?")&&(w(!1),alert("Two-Factor Authentication disabled")):window.confirm("This will enable Two-Factor Authentication. Do you want to continue?")&&(w(!0),alert("Two-Factor Authentication enabled successfully"))},oe=async()=>{window.confirm("Are you sure you want to sign out?")&&(await u(),e("/auth/login"))},fe=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Se=K=>({user:"User",manager:"Property Manager",admin:"Administrator"})[K]||K;return a?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oo,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})]})}):o?l?n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Profile"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your profile information and settings"})]}),I&&n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-3",children:[n.jsx(Y0,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),n.jsx("span",{className:"text-green-700 dark:text-green-300",children:"Profile updated successfully!"})]}),(B||i)&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3",children:[n.jsx(Ba,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),n.jsx("span",{className:"text-red-700 dark:text-red-300",children:B||i})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-primary to-orange-600 p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center overflow-hidden",children:g()?n.jsx("img",{src:g()||void 0,alt:h(),className:"w-full h-full object-cover"}):n.jsx(Nn,{className:"w-16 h-16 text-primary"})}),m&&n.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white hover:bg-primary-dark transition-colors",children:n.jsx(Gy,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[n.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[n.jsx("h2",{className:"text-2xl font-bold",children:h()}),O.is_verified&&n.jsx(Y0,{className:"w-6 h-6 text-white"})]}),n.jsx("p",{className:"text-orange-100",children:Se(f())}),n.jsx("p",{className:"text-sm text-orange-100 mt-1",children:t==null?void 0:t.email}),n.jsxs("p",{className:"text-sm text-orange-100 mt-1",children:["Member since ",fe(O.created_at||(t==null?void 0:t.created_at)||void 0)]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[m?n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:he,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors disabled:opacity-50",children:[n.jsx(xr,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]}),n.jsxs("button",{onClick:ee,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-white text-primary rounded-lg hover:bg-orange-50 transition-colors disabled:opacity-50",children:[k?n.jsx(oo,{className:"w-4 h-4 animate-spin"}):n.jsx(eq,{className:"w-4 h-4"}),n.jsx("span",{children:k?"Saving...":"Save"})]})]}):n.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-primary rounded-lg hover:bg-orange-50 transition-colors",children:[n.jsx(qo,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit Profile"})]}),n.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors",children:[n.jsx(Zy,{className:"w-4 h-4"}),n.jsx("span",{children:"Sign Out"})]})]})]})}),n.jsx("div",{className:"p-6",children:s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(oo,{className:"w-8 h-8 animate-spin text-primary"})}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Personal Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),m?n.jsx("input",{type:"text",value:O.full_name,onChange:K=>Y("full_name",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter your full name"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(Nn,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:O.full_name||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(wn,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:(t==null?void 0:t.email)||O.email})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed here"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),m?n.jsx("input",{type:"tel",value:O.phone,onChange:K=>Y("phone",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"+1 (555) 000-0000"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(id,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:O.phone||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(Y0,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:Se(O.role)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),m?n.jsx("input",{type:"text",value:O.location,onChange:K=>Y("location",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"City, Country"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(aa,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:O.location||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),m?n.jsx("input",{type:"text",value:O.company_name,onChange:K=>Y("company_name",K.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Your company or agency"}):n.jsx("div",{className:"text-gray-900 dark:text-white",children:O.company_name||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),m?n.jsx("textarea",{value:O.bio,onChange:K=>Y("bio",K.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Tell us about yourself..."}):n.jsx("div",{className:"text-gray-900 dark:text-white",children:O.bio||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Member Since"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[n.jsx(bi,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:fe(O.created_at||(t==null?void 0:t.created_at)||void 0)})]})]})]})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Account Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your password to keep your account secure"})]}),n.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Change Password"})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b?"Enabled":"Add an extra layer of security to your account"})]}),n.jsx("button",{onClick:xe,className:`px-4 py-2 rounded-lg transition-colors ${b?"bg-green-600 hover:bg-green-700 text-white":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b?"Disable":"Enable"})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanently delete your account and all data"})]}),n.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Change Password"}),n.jsx("button",{onClick:()=>{N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:de,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password *"}),n.jsx("input",{type:"password",value:C.currentPassword,onChange:K=>G({...C,currentPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password *"}),n.jsx("input",{type:"password",value:C.newPassword,onChange:K=>G({...C,newPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:8}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Must be at least 8 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password *"}),n.jsx("input",{type:"password",value:C.confirmPassword,onChange:K=>G({...C,confirmPassword:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{N(!1),G({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Change Password"})]})]})]})})]}):n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(Ba,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Configuration Required"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Supabase is not configured. Please check your environment variables."})]})}):n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(Ba,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Not Signed In"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please sign in to view your profile."}),n.jsx("button",{onClick:()=>e("/auth/login"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Sign In"})]})})},Cie=()=>{const[e,t]=P.useState("search"),[r,a]=P.useState(!1),[s,i]=P.useState({name:"",email:"",subject:"",message:""}),[o,l]=P.useState({title:"",description:"",priority:"Medium",category:"General"}),c=[{id:"1",title:"Issue with property application",status:"Pending",date:"2025-01-10"},{id:"2",title:"Payment processing question",status:"Resolved",date:"2025-01-08"},{id:"3",title:"Account access problem",status:"Pending",date:"2025-01-12"}],u=[{id:"1",title:"New Booking Request",description:"You have a new booking request for Modern Downtown Apartment",timestamp:"2 hours ago"},{id:"2",title:"Upcoming Appointment",description:"Reminder: Appointment with Sarah Johnson tomorrow at 10:00 AM",timestamp:"5 hours ago"},{id:"3",title:"Payment Received",description:"Payment of $2,500.00 received for Luxury Condo with City View",timestamp:"1 day ago"}],h=g=>{g.preventDefault(),console.log("Form submitted:",s),i({name:"",email:"",subject:"",message:""}),alert("Message sent successfully!")},f=g=>{g.preventDefault(),console.log("New ticket:",o),a(!1),l({title:"",description:"",priority:"Medium",category:"General"}),alert("Ticket created successfully!")};return n.jsxs("div",{className:"space-y-6 font-sans",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx(gc,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Help & Support"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ya,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"24/7"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Available"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(vn,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"+20%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Response Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Ar,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"98%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Satisfaction Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 bg-primary rounded-lg",children:n.jsx(Or,{className:"w-6 h-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Report"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Tickets"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>t("search"),className:`px-4 py-2 rounded-lg transition-colors ${e==="search"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Search"}),n.jsx("button",{onClick:()=>t("contact"),className:`px-4 py-2 rounded-lg transition-colors ${e==="contact"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact Us"}),n.jsx("button",{onClick:()=>t("tickets"),className:`px-4 py-2 rounded-lg transition-colors ${e==="tickets"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"My Tickets"}),n.jsx("button",{onClick:()=>t("notifications"),className:`px-4 py-2 rounded-lg transition-colors ${e==="notifications"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Notifications"})]})}),e==="search"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"How can we help you?"}),n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search our knowledge base or guides",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Do you have any specific questions?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Or,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Help Center"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Uo,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Live Chat"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Pj,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Micro Support"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(wn,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Email Support"})]})]})]})]}),e==="contact"&&n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Send us a Message"}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),n.jsx("input",{type:"text",value:s.name,onChange:g=>i({...s,name:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:s.email,onChange:g=>i({...s,email:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:s.subject,onChange:g=>i({...s,subject:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),n.jsx("textarea",{value:s.message,onChange:g=>i({...s,message:g.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Send Message"})]})]}),e==="tickets"&&n.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Support Ticket"}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:[n.jsx(Cl,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"New Ticket"})]})]}),n.jsx("div",{className:"space-y-4",children:c.map(g=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-1",children:g.title}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.date).toLocaleDateString()})]}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${g.status==="Resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.status})]})},g.id))})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Create New Ticket"}),n.jsx("button",{onClick:()=>{a(!1),l({title:"",description:"",priority:"Medium",category:"General"})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:n.jsx(xr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticket Title *"}),n.jsx("input",{type:"text",value:o.title,onChange:g=>l({...o,title:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),n.jsxs("select",{value:o.category,onChange:g=>l({...o,category:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"General",children:"General"}),n.jsx("option",{value:"Technical",children:"Technical"}),n.jsx("option",{value:"Billing",children:"Billing"}),n.jsx("option",{value:"Feature Request",children:"Feature Request"}),n.jsx("option",{value:"Bug Report",children:"Bug Report"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority *"}),n.jsxs("select",{value:o.priority,onChange:g=>l({...o,priority:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),n.jsx("textarea",{value:o.description,onChange:g=>l({...o,description:g.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{a(!1),l({title:"",description:"",priority:"Medium",category:"General"})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors",children:"Create Ticket"})]})]})]})}),e==="notifications"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Notification"}),n.jsx("div",{className:"space-y-4",children:u.map(g=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(du,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-1",children:g.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),n.jsx("p",{className:"text-xs text-gray-400",children:g.timestamp})]})]})},g.id))})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"How can we help you?"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search our knowledge base or guides",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Or,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Help Center"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Uo,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Live Chat"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(Pj,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Micro Support"})]}),n.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx(wn,{className:"w-8 h-8 text-primary mb-3"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Email Support"})]})]})]})]})]})},G9=P.createContext(),Lie=({children:e})=>{const[t,r]=P.useState(!1),a=()=>r(!0),s=()=>r(!1),i=()=>r(o=>!o);return n.jsx(G9.Provider,{value:{isChatOpen:t,openChat:a,closeChat:s,toggleChat:i},children:e})},Y9=()=>{const e=P.useContext(G9);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},rN="/assets/logo-icon-zLgN4gJ7.png",Pie=()=>{const[e,t]=P.useState(!1),[r,a]=P.useState(!1),[s,i]=P.useState(!1),o=P.useRef(null),{closeChat:l}=Y9(),{isAuthenticated:c,profile:u,getDisplayName:h,getAvatarUrl:f,getRole:g,signOut:m}=Z1(),y=vr();P.useEffect(()=>{const k=S=>{o.current&&!o.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const x=async()=>{await m(),i(!1),y("/")},N=()=>{i(!1),w(),y("/manager/dashboard")},b=()=>{i(!1),w(),y("/manager/dashboard/profile")};P.useEffect(()=>{let k=!1;const S=()=>{k||(window.requestAnimationFrame(()=>{window.scrollY>100?t(!0):t(!1),k=!1}),k=!0)};return S(),window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[]);const w=()=>{l(),a(!1)};return n.jsx("header",{className:`fixed w-full z-50 transition-all duration-1000 ease-in-out ${e?"bg-primary shadow-xl py-2":"bg-primary/0 py-4"}`,children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("a",{href:"/",className:"text-2xl font-bold flex items-center gap-2",onClick:w,children:[n.jsx("img",{src:rN,alt:"Estospaces Logo",className:`h-8 w-auto object-contain transition-all duration-1000 ${e?"brightness-0 invert":""}`}),n.jsx("span",{className:"text-white font-bold text-xl",children:"Estospaces"})]})}),n.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:["Features","How It Works","FAQ","Join Waitlist"].map(k=>n.jsx("a",{href:`#${k.toLowerCase().replace(/\s+/g,"-")}`,onClick:w,className:`text-sm font-medium transition-colors duration-300 ${e?"text-white hover:text-gray-200":"text-white hover:text-primary"}`,children:k},k))}),n.jsx("div",{className:"hidden md:flex items-center space-x-3",children:c?n.jsxs("div",{className:"relative",ref:o,children:[n.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 ${e?"hover:bg-white/10":"hover:bg-white/20"}`,children:[f()?n.jsx("img",{src:f(),alt:h(),className:"w-8 h-8 rounded-full object-cover border-2 border-white/50"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/50",children:n.jsx(Nn,{size:16,className:"text-white"})}),n.jsx("span",{className:"text-white font-medium text-sm max-w-[120px] truncate",children:h()}),n.jsx(xf,{size:16,className:`text-white transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:h()}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:g()})]}),n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:N,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Dg,{size:18,className:"text-gray-400"}),"Dashboard"]}),n.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(qc,{size:18,className:"text-gray-400"}),"Profile Settings"]})]}),n.jsx("div",{className:"border-t border-gray-100 pt-1",children:n.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(Zy,{size:18}),"Sign Out"]})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>y("/auth/login"),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 flex items-center gap-2 ${e?"text-white hover:bg-white/10":"text-white hover:bg-white/20"}`,children:[n.jsx(Rj,{size:18}),"Login"]}),n.jsxs("button",{onClick:()=>y("/auth/signup"),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl ${e?"bg-white text-primary hover:bg-gray-100":"bg-primary text-white hover:bg-opacity-90"}`,children:[n.jsx(Pw,{size:18}),"Sign Up"]})]})}),n.jsx("button",{className:`md:hidden ${e?"text-white":"text-primary"}`,onClick:()=>a(!r),children:r?n.jsx(xr,{size:24}):n.jsx(TV,{size:24})})]}),r&&n.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white dark:bg-gray-900 shadow-lg dark:shadow-gray-800/50 py-4 px-4 flex flex-col space-y-4 border-t border-gray-100 dark:border-gray-800",children:[["Features","How It Works","FAQ","Join Waitlist"].map(k=>n.jsx("a",{href:`#${k.toLowerCase().replace(/\s+/g,"-")}`,className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:w,children:k},k)),c?n.jsxs("div",{className:"flex flex-col gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[f()?n.jsx("img",{src:f(),alt:h(),className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Nn,{size:20,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:h()}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:g()})]})]}),n.jsxs("button",{onClick:()=>{w(),y("/manager/dashboard")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx(Dg,{size:18}),"Dashboard"]}),n.jsxs("button",{onClick:()=>{w(),y("/manager/dashboard/profile")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx(qc,{size:18}),"Profile Settings"]}),n.jsxs("button",{onClick:()=>{w(),x()},className:"text-red-600 font-medium hover:text-red-700 flex items-center gap-2 py-2",children:[n.jsx(Zy,{size:18}),"Sign Out"]})]}):n.jsxs("div",{className:"flex flex-col gap-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("button",{onClick:()=>{w(),y("/auth/login")},className:"text-gray-800 dark:text-gray-100 font-medium hover:text-primary dark:hover:text-primary flex items-center gap-2 py-2 transition-colors",children:[n.jsx(Rj,{size:18}),"Login"]}),n.jsxs("button",{onClick:()=>{w(),y("/auth/signup")},className:"bg-primary text-white px-6 py-3 rounded-full font-medium w-full flex items-center justify-center gap-2 hover:bg-opacity-90 transition-all",children:[n.jsx(Pw,{size:18}),"Sign Up"]})]})]})]})})},Mie=(e=.5)=>{const[t,r]=P.useState(0);return P.useEffect(()=>{const a=()=>{requestAnimationFrame(()=>{r(window.scrollY*e)})};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),t},Rie="/assets/hero-section-video-BscMj0bT.mp4",Oie=()=>{const[e,t]=P.useState("buy"),r=Mie(.5);return n.jsxs("div",{className:"relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0 will-change-transform",style:{transform:`translateY(${r}px)`},children:[n.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:n.jsx("source",{src:Rie,type:"video/mp4"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})]}),n.jsxs("div",{className:"relative z-10 container mx-auto px-4 pt-20",children:[n.jsxs("div",{className:"text-center text-white mb-12",children:[n.jsxs("h1",{className:"text-6xl md:text-8xl font-medium mb-6 animate-fade-in-up leading-none font-serif tracking-tighter",children:[n.jsx("span",{className:"text-white drop-shadow-lg",children:"Discover your"}),n.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-primary via-amber-400 to-orange-600 font-bold italic pr-4 pb-2",children:"Dream Home"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-white max-w-3xl mx-auto animate-fade-in-up delay-100 font-light leading-relaxed drop-shadow-lg",children:"Experience properties like never before with immersive virtual tours and verified listings"})]}),n.jsxs("div",{className:"max-w-5xl mx-auto bg-white bg-opacity-10 backdrop-blur-md rounded-lg p-1 animate-fade-in-up delay-200",children:[n.jsxs("div",{className:"inline-flex p-1 bg-white/10 backdrop-blur-sm rounded-t-xl border border-white/20 border-b-0",children:[n.jsxs("button",{className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-sm tracking-wide transition-all duration-300 ${e==="buy"?"bg-primary text-white shadow-lg shadow-primary/30 scale-[1.02]":"text-white/80 hover:text-white hover:bg-white/10"}`,onClick:()=>t("buy"),children:[n.jsx(dV,{size:18,className:e==="buy"?"animate-pulse":""}),"Buy"]}),n.jsxs("button",{className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-sm tracking-wide transition-all duration-300 ${e==="rent"?"bg-primary text-white shadow-lg shadow-primary/30 scale-[1.02]":"text-white/80 hover:text-white hover:bg-white/10"}`,onClick:()=>t("rent"),children:[n.jsx(cc,{size:18,className:e==="rent"?"animate-pulse":""}),"Rent"]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-b-xl rounded-tr-xl shadow-2xl grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Keyword"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(us,{size:18,className:"text-primary mr-2"}),n.jsx("input",{type:"text",placeholder:"Enter Keyword...",className:"w-full outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-900"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Location"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(aa,{size:18,className:"text-primary mr-2"}),n.jsxs("select",{className:"w-full outline-none text-gray-900 dark:text-gray-100 bg-transparent dark:bg-gray-900 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Countries"}),n.jsx("option",{value:"india",children:"India"}),n.jsx("option",{value:"usa",children:"United States"}),n.jsx("option",{value:"uk",children:"United Kingdom"}),n.jsx("option",{value:"canada",children:"Canada"}),n.jsx("option",{value:"australia",children:"Australia"}),n.jsx("option",{value:"uae",children:"United Arab Emirates"}),n.jsx("option",{value:"singapore",children:"Singapore"})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Type"}),n.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx(mr,{size:18,className:"text-primary mr-2"}),n.jsxs("select",{className:"w-full outline-none text-gray-900 dark:text-gray-100 bg-transparent dark:bg-gray-900 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"apartment",children:"Apartment"}),n.jsx("option",{value:"villa",children:"Villa"}),n.jsx("option",{value:"office",children:"Office"})]})]})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors",title:"Advanced Search",children:n.jsx(qc,{size:20})}),n.jsxs("button",{className:"flex-1 bg-primary text-white py-3 rounded font-bold hover:bg-opacity-90 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[n.jsx(us,{size:20}),"Search"]})]})]})]})]})]})},Die=()=>{const e=[{icon:n.jsx(fa,{className:"text-primary"}),title:"Virtual Property Tours",description:"Explore properties from anywhere with immersive 3D walkthroughs."},{icon:n.jsx(nu,{className:"text-primary"}),title:"Verified Listings",description:"Every property is verified. No fake listings, no wasted time."},{icon:n.jsx(bf,{className:"text-primary"}),title:"Seamless Journey",description:"From discovery to closingeverything in one smooth experience."},{icon:n.jsx(BV,{className:"text-primary"}),title:"Broker Network",description:"Connect with trusted, verified brokers across the platform."}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{id:"features",className:"py-24 bg-gray-50 dark:bg-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-96 h-96 bg-gray-800/5 dark:bg-gray-600/5 rounded-full blur-3xl"})]}),n.jsxs(Yt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs(Yt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["Real Estate, ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Reimagined."})]}),n.jsx(Yt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},className:"text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:"Estospaces is a virtual-first platform that transforms how you discover, explore, and secure properties."})]}),n.jsx(Yt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((a,s)=>n.jsxs(Yt.div,{variants:r,className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-2 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-primary to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(Yt.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:s*.5},className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-6 group-hover:bg-primary group-hover:text-white transition-colors duration-300",children:oc.cloneElement(a.icon,{className:"text-primary group-hover:text-white transition-colors duration-300",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 group-hover:text-primary transition-colors duration-300",children:a.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:a.description})]},s))})]})]})},Iie=()=>{const[e,t]=P.useState(!1),[r,a]=P.useState(null),[s,i]=P.useState(!1);return{submitToWaitlist:async c=>{if(t(!0),a(null),i(!1),!Ke)return a("Waitlist feature is not configured yet. Please contact support."),t(!1),{success:!1,error:"Supabase not configured"};try{const{error:u}=await Ke.from("waitlist").insert([{user_type:c.userType,name:c.name,email:c.email,phone:c.phone||null,location:c.location,looking_for:c.lookingFor}]);if(u)throw u.code==="23505"?new Error("This email is already registered on our waitlist."):u;return i(!0),{success:!0}}catch(u){const h=u.message||"Failed to join waitlist. Please try again.";return a(h),{success:!1,error:h}}finally{t(!1)}},loading:e,error:r,success:s,resetState:()=>{a(null),i(!1),t(!1)}}},Fie=({message:e,type:t="success",isVisible:r,onClose:a,duration:s=5e3})=>{P.useEffect(()=>{if(r&&s){const c=setTimeout(()=>{a()},s);return()=>clearTimeout(c)}},[r,s,a]);const i={success:{bg:"bg-green-500",icon:Ar,iconColor:"text-white"},error:{bg:"bg-red-500",icon:As,iconColor:"text-white"}},o=i[t]||i.success,l=o.icon;return n.jsx($s,{children:r&&n.jsxs(Yt.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:`fixed top-6 left-1/2 z-[100] ${o.bg} text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 min-w-[300px] max-w-[500px]`,children:[n.jsx(l,{className:o.iconColor,size:24}),n.jsx("p",{className:"flex-1 font-medium",children:e}),n.jsx("button",{onClick:a,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(xr,{size:18})})]})})},aN=({isOpen:e,onClose:t})=>{const{submitToWaitlist:r,loading:a,error:s,success:i}=Iie(),[o,l]=P.useState({userType:"",name:"",email:"",phone:"",location:"",lookingFor:""}),[c,u]=P.useState({}),[h,f]=P.useState({isVisible:!1,message:"",type:"success"}),g=(w,k="success")=>{f({isVisible:!0,message:w,type:k})},m=()=>{f({...h,isVisible:!1})},y=[{value:"buyer",label:"Buyer",icon:mr,description:"Looking to buy a property"},{value:"renter",label:"Renter",icon:Nn,description:"Looking to rent a property"},{value:"seller",label:"Seller",icon:Hs,description:"Want to list a property"}],x=()=>{const w={};return o.userType||(w.userType="Please select a user type"),o.name.trim()||(w.name="Name is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(w.email="Please enter a valid email"):w.email="Email is required",o.location.trim()||(w.location="Location is required"),o.lookingFor.trim()||(w.lookingFor="Please tell us what you're looking for"),u(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),!x())return;const k=await r(o);k.success?(g(" Welcome to Estospaces! You've successfully joined our waitlist.","success"),setTimeout(()=>{l({userType:"",name:"",email:"",phone:"",location:"",lookingFor:""}),u({}),t()},2e3)):k.error&&g(k.error,"error")},b=(w,k)=>{l(S=>({...S,[w]:k})),c[w]&&u(S=>({...S,[w]:""}))};return n.jsxs(n.Fragment,{children:[n.jsx(Fie,{message:h.message,type:h.type,isVisible:h.isVisible,onClose:m,duration:5e3}),n.jsx($s,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),n.jsxs(Yt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"relative w-full max-w-lg max-h-[90vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors z-10",children:n.jsx(xr,{size:24,className:"text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto max-h-[90vh] scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-3 font-serif",children:["Join the ",n.jsx("span",{className:"text-primary",children:"Waitlist"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Be among the first to experience the future of real estate"})]}),i&&n.jsxs(Yt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-4 p-6 bg-green-50 border border-green-200 rounded-xl text-center",children:[n.jsx(Ar,{className:"text-green-600 mx-auto mb-2",size:28}),n.jsx("p",{className:"text-green-700 font-medium",children:"Success! Closing..."})]}),s&&n.jsxs(Yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-6 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[n.jsx(Ba,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-red-900 mb-1",children:"Oops!"}),n.jsx("p",{className:"text-red-700",children:s})]})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-3",children:["I am a... ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(w=>{const k=w.icon;return n.jsxs("button",{type:"button",onClick:()=>b("userType",w.value),className:`p-4 rounded-2xl border-2 transition-all duration-300 text-left ${o.userType===w.value?"border-primary bg-primary/5 dark:bg-primary/10 shadow-lg":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(k,{className:`mb-2 ${o.userType===w.value?"text-primary":"text-gray-400"}`,size:28}),n.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100 mb-1",children:w.label}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.description})]},w.value)})}),c.userType&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.userType})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"text",value:o.name,onChange:w=>b("name",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.name?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"John Doe"})]}),c.name&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(wn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"email",value:o.email,onChange:w=>b("email",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.email?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"john@example.com"})]}),c.email&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.email})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Phone Number ",n.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:"(Optional)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(id,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"tel",value:o.phone,onChange:w=>b("phone",w.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"+1 (555) 000-0000"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["Location/City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),n.jsx("input",{type:"text",value:o.location,onChange:w=>b("location",w.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.location?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"New York, NY"})]}),c.location&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.location})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2",children:["What are you looking for? ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Uo,{className:"absolute left-4 top-4 text-gray-400 pointer-events-none",size:20}),n.jsx("textarea",{value:o.lookingFor,onChange:w=>b("lookingFor",w.target.value),rows:4,className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl outline-none transition-colors resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${c.lookingFor?"border-red-300 focus:border-red-500":"border-gray-200 dark:border-gray-700 focus:border-primary"}`,placeholder:"Tell us about your ideal property, budget, preferences, etc."})]}),c.lookingFor&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.lookingFor})]}),n.jsx("button",{type:"submit",disabled:a||i,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 ${a||i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary to-orange-600 text-white hover:shadow-xl transform hover:scale-[1.02]"}`,children:a?"Joining...":i?"Joined!":"Reserve Your Spot"})]})]})]})]})})]})},Bie=()=>{const[e,t]=P.useState(!1),r=[{icon:n.jsx(fa,{size:24}),text:"Virtual Tours"},{icon:n.jsx(OV,{size:24}),text:"Verified Brokers"},{icon:n.jsx(HV,{size:24}),text:"Seamless Connections"}];return n.jsxs("section",{className:"py-32 bg-gradient-to-b from-white dark:from-gray-900 via-gray-50 dark:via-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[10%] right-[5%] w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[10%] left-[5%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-gray-100 mb-8 tracking-tight leading-tight",children:["Experience Properties",n.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-500 to-orange-600",children:"Like Never Before"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-12 leading-relaxed max-w-3xl mx-auto",children:"Virtual tours. Verified brokers. Seamless connections. Estospaces brings it all together in one powerful platform built for modern property seekers."}),n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:r.map((a,s)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-3 rounded-full shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 flex items-center gap-2 group hover:-translate-y-1",children:[n.jsx("div",{className:"text-primary group-hover:scale-110 transition-transform",children:a.icon}),n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:a.text})]},s))}),n.jsxs("div",{className:"relative inline-block group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-orange-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),n.jsxs("button",{onClick:()=>t(!0),className:"relative bg-gradient-to-r from-primary to-orange-600 text-white px-12 py-5 rounded-full font-bold text-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 mx-auto transform group-hover:scale-105 border border-white/20",children:["Join the Waitlist",n.jsx(mh,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})]}),n.jsx("p",{className:"mt-8 text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase",children:"Be among the first  No commitment required"})]})}),n.jsx(aN,{isOpen:e,onClose:()=>t(!1)})]})},K9="/assets/modern-apartment-B4mh49G1.png",zie=()=>{const e=P.useRef(null),{scrollYProgress:t}=die({target:e,offset:["start end","end start"]}),r=fie(t,[0,1],["-20%","20%"]);return n.jsxs("section",{ref:e,className:"py-32 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:n.jsx(Yt.div,{style:{y:r,backgroundImage:`url(${K9})`},className:"absolute inset-0 w-full h-[120%] -top-[10%] bg-cover bg-center"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/80 via-black/70 to-black/80 z-0"}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-10 leading-tight drop-shadow-lg",children:["Real Estate Shouldn't Be ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500",children:"This Hard."})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed max-w-3xl mx-auto font-light",children:"Endless property visits drain your time and money. Limited broker visibility means you miss great options. Fake listings destroy trust. And outdated, flat images don't show you what you really need to see."}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-12 rounded-3xl shadow-2xl transform hover:scale-[1.02] transition-all duration-500 hover:shadow-[0_20px_50px_-10px_rgba(0,0,0,0.5)] group relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-orange-400 to-primary opacity-50"}),n.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-md group-hover:text-primary transition-colors duration-300",children:"Estospaces changes everything."}),n.jsx("p",{className:"text-lg md:text-xl text-gray-300 group-hover:text-white transition-colors duration-300",children:"A virtual-first platform built for trust, transparency, and a seamless property journey."})]})]})})]})},Uie=()=>{const e=[{icon:n.jsx(Jx,{className:"text-white",size:32}),number:"01",title:"Brokers Verify & Create",description:"Verified brokers create immersive virtual tours of their properties."},{icon:n.jsx(fa,{className:"text-white",size:32}),number:"02",title:"You Explore Virtually",description:"Discover and tour properties from anywhereno travel required."},{icon:n.jsx(uu,{className:"text-white",size:32}),number:"03",title:"Connect & Close",description:"Reach out to brokers, finalize details, and close deals seamlessly."}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return n.jsxs("section",{id:"how-it-works",className:"py-32 bg-gradient-to-b from-gray-50 dark:from-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[15%] left-[5%] w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[15%] right-[5%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs(Yt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs(Yt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["How ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Estospaces"})," Works"]}),n.jsx(Yt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},className:"text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:"A simple, transparent process powered by verified brokers and virtual technology."})]}),n.jsx(Yt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl mx-auto",children:e.map((a,s)=>n.jsxs(Yt.div,{variants:r,className:"relative group",children:[s<e.length-1&&n.jsxs("div",{className:"hidden md:flex absolute top-20 left-[60%] w-[80%] items-center justify-center z-0",children:[n.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-primary/30 to-transparent"}),n.jsx(mh,{className:"text-primary/30 absolute right-0",size:24})]}),n.jsxs("div",{className:"relative z-10 text-center bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 h-full flex flex-col items-center",children:[n.jsxs(Yt.div,{animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:s*1},className:"inline-flex items-center justify-center w-28 h-28 bg-gradient-to-br from-primary to-orange-600 rounded-2xl mb-6 shadow-xl relative",children:[a.icon,n.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center border-2 border-primary/20 dark:border-primary/40",children:n.jsx("span",{className:"text-primary font-bold text-lg",children:a.number})})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 group-hover:text-primary transition-colors duration-300",children:a.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:a.description}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-b-3xl"})]})]},s))}),n.jsxs(Yt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:1,duration:1},className:"text-center mt-16",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase mb-4",children:"Simple  Transparent  Effective"}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"w-2 h-2 bg-primary/30 rounded-full animate-bounce delay-200"})]})]})]})})]})},Vie=()=>{const e=[{icon:n.jsx(cc,{className:"text-white",size:36}),value:"Virtual First",label:"Platform"},{icon:n.jsx(vC,{className:"text-white",size:36}),value:"Verified",label:"Brokers & Listings"},{icon:n.jsx(uu,{className:"text-white",size:36}),value:"Trusted",label:"Broker Network"}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{className:"py-32 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] left-[10%] w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"})]}),n.jsxs(Yt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-4xl mx-auto",children:[n.jsxs(Yt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,ease:[.2,.8,.2,1]},className:"text-5xl md:text-6xl font-bold mb-6 tracking-tight leading-tight",children:[n.jsx("span",{className:"text-white",children:"Built for the Future of"})," ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-400 to-orange-600",children:"Real Estate"})]}),n.jsx(Yt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,delay:.2,ease:[.2,.8,.2,1]},className:"text-xl text-gray-200 leading-relaxed",children:"Estospaces brings together cutting-edge virtual technology, verified brokers, and a trusted ecosystem."})]}),n.jsx(Yt.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:e.map((a,s)=>n.jsxs(Yt.div,{variants:r,className:"bg-white/5 backdrop-blur-sm border border-white/10 p-10 rounded-3xl text-center hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl group",children:[n.jsx(Yt.div,{animate:{y:[0,-8,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:s*.5},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-orange-600 rounded-2xl mb-6 shadow-xl group-hover:scale-110 transition-transform duration-300",children:a.icon}),n.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-3 text-white",children:a.value}),n.jsx("div",{className:"text-lg text-gray-100",children:a.label})]},s))})]})]})},p2=({className:e,testimonials:t,duration:r=10})=>n.jsx("div",{className:e,children:n.jsx(Yt.div,{animate:{translateY:"-50%"},transition:{duration:r,repeat:1/0,ease:"linear",repeatType:"loop"},className:"flex flex-col gap-6 pb-6",children:[...new Array(2)].map((a,s)=>n.jsx(oc.Fragment,{children:t.map(({content:i,image:o,name:l,role:c},u)=>n.jsxs("div",{className:"p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-lg bg-white dark:bg-gray-800 max-w-xs w-full",children:[n.jsxs("div",{className:"text-gray-600 dark:text-gray-300 leading-relaxed italic",children:['"',i,'"']}),n.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[n.jsx("img",{width:40,height:40,src:o,alt:l,className:"h-10 w-10 rounded-full object-cover border border-gray-200 dark:border-gray-600"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:l}),n.jsx("div",{className:"text-xs text-primary font-medium",children:c})]})]})]},u))},s))})}),nN=[{name:"Sarah Jenkins",role:"Homebuyer",content:"Estospaces completely changed how I looked for a home. The virtual tours felt so real that I only visited two properties in person before buying one!",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Michael Chen",role:"Real Estate Investor",content:"The verified broker network is a game-changer. I've wasted so much time with fake listings on other platforms. Estospaces is pure efficiency.",image:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Priya Patel",role:"Tenant",content:"Found my dream apartment in Mumbai without leaving my couch in Bangalore. The 3D walkthroughs gave me the confidence to book instantly.",image:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"David Wilson",role:"Property Manager",content:"Listing our properties here has reduced our site visit overhead by 70%. We only meet serious buyers now. Highly recommended!",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Emily Rodriguez",role:"First-time Buyer",content:"I was overwhelmed by the process until I found Estospaces. The transparency and ease of use made buying my first condo a breeze.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"James Carter",role:"Broker",content:"Finally, a platform that values professional brokers. The leads I get here are high-quality and actually ready to transact.",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Anita Roy",role:"Architect",content:"The visual fidelity of the 3D tours is impressive. It captures the architectural details that usually get lost in standard photos.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Robert Fox",role:"Developer",content:"We launched our latest project exclusively on Estospaces and sold out 40% of units within the first week. The platform works.",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},{name:"Lisa Wang",role:"Interior Designer",content:"I use Estospaces to show clients potential layouts. The immersive experience helps them visualize the potential of a space immediately.",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}],qie=nN.slice(0,3),$ie=nN.slice(3,6),Hie=nN.slice(6,9),Wie=()=>n.jsx("section",{id:"reviews",className:"bg-gray-50 dark:bg-gray-900 py-24 relative overflow-hidden",children:n.jsxs("div",{className:"container z-10 mx-auto px-4",children:[n.jsxs(Yt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.1,ease:[.16,1,.3,1]},viewport:{once:!0},className:"flex flex-col items-center justify-center max-w-3xl mx-auto mb-16",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"border border-primary/30 bg-primary/5 text-primary py-1 px-4 rounded-full text-sm font-medium",children:"Testimonials"})}),n.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4 font-serif text-center",children:["Loved by ",n.jsx("span",{className:"text-primary",children:"Thousands"})]}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 text-center max-w-2xl",children:"See what buyers, renters, and brokers are saying about their experience with Estospaces."})]}),n.jsxs("div",{className:"flex justify-center gap-6 [mask-image:linear-gradient(to_bottom,transparent,black_10%,black_90%,transparent)] max-h-[400px] overflow-hidden",children:[n.jsx(p2,{testimonials:qie,duration:40}),n.jsx(p2,{testimonials:$ie,className:"hidden md:block",duration:50}),n.jsx(p2,{testimonials:Hie,className:"hidden lg:block",duration:45})]})]})}),Gie=()=>{const[e,t]=P.useState(!1),r=[{icon:n.jsx(fa,{className:"text-primary",size:24}),text:"First access to virtual property tours"},{icon:n.jsx(nu,{className:"text-primary",size:24}),text:"Exclusive verified listings before public launch"},{icon:n.jsx(du,{className:"text-primary",size:24}),text:"Early notifications for new properties"},{icon:n.jsx(bf,{className:"text-primary",size:24}),text:"Influence platform features as a founding user"},{icon:n.jsx(vC,{className:"text-primary",size:24}),text:"Founding member perks and priority support"}],a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},s={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:1.4,ease:[.2,.8,.2,1]}}};return n.jsxs("section",{id:"join-waitlist",className:"relative py-32 overflow-hidden min-h-[800px] flex items-center",children:[n.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${K9})`,backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"cover"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/90 via-black/70 to-black/90 z-10"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)] z-10 pointer-events-none"}),n.jsx(Yt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.2,.8,.2,1]},className:"container mx-auto px-4 relative z-20",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("div",{className:"mb-20 animate-fade-in-up",children:[n.jsxs(Yt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,ease:[.2,.8,.2,1]},className:"text-5xl md:text-7xl font-bold mb-6 text-white tracking-tight drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)]",children:["Join the ",n.jsxs("span",{className:"text-primary relative inline-block",children:["Waitlist",n.jsx("span",{className:"absolute bottom-0 left-0 w-full h-2 bg-primary/30 blur-sm"})]})]}),n.jsx(Yt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,delay:.2,ease:[.2,.8,.2,1]},className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto font-light drop-shadow-md",children:"Be among the first to experience the future of real estate with exclusive access to virtual tours and verified listings."})]}),n.jsx(Yt.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20 perspective-1000",children:r.slice(0,3).map((i,o)=>n.jsxs(Yt.div,{variants:s,className:"bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl hover:bg-white/10 transition-all duration-500 group hover:-translate-y-4 hover:shadow-[0_10px_25px_-10px_rgba(249,115,22,0.2)] relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsx(Yt.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:o*.5},className:"w-16 h-16 bg-gradient-to-br from-primary to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-md group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:oc.cloneElement(i.icon,{className:"text-white w-8 h-8"})}),n.jsx("p",{className:"text-xl font-medium text-white relative z-10",children:i.text})]},o))}),n.jsxs("div",{className:"animate-fade-in-up delay-200 relative z-30",children:[n.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full transform scale-150 opacity-0 hover:opacity-100 transition-opacity duration-700"}),n.jsxs("button",{onClick:()=>t(!0),className:"relative bg-gradient-to-r from-primary to-orange-600 text-white px-12 py-6 rounded-full font-bold text-xl hover:shadow-[0_0_30px_rgba(249,115,22,0.4)] transform hover:scale-105 transition-all duration-300 flex items-center gap-3 mx-auto border border-white/20",children:["Reserve Your Spot",n.jsx(bf,{size:24,className:"fill-current animate-pulse"})]}),n.jsx("p",{className:"mt-8 text-gray-400 text-sm tracking-[0.2em] uppercase font-medium",children:"Limited Spots Available  No Commitment"})]})]})}),n.jsx(aN,{isOpen:e,onClose:()=>t(!1)})]})},Yie=()=>n.jsxs("section",{className:"py-32 bg-gradient-to-br from-primary/5 via-orange-50 dark:via-gray-900 to-primary/10 dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] left-[10%] w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-80 h-80 bg-orange-300/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight",children:[n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"We're Launching "}),n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-500 to-orange-600",children:"Soon."})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed mb-12 max-w-3xl mx-auto",children:"Stay tuned for new updates, exclusive invites, and launch details. Be part of the revolution in real estate."}),n.jsxs("div",{className:"inline-block relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-orange-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),n.jsx("div",{className:"relative bg-white dark:bg-gray-800 px-10 py-5 rounded-full border-2 border-primary/20 dark:border-primary/40 shadow-xl transform group-hover:-translate-y-1 transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ZV,{className:"text-primary",size:28}),n.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600 font-bold text-2xl",children:"Launching Q1 2026"})]})})]}),n.jsxs("div",{className:"mt-12",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm tracking-wider uppercase mb-4",children:"Join the waitlist to get early access"}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce delay-200"})]})]})]})})]}),Kie=()=>{const[e,t]=P.useState(null),r=[{question:"What is Estospaces?",answer:"Estospaces is a virtual-first real estate platform that lets you explore properties through immersive 3D tours, connect with verified brokers, and complete your property journeyall online."},{question:"When will Estospaces launch?",answer:"We're launching soon! Join the waitlist to get notified first and receive early access."},{question:"Is the waitlist free?",answer:"Yes, joining the waitlist is completely free with no commitment required."},{question:"How are listings verified?",answer:"Every listing on Estospaces is created by verified brokers. We ensure authenticity so you never waste time on fake posts."}];return n.jsxs("section",{id:"faq",className:"py-32 bg-gradient-to-b from-white dark:from-gray-900 via-gray-50 dark:via-gray-900 to-white dark:to-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[20%] right-[10%] w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-96 h-96 bg-orange-200/10 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[n.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-gray-100 mb-6 tracking-tight",children:["Frequently Asked ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-600",children:"Questions"})]}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Everything you need to know about Estospaces"})]}),n.jsx("div",{className:"max-w-4xl mx-auto space-y-5",children:r.map((a,s)=>n.jsxs("div",{className:`bg-white dark:bg-gray-800 border-2 rounded-2xl overflow-hidden transition-all duration-300 shadow-md hover:shadow-xl ${e===s?"border-primary shadow-lg":"border-gray-100 dark:border-gray-700"}`,children:[n.jsxs("button",{className:"w-full px-8 py-6 text-left flex justify-between items-center transition-all duration-300 group",onClick:()=>t(e===s?null:s),children:[n.jsx("span",{className:`font-bold text-xl pr-8 transition-colors ${e===s?"text-primary":"text-gray-900 dark:text-gray-100 group-hover:text-primary"}`,children:a.question}),n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e===s?"bg-primary rotate-180":"bg-gray-100 dark:bg-gray-700 group-hover:bg-primary/10"}`,children:n.jsx(xf,{className:`transition-colors ${e===s?"text-white":"text-primary"}`,size:24})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===s?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"px-8 py-6 bg-gradient-to-br from-gray-50 dark:from-gray-800 to-white dark:to-gray-900 border-t border-gray-100 dark:border-gray-700",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:a.answer})})})]},s))}),n.jsx("div",{id:"contact",className:"text-center mt-16 max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-orange-50 p-8 rounded-3xl border border-primary/10 shadow-lg",children:[n.jsx(wn,{className:"text-primary mx-auto mb-4",size:32}),n.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-lg mb-4",children:"Still have questions? We're here to help!"}),n.jsxs("a",{href:"mailto:contact@estospaces.com",className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary to-orange-600 text-white px-8 py-3 rounded-full font-semibold hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Contact Us",n.jsx(wn,{size:18})]})]})})]})]})},Zie=()=>{const[e,t]=P.useState(!1),r=()=>{t(!0)},a=["Early access to platform","Exclusive launch offers","Priority support"];return n.jsxs("section",{className:"py-32 bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-[10%] left-[5%] w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-[10%] right-[5%] w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[n.jsxs("h2",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight leading-tight",children:["The Future of ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-400 to-orange-600",children:"Real Estate"}),n.jsx("span",{className:"block mt-2",children:"Starts Here"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Join the waitlist and be part of the virtual-first revolution in property discovery."}),n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:a.map((s,i)=>n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm px-5 py-2 rounded-full border border-white/20 flex items-center gap-2 hover:bg-white/20 transition-all duration-300",children:[n.jsx(SU,{className:"text-primary",size:18}),n.jsx("span",{className:"text-sm font-medium text-white dark:text-gray-100",children:s})]},i))}),n.jsx("div",{className:"max-w-2xl mx-auto mb-10",children:n.jsxs("button",{onClick:r,type:"button",className:"w-full bg-gradient-to-r from-primary to-orange-600 text-white px-10 py-5 rounded-full font-bold text-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:["Join Waitlist",n.jsx(mh,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})}),n.jsx("p",{className:"text-sm text-gray-400 mb-12",children:" No spam. Unsubscribe anytime. We respect your privacy."}),n.jsx("div",{className:"max-w-md mx-auto mb-8",children:n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"})}),n.jsx("div",{className:"text-gray-400",children:n.jsxs("p",{className:"text-lg",children:["Questions? Reach us at"," ",n.jsxs("a",{href:"mailto:contact@estospaces.com",className:"text-primary hover:text-orange-400 font-semibold transition-colors inline-flex items-center gap-1 group",children:["contact@estospaces.com",n.jsx(wn,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})})]})}),n.jsx(aN,{isOpen:e,onClose:()=>t(!1)})]})},Xie=()=>{const{closeChat:e}=Y9(),[t,r]=P.useState(""),[a,s]=P.useState(!1),[i,o]=P.useState(!1),[l,c]=P.useState(""),u=async()=>{if(!t.trim()||!t.includes("@")){c("Please enter a valid email address");return}o(!0),c("");try{if(!Ke)throw new Error("Newsletter feature is not configured yet.");const{error:f}=await Ke.from("newsletter_subscribers").insert([{email:t.trim().toLowerCase(),subscribed_at:new Date().toISOString(),source:"footer"}]);if(f)throw f.code==="23505"?new Error("This email is already subscribed!"):f;console.log("Email saved to Supabase:",t),s(!0),r(""),setTimeout(()=>{s(!1)},3e3)}catch(f){console.error("Error saving email:",f),c(f.message||"Failed to subscribe. Please try again."),setTimeout(()=>{c("")},3e3)}finally{o(!1)}},h=f=>{f.key==="Enter"&&u()};return n.jsxs("footer",{className:"bg-gray-900 text-white",children:[n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("img",{src:rN,alt:"Estospaces",className:"w-10 h-10 object-contain"}),n.jsx("span",{className:"font-bold text-xl",children:"Estospaces"})]}),n.jsx("p",{className:"text-gray-400 mb-4 max-w-sm",children:"A virtual-first real estate platform connecting buyers and renters with verified brokers through immersive 3D property tours."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("a",{href:"https://x.com/ESTOSPACES",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(CC,{size:18})}),n.jsx("a",{href:"https://www.instagram.com/estospaces/",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(NC,{size:18})}),n.jsx("a",{href:"https://www.linkedin.com/company/estospaces-solutions-private-limited",className:"bg-white bg-opacity-10 p-2 rounded-full hover:bg-primary transition-colors",children:n.jsx(jC,{size:18})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Pages"}),n.jsx("ul",{className:"space-y-2",children:[{name:"Home",link:"/"},{name:"Features",link:"#features"},{name:"Reviews",link:"#reviews"},{name:"Waitlist",link:"#join-waitlist"},{name:"About Us",link:"/about"},{name:"Contact",link:"#contact"}].map(f=>n.jsx("li",{children:n.jsx("a",{href:f.link,onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:f.name})},f.name))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Platform"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("a",{href:"#faq",onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:"FAQ"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms",onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:"Terms & Conditions"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stay Updated"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Get launch updates and early access."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"email",placeholder:"Your email",value:t,onChange:f=>r(f.target.value),onKeyDown:h,disabled:i,className:"flex-1 px-4 py-2 rounded bg-white bg-opacity-10 border border-gray-600 outline-none focus:border-primary transition-colors placeholder-gray-400 text-white disabled:opacity-50"}),n.jsx("button",{onClick:u,disabled:i,className:"bg-primary p-2 rounded hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsx(oo,{size:20,className:"animate-spin"}):n.jsx(Eh,{size:20})})]}),a&&n.jsx("p",{className:"text-green-400 text-sm mt-2 animate-fade-in",children:" Subscribed! We'll keep you updated."}),l&&n.jsxs("p",{className:"text-red-400 text-sm mt-2 animate-fade-in",children:[" ",l]})]})]})}),n.jsx("div",{className:"border-t border-gray-700",children:n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 Estospaces. All rights reserved."}),n.jsxs("div",{className:"flex gap-6 text-sm",children:[n.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-primary transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-primary transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-primary transition-colors",children:"Cookie Policy"})]})]})})})]})},es=[];for(let e=0;e<256;++e)es.push((e+256).toString(16).slice(1));function Jie(e,t=0){return(es[e[t+0]]+es[e[t+1]]+es[e[t+2]]+es[e[t+3]]+"-"+es[e[t+4]]+es[e[t+5]]+"-"+es[e[t+6]]+es[e[t+7]]+"-"+es[e[t+8]]+es[e[t+9]]+"-"+es[e[t+10]]+es[e[t+11]]+es[e[t+12]]+es[e[t+13]]+es[e[t+14]]+es[e[t+15]]).toLowerCase()}let x2;const Qie=new Uint8Array(16);function eoe(){if(!x2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x2=crypto.getRandomValues.bind(crypto)}return x2(Qie)}const toe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yA={randomUUID:toe};function roe(e,t,r){var s;e=e||{};const a=e.random??((s=e.rng)==null?void 0:s.call(e))??eoe();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Jie(a)}function aoe(e,t,r){return yA.randomUUID&&!e?yA.randomUUID():roe(e)}const noe=()=>{let e=localStorage.getItem("visitor_id");return e||(e=aoe(),localStorage.setItem("visitor_id",e)),e},soe=()=>{const[e,t]=P.useState(null),[r,a]=P.useState([]),[s,i]=P.useState(!1),[o,l]=P.useState(null),c=noe(),u=P.useCallback(async()=>{if(Ke){i(!0),l(null);try{const{data:m,error:y}=await Ke.from("conversations").select("*").eq("visitor_id",c).single();if(y&&y.code!=="PGRST116")throw y;m&&t(m)}catch{}finally{i(!1)}}},[c]),h=async({name:m=null,email:y=null}={})=>{if(!Ke){l("Chat is disabled: Missing Supabase configuration");return}if(!e){i(!0),l(null);try{const{data:x,error:N}=await Ke.from("conversations").insert([{visitor_id:c,visitor_name:m,visitor_email:y}]).select().single();if(N){if(N.code==="23505"){const{data:b}=await Ke.from("conversations").select("*").eq("visitor_id",c).single();t(b);return}throw N}if(t(x),x){const b=` Hi ${m}! Welcome to Estospaces.

Thank you for reaching out! How can we help you today?

Our team will respond to your message shortly.`,{data:w}=await Ke.from("messages").insert([{conversation_id:x.id,sender_type:"admin",message:b}]).select().single();w&&a([w]);try{console.log(" Sending admin notification email...");const{data:k,error:S}=await Ke.functions.invoke("send-chat-notification",{body:{name:m,email:y,conversationId:x.id,visitorId:c}});S?console.error(" Failed to invoke notification function:",S):console.log(" Admin notification sent successfully. Response:",k)}catch(k){console.error(" Error sending notification:",k)}}}catch(x){l(x.message||"Failed to start conversation")}finally{i(!1)}}},f=async m=>{if(!Ke){l("Chat is disabled: Missing Supabase configuration");return}if(!e)return;l(null);const y=`temp-${Date.now()}-${Math.random()}`,x={id:y,conversation_id:e.id,sender_type:"visitor",message:m,created_at:new Date().toISOString(),_isOptimistic:!0};a(N=>[...N,x]);try{const{data:N,error:b}=await Ke.from("messages").insert([{conversation_id:e.id,sender_type:"visitor",message:m}]).select().single();if(b)throw b;a(w=>w.map(k=>k.id===y?{...N,_skipRealtime:!0}:k))}catch(N){a(b=>b.filter(w=>w.id!==y)),l(N.message||"Failed to send message")}};return P.useEffect(()=>{if(!Ke||!e)return;console.log(" Setting up realtime subscription for conversation:",e.id),(async()=>{i(!0);const{data:N,error:b}=await Ke.from("messages").select("*").eq("conversation_id",e.id).order("created_at",{ascending:!0});b?console.error(" Error loading messages:",b):(console.log(" Loaded",N.length,"existing messages"),a(N)),i(!1)})();const y=`messages:${e.id}`;console.log(" Creating channel:",y);const x=Ke.channel(y).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e.id}`},N=>{if(console.log(" Realtime message received (visitor):",N.new),N.new.sender_type==="visitor"){console.log(" Skipping visitor message (handled by optimistic update)");return}a(b=>b.some(k=>k.id===N.new.id)?(console.log(" Message already exists, skipping"),b):(console.log(" Adding admin message to list"),[...b,N.new]))}).subscribe((N,b)=>{console.log(" Realtime subscription status (visitor):",N),b&&console.error(" Subscription error:",b),N==="SUBSCRIBED"&&console.log(" Successfully subscribed to realtime updates!"),N==="CHANNEL_ERROR"&&console.error(" Channel error - realtime may not work"),N==="TIMED_OUT"&&console.error(" Subscription timed out")});return()=>{console.log(" Unsubscribing from channel:",y),Ke.removeChannel(x)}},[e]),P.useEffect(()=>{u()},[u]),{conversation:e,messages:r,loading:s,error:o,startConversation:h,sendMessage:f,isConversationReady:!!e}},Mx=43200,vA=1440,bA=Symbol.for("constructDateFrom");function sN(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&bA in e?e[bA](t):e instanceof Date?new e.constructor(t):new Date(t)}function xu(e,t){return sN(e,e)}let ioe={};function ooe(){return ioe}function wA(e){const t=xu(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function iN(e,...t){const r=sN.bind(null,e||t.find(a=>typeof a=="object"));return t.map(r)}function hy(e,t){const r=+xu(e)-+xu(t);return r<0?-1:r>0?1:r}function loe(e){return sN(e,Date.now())}function coe(e,t,r){const[a,s]=iN(r==null?void 0:r.in,e,t),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function doe(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function uoe(e,t){return+xu(e)-+xu(t)}function hoe(e,t){const r=xu(e);return r.setHours(23,59,59,999),r}function foe(e,t){const r=xu(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function moe(e,t){const r=xu(e);return+hoe(r)==+foe(r)}function goe(e,t,r){const[a,s,i]=iN(r==null?void 0:r.in,e,e,t),o=hy(s,i),l=Math.abs(coe(s,i));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*l);let c=hy(s,i)===-o;moe(a)&&l===1&&hy(a,i)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function poe(e,t,r){const a=uoe(e,t)/1e3;return doe(r==null?void 0:r.roundingMethod)(a)}const xoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yoe=(e,t,r)=>{let a;const s=xoe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function y2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const voe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},boe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},woe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_oe={date:y2({formats:voe,defaultWidth:"full"}),time:y2({formats:boe,defaultWidth:"full"}),dateTime:y2({formats:woe,defaultWidth:"full"})},Noe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},koe=(e,t,r,a)=>Noe[e];function Nm(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const joe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Soe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eoe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Toe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Coe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Loe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Poe={ordinalNumber:Loe,era:Nm({values:joe,defaultWidth:"wide"}),quarter:Nm({values:Soe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nm({values:Aoe,defaultWidth:"wide"}),day:Nm({values:Eoe,defaultWidth:"wide"}),dayPeriod:Nm({values:Toe,defaultWidth:"wide",formattingValues:Coe,defaultFormattingWidth:"wide"})};function km(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Roe(l,f=>f.test(o)):Moe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Moe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Roe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ooe(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Doe=/^(\d+)(th|st|nd|rd)?/i,Ioe=/\d+/i,Foe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Boe={any:[/^b/i,/^(a|c)/i]},zoe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uoe={any:[/1/i,/2/i,/3/i,/4/i]},Voe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$oe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Woe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Goe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yoe={ordinalNumber:Ooe({matchPattern:Doe,parsePattern:Ioe,valueCallback:e=>parseInt(e,10)}),era:km({matchPatterns:Foe,defaultMatchWidth:"wide",parsePatterns:Boe,defaultParseWidth:"any"}),quarter:km({matchPatterns:zoe,defaultMatchWidth:"wide",parsePatterns:Uoe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:km({matchPatterns:Voe,defaultMatchWidth:"wide",parsePatterns:qoe,defaultParseWidth:"any"}),day:km({matchPatterns:$oe,defaultMatchWidth:"wide",parsePatterns:Hoe,defaultParseWidth:"any"}),dayPeriod:km({matchPatterns:Woe,defaultMatchWidth:"any",parsePatterns:Goe,defaultParseWidth:"any"})},Koe={code:"en-US",formatDistance:yoe,formatLong:_oe,formatRelative:koe,localize:Poe,match:Yoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zoe(e,t,r){const a=ooe(),s=(r==null?void 0:r.locale)??a.locale??Koe,i=2520,o=hy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=iN(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),h=poe(u,c),f=(wA(u)-wA(c))/1e3,g=Math.round((h-f)/60);let m;if(g<2)return r!=null&&r.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):g===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",g,l);if(g<45)return s.formatDistance("xMinutes",g,l);if(g<90)return s.formatDistance("aboutXHours",1,l);if(g<vA){const y=Math.round(g/60);return s.formatDistance("aboutXHours",y,l)}else{if(g<i)return s.formatDistance("xDays",1,l);if(g<Mx){const y=Math.round(g/vA);return s.formatDistance("xDays",y,l)}else if(g<Mx*2)return m=Math.round(g/Mx),s.formatDistance("aboutXMonths",m,l)}if(m=goe(u,c),m<12){const y=Math.round(g/Mx);return s.formatDistance("xMonths",y,l)}else{const y=m%12,x=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function Xoe(e,t){return Zoe(e,loe(e),t)}const Joe=({message:e,isVisitor:t})=>{const r=e.sender_type==="visitor";return n.jsx("div",{className:`flex w-full ${r?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`flex max-w-[80%] ${r?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-orange-100 dark:bg-orange-900/30 text-orange-600":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:r?n.jsx(Nn,{size:16}):n.jsx(Qm,{size:16})}),n.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"}`,children:[n.jsx("div",{className:`px-4 py-2 rounded-2xl text-sm ${r?"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-bl-none"}`,children:e.message}),n.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1 px-1",children:e.created_at&&Xoe(new Date(e.created_at),{addSuffix:!0})})]})]})})},Qoe=({onSubmit:e,loading:t,error:r})=>{const[a,s]=P.useState(""),[i,o]=P.useState(""),l=c=>{c.preventDefault(),e({name:a.trim(),email:i.trim()})};return n.jsxs("form",{onSubmit:l,className:"space-y-4 p-4",children:[n.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"Start Chat"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"John Doe",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",disabled:t,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:i,onChange:c=>o(c.target.value),placeholder:"john@example.com",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",disabled:t,required:!0})]}),r&&n.jsx("p",{className:"text-red-500 text-sm",children:r}),n.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t||!a.trim()||!i.trim(),children:t?"Starting Chat...":"Start Chat"})]})},ele=({onClose:e})=>{const{messages:t,loading:r,error:a,startConversation:s,sendMessage:i,isConversationReady:o}=soe(),[l,c]=P.useState(""),u=P.useRef(null),h=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{h()},[t]);const f=async g=>{g.preventDefault(),l.trim()&&(await i(l),c(""))};return n.jsxs("div",{className:"flex flex-col h-[500px] bg-white dark:bg-gray-900",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx(_l,{size:20,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"Intelligent Assistant"})]})]}),n.jsx("button",{onClick:e,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(xr,{size:20})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800 custom-scrollbar",children:[o?n.jsx(n.Fragment,{children:r&&t.length===0?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):n.jsxs(n.Fragment,{children:[t.map(g=>n.jsx(Joe,{message:g,isVisitor:g.sender_type==="visitor"},g.id)),n.jsx("div",{ref:u})]})}):n.jsx(Qoe,{onSubmit:s,loading:r,error:a}),a&&n.jsx("div",{className:"text-red-500 text-xs text-center mt-2",children:a})]}),o&&n.jsx("form",{onSubmit:f,className:"p-3 border-t dark:border-gray-700 bg-white dark:bg-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-full focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),n.jsx("button",{type:"submit",disabled:!l.trim()||r,className:"p-2 bg-primary text-white rounded-full hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Eh,{size:18})})]})})]})},tle=()=>{const[e,t]=P.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105","aria-label":"Ask Lakshmi",children:[n.jsx(_l,{size:20,className:"flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:"Ask Lakshmi"})]}),n.jsx($s,{children:e&&n.jsx(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-24 right-6 z-50 w-80 max-w-full bg-white dark:bg-gray-900 rounded-xl shadow-2xl overflow-hidden",children:n.jsx(ele,{onClose:()=>t(!1)})})})]})},rle=()=>n.jsx(Lie,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx(Pie,{}),n.jsx(Oie,{}),n.jsx(Die,{}),n.jsx(Bie,{}),n.jsx(zie,{}),n.jsx(Uie,{}),n.jsx(Vie,{}),n.jsx(Wie,{}),n.jsx(Gie,{}),n.jsx(Yie,{}),n.jsx(Kie,{}),n.jsx(Zie,{}),n.jsx(Xie,{}),n.jsx(tle,{})]})}),ale=()=>{var y;const e=Wn(),t=vr(),{user:r,profile:a,getDisplayName:s,signOut:i}=Z1();e.pathname.startsWith("/user/dashboard");const[o,l]=P.useState(!1),[c,u]=P.useState(!1),h=oc.useRef(null),f=s?s():((y=r==null?void 0:r.email)==null?void 0:y.split("@")[0])||"User",g=(r==null?void 0:r.email)||"",m=[{id:1,title:"New property available",message:"A new property matches your criteria",time:"2m ago"},{id:2,title:"Payment received",message:"Your payment has been processed",time:"1h ago"},{id:3,title:"Contract updated",message:"Your contract has been updated",time:"3h ago"}];return n.jsx("header",{className:"h-16 bg-primary dark:bg-[#0a0a0a] sticky top-0 z-30 shadow-sm border-b border-primary/80 dark:border-gray-800",children:n.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>t("/user/dashboard"),className:"flex items-center gap-1.5 hover:opacity-90 transition-opacity duration-200 cursor-pointer","aria-label":"Navigate to dashboard",children:[n.jsx("img",{ref:h,src:rN,alt:"Estospaces Logo",className:"h-8 w-auto object-contain transition-all duration-300",style:{filter:"brightness(0) saturate(100%) invert(77%) sepia(95%) saturate(2500%) hue-rotate(345deg) brightness(1.6) contrast(1.2) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2))",WebkitFilter:"brightness(0) saturate(100%) invert(77%) sepia(95%) saturate(2500%) hue-rotate(345deg) brightness(1.6) contrast(1.2) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2))"}}),n.jsx("span",{className:"text-xl font-bold text-white dark:text-orange-500 transition-colors duration-300",style:{fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:"Estospaces"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:x=>x.currentTarget.style.backgroundColor="transparent",children:[n.jsx(du,{size:20,className:"text-white dark:text-gray-200"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-primary"})]}),o&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.map(x=>n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:x.title}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:x.message}),n.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:x.time})]},x.id))}),n.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{className:"w-full text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:"View all notifications"})})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:x=>x.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{className:"w-8 h-8 bg-white/20 dark:bg-gray-700 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 dark:border-gray-600",children:n.jsx(Nn,{size:18,className:"text-white dark:text-gray-200"})}),n.jsx(xf,{size:16,className:`text-white dark:text-gray-200 transition-transform ${c?"rotate-180":""}`})]}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:f}),n.jsx("div",{className:"px-3 py-1 text-xs text-gray-500 dark:text-gray-400",children:g})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:[n.jsx("button",{onClick:()=>{u(!1),t("/user/dashboard/settings")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:"Account Settings"}),n.jsx("button",{onClick:()=>{u(!1),t("/user/dashboard/help")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:"Help & Support"}),n.jsx("button",{onClick:async()=>{u(!1);try{i?await i():Un()&&await Ke.auth.signOut(),t("/")}catch(x){console.error("Error signing out:",x),t("/")}},className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors cursor-pointer",children:"Log Out"})]})]})]})]})]})]})})},c0=({count:e})=>e===0?null:n.jsx("span",{className:"ml-1.5 bg-orange-500 text-white text-xs font-medium rounded-full min-w-[18px] h-5 px-1.5 flex items-center justify-center",children:e>99?"99+":e}),nle=()=>{const e=Wn(),t=vr(),{totalUnreadCount:r}=Ff(),{activeTab:a,setActiveTab:s}=I_(),{savedProperties:i}=Bf(),[o,l]=P.useState(null),c=[{icon:Dg,label:"Dashboard",path:"/user/dashboard"},{icon:ed,label:"Saved Properties",path:"/user/dashboard/saved",showBadge:!0,badgeCount:(i==null?void 0:i.length)||0},{icon:Or,label:"My Applications",path:"/user/dashboard/applications"},{icon:bi,label:"Viewings",path:"/user/dashboard/viewings"},{icon:Uo,label:"Messages",path:"/user/dashboard/messages",showBadge:!0,badgeCount:r},{icon:X1,label:"Payments",path:"/user/dashboard/payments"},{icon:Or,label:"Contracts",path:"/user/dashboard/contracts"},{icon:Nn,label:"Profile",path:"/user/dashboard/profile"},{icon:bC,label:"Help & Support",path:"/user/dashboard/help"}],u=b=>b==="/user/dashboard"?e.pathname===b:e.pathname.startsWith(b),h=()=>e.pathname==="/user/dashboard/discover"?new URLSearchParams(e.search).get("type")==="buy":!1,f=()=>e.pathname==="/user/dashboard/discover"?new URLSearchParams(e.search).get("type")==="rent":!1,g=b=>{b==null||b.preventDefault(),s("buy"),t("/user/dashboard/discover?type=buy")},m=b=>{b==null||b.preventDefault(),s("rent"),t("/user/dashboard/discover?type=rent")},y=b=>{l(b),setTimeout(()=>l(null),300)},x=b=>{b==null||b.preventDefault(),l("buy"),g(b),setTimeout(()=>l(null),300)},N=b=>{b==null||b.preventDefault(),l("rent"),m(b),setTimeout(()=>l(null),300)};return n.jsx("nav",{className:"bg-white dark:bg-[#0a0a0a] border-b border-gray-200 dark:border-gray-800 sticky top-16 z-20 shadow-sm",role:"navigation","aria-label":"Main navigation",children:n.jsxs("div",{className:"px-4 lg:px-6",children:[n.jsxs("div",{className:"hidden md:flex items-center justify-center gap-1 overflow-x-auto scrollbar-hide -mx-4 px-4 lg:mx-0 lg:px-0",children:[c.slice(0,1).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)}),n.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[n.jsxs("button",{onClick:x,className:`
                relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                border-b-2 border-transparent
                ${h()?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                ${o==="buy"?"scale-95 transform active:scale-90":"scale-100"}
                whitespace-nowrap cursor-pointer
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
              `,"aria-label":"Filter by Buy",children:[n.jsx(Oj,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${h()?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o==="buy"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:"Buy"})]}),n.jsxs("button",{onClick:N,className:`
                relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                border-b-2 border-transparent
                ${f()?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                ${o==="rent"?"scale-95 transform active:scale-90":"scale-100"}
                whitespace-nowrap cursor-pointer
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
              `,"aria-label":"Filter by Rent",children:[n.jsx(mr,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${f()?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o==="rent"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:"Rent"})]})]}),c.slice(1,2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)}),c.slice(2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 ease-out
                  border-b-2 border-transparent
                  ${k?"text-orange-600 dark:text-orange-400 border-orange-500 dark:border-orange-400 bg-orange-50 dark:bg-orange-900/20 active:text-orange-700 dark:active:text-orange-300 active:bg-orange-100 dark:active:bg-orange-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 active:bg-gray-100 dark:active:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  whitespace-nowrap cursor-pointer
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:18,className:`flex-shrink-0 transition-transform duration-300 ${k?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"} ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)})]}),n.jsxs("div",{className:"md:hidden flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide py-3 -mx-4 px-4",children:[c.slice(0,1).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)}),n.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[n.jsxs("button",{onClick:x,className:`
                relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                flex-shrink-0 cursor-pointer
                ${h()?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                ${o==="buy"?"scale-95 transform active:scale-90":"scale-100"}
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
              `,"aria-label":"Filter by Buy",children:[n.jsx(Oj,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o==="buy"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:"Buy"})]}),n.jsxs("button",{onClick:N,className:`
                relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                flex-shrink-0 cursor-pointer
                ${f()?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                ${o==="rent"?"scale-95 transform active:scale-90":"scale-100"}
                focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
              `,"aria-label":"Filter by Rent",children:[n.jsx(mr,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o==="rent"?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:"Rent"})]})]}),c.slice(1,2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)}),c.slice(2).map(b=>{const w=b.icon,k=u(b.path);return n.jsxs(Ql,{to:b.path,onClick:()=>y(b.path),className:`
                  relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out
                  flex-shrink-0 cursor-pointer
                  ${k?"bg-orange-500 dark:bg-orange-600 text-white shadow-sm active:bg-orange-600 dark:active:bg-orange-700 active:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 active:text-gray-900 dark:active:text-gray-100"}
                  ${o===b.path?"scale-95 transform active:scale-90":"scale-100"}
                  focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                `,"aria-current":k?"page":void 0,children:[n.jsx(w,{size:16,className:`flex-shrink-0 transition-transform duration-300 ${o===b.path?"rotate-12 scale-110":"rotate-0 scale-100"}`}),n.jsx("span",{className:"whitespace-nowrap",children:b.label}),b.showBadge&&b.badgeCount>0&&n.jsx(c0,{count:b.badgeCount})]},b.path)})]})]})})},sle=async({status:e="online",country:t="UK",propertyType:r=null,city:a=null,postcode:s=null,minPrice:i=null,maxPrice:o=null,minBedrooms:l=null,maxBedrooms:c=null,minBathrooms:u=null,limit:h=20,offset:f=0,orderBy:g="created_at",orderDirection:m="desc",userId:y=null}={})=>{try{if(!Ke)return{data:null,error:{message:"Supabase client not initialized"},count:0};let x=Ke.from("properties").select("*",{count:"exact"}).eq("country",t);e==="online"||e==="active"?x=x.or("status.eq.online,status.eq.active"):e&&(x=x.eq("status",e)),x=x.order(g,{ascending:m==="asc"}).range(f,f+h-1),r&&(x=x.eq("property_type",r)),a&&(x=x.ilike("city",`%${a}%`)),s&&(x=x.ilike("postcode",`%${s}%`)),i!==null&&(x=x.gte("price",i)),o!==null&&(x=x.lte("price",o)),l!==null&&(x=x.gte("bedrooms",l)),c!==null&&(x=x.lte("bedrooms",c)),u!==null&&(x=x.gte("bathrooms",u));const{data:N,error:b,count:w}=await x;if(b){const k=b.message||b.toString()||"";if(k.includes("relation")||k.includes("does not exist")||k.includes("schema cache")||k.includes("properties"))return{data:null,error:{message:"Properties table not found. Please run the SQL schema in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details.",code:"TABLE_NOT_FOUND",originalError:b},count:0};throw b}return y&&N?{data:await uc(N,y),error:null,count:w}:{data:N,error:null,count:w}}catch(x){return console.error("Error fetching UK properties:",x),{data:null,error:x,count:0}}},ile=async({searchQuery:e,country:t="UK",status:r="online",limit:a=20,offset:s=0,userId:i=null}={})=>{try{let o=Ke.from("properties").select("*").eq("country",t).eq("status",r).or(`title.ilike.%${e}%,description.ilike.%${e}%,city.ilike.%${e}%,postcode.ilike.%${e}%`).order("created_at",{ascending:!1}).range(s,s+a-1);const{data:l,error:c}=await o;if(c)throw c;return i&&l?{data:await uc(l,i),error:null}:{data:l,error:null}}catch(o){return console.error("Error searching properties:",o),{data:null,error:o}}},uc=async(e,t)=>{var u,h,f;if(!e||e.length===0)return e;const r=e.map(g=>g.id),[a,s,i]=await Promise.all([Ke.from("saved_properties").select("property_id").eq("user_id",t).in("property_id",r),Ke.from("applied_properties").select("property_id, status").eq("user_id",t).in("property_id",r),Ke.from("viewed_properties").select("property_id, view_count").eq("user_id",t).in("property_id",r)]),o=new Set(((u=a.data)==null?void 0:u.map(g=>g.property_id))||[]),l=new Map(((h=s.data)==null?void 0:h.map(g=>[g.property_id,g.status]))||[]),c=new Map(((f=i.data)==null?void 0:f.map(g=>[g.property_id,g.view_count]))||[]);return e.map(g=>({...g,is_saved:o.has(g.id),is_applied:l.has(g.id),application_status:l.get(g.id)||null,view_count:c.get(g.id)||0}))},ole=async(e,t)=>{try{const{data:r,error:a}=await Ke.from("saved_properties").insert({user_id:t,property_id:e}).select().single();if(a)throw a;return{data:r,error:null}}catch(r){return console.error("Error saving property:",r),{data:null,error:r}}},lle=async(e,t)=>{try{const{error:r}=await Ke.from("saved_properties").delete().eq("user_id",t).eq("property_id",e);if(r)throw r;return{data:{success:!0},error:null}}catch(r){return console.error("Error unsaving property:",r),{data:null,error:r}}},cle=async(e,t,r={})=>{try{const{data:a,error:s}=await Ke.from("applied_properties").insert({user_id:t,property_id:e,status:"pending",application_data:r}).select().single();if(s)throw s;return{data:a,error:null}}catch(a){return console.error("Error applying to property:",a),{data:null,error:a}}},dle=async(e,t)=>{try{const{error:r}=await Ke.from("viewed_properties").upsert({user_id:t,property_id:e,viewed_at:new Date().toISOString()},{onConflict:"user_id,property_id"});if(r)throw r;return{success:!0}}catch(r){return console.error("Error tracking property view:",r),{success:!1,error:r}}},ule=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await Ke.from("saved_properties").select(`
        property_id,
        created_at,
        properties (*)
      `).eq("user_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,saved_at:o.created_at})))||[],error:null}}catch(a){return console.error("Error fetching saved properties:",a),{data:null,error:a}}},hle=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await Ke.from("applied_properties").select(`
        property_id,
        status,
        application_data,
        created_at,
        updated_at,
        properties (*)
      `).eq("user_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,application_status:o.status,application_data:o.application_data,applied_at:o.created_at,updated_at:o.updated_at})))||[],error:null}}catch(a){return console.error("Error fetching applied properties:",a),{data:null,error:a}}},fle=async(e,t=20,r=0)=>{try{const{data:a,error:s}=await Ke.from("viewed_properties").select(`
        property_id,
        viewed_at,
        view_count,
        properties (*)
      `).eq("user_id",e).order("viewed_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return{data:(a==null?void 0:a.map(o=>({...o.properties,viewed_at:o.viewed_at,view_count:o.view_count})))||[],error:null}}catch(a){return console.error("Error fetching viewed properties:",a),{data:null,error:a}}},Z9=P.createContext(),Kf=()=>{const e=P.useContext(Z9);if(!e)throw new Error("useProperties must be used within a PropertiesProvider");return e},mle=({children:e})=>{const[t,r]=P.useState([]),[a,s]=P.useState([]),[i,o]=P.useState([]),[l,c]=P.useState([]),[u,h]=P.useState(null),[f,g]=P.useState(!1),[m,y]=P.useState(null),[x,N]=P.useState({country:"UK",status:"online",propertyType:null,city:null,postcode:null,minPrice:null,maxPrice:null,minBedrooms:null,maxBedrooms:null,minBathrooms:null}),[b,w]=P.useState({page:1,limit:20,total:0,hasMore:!0});P.useEffect(()=>{(async()=>{const{data:{session:he}}=await Ke.auth.getSession();h((he==null?void 0:he.user)||null)})();const{data:{subscription:ee}}=Ke.auth.onAuthStateChange((he,de)=>{h((de==null?void 0:de.user)||null)});return()=>ee.unsubscribe()},[]);const k=P.useCallback(async(Y=!1)=>{if(!Ke){y("Supabase not configured");return}g(!0),y(null);try{const ee=Y?0:(b.page-1)*b.limit,he=await sle({...x,limit:b.limit,offset:ee,userId:(u==null?void 0:u.id)||null});if(he.error){he.error.code==="TABLE_NOT_FOUND"||he.error.message&&he.error.message.includes("relation")&&he.error.message.includes("does not exist")?y("Properties table not found. Please run the SQL schema setup in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details."):y(he.error.message||"Failed to fetch properties"),r([]),w(de=>({...de,total:0,hasMore:!1})),g(!1);return}r(Y?he.data||[]:de=>[...de,...he.data||[]]),w(de=>{var xe;return{...de,total:he.count||0,hasMore:(((xe=he.data)==null?void 0:xe.length)||0)===b.limit}})}catch(ee){console.error("Error fetching properties:",ee),ee.message&&(ee.message.includes("relation")||ee.message.includes("does not exist"))?y("Properties table not found. Please run the SQL schema setup in Supabase Dashboard. See SETUP_INSTRUCTIONS.md for details."):y(ee.message||"Failed to fetch properties"),r([]),w(he=>({...he,total:0,hasMore:!1}))}finally{g(!1)}},[x,b.page,b.limit,u]),S=P.useCallback(async Y=>{if(!Ke){y("Supabase not configured");return}if(!Y.trim()){k(!0);return}g(!0),y(null);try{const ee=await ile({searchQuery:Y,country:x.country,status:x.status,limit:b.limit,offset:0,userId:(u==null?void 0:u.id)||null});if(ee.error)throw ee.error;r(ee.data||[]),w(he=>{var de;return{...he,page:1,total:((de=ee.data)==null?void 0:de.length)||0,hasMore:!1}})}catch(ee){console.error("Error searching properties:",ee),y(ee.message||"Failed to search properties")}finally{g(!1)}},[x,b.limit,u]),B=P.useCallback(async()=>{if(!u){s([]);return}try{const Y=await ule(u.id);if(Y.error)throw Y.error;s(Y.data||[])}catch(Y){console.error("Error fetching saved properties:",Y)}},[u]),H=P.useCallback(async()=>{if(!u){o([]);return}try{const Y=await hle(u.id);if(Y.error)throw Y.error;o(Y.data||[])}catch(Y){console.error("Error fetching applied properties:",Y)}},[u]),I=P.useCallback(async()=>{if(!u){c([]);return}try{const Y=await fle(u.id);if(Y.error)throw Y.error;c(Y.data||[])}catch(Y){console.error("Error fetching viewed properties:",Y)}},[u]),D=P.useCallback(async Y=>{if(!u)return y("Please log in to save properties"),{success:!1};try{const ee=await ole(Y,u.id);if(ee.error)throw ee.error;return r(he=>he.map(de=>de.id===Y?{...de,is_saved:!0}:de)),await B(),{success:!0}}catch(ee){return console.error("Error saving property:",ee),y(ee.message||"Failed to save property"),{success:!1,error:ee}}},[u,B]),C=P.useCallback(async Y=>{if(!u)return{success:!1};try{const ee=await lle(Y,u.id);if(ee.error)throw ee.error;return r(he=>he.map(de=>de.id===Y?{...de,is_saved:!1}:de)),await B(),{success:!0}}catch(ee){return console.error("Error unsaving property:",ee),{success:!1,error:ee}}},[u,B]),G=P.useCallback(async(Y,ee={})=>{if(!u)return y("Please log in to apply to properties"),{success:!1};try{const he=await cle(Y,u.id,ee);if(he.error)throw he.error;return r(de=>de.map(xe=>xe.id===Y?{...xe,is_applied:!0,application_status:"pending"}:xe)),await H(),{success:!0,data:he.data}}catch(he){return console.error("Error applying to property:",he),y(he.message||"Failed to apply to property"),{success:!1,error:he}}},[u,H]),O=P.useCallback(async Y=>{if(u)try{await dle(Y,u.id),await I()}catch(ee){console.error("Error tracking property view:",ee)}},[u,I]);P.useEffect(()=>{u&&(B(),H(),I())},[u,B,H,I]),P.useEffect(()=>{k(!0)},[x]);const V={properties:t,savedProperties:a,appliedProperties:i,viewedProperties:l,currentUser:u,loading:f,error:m,filters:x,pagination:b,setFilters:N,fetchProperties:k,searchProperties:S,saveProperty:D,unsaveProperty:C,applyToProperty:G,trackPropertyView:O,fetchSavedProperties:B,fetchAppliedProperties:H,fetchViewedProperties:I,setPagination:w,setError:y};return n.jsx(Z9.Provider,{value:V,children:e})},gle=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{e({latitude:r.coords.latitude,longitude:r.coords.longitude,accuracy:r.coords.accuracy})},r=>{t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),_A=async(e,t)=>{try{const r=await fetch(`https://api.postcodes.io/postcodes?lon=${t}&lat=${e}`);if(!r.ok)throw new Error("Failed to get postcode from coordinates");const a=await r.json();return a.result&&a.result.length>0?a.result[0].postcode:null}catch(r){return console.error("Error getting postcode from coordinates:",r),null}},X9=e=>{if(!e)return null;const t=e.replace(/\s+/g,"").toUpperCase();return/^[A-Z]{1,2}[0-9][A-Z0-9]?[0-9][A-Z]{2}$/.test(t)?t.slice(0,-3)+" "+t.slice(-3):null},NA=async e=>{try{const t=X9(e);if(!t)throw new Error("Invalid UK postcode format");const r=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(t)}`);if(!r.ok)throw new Error("Failed to get coordinates from postcode");const a=await r.json();return a.result?{latitude:a.result.latitude,longitude:a.result.longitude,postcode:a.result.postcode,city:a.result.admin_district||a.result.region||""}:null}catch(t){return console.error("Error getting coordinates from postcode:",t),null}},ple=e=>{if(!e)return null;const t=/\b([A-Z]{1,2}[0-9][A-Z0-9]?[0-9][A-Z]{2})\b/i,r=e.match(t);return r?X9(r[1]):null},kA=async({searchInput:e=null,profileLocation:t=null,useGeolocation:r=!0})=>{let a=null;if(e){const s=ple(e)||e,i=await NA(s);if(i)return a={type:"search",postcode:i.postcode,latitude:i.latitude,longitude:i.longitude,city:i.city,source:"search_input"},a}if(t){if(t.postcode){const s=await NA(t.postcode);if(s)return a={type:"profile",postcode:s.postcode,latitude:s.latitude,longitude:s.longitude,city:s.city,source:"profile"},a}else if(t.latitude&&t.longitude)return a={type:"profile",postcode:await _A(t.latitude,t.longitude),latitude:t.latitude,longitude:t.longitude,city:t.city||"",source:"profile"},a}if(r)try{const s=await gle();return a={type:"geolocation",postcode:await _A(s.latitude,s.longitude),latitude:s.latitude,longitude:s.longitude,city:"",source:"browser_geolocation"},a}catch(s){console.warn("Geolocation not available:",s)}return{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"}},xle=(e,t,r,a)=>{const i=(r-e)*Math.PI/180,o=(a-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 3959*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},J9=P.createContext(),Q9=()=>{const e=P.useContext(J9);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e},yle=({children:e})=>{const[t,r]=P.useState(null),[a,s]=P.useState(null),[i,o]=P.useState(null),[l,c]=P.useState(!0),[u,h]=P.useState(null);P.useEffect(()=>{(async()=>{const{data:{session:b}}=await Ke.auth.getSession();o((b==null?void 0:b.user)||null)})();const{data:{subscription:N}}=Ke.auth.onAuthStateChange((b,w)=>{o((w==null?void 0:w.user)||null)});return()=>N.unsubscribe()},[]);const f=P.useCallback(async()=>{if(!i)return null;try{const{data:x,error:N}=await Ke.from("profiles").select("location, postcode, city, latitude, longitude").eq("id",i.id).single();return N&&N.code!=="PGRST116"?(console.error("Error fetching profile location:",N),null):x}catch(x){return console.error("Error getting profile location:",x),null}},[i]);P.useEffect(()=>{(async()=>{c(!0),h(null);try{const N=await f(),b=await kA({profileLocation:N,useGeolocation:!0});r(b)}catch(N){console.error("Error detecting location:",N),h(N.message),r({type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"})}finally{c(!1)}})()},[f]);const g=P.useCallback(async x=>{c(!0),h(null);try{const N=await kA({searchInput:x,profileLocation:await f(),useGeolocation:!1});return s(N),N}catch(N){return console.error("Error updating location from search:",N),h(N.message),null}finally{c(!1)}},[f]),m=P.useCallback(()=>a||t||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},[a,t]),y={userLocation:t||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},searchLocation:a,activeLocation:m(),loading:l,error:u,updateLocationFromSearch:g,clearSearchLocation:()=>s(null)};return n.jsx(J9.Provider,{value:y,children:e})},b5=async({location:e,radius:t=5,listingStatus:r="both",...a})=>{try{const s=new URLSearchParams;e!=null&&e.postcode?s.append("postcode",e.postcode):e!=null&&e.city&&s.append("city",e.city),e!=null&&e.latitude&&(e!=null&&e.longitude)&&(s.append("lat",e.latitude.toString()),s.append("lng",e.longitude.toString())),s.append("radius",t.toString()),s.append("type",r),s.append("page","1"),s.append("limit","20"),a.minPrice&&s.append("min_price",a.minPrice.toString()),a.maxPrice&&s.append("max_price",a.maxPrice.toString()),a.minBedrooms&&s.append("bedrooms",a.minBedrooms.toString());const i=await fetch(`/api/properties/global?${s.toString()}`);if(!i.ok)throw new Error(`API error: ${i.status} ${i.statusText}`);const o=await i.json();return{properties:o.properties||[],totalResults:o.totalResults||0,source:o.source||"supabase",fallbackUsed:o.fallbackUsed||!1,error:o.error}}catch(s){return{properties:[],totalResults:0,source:"error",fallbackUsed:!0,error:s.message}}},oN=async({location:e,limit:t=10,userId:r=null})=>{try{if(!Ke)return{properties:[],error:"Supabase not configured"};let a=Ke.from("viewed_properties").select(`
        property_id,
        view_count,
        properties (*)
      `).order("view_count",{ascending:!1}).limit(t);const{data:s,error:i}=await a;if(i)throw i;let o=(s||[]).map(l=>({...l.properties,view_count:l.view_count||0})).filter(l=>l&&l.status==="online"&&l.country==="UK");if(e!=null&&e.postcode){const l=o.filter(c=>{var u;return(u=c.postcode)==null?void 0:u.toLowerCase().includes(e.postcode.toLowerCase())});l.length>0?o=l:o=o.slice(0,t)}return r&&o.length>0&&(o=await uc(o,r)),{properties:o,error:null}}catch(a){return{properties:[],error:a.message}}},vle=async({location:e,limit:t=6,userId:r=null})=>{try{if(Ke){let i=Ke.from("properties").select("*").eq("country","UK").eq("status","online").order("created_at",{ascending:!1}).limit(t*2);e!=null&&e.postcode?i=i.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(i=i.ilike("city",`%${e.city}%`));const{data:o,error:l}=await i;if(!l&&o&&o.length>0){let c=o.sort((u,h)=>u.featured&&!h.featured?-1:!u.featured&&h.featured?1:u.price>h.price?-1:u.price<h.price?1:new Date(h.created_at)-new Date(u.created_at)).slice(0,t);return r&&c.length>0&&(c=await uc(c,r)),{properties:c,source:"supabase",error:null}}}const a=await b5({location:e,radius:e?5:10,listingStatus:"both",pageSize:t});return{properties:a.properties.sort((i,o)=>i.price>o.price?-1:i.price<o.price?1:new Date(o.created_at)-new Date(i.created_at)).slice(0,t),source:"zoopla",error:a.error}}catch(a){return{properties:[],source:"error",error:a.message}}},eM=async({location:e,radius:t=5,maxRadius:r=20,listingStatus:a="both",...s})=>{let i=t,o=null,l=!1;if(e!=null&&e.postcode&&(o=await b5({location:{...e,postcode:e.postcode},radius:0,listingStatus:a,...s}),o.properties.length>0))return l=!0,{...o,isExactMatch:l,radius:0};for(;i<=r&&(!o||o.properties.length===0)&&(o=await b5({location:e,radius:i,listingStatus:a,...s}),!(o.properties.length>0));)i+=5;return{...o,isExactMatch:l,radius:i,message:l?null:i>t?`No properties found in ${(e==null?void 0:e.postcode)||(e==null?void 0:e.city)||"your area"}. Showing properties within ${i} miles.`:null}},ble=async(e,t=null)=>{try{if(Ke){const{data:r,error:a}=await Ke.from("properties").select("*").eq("id",e).single();if(!a&&r)return t?{data:(await uc([r],t))[0],error:null}:{data:r,error:null}}try{const r=await zooplaService.getPropertyDetails(e);if(r){const a=zooplaService.transformZooplaProperty(r);return t?{data:(await uc([a],t))[0],error:null}:{data:a,error:null}}}catch{}return{data:null,error:{message:"Property not found"}}}catch(r){return{data:null,error:{message:r.message||"Failed to fetch property"}}}},wle=async(e,t)=>{if(!(!t||!Ke))try{const{data:r}=await Ke.from("viewed_properties").select("*").eq("user_id",t).eq("property_id",e).single();r?await Ke.from("viewed_properties").update({view_count:(r.view_count||1)+1,viewed_at:new Date().toISOString()}).eq("user_id",t).eq("property_id",e):await Ke.from("viewed_properties").insert({user_id:t,property_id:e,view_count:1,viewed_at:new Date().toISOString()})}catch{}},tM=async({location:e,limit:t=6,userId:r=null,timeWindowDays:a=7})=>{try{if(!Ke)return{properties:[],error:"Supabase not configured"};const s=new Date;s.setDate(s.getDate()-a);let i=Ke.from("viewed_properties").select(`
        property_id,
        view_count,
        viewed_at,
        properties (*)
      `).gte("viewed_at",s.toISOString()).order("view_count",{ascending:!1}).order("viewed_at",{ascending:!1});const{data:o,error:l}=await i;if(l)throw l;const{data:c}=await Ke.from("saved_properties").select("property_id, created_at").gte("created_at",s.toISOString()),{data:u}=await Ke.from("applied_properties").select("property_id, created_at").gte("created_at",s.toISOString()),h=new Map;(o||[]).forEach(g=>{if(!g.properties)return;const m=g.property_id;h.has(m)||h.set(m,{property:g.properties,viewCount:0,recentViews:0,saves:0,applications:0,trendingScore:0});const y=h.get(m);y.viewCount+=g.view_count||0,y.recentViews+=1}),(c||[]).forEach(g=>{h.has(g.property_id)&&(h.get(g.property_id).saves+=1)}),(u||[]).forEach(g=>{h.has(g.property_id)&&(h.get(g.property_id).applications+=1)}),h.forEach((g,m)=>{g.trendingScore=g.recentViews*1+g.saves*2+g.applications*3});let f=Array.from(h.values()).filter(g=>g.property&&g.property.status==="online"&&g.property.country==="UK").sort((g,m)=>m.trendingScore-g.trendingScore).slice(0,t*2).map(g=>({...g.property,view_count:g.viewCount,recent_views:g.recentViews,saves_count:g.saves,applications_count:g.applications,trending_score:g.trendingScore,trending:!0}));if(e!=null&&e.postcode){const g=f.filter(m=>{var y;return(y=m.postcode)==null?void 0:y.toLowerCase().includes(e.postcode.toLowerCase())});g.length>0&&(f=g)}else if(e!=null&&e.city){const g=f.filter(m=>{var y;return(y=m.city)==null?void 0:y.toLowerCase().includes(e.city.toLowerCase())});g.length>0&&(f=g)}return f=f.slice(0,t),r&&f.length>0&&(f=await uc(f,r)),{properties:f,error:null}}catch(s){return{properties:[],error:s.message}}},lN=async({location:e,limit:t=6,userId:r=null,days:a=30})=>{try{if(!Ke)return{properties:[],error:"Supabase not configured"};const s=new Date;s.setDate(s.getDate()-a);let i=Ke.from("properties").select("*").eq("country","UK").eq("status","online").gte("created_at",s.toISOString()).order("created_at",{ascending:!1}).limit(t*2);e!=null&&e.postcode?i=i.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(i=i.ilike("city",`%${e.city}%`));const{data:o,error:l}=await i;if(l)throw l;let c=(o||[]).slice(0,t);return c=c.map(u=>({...u,recently_added:!0,days_since_listed:Math.floor((new Date-new Date(u.created_at))/(1e3*60*60*24))})),r&&c.length>0&&(c=await uc(c,r)),{properties:c,error:null}}catch(s){return{properties:[],error:s.message}}},rM=async({location:e,limit:t=6,userId:r=null})=>{try{if(!Ke)return{properties:[],error:"Supabase not configured"};let a=Ke.from("properties").select("*").eq("country","UK").eq("status","online").limit(t*3);e!=null&&e.postcode?a=a.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(a=a.ilike("city",`%${e.city}%`));const{data:s,error:i}=await a;if(i)throw i;if(!s||s.length===0)return{properties:[],error:null};const o=s.map(y=>y.id),{data:l}=await Ke.from("applied_properties").select("property_id").in("property_id",o),{data:c}=await Ke.from("saved_properties").select("property_id").in("property_id",o),{data:u}=await Ke.from("viewed_properties").select("property_id, view_count").in("property_id",o),h={};(l||[]).forEach(y=>{h[y.property_id]=(h[y.property_id]||0)+1});const f={};(c||[]).forEach(y=>{f[y.property_id]=(f[y.property_id]||0)+1});const g={};(u||[]).forEach(y=>{g[y.property_id]=(g[y.property_id]||0)+(y.view_count||1)});let m=s.map(y=>{const x=h[y.id]||0,N=f[y.id]||0,b=g[y.id]||0,w=b>0?N/b:0,k=x*3+N*2+w*100;return{...y,applications_count:x,saves_count:N,view_count:b,save_to_view_ratio:w,demand_score:k,high_demand:k>=5}});return m=m.sort((y,x)=>x.demand_score-y.demand_score).filter(y=>y.high_demand||y.applications_count>0).slice(0,t),r&&m.length>0&&(m=await uc(m,r)),{properties:m,error:null}}catch(a){return{properties:[],error:a.message}}},_le=async({location:e,limit:t=8,userId:r=null})=>{try{const[a,s,i]=await Promise.all([vle({location:e,limit:t/3,userId:r}),oN({location:e,limit:t/3,userId:r}),lN({location:e,limit:t/3,userId:r})]),o=new Map;(a.properties||[]).forEach(c=>{c&&c.id&&o.set(c.id,{...c,priority:1})}),(s.properties||[]).forEach(c=>{c&&c.id&&!o.has(c.id)&&o.set(c.id,{...c,priority:2})}),(i.properties||[]).forEach(c=>{c&&c.id&&!o.has(c.id)&&o.set(c.id,{...c,priority:3})});let l=Array.from(o.values()).sort((c,u)=>c.priority-u.priority).slice(0,t);if(l.length<t&&Ke){const c=t-l.length,u=new Set(l.map(g=>g.id));let h=Ke.from("properties").select("*").eq("country","UK").eq("status","online").not("id","in",`(${Array.from(u).join(",")})`).order("created_at",{ascending:!1}).limit(c);e!=null&&e.postcode?h=h.ilike("postcode",`%${e.postcode}%`):e!=null&&e.city&&(h=h.ilike("city",`%${e.city}%`));const{data:f}=await h;if(f&&f.length>0){let g=f;r&&(g=await uc(f,r)),l=[...l,...g]}}return{properties:l,error:null}}catch(a){return{properties:[],error:a.message}}},Nle=()=>{const e=vr(),{currentUser:t,viewedProperties:r,savedProperties:a,appliedProperties:s}=Kf(),{activeLocation:i}=Q9(),{savedProperties:o}=Bf(),[l,c]=P.useState(!1),[u,h]=P.useState([]),[f,g]=P.useState(""),[m,y]=P.useState(!1),[x,N]=P.useState(!1),[b,w]=P.useState(!0),[k,S]=P.useState(!1),[B,H]=P.useState([]),[I,D]=P.useState(!1),C=P.useRef(null),G=P.useRef(null),O=P.useRef(null),V=[{text:"Looking for properties near you?",query:"Show me properties near me"},{text:"Find trending properties in your area",query:"Show trending properties"},{text:"Check most viewed homes near your postcode",query:"Show most viewed properties"},{text:"Help me apply for a property",query:"How do I apply for a property?"},{text:"Show rentals under 1500",query:"Find rentals under 1500"}];P.useEffect(()=>{(async()=>{if(t)try{const{data:ie}=await Ke.from("user_preferences").select("lakshmi_onboarding_completed").eq("user_id",t.id).single();ie!=null&&ie.lakshmi_onboarding_completed?(S(!0),w(!1),D(!1)):(w(!0),D(!0),setTimeout(()=>{D(!1)},6e3))}catch{w(!0),D(!0),setTimeout(()=>{D(!1)},6e3)}else w(!0),D(!0),setTimeout(()=>{D(!1)},6e3);h([])})()},[t]),P.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Z=window.SpeechRecognition||window.webkitSpeechRecognition;G.current=new Z,G.current.continuous=!1,G.current.interimResults=!1,G.current.lang="en-GB",G.current.onresult=ie=>{const re=ie.results[0][0].transcript;g(re),N(!1),setTimeout(()=>{K(re)},300)},G.current.onerror=ie=>{console.error("Speech recognition error:",ie.error),N(!1)},G.current.onend=()=>{N(!1)}}return()=>{G.current&&G.current.stop()}},[]),P.useEffect(()=>{Y()},[u]),P.useEffect(()=>{if(!l||!t||u.length===0)return;const ie=setTimeout(()=>{const re=[];r&&r.length>0&&re.push({text:"Find similar properties nearby",query:"Show me similar properties",icon:vn}),o&&o.length>0&&re.push({text:"View my saved properties",query:"Show my saved properties",icon:ed}),s&&s.length>0&&re.push({text:"Check my applications",query:"Show my applications",icon:Or}),i!=null&&i.postcode&&re.push({text:`Properties near ${i.postcode}`,query:`Show properties near ${i.postcode}`,icon:aa}),H(re.slice(0,3))},3e3);return()=>clearTimeout(ie)},[l,t,u.length,r,o,s,i]);const Y=()=>{var Z;(Z=C.current)==null||Z.scrollIntoView({behavior:"smooth"})},ee=async()=>{if(t)try{const{error:Z}=await Ke.from("user_preferences").upsert({user_id:t.id,lakshmi_onboarding_completed:!0,updated_at:new Date().toISOString()},{onConflict:"user_id"});Z&&Z.code!=="42P01"&&console.error("Error saving onboarding status:",Z)}catch{console.warn("User preferences table not found")}},he=Z=>{const ie=Z.toLowerCase(),re={location:null,bedrooms:null,bathrooms:null,minPrice:null,maxPrice:null,propertyType:null,searchType:null},X=ie.match(/\b([a-z]{1,2}\d{1,2}[a-z]?\s?\d[a-z]{2})\b/i),ke=ie.match(/\b(london|manchester|birmingham|leeds|edinburgh|glasgow|liverpool|bristol|sheffield|newcastle|cardiff|belfast)\b/),Pe=ie.match(/\b(near me|nearby|close to me|in my area)\b/);X?re.location=X[1].toUpperCase().replace(/\s/g,""):ke?re.location=ke[1].charAt(0).toUpperCase()+ke[1].slice(1):Pe&&i&&(re.location=i.postcode||i.city||"near you");const De=ie.match(/\b(\d+)\s*(bed|bedroom|bedrooms|br)\b/);De&&(re.bedrooms=parseInt(De[1]));const Ye=ie.match(/\b(\d+)\s*(bath|bathroom|bathrooms)\b/);Ye&&(re.bathrooms=parseInt(Ye[1]));const ce=ie.match(/\b(under|below|less than|max|maximum)\s*[$]?(\d+[k]?)\b/),Ae=ie.match(/\b(over|above|more than|min|minimum)\s*[$]?(\d+[k]?)\b/),je=ie.match(/\b[$]?(\d+[k]?)\s*(to|-|and)\s*[$]?(\d+[k]?)\b/);if(ce){let et=ce[2].replace("k","000");re.maxPrice=parseInt(et)}else if(Ae){let et=Ae[2].replace("k","000");re.minPrice=parseInt(et)}else if(je){let et=je[1].replace("k","000"),ae=je[3].replace("k","000");re.minPrice=parseInt(et),re.maxPrice=parseInt(ae)}return ie.match(/\b(rent|rental|renting|to rent|for rent)\b/)?re.propertyType="rent":ie.match(/\b(buy|purchase|sale|for sale|to buy)\b/)&&(re.propertyType="sale"),ie.match(/\b(trending|popular|hot)\b/)?re.searchType="trending":ie.match(/\b(most viewed|most popular|viewed)\b/)?re.searchType="most-viewed":ie.match(/\b(recent|new|newly added|latest)\b/)?re.searchType="recent":ie.match(/\b(high demand|in demand|demand)\b/)&&(re.searchType="high-demand"),re},de=P.useCallback(async()=>{if(!t)return null;try{return{viewedCount:(r==null?void 0:r.length)||0,savedCount:(o==null?void 0:o.length)||0,appliedCount:(s==null?void 0:s.length)||0,location:(i==null?void 0:i.postcode)||(i==null?void 0:i.city)||null,recentViews:(r==null?void 0:r.slice(0,3))||[]}}catch(Z){return console.error("Error getting user context:",Z),{viewedCount:(r==null?void 0:r.length)||0,savedCount:(o==null?void 0:o.length)||0,appliedCount:(s==null?void 0:s.length)||0,location:(i==null?void 0:i.postcode)||(i==null?void 0:i.city)||null,recentViews:[]}}},[t,r,o,s,i]),xe=async(Z,ie)=>{y(!0);try{let re=[],X="Here are some properties I found:";if(ie.searchType==="trending")re=(await tM({location:ie.location?{postcode:ie.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],X="Here are trending properties:";else if(ie.searchType==="most-viewed")re=(await oN({location:ie.location?{postcode:ie.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],X="Here are the most viewed properties:";else if(ie.searchType==="recent")re=(await lN({location:ie.location?{postcode:ie.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],X="Here are recently added properties:";else if(ie.searchType==="high-demand")re=(await rM({location:ie.location?{postcode:ie.location}:i,limit:6,userId:t==null?void 0:t.id})).properties||[],X="Here are high demand properties:";else{const ke=ie.location?{postcode:ie.location}:i||{postcode:"SW1A 1AA"};re=(await eM({location:ke,radius:5,maxRadius:20,listingStatus:ie.propertyType||"both",userId:t==null?void 0:t.id,limit:6})).properties||[],ie.bedrooms&&(re=re.filter(De=>De.bedrooms>=ie.bedrooms)),ie.bathrooms&&(re=re.filter(De=>De.bathrooms>=ie.bathrooms)),ie.minPrice&&(re=re.filter(De=>De.price>=ie.minPrice)),ie.maxPrice&&(re=re.filter(De=>De.price<=ie.maxPrice))}Se("bot",X,re.length>0?{type:"properties",properties:re.slice(0,6)}:null),re.length===0&&Se("bot","I couldn't find properties matching your criteria. Try adjusting your search or browse all properties.")}catch(re){console.error("Error searching properties:",re),Se("bot","I encountered an error while searching. Please try again or browse properties manually.")}finally{y(!1)}},oe=async Z=>{const ie=Z.toLowerCase(),re=await de();if(ie.match(/\b(my|recent|viewed|saved|applied)\b/)){if(ie.match(/\b(viewed|recent|recently viewed)\b/)&&(re==null?void 0:re.viewedCount)>0)return`You've recently viewed ${re.viewedCount} ${re.viewedCount===1?"property":"properties"}. Would you like me to show you similar properties or help you find more?`;if(ie.match(/\b(saved|favorites|favourites)\b/)&&(re==null?void 0:re.savedCount)>0)return`You have ${re.savedCount} saved ${re.savedCount===1?"property":"properties"}. I can help you view them or find similar ones.`;if(ie.match(/\b(applied|applications)\b/)&&(re==null?void 0:re.appliedCount)>0)return`You have ${re.appliedCount} active ${re.appliedCount===1?"application":"applications"}. Would you like to check their status?`}return ie.match(/\b(near me|nearby|in my area|local)\b/)&&(re!=null&&re.location)?`I see you're looking near ${re.location}. Let me find properties in that area for you.`:null},fe=async Z=>{const ie=Z.toLowerCase().trim();if(b&&!k&&(w(!1),await ee()),ie.match(/\b(hello|hi|hey|greetings|good morning|good afternoon|good evening)\b/)){const Pe=await de();let De="Hello! How can I help you today?";Pe!=null&&Pe.location&&(De=`Hello! I can help you find properties near ${Pe.location} or answer any questions. What would you like to explore?`),Se("bot",De);return}const re=await oe(Z);if(re){Se("bot",re);return}if(["property","properties","house","flat","apartment","rent","buy","sale","find","search","show","listings","homes"].some(Pe=>ie.includes(Pe))){const Pe=he(Z);await xe(Z,Pe);return}const ke={dashboard:"/user/dashboard",discover:"/user/dashboard/discover",properties:"/user/dashboard/discover",browse:"/user/dashboard/discover",messages:"/user/dashboard/messages",payments:"/user/dashboard/payments",contracts:"/user/dashboard/contracts",profile:"/user/dashboard/profile",settings:"/user/dashboard/settings",help:"/user/dashboard/help",applications:"/user/dashboard/applications",saved:"/user/dashboard/saved"};for(const[Pe,De]of Object.entries(ke))if(ie.includes(Pe)){setTimeout(()=>e(De),500),Se("bot",`I'll take you to ${Pe==="properties"||Pe==="browse"?"Discover Properties":Pe.charAt(0).toUpperCase()+Pe.slice(1)} now.`);return}if(ie.includes("how do i apply")){Se("bot",`To apply for a property:
1. Browse properties on the Discover page
2. Click 'View Details' on a property you like
3. Click 'Apply Now' or 'Buy Now'
4. Fill out the application form

I can help you find properties to apply for!`);return}if(ie.includes("how do i save")){Se("bot",`To save a property:
1. Find a property you like
2. Click the heart icon on the property card
3. View all saved properties in the 'Saved' section

Would you like me to show you properties to save?`);return}Se("bot","I can help you search for properties, navigate the platform, or answer questions. Try asking me to find properties, show trending listings, or help with applications. What would you like to do?")},Se=(Z,ie,re=null)=>{const X={id:Date.now()+Math.random(),type:Z,text:ie,data:re,timestamp:new Date};h(ke=>[...ke,X])},K=async(Z=null)=>{const ie=Z||f.trim();!ie||m||(Se("user",ie),g(""),y(!0),await fe(ie),y(!1))},A=Z=>{Z.preventDefault(),K()},q=async Z=>{w(!1),await ee(),g(Z.query),await K(Z.query)},F=Z=>{H([]),g(Z.query),K(Z.query)},R=()=>{if(!G.current){Se("bot","Voice input is not available in your browser. Please type your message instead.");return}x?(G.current.stop(),N(!1)):(G.current.start(),N(!0),Se("bot"," Listening... Please speak your query."))},W=Z=>{if(!Z)return null;let ie=[];if(Z.image_urls){if(Array.isArray(Z.image_urls))ie=Z.image_urls;else if(typeof Z.image_urls=="string")try{ie=JSON.parse(Z.image_urls)}catch{ie=[]}}const re=[Z.address_line_1,Z.city,Z.postcode].filter(Boolean),X=re.length>0?re.join(", "):"UK";return{id:Z.id,title:Z.title||"Property",location:X,price:Z.price||0,type:Z.property_type==="rent"?"Rent":Z.property_type==="sale"?"Sale":"Property",property_type:Z.property_type,beds:Z.bedrooms||0,baths:Z.bathrooms||0,area:Z.property_size_sqm||null,image:ie[0]||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",images:ie.length>0?ie:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"],description:Z.description||"",is_saved:Z.is_saved||!1,is_applied:Z.is_applied||!1,application_status:Z.application_status||null,view_count:Z.view_count||0,latitude:Z.latitude,longitude:Z.longitude,listedDate:Z.created_at?new Date(Z.created_at):new Date,featured:Z.featured||!1}};return n.jsxs(n.Fragment,{children:[I&&!l&&n.jsx("div",{className:"fixed bottom-28 right-6 z-50 animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border-2 border-orange-300 dark:border-orange-600 p-4 max-w-xs animate-bounce-subtle",children:[n.jsx("div",{className:"absolute bottom-[-12px] right-8 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[12px] border-t-white dark:border-t-gray-800"}),n.jsx("div",{className:"absolute bottom-[-14px] right-8 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[12px] border-t-orange-300 dark:border-t-orange-600"}),n.jsx("button",{onClick:()=>D(!1),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Dismiss welcome",children:n.jsx(xr,{size:16,className:"text-gray-400 dark:text-gray-500"})}),n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex items-center justify-center animate-pulse-slow",children:n.jsx(Nn,{size:24,className:"text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800 animate-ping"})]}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"hi, welcome to the estospaces"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"I'm Lakshmi, your property assistant. Click below to get started!"})]})]}),n.jsxs("button",{onClick:()=>{D(!1),c(!0)},className:"w-full mt-3 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[n.jsx(_l,{size:16}),n.jsx("span",{children:"Start Chatting"})]})]})}),!l&&n.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:n.jsxs("button",{onClick:()=>{D(!1),c(!0)},className:"px-4 py-3 bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 flex items-center gap-2 relative","aria-label":"Ask Lakshmi",children:[n.jsx(_l,{size:20,className:"flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:"Ask Lakshmi"}),I&&n.jsx("span",{className:"absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-ping"})]})}),l&&n.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-2xl flex flex-col z-40 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-t-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx(_l,{size:20,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white text-sm",children:"Ask Lakshmi"}),n.jsx("p",{className:"text-xs text-orange-100",children:"Intelligent Assistant"})]})]}),n.jsx("button",{onClick:()=>c(!1),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close chat",children:n.jsx(xr,{size:20,className:"text-white"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[u.map(Z=>{var ie;return n.jsx("div",{className:`flex ${Z.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${Z.type==="user"?"bg-orange-500 dark:bg-orange-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-600"}`,children:[Z.type==="bot"&&n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_l,{size:14,className:"text-orange-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Ask Lakshmi"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.text}),((ie=Z.data)==null?void 0:ie.type)==="properties"&&Z.data.properties&&n.jsxs("div",{className:"mt-3 space-y-2",children:[Z.data.properties.map(re=>{const X=W(re);return X?n.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-2 bg-gray-50 dark:bg-gray-800",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("img",{src:X.image,alt:X.title,className:"w-16 h-16 object-cover rounded",onError:ke=>{ke.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 truncate",children:X.title}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:X.location}),n.jsxs("p",{className:"text-xs font-bold text-orange-600 dark:text-orange-400 mt-1",children:["",((X.price||0)/1e3).toFixed(0),"k",X.type==="Rent"?"/mo":""]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[X.beds>0&&n.jsxs("span",{children:[X.beds," bed"]}),X.baths>0&&n.jsxs("span",{children:[X.baths," bath"]})]}),n.jsx("button",{onClick:()=>e(`/user/dashboard/property/${re.id}`),className:"mt-2 text-xs text-orange-600 dark:text-orange-400 hover:underline font-medium",children:"View Details "})]})]})},re.id):null}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs("button",{onClick:()=>e("/user/dashboard/discover"),className:"flex-1 text-xs px-3 py-1.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1",children:[n.jsx(yf,{size:12}),"Browse All"]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/discover?view=map"),className:"flex-1 text-xs px-3 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors flex items-center justify-center gap-1",children:[n.jsx(aa,{size:12}),"View on Map"]})]})]})]})},Z.id)}),b&&!k&&u.length===0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Try asking:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:V.map((Z,ie)=>n.jsx("button",{onClick:()=>q(Z),className:"px-3 py-1.5 bg-white dark:bg-gray-800 hover:bg-orange-50 dark:hover:bg-orange-900/20 border border-gray-200 dark:border-gray-700 hover:border-orange-300 dark:hover:border-orange-700 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors",children:Z.text},ie))})]}),B.length>0&&u.length>2&&n.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(TC,{size:12}),n.jsx("span",{children:"Suggestions:"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.map((Z,ie)=>{const re=Z.icon;return n.jsxs("button",{onClick:()=>F(Z),className:"px-3 py-1.5 bg-white dark:bg-gray-800 hover:bg-orange-50 dark:hover:bg-orange-900/20 border border-gray-200 dark:border-gray-700 hover:border-orange-300 dark:hover:border-orange-700 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors flex items-center gap-1.5",children:[n.jsx(re,{size:12}),Z.text]},ie)}),n.jsx("button",{onClick:()=>H([]),className:"px-2 py-1.5 text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"Dismiss"})]})]}),m&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_l,{size:14,className:"text-orange-500"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),x&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lw,{size:14,className:"text-red-500 animate-pulse"}),n.jsx("span",{className:"text-xs text-red-700 dark:text-red-400",children:"Listening..."})]})})}),n.jsx("div",{ref:C})]}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 rounded-b-lg",children:n.jsxs("form",{onSubmit:A,className:"flex gap-2",children:[n.jsx("input",{ref:O,type:"text",value:f,onChange:Z=>g(Z.target.value),placeholder:"Ask me anything...",disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Type your message to Ask Lakshmi"}),(window.SpeechRecognition||window.webkitSpeechRecognition)&&n.jsx("button",{type:"button",onClick:R,disabled:m,className:`p-2 rounded-lg transition-colors ${x?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":x?"Stop listening":"Start voice input",children:x?n.jsx(SC,{size:18}):n.jsx(Lw,{size:18})}),n.jsx("button",{type:"submit",disabled:!f.trim()||m,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Send message",children:m?n.jsx(oo,{size:18,className:"animate-spin"}):n.jsx(Eh,{size:18})})]})})]})]})},xi=({children:e})=>{const t=Wn();return n.jsx(yle,{children:n.jsx(mle,{children:n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-[#0a0a0a] overflow-hidden",children:[n.jsx(ale,{}),n.jsx(nle,{}),n.jsx("main",{className:"flex-1 overflow-y-auto dark:bg-[#0a0a0a]",children:n.jsx($s,{mode:"wait",children:n.jsx(Yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"h-full",children:e},t.pathname)})}),n.jsx(Nle,{})]})})})},kle=({property:e,onClose:t})=>{const r=e.virtualTourUrl||e.virtualTour,a=!!r;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Virtual Tour"}),n.jsx("p",{className:"text-sm text-gray-600",children:e.title})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xr,{size:24,className:"text-gray-600"})})]}),n.jsx("div",{className:"flex-1 overflow-auto p-4",children:a?n.jsx("div",{className:"aspect-video w-full bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("iframe",{src:r,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Virtual Tour"})}):n.jsx("div",{className:"aspect-video w-full bg-gray-100 rounded-lg flex flex-col items-center justify-center p-8",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Virtual Tour Not Available"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This property doesn't have a virtual tour available at the moment. Please contact us for more information or schedule a viewing."}),n.jsx("button",{onClick:t,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Close"})]})})})]})})},jA=e=>typeof e=="number"?`${e.toLocaleString("en-GB")}`:e||"Price on request",jle=({property:e,onClose:t})=>{const[r,a]=P.useState(!1),s=`${window.location.origin}/user/dashboard/property/${e.id}`,i=`Check out this property: ${e.title} - ${jA(e.price)}`,o=async()=>{try{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)}catch(u){console.error("Failed to copy:",u)}},l=()=>{const u=encodeURIComponent(`Property: ${e.title}`),h=encodeURIComponent(`${i}

View details: ${s}`);window.location.href=`mailto:?subject=${u}&body=${h}`},c=()=>{const u=encodeURIComponent(`${i}

${s}`);window.open(`https://wa.me/?text=${u}`,"_blank")};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Share Property"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:n.jsx(xr,{size:20})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(wn,{className:"text-blue-600 dark:text-blue-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Share via Email"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send property details via email"})]})]}),n.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(Qm,{className:"text-green-600 dark:text-green-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Share via WhatsApp"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share with WhatsApp contacts"})]})]}),n.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r?n.jsx(ph,{className:"text-green-600 dark:text-green-400",size:20}):n.jsx(mV,{className:"text-purple-600 dark:text-purple-400",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r?"Link Copied!":"Copy Link"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:s})]})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Property Details:"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.location}),n.jsx("p",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 mt-1",children:jA(e.price)})]})]})})},aM=({property:e,onViewDetails:t})=>{const[r,a]=P.useState(0),[s,i]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(!1),{toggleProperty:h,isPropertySaved:f}=Bf(),{saveProperty:g,unsaveProperty:m,applyToProperty:y,trackPropertyView:x,currentUser:N}=Kf(),b=vr(),w=e.is_saved!==void 0?e.is_saved:f(e.id),k=e.is_applied||!1,S=e.application_status||null,B=e.view_count||0,H=he=>{he==null||he.stopPropagation(),N&&x(e.id),t?t(e):b(`/user/dashboard/property/${e.id}`)},I=async he=>{he.stopPropagation(),N&&(u(!0),w?(await m(e.id),h(e)):(await g(e.id),h(e)),u(!1))},D=async he=>{he.stopPropagation(),N&&b(`/user/dashboard/property/${e.id}?action=buy`)},C=e.images||[e.image].filter(Boolean).slice(0,4),G=C.length>1,O=he=>{he.stopPropagation(),a(de=>(de+1)%C.length)},V=he=>{he.stopPropagation(),a(de=>(de-1+C.length)%C.length)},Y=he=>{var de;if(typeof he=="number"){const xe=`${he.toLocaleString("en-GB")}`;return e.property_type==="rent"||((de=e.type)==null?void 0:de.toLowerCase())==="rent"?`${xe}/month`:xe}return he},ee=he=>{if(!he)return"";const de=Math.floor((new Date-new Date(he))/(1e3*60*60*24));return de===0?"Listed today":de===1?"Listed 1 day ago":de<7?`Listed ${de} days ago`:de<14?"Listed 1 week ago":`Listed ${Math.floor(de/7)} weeks ago`};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 dark:border-gray-300 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"relative h-56 bg-gray-200 overflow-hidden",children:[C.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:C[r],alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:he=>{he.target.src="https://via.placeholder.com/400x300?text=Property+Image"}}),G&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:V,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:n.jsx(sc,{size:16,className:"text-gray-700"})}),n.jsx("button",{onClick:O,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:n.jsx(Al,{size:16,className:"text-gray-700"})}),n.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5",children:C.map((he,de)=>n.jsx("button",{onClick:xe=>{xe.stopPropagation(),a(de)},className:`h-1.5 rounded-full transition-all ${de===r?"bg-white w-4":"bg-white/50 w-1.5 hover:bg-white/75"}`},de))})]})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No Image"})}),e.type&&n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-800 px-2.5 py-1 rounded-md text-sm font-medium",children:e.type})}),n.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[n.jsx("button",{onClick:I,disabled:c,className:`p-2 rounded-full backdrop-blur-sm transition-all ${w?"bg-red-500 text-white":"bg-white/90 dark:bg-white/90 text-gray-700 dark:text-gray-800 hover:bg-white dark:hover:bg-white"} ${c?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from saved":"Save property",title:w?"Saved":"Save property",children:n.jsx(ed,{size:16,className:w?"fill-current":""})}),k&&n.jsx("button",{className:"p-2 rounded-full backdrop-blur-sm bg-green-500 text-white",title:`Applied - ${S}`,children:n.jsx(Ar,{size:16,className:"fill-current"})}),B>0&&n.jsxs("div",{className:"p-2 rounded-full backdrop-blur-sm bg-blue-500 text-white flex items-center gap-1",title:`Viewed ${B} time${B>1?"s":""}`,children:[n.jsx(fa,{size:14}),n.jsx("span",{className:"text-xs font-medium",children:B})]})]}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsx("span",{className:"bg-white/95 backdrop-blur-sm text-gray-900 px-3 py-1.5 rounded-md font-semibold text-lg",children:Y(e.price)})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-900 mb-1 line-clamp-1",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-700 mb-3 flex items-center gap-1",children:[n.jsx(aa,{size:14,className:"text-gray-400 dark:text-gray-600"}),n.jsx("span",{className:"line-clamp-1",children:e.location})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-700 mb-3",children:[e.beds&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cu,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.beds," Bed",e.beds>1?"s":""]})]}),e.baths&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gh,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.baths," Bath",e.baths>1?"room":""]})]}),e.area&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vf,{size:16,className:"text-gray-400 dark:text-gray-600"}),n.jsxs("span",{children:[e.area," sqft"]})]})]}),e.rating&&n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(kl,{size:14,className:"text-yellow-400 fill-yellow-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-900",children:e.rating})]}),e.reviews&&n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-700",children:["(",e.reviews,")"]}),e.listedDate&&n.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-600 ml-auto",children:ee(e.listedDate)})]}),e.tags&&e.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:e.tags.slice(0,3).map((he,de)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-200 text-gray-700 dark:text-gray-800 text-xs rounded-md",children:he},de))}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:H,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:"View Details"}),!k&&n.jsx("button",{onClick:D,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Buy Now"}),k&&n.jsx("button",{onClick:()=>b("/user/dashboard/applications"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors",children:"View Application"}),n.jsx("button",{onClick:he=>{he.stopPropagation(),i(!0)},className:"px-4 py-2 border border-gray-300 dark:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-100 text-gray-700 dark:text-gray-800 rounded-lg text-sm font-medium transition-colors",children:"Virtual Tour"}),n.jsx("button",{onClick:he=>{he.stopPropagation(),l(!0)},className:"p-2 border border-gray-300 dark:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-100 text-gray-700 dark:text-gray-800 rounded-lg transition-colors",title:"Share property",children:n.jsx(Io,{size:16})})]})]})]}),s&&n.jsx(kle,{property:e,onClose:()=>i(!1)}),o&&n.jsx(jle,{property:e,onClose:()=>l(!1)})]})},Sle=()=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 animate-pulse",children:[n.jsx("div",{className:"h-56 bg-gray-300"}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-18"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("div",{className:"h-10 bg-gray-200 rounded flex-1"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-28"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-10"})]})]})]}),Ale=({properties:e=[],userLocation:t=null,onPropertyClick:r=null})=>{var k;const a=vr(),[s,i]=P.useState(null),o={lat:51.5074,lng:-.1278},[l,c]=P.useState(()=>{try{return t&&t.latitude&&t.longitude?{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)}:o}catch(S){return console.error("Error setting map center:",S),o}}),[u,h]=P.useState(12),f=P.useMemo(()=>{try{return!e||!Array.isArray(e)||e.length===0?[]:!t||!t.latitude||!t.longitude?e.map(S=>({...S,distance:null,category:"other"})):e.map(S=>{if(!S||!S.latitude||!S.longitude)return{...S,distance:null,category:"other"};try{const B=xle(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(S.latitude),parseFloat(S.longitude));let H="other";return B<=1?H="very-near":B<=3?H="near":B<=5?H="moderate":H="far",{...S,distance:Math.round(B*10)/10,category:H}}catch(B){return console.error("Error calculating distance:",B),{...S,distance:null,category:"other"}}})}catch(S){return console.error("Error processing properties:",S),e||[]}},[e,t]),m=P.useMemo(()=>[...f].sort((S,B)=>S.distance===null?1:B.distance===null?-1:S.distance-B.distance),[f]).filter(S=>S.latitude&&S.longitude),y=P.useMemo(()=>{if(m.length===0)return null;const S=m.map(H=>parseFloat(H.latitude)),B=m.map(H=>parseFloat(H.longitude));return{minLat:Math.min(...S),maxLat:Math.max(...S),minLng:Math.min(...B),maxLng:Math.max(...B)}},[m]);oc.useEffect(()=>{if(y&&m.length>0){const S=(y.minLat+y.maxLat)/2,B=(y.minLng+y.maxLng)/2;c({lat:S,lng:B})}else t&&t.latitude&&c({lat:t.latitude,lng:t.longitude})},[y,t,m.length]);const x=S=>{i(S),r&&r(S)},N=S=>{a(`/user/dashboard/property/${S.id}`)},b=S=>{switch(S){case"very-near":return"bg-green-500";case"near":return"bg-orange-500";case"moderate":return"bg-yellow-500";case"far":return"bg-gray-400";default:return"bg-blue-500"}},w=(S,B,H)=>{if(!H){const O=(S-l.lat)*100/.1;return{left:`${50+(B-l.lng)*100/.1}%`,top:`${50-O}%`}}const I=H.maxLat-H.minLat||.1,D=H.maxLng-H.minLng||.1,C=(B-H.minLng)/D*100,G=(H.maxLat-S)/I*100;return{left:`${Math.max(5,Math.min(95,C))}%`,top:`${Math.max(5,Math.min(95,G))}%`}};return n.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"relative w-full h-full bg-gradient-to-br from-blue-50 via-green-50 to-blue-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800",children:[n.jsx("div",{className:"absolute inset-0 opacity-20 dark:opacity-10",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle, #3b82f6 1px, transparent 1px)",backgroundSize:`${40/u}px ${40/u}px`}})}),t&&t.latitude&&n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-20",style:w(t.latitude,t.longitude,y),children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center animate-pulse",children:n.jsx(IV,{size:14,className:"text-white"})}),n.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Your Location"})]})}),m.map(S=>{var H;const B=w(parseFloat(S.latitude),parseFloat(S.longitude),y);return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:B,children:n.jsxs("button",{onClick:()=>x(S),className:"relative group",children:[n.jsx("div",{className:`w-10 h-10 ${b(S.category)} rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer`,children:n.jsx(mr,{size:20,className:"text-white"})}),S.distance!==null&&n.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 whitespace-nowrap bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:[S.distance," mi"]}),(s==null?void 0:s.id)===S.id&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 z-30 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm mb-1",children:S.title||"Property"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:S.address_line_1||S.city||"UK"}),n.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["",(H=S.price)==null?void 0:H.toLocaleString(),S.property_type==="rent"&&"/month"]}),S.distance!==null&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[S.distance," miles away"]})]}),n.jsx("button",{onClick:I=>{I.stopPropagation(),i(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 ml-2",children:n.jsx(xr,{size:16})})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400 mb-3",children:[S.bedrooms>0&&n.jsxs("span",{children:[S.bedrooms," Bed",S.bedrooms!==1?"s":""]}),S.bathrooms>0&&n.jsxs("span",{children:[S.bathrooms," Bath",S.bathrooms!==1?"s":""]})]}),n.jsx("button",{onClick:()=>N(S),className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"View Details"})]})]})},S.id)}),n.jsxs("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-gray-200 dark:border-gray-700 z-20",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Distance"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Very Near (<1 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Near (1-3 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Moderate (3-5 mi)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Far (5+ mi)"})]})]})]}),n.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 z-20",children:[n.jsx("button",{onClick:()=>h(S=>Math.min(20,S+1)),className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(Bq,{size:20,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>h(S=>Math.max(5,S-1)),className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(Uq,{size:20,className:"text-gray-700 dark:text-gray-300"})})]}),n.jsx("div",{className:"absolute top-4 left-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg px-4 py-2 border border-gray-200 dark:border-gray-700 z-20",children:n.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[m.length," ",m.length===1?"Property":"Properties"," Nearby"]})})]}),s&&n.jsxs("div",{className:"absolute top-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 z-30 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Property Details"}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(xr,{size:20})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.address_line_1}),n.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["",(k=s.price)==null?void 0:k.toLocaleString(),s.property_type==="rent"&&"/month"]}),s.distance!==null&&n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.distance," miles away"]})]})]})]})},Ele=()=>n.jsxs("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:[n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"ESTOSPACES.COM"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Contact Us"})}),n.jsx("li",{children:n.jsx("a",{href:"/find-agent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Find an Agent"})}),n.jsx("li",{children:n.jsx("a",{href:"/sitemap",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Sitemap"})}),n.jsx("li",{children:n.jsx("a",{href:"/careers",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Careers"})}),n.jsx("li",{children:n.jsx("a",{href:"/faq",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"FAQ"})}),n.jsx("li",{children:n.jsx("a",{href:"/mobile-apps",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Mobile Apps"})}),n.jsx("li",{children:n.jsx("a",{href:"/promote-property",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Promote Your Property"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy-settings",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Change privacy settings"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"Search"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/search-homes-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search homes for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/search-homes-for-rent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search homes for rent"})}),n.jsx("li",{children:n.jsx("a",{href:"/commercial-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Commercial for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/commercial-to-rent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Commercial to rent"})}),n.jsx("li",{children:n.jsx("a",{href:"/overseas-homes-for-sale",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Overseas homes for sale"})}),n.jsx("li",{children:n.jsx("a",{href:"/search-sold-house-prices",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Search sold house prices"})}),n.jsx("li",{children:n.jsx("a",{href:"/find-agent",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Find an agent"})}),n.jsx("li",{children:n.jsx("a",{href:"/student-accommodation",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Student accommodation"})}),n.jsx("li",{children:n.jsx("a",{href:"/retirement-homes",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Retirement homes"})}),n.jsx("li",{children:n.jsx("a",{href:"/new-homes",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"New homes"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold uppercase mb-4",style:{color:"#1e3a5f"},children:"Locations"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/locations/major-towns-cities-uk",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Major towns and cities in the UK"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/london",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"London"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/cornwall",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Cornwall"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/glasgow",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Glasgow"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/cardiff",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Cardiff"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/edinburgh",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Edinburgh"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/spain",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Spain"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/france",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"France"})}),n.jsx("li",{children:n.jsx("a",{href:"/locations/portugal",className:"text-gray-700 hover:text-orange-600 transition-colors",children:"Portugal"})})]})]})]})}),n.jsx("div",{className:"border-t border-gray-300",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"2026 Copyright Reserved"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[n.jsx("a",{href:"/privacy",className:"hover:text-orange-600 transition-colors",children:"Privacy Policy"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/cookies",className:"hover:text-orange-600 transition-colors",children:"Cookie Policy"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/terms",className:"hover:text-orange-600 transition-colors",children:"Terms & Conditions"}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsx("a",{href:"/hosting-terms",className:"hover:text-orange-600 transition-colors",children:"Hosting Terms"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:"https://www.facebook.com/estospaces",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"Facebook",children:n.jsx("span",{className:"text-lg font-bold",children:"f"})}),n.jsx("a",{href:"https://x.com/ESTOSPACES",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"X (Twitter)",children:n.jsx(CC,{size:18})}),n.jsx("a",{href:"https://www.instagram.com/estospaces/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"Instagram",children:n.jsx(NC,{size:18})}),n.jsx("a",{href:"https://www.linkedin.com/company/estospaces-solutions-private-limited",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors","aria-label":"LinkedIn",children:n.jsx(jC,{size:18})})]})]})})})]}),SA=()=>{const e=vr(),[t,r]=C_(),{savedProperties:a}=Bf(),{activeLocation:s,loading:i,updateLocationFromSearch:o}=Q9(),{currentUser:l,fetchProperties:c}=Kf(),{activeTab:u,setActiveTab:h}=I_();P.useEffect(()=>{const je=window.location.pathname;je.startsWith("/user/dashboard/")&&je!=="/user/dashboard"&&!je.match(/^\/user\/dashboard\/(discover|saved|applications|viewings|messages|reviews|payments|contracts|settings|help|profile|property\/[^/]+)$/)&&e("/user/dashboard",{replace:!0})},[e]);const[f,g]=P.useState(()=>t.get("location")||""),[m,y]=P.useState(()=>{const je=t.get("type");return je==="buy"||je==="rent"||je==="sold"?je:"sold"});P.useEffect(()=>{const je=t.get("type");je==="buy"||je==="rent"||je==="sold"?y(je):je||y("sold")},[t]);const[x,N]=P.useState([]),[b,w]=P.useState([]),[k,S]=P.useState([]),[B,H]=P.useState([]),[I,D]=P.useState([]),[C,G]=P.useState(!0),[O,V]=P.useState(!1),[Y,ee]=P.useState(!1),[he,de]=P.useState(!1),[xe,oe]=P.useState(!1),[fe,Se]=P.useState(!1),[K,A]=P.useState(null),[q,F]=P.useState(null),[R,W]=P.useState({totalProperties:0,savedCount:0,applicationsCount:0}),Z=P.useCallback(async(je,et=!0)=>{var ae,Oe,Ge,at,yt;if(je){et&&(G(!0),V(!0),ee(!0),de(!0),oe(!0),Se(!0)),A(null),F(null);try{const[wt,ot,jt,Et,Te]=await Promise.all([_le({location:je,limit:8,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),oN({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),tM({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),lN({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message})),rM({location:je,limit:6,userId:l==null?void 0:l.id}).catch(gt=>({properties:[],error:gt.message}))]);N(wt.properties||[]),w(ot.properties||[]),S(jt.properties||[]),H(Et.properties||[]),D(Te.properties||[]);const it=(((ae=wt.properties)==null?void 0:ae.length)||0)+(((Oe=ot.properties)==null?void 0:Oe.length)||0)+(((Ge=jt.properties)==null?void 0:Ge.length)||0)+(((at=Et.properties)==null?void 0:at.length)||0)+(((yt=Te.properties)==null?void 0:yt.length)||0);if(W(gt=>({...gt,totalProperties:it})),it===0){const gt=await eM({location:je,radius:5,maxRadius:20,listingStatus:"both",userId:l==null?void 0:l.id});if(gt.properties&&gt.properties.length>0){const _t=gt.properties;N(_t.slice(0,8)),w(_t.slice(0,6)),S(_t.slice(0,6)),H(_t.slice(0,6)),D(_t.slice(0,6)),F(gt.message||"Showing similar properties near your search area."),W(br=>({...br,totalProperties:_t.length}))}else F("No properties found in this area or nearby. Please try a different location.")}}catch(wt){A(wt.message||"Failed to load properties. Please check your connection and try again.")}finally{et&&(G(!1),V(!1),ee(!1),de(!1),oe(!1),Se(!1))}}},[l]),[ie,re]=P.useState(!1),[X,ke]=P.useState(()=>t.get("filter")||null);P.useEffect(()=>{const je=t.get("type");je==="buy"||je==="rent"||je==="sold"?y(je):(!je||window.location.pathname==="/user/dashboard")&&y("sold")},[t]),P.useEffect(()=>{const je=t.get("filter");ke(je||null)},[t]),P.useEffect(()=>{const je=et=>{ie&&!et.target.closest(".filter-dropdown-container")&&re(!1)};return document.addEventListener("mousedown",je),()=>document.removeEventListener("mousedown",je)},[ie]),P.useEffect(()=>{if(i)return;const je=t.get("location");if(je&&je.trim())return;Z(s||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"},!0)},[s,i,t,Z]),P.useEffect(()=>{W(je=>({...je,savedCount:a.length}))},[a]);const Pe=P.useCallback(async(je,et=null)=>{je==null||je.preventDefault();const ae=(et||f||"").trim();if(!ae){A("Please enter a postcode, street name, or address to search.");return}G(!0),A(null),F(null);try{const Oe=await o(ae);Oe?(r({location:ae}),et&&g(et),await Z(Oe,!1)):A("Could not find location. Please check the postcode, street name, or address and try again.")}catch(Oe){console.error("Error searching location:",Oe),A(Oe.message||"Failed to search location. Please check your connection and try again.")}finally{G(!1)}},[f,o,r,Z]);P.useEffect(()=>{const je=et=>{const{query:ae}=et.detail;ae&&(g(ae),setTimeout(()=>{Pe({preventDefault:()=>{}},ae)},100))};return window.addEventListener("headerLocationSearch",je),()=>{window.removeEventListener("headerLocationSearch",je)}},[Pe]);const De=P.useMemo(()=>{try{return[...x||[],...b||[],...k||[],...B||[],...I||[]].filter((ae,Oe,Ge)=>ae&&ae.id&&Oe===Ge.findIndex(at=>at&&at.id===ae.id))}catch(je){return console.error("Error combining properties:",je),[]}},[x,b,k,B,I]),Ye=P.useMemo(()=>{try{return De.filter(je=>je&&je.latitude&&je.longitude).map(je=>({id:je.id,name:je.title||"Property",lat:parseFloat(je.latitude),lng:parseFloat(je.longitude),price:`${((je.price||0)/1e3).toFixed(0)}k`,address:je.address_line_1||je.city||"UK"}))}catch(je){return console.error("Error formatting map properties:",je),[]}},[De]),ce=async je=>{l&&je.id&&await wle(je.id,l.id),e(`/user/dashboard/property/${je.id}`)},Ae=s||{type:"default",postcode:"SW1A 1AA",latitude:51.5074,longitude:-.1278,city:"London",source:"default"};return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen",children:[n.jsxs("div",{className:"relative rounded-xl shadow-2xl overflow-hidden min-h-[500px] lg:min-h-[600px] flex flex-col items-center justify-center mb-8",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1549517045-bc93de075e53?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/70"}),n.jsxs("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 text-center z-10 w-full px-4",children:[n.jsx("p",{className:"text-4xl lg:text-5xl font-bold mb-3 text-orange-500",children:"Your complete property journey, simplified."}),n.jsx("p",{className:"text-xl lg:text-2xl text-white font-medium",children:"Search, rent, buy, manage properties, and pay bills  all from one intelligent platform."})]}),n.jsx("div",{className:"relative z-10 w-full max-w-4xl mx-auto px-4 mt-32",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 lg:p-8 shadow-2xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/20 pb-4",children:[n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("buy"),r({type:"buy"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${m==="buy"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Buy"}),n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("rent"),r({type:"rent"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${m==="rent"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Rent"}),n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),y("sold"),r({type:"sold"},{replace:!0})},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium ${m==="sold"?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20"}`,children:"Sold"}),n.jsxs("div",{className:"relative ml-auto filter-dropdown-container",children:[n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),re(!ie)},className:`px-4 py-2 rounded-lg transition-colors text-sm font-medium flex items-center gap-2 ${X?"text-white bg-orange-500 border-2 border-orange-600":"text-white hover:bg-white/20 border border-white/30"}`,children:[n.jsx(Do,{size:16}),n.jsx("span",{children:"Filter"}),n.jsx(xf,{size:16,className:`transition-transform duration-200 ${ie?"rotate-180":""}`})]}),ie&&n.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-2xl z-50 overflow-hidden",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke(null);const et=new URLSearchParams(t);et.delete("filter"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${X?"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium"}`,children:"All Properties"}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("most-viewed");const et=new URLSearchParams(t);et.set("filter","most-viewed"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${X==="most-viewed"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(fa,{size:14,className:X==="most-viewed"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Most Viewed"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("trending");const et=new URLSearchParams(t);et.set("filter","trending"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${X==="trending"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(vn,{size:14,className:X==="trending"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Trending"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("high-demand");const et=new URLSearchParams(t);et.set("filter","high-demand"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${X==="high-demand"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(bf,{size:14,className:X==="high-demand"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"High Demand"]}),n.jsxs("button",{type:"button",onClick:je=>{je.preventDefault(),je.stopPropagation(),ke("budget-friendly");const et=new URLSearchParams(t);et.set("filter","budget-friendly"),r(et,{replace:!0}),re(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors flex items-center gap-2 ${X==="budget-friendly"?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(El,{size:14,className:X==="budget-friendly"?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}),"Budget Friendly"]})]})})]})]}),n.jsxs("p",{className:"text-white text-sm mb-4",children:[m==="buy"&&"Search properties for sale",m==="rent"&&"Search properties for rent",m==="sold"&&"Search sold house prices"]}),n.jsxs("form",{onSubmit:Pe,className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:n.jsx(us,{className:"text-gray-400",size:20})}),n.jsx("input",{type:"text",value:f,onChange:je=>g(je.target.value),placeholder:"School Road, SW4 7DD or York",className:"w-full pl-12 pr-4 py-4 text-base bg-white/95 backdrop-blur-sm text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 border border-white/30 placeholder-gray-400",disabled:C,"aria-label":"Search for properties by location"}),f.trim()&&n.jsx("button",{type:"button",onClick:()=>{g(""),r({}),A(null),F(null)},className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Clear search",children:n.jsx(xr,{size:18})})]}),n.jsx("button",{type:"submit",disabled:C,onClick:je=>{var ae;je.preventDefault(),je.stopPropagation();const et=f.trim();if(et&&!C)Pe(je);else if(!et){A("Please enter a postcode, street name, or address to search.");const Oe=(ae=je.target.closest("form"))==null?void 0:ae.querySelector('input[type="text"]');Oe&&Oe.focus()}},className:"px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[140px] shadow-lg hover:shadow-xl","aria-label":"Search for properties",children:C?n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"animate-spin",size:20}),n.jsx("span",{className:"hidden sm:inline",children:"Searching..."})]}):n.jsx("span",{children:"Search"})})]})]})})]}),n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-white dark:to-white rounded-xl shadow-lg border-2 border-orange-200 dark:border-orange-300 p-6 lg:p-8 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(TC,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:["Welcome back",l!=null&&l.email?`, ${l.email.split("@")[0]}`:"","!"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),n.jsx("p",{className:"text-gray-700 text-sm lg:text-base mb-4",children:"Discover your perfect property or manage your existing ones. Use the search above to find properties by location, or explore nearby listings on the map."}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:()=>e("/user/dashboard/discover?type=buy"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(mr,{size:16}),n.jsx("span",{children:"Browse Properties"}),n.jsx(mh,{size:14})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/saved"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(ed,{size:16}),n.jsxs("span",{children:["Saved (",a.length||0,")"]})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/applications"),className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-orange-50 border border-orange-300 text-orange-600 rounded-lg font-medium transition-all duration-200 hover:shadow-md",children:[n.jsx(Or,{size:16}),n.jsx("span",{children:"My Applications"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:w-auto",children:[n.jsx("div",{className:"bg-white/80 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(mr,{size:20,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.length||0}),n.jsx("p",{className:"text-xs text-gray-600",children:"Properties Available"})]})]})}),n.jsx("div",{className:"bg-white/80 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(aa,{size:20,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(s==null?void 0:s.city)||"London"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Current Location"})]})]})})]})]})}),K&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:K}),n.jsx("button",{onClick:()=>A(null),className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Dismiss"})]})]}),q&&!K&&n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ba,{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:q}),n.jsx("button",{onClick:()=>F(null),className:"mt-2 text-xs text-yellow-600 dark:text-yellow-400 hover:underline",children:"Dismiss"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yf,{className:"text-orange-500",size:20}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500",children:"Nearby Properties"})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Explore properties on the map - click markers to view details"})]}),n.jsxs("button",{onClick:()=>e("/user/dashboard/discover"),className:"flex items-center gap-2 px-4 py-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium transition-colors",children:[n.jsx("span",{children:"Browse All Properties"}),n.jsx(mh,{size:16})]})]}),C||i?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oo,{className:"animate-spin mx-auto mb-4 text-orange-500",size:48}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading nearby properties..."})]})})}):K?n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[n.jsx(Ba,{className:"mx-auto mb-4 text-red-600 dark:text-red-400",size:48}),n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:K}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Retry"})]}):De&&De.length===0?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(aa,{className:"mx-auto mb-4 text-gray-400",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No properties found"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Try searching for a different location or browse all properties."}),n.jsx("button",{onClick:()=>e("/user/dashboard/discover"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse All Properties"})]})})}):n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px]",children:n.jsx(Ale,{properties:Ye||[],userLocation:Ae,onPropertyClick:ce})})})]}),n.jsx(Ele,{})]})},Tle=({houses:e=[],agencies:t=[]})=>{const[r,a]=P.useState(null),s=e.length>0?e:[{id:1,name:"Modern Downtown Apartment",lat:37.7749,lng:-122.4194,price:"$450k",address:"123 Main St"},{id:2,name:"Luxury Condo",lat:37.7849,lng:-122.4094,price:"$675k",address:"456 Ocean Ave"},{id:3,name:"Spacious Family Home",lat:37.7649,lng:-122.4294,price:"$520k",address:"789 Park Blvd"}],i=t.length>0?t:[{id:1,name:"Prime Realty Group",lat:37.7799,lng:-122.4144,address:"100 Market St"},{id:2,name:"Elite Properties",lat:37.7699,lng:-122.4244,address:"200 Broadway"},{id:3,name:"City View Realty",lat:37.7599,lng:-122.4344,address:"300 Mission St"}],o=(c,u)=>{a({...c,type:u})},l=()=>{a(null)};return n.jsx("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:n.jsxs("div",{className:"relative w-full h-full bg-gradient-to-br from-blue-50 via-green-50 to-blue-50",children:[n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle, #3b82f6 1px, transparent 1px)",backgroundSize:"40px 40px"}})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm px-6 py-4 rounded-lg shadow-lg",children:[n.jsx(aa,{size:48,className:"mx-auto mb-2 text-orange-500"}),n.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"Interactive Map View"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click markers to view details"})]})}),n.jsxs("div",{className:"absolute inset-0",children:[s.map((c,u)=>{const h=[{left:"25%",top:"35%"},{left:"65%",top:"45%"},{left:"45%",top:"65%"}],f=h[u]||h[0];return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:f,children:n.jsxs("button",{onClick:()=>o(c,"house"),className:"relative group",children:[n.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",children:n.jsx(mr,{size:20,className:"text-white"})}),(r==null?void 0:r.id)===c.id&&(r==null?void 0:r.type)==="house"&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-56 bg-white rounded-lg shadow-xl p-4 z-20 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.name}),n.jsx("button",{onClick:g=>{g.stopPropagation(),l()},className:"text-gray-400 hover:text-gray-600 ml-2",children:n.jsx(xr,{size:16})})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:c.address}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.price})]})]})},`house-${c.id}`)}),i.map((c,u)=>{const h=[{left:"50%",top:"30%"},{left:"30%",top:"60%"},{left:"70%",top:"55%"}],f=h[u]||h[0];return n.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-10",style:f,children:n.jsxs("button",{onClick:()=>o(c,"agency"),className:"relative group",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",children:n.jsx(cc,{size:20,className:"text-white"})}),(r==null?void 0:r.id)===c.id&&(r==null?void 0:r.type)==="agency"&&n.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 w-56 bg-white rounded-lg shadow-xl p-4 z-20 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.name}),n.jsx("button",{onClick:g=>{g.stopPropagation(),l()},className:"text-gray-400 hover:text-gray-600 ml-2",children:n.jsx(xr,{size:16})})]}),n.jsx("p",{className:"text-xs text-gray-600",children:c.address})]})]})},`agency-${c.id}`)})]}),n.jsx("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3 border border-gray-200 z-10",children:n.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Properties"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Agencies"})]})]})}),r&&n.jsx("div",{className:"absolute inset-0 z-0",onClick:l})]})})},Cle=async e=>{if(!e||e.length<2)return[];try{const t=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(e)}/autocomplete`);if(!t.ok)return v2(e);const r=await t.json();return r.result&&r.result.length>0?r.result.slice(0,10):v2(e)}catch(t){return console.warn("Postcode API error, using mock suggestions:",t),v2(e)}},v2=e=>{const t=e.toLowerCase();return["SW1A 1AA","SW1A 2AA","SW1E 5DJ","SW1H 0TL","SW1P 3BT","SW1W 0DT","SW2 1AA","SW3 1AA","SW4 1AA","SW5 1AA","SW6 1AA","SW7 1AA","SW8 1AA","SW9 1AA","SW10 1AA","W1A 1AA","W1B 1AA","W1C 1AA","W1D 1AA","W1F 1AA","W1G 1AA","W1H 1AA","W1J 1AA","W1K 1AA","W1S 1AA","W1T 1AA","W1U 1AA","W1W 1AA","W2 1AA","W3 1AA","W4 1AA","W5 1AA","W6 1AA","W7 1AA","W8 1AA","W9 1AA","W10 1AA","W11 1AA","W12 1AA","W14 1AA","EC1A 1BB","EC1M 1AA","EC1N 1AA","EC1R 1AA","EC1V 1AA","EC2A 1AA","EC2M 1AA","EC2N 1AA","EC2P 1AA","EC2R 1AA","EC2V 1AA","EC3A 1AA","EC3M 1AA","EC3N 1AA","EC3P 1AA","EC3R 1AA","EC3V 1AA","EC4A 1AA","EC4M 1AA","EC4N 1AA","EC4P 1AA","EC4R 1AA","EC4V 1AA","EC4Y 1AA","N1 1AA","N2 1AA","N3 1AA","N4 1AA","N5 1AA","N6 1AA","N7 1AA","N8 1AA","N9 1AA","N10 1AA","E1 1AA","E2 1AA","E3 1AA","E4 1AA","E5 1AA","E6 1AA","E7 1AA","E8 1AA","E9 1AA","E10 1AA","SE1 1AA","SE2 1AA","SE3 1AA","SE4 1AA","SE5 1AA","SE6 1AA","SE7 1AA","SE8 1AA","SE9 1AA","SE10 1AA","NW1 1AA","NW2 1AA","NW3 1AA","NW4 1AA","NW5 1AA","NW6 1AA","NW7 1AA","NW8 1AA","NW9 1AA","NW10 1AA","NW11 1AA","M1 1AA","M2 1AA","M3 1AA","M4 1AA","M5 1AA","M6 1AA","M7 1AA","M8 1AA","M9 1AA","M10 1AA","M11 1AA","M12 1AA","M13 1AA","M14 1AA","M15 1AA","M16 1AA","M17 1AA","M18 1AA","M19 1AA","M20 1AA","B1 1AA","B2 1AA","B3 1AA","B4 1AA","B5 1AA","B6 1AA","B7 1AA","B8 1AA","B9 1AA","B10 1AA","B11 1AA","B12 1AA","B13 1AA","B14 1AA","B15 1AA","L1 1AA","L2 1AA","L3 1AA","L4 1AA","L5 1AA","L6 1AA","L7 1AA","L8 1AA","L9 1AA","L10 1AA","LS1 1AA","LS2 1AA","LS3 1AA","LS4 1AA","LS5 1AA","LS6 1AA","LS7 1AA","LS8 1AA","LS9 1AA","LS10 1AA","EH1 1AA","EH2 1AA","EH3 1AA","EH4 1AA","EH5 1AA","EH6 1AA","EH7 1AA","EH8 1AA","EH9 1AA","EH10 1AA","G1 1AA","G2 1AA","G3 1AA","G4 1AA","G5 1AA","G11 1AA","G12 1AA","G13 1AA","G14 1AA","G15 1AA","BS1 1AA","BS2 1AA","BS3 1AA","BS4 1AA","BS5 1AA","BS6 1AA","BS7 1AA","BS8 1AA","BS9 1AA","BS10 1AA","PR1 1AA","PR2 1AA","PR3 1AA","PR4 1AA","PR5 1AA","PR6 1AA","PR7 1AA","PR8 1AA","PR9 1AA","PR25 1AA","OX1 1AA","OX2 1AA","OX3 1AA","OX4 1AA","OX5 1AA","CV1 1AA","CV2 1AA","CV3 1AA","CV4 1AA","CV5 1AA","NG1 1AA","NG2 1AA","NG3 1AA","NG4 1AA","NG5 1AA","S1 1AA","S2 1AA","S3 1AA","S4 1AA","S5 1AA","BD1 1AA","BD2 1AA","BD3 1AA","BD4 1AA","BD5 1AA"].filter(s=>s.toLowerCase().startsWith(t)).slice(0,10)},Lle=async e=>{if(!e||e.length<5)return[];try{const r=e.replace(/\s+/g,"").toUpperCase().replace(/^([A-Z]{1,2}[0-9][A-Z0-9]?)([0-9][A-Z]{2})$/,"$1 $2"),a=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(r)}`);if(!a.ok)return Mle(r);const s=await a.json();if(s.result){const i={line1:s.result.thoroughfare||"",line2:s.result.dependent_thoroughfare||"",city:s.result.post_town||s.result.admin_district||"",county:s.result.admin_county||s.result.admin_district||"",postcode:s.result.postcode,fullAddress:Ple(s.result)};try{const o=await fetch(`https://api.getAddress.io/find/${encodeURIComponent(r)}?api-key=YOUR_API_KEY`)}catch{return fy(r)}return[i]}return fy(r)}catch(t){return console.warn("Postcode address API error, using mock addresses:",t),fy(e)}},Ple=e=>{const t=[];return e.thoroughfare&&t.push(e.thoroughfare),e.dependent_thoroughfare&&t.push(e.dependent_thoroughfare),e.post_town&&t.push(e.post_town),e.postcode&&t.push(e.postcode),t.join(", ")},Mle=async e=>fy(e),fy=e=>{const t=e.toUpperCase().replace(/\s+/g," "),r=t.split(" ")[0],a=[],s=["High Street","Main Road","Church Lane","Park Avenue","Station Road","Victoria Road","King Street","Queen Street"],i=Array.from({length:50},(o,l)=>l+1);for(let o=0;o<Math.min(8,s.length);o++){const l=i[Math.floor(Math.random()*i.length)],c=s[o];a.push({line1:`${l} ${c}`,line2:"",city:AA(r),county:Rle(r),postcode:t,fullAddress:`${l} ${c}, ${AA(r)}, ${t}`})}return a},AA=e=>({SW1:"London",SW2:"London",SW3:"London",SW4:"London",SW5:"London",SW6:"London",SW7:"London",SW8:"London",SW9:"London",SW10:"London",W1:"London",W2:"London",W3:"London",W4:"London",W5:"London",W6:"London",W7:"London",W8:"London",W9:"London",W10:"London",W11:"London",W12:"London",W14:"London",EC1:"London",EC2:"London",EC3:"London",EC4:"London",N1:"London",N2:"London",N3:"London",N4:"London",N5:"London",E1:"London",E2:"London",E3:"London",E4:"London",E5:"London",SE1:"London",SE2:"London",SE3:"London",SE4:"London",SE5:"London",NW1:"London",NW2:"London",NW3:"London",NW4:"London",NW5:"London",M1:"Manchester",M2:"Manchester",M3:"Manchester",M4:"Manchester",B1:"Birmingham",B2:"Birmingham",B3:"Birmingham",B4:"Birmingham",L1:"Liverpool",L2:"Liverpool",L3:"Liverpool",L4:"Liverpool",LS1:"Leeds",LS2:"Leeds",LS3:"Leeds",LS4:"Leeds",PR1:"Preston",PR2:"Preston",PR3:"Preston",PR4:"Preston",PR5:"Preston"})[e]||"UK",Rle=e=>e.startsWith("SW")||e.startsWith("W")||e.startsWith("EC")||e.startsWith("N")||e.startsWith("E")||e.startsWith("SE")||e.startsWith("NW")?"Greater London":e.startsWith("M")?"Greater Manchester":e.startsWith("B")?"West Midlands":e.startsWith("L")?"Merseyside":e.startsWith("LS")?"West Yorkshire":e.startsWith("PR")?"Lancashire":"UK",EA=e=>e?/^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i.test(e.trim()):!1,Ole=()=>{const e=vr(),[t,r]=C_(),{activeTab:a,getApiType:s,setActiveTab:i}=I_(),{properties:o,loading:l,error:c,filters:u,setFilters:h,pagination:f,setPagination:g,fetchProperties:m,searchProperties:y}=Kf(),[x,N]=P.useState([]),[b,w]=P.useState(!1),[k,S]=P.useState(null),[B,H]=P.useState(0),[I,D]=P.useState(""),[C,G]=P.useState(""),[O,V]=P.useState("all"),[Y,ee]=P.useState({min:null,max:null}),[he,de]=P.useState(null),[xe,oe]=P.useState(null),[fe,Se]=P.useState("grid"),[K,A]=P.useState(null),[q,F]=P.useState([]),[R,W]=P.useState(!1),[Z,ie]=P.useState(null);P.useEffect(()=>{K&&clearTimeout(K);const Ae=setTimeout(()=>{I.trim()?y(I):m(!0)},500);return A(Ae),()=>{K&&clearTimeout(K)}},[I]);const re=P.useCallback(async(Ae="all",je=!0)=>{var et;w(!0),S(null);try{const ae=new URLSearchParams({page:"1",limit:"20",country:"UK"});Ae==="buy"||Ae==="sale"?ae.append("type","buy"):Ae==="rent"&&ae.append("type","rent"),C&&ae.append("postcode",C);const Oe=`/api/properties?${ae.toString()}`,Ge=await fetch(Oe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ge.ok)throw new Error(`API error: ${Ge.status} ${Ge.statusText}`);const at=await Ge.json();if(at.error)throw new Error(at.error.message||"Failed to fetch properties");N(at.data||[]),H(((et=at.pagination)==null?void 0:et.total)||0)}catch(ae){S(ae.message||"Failed to fetch properties. Please try again."),N([]),H(0)}finally{w(!1)}},[C]);P.useEffect(()=>{re(a,!0)},[a,re]),P.useEffect(()=>{V(a==="buy"?"sale":a==="rent"?"rent":"all")},[a]),P.useEffect(()=>{const Ae=async()=>{if(C.length>=2){const et=await Cle(C);F(et),W(!0)}else F([]),W(!1)};Z&&clearTimeout(Z);const je=setTimeout(()=>{Ae()},300);return ie(je),()=>{je&&clearTimeout(je)}},[C]);const X=Ae=>{G(Ae),W(!1),F([])},ke=Ae=>{const je=Ae.image_urls?Array.isArray(Ae.image_urls)?Ae.image_urls:JSON.parse(Ae.image_urls||"[]"):[];return{id:Ae.id,title:Ae.title,location:Ae.address_line_1||`${Ae.city||""} ${Ae.postcode||""}`.trim()||"UK",price:Ae.price,type:Ae.property_type==="rent"?"Rent":Ae.property_type==="sale"?"Sale":"Property",property_type:Ae.property_type,beds:Ae.bedrooms,baths:Ae.bathrooms,image:je[0]||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",images:je.length>0?je:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"],description:Ae.description,is_saved:Ae.is_saved||!1,is_applied:Ae.is_applied||!1,application_status:Ae.application_status||null,view_count:Ae.view_count||0,latitude:Ae.latitude,longitude:Ae.longitude,listedDate:Ae.created_at?new Date(Ae.created_at):new Date}},Pe=x.filter(Ae=>Ae.latitude&&Ae.longitude).map(Ae=>({id:Ae.id,name:Ae.title,lat:parseFloat(Ae.latitude),lng:parseFloat(Ae.longitude),price:`${(Ae.price/1e3).toFixed(0)}k`,address:Ae.address_line_1||Ae.city||"UK"})),De=()=>{D(""),G(""),V("all"),ee({min:null,max:null}),de(null),oe(null),W(!1),F([])},Ye=Ae=>{g(je=>({...je,page:Ae})),m(!1),window.scrollTo({top:0,behavior:"smooth"})};x.length>0;const ce=Math.ceil(f.total/f.limit);return n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Discover Properties"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Find your perfect UK property"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b?"Loading...":`${B} ${B===1?"property":"properties"} found`})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Se("grid"),className:`p-2 rounded-lg transition-colors ${fe==="grid"?"bg-orange-500 text-white":"bg-white dark:bg-white border border-gray-300 dark:border-gray-300 text-gray-700 dark:text-gray-800"}`,children:n.jsx(V_,{size:20})}),n.jsx("button",{onClick:()=>Se("map"),className:`p-2 rounded-lg transition-colors ${fe==="map"?"bg-orange-500 text-white":"bg-white dark:bg-white border border-gray-300 dark:border-gray-300 text-gray-700 dark:text-gray-800"}`,children:n.jsx(yf,{size:20})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-4 lg:p-6 mb-6",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",value:I,onChange:Ae=>D(Ae.target.value),placeholder:"Search by postcode, street, address, keyword, or property title...",className:"w-full pl-10 pr-4 py-3 border border-orange-300 dark:border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-base bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",value:C,onChange:Ae=>{G(Ae.target.value),Ae.target.value.length>=2?W(!0):W(!1)},onFocus:()=>{C.length>=2&&q.length>0&&W(!0)},onBlur:()=>{setTimeout(()=>W(!1),200)},placeholder:"Postcode, street, or address",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-white text-gray-900 dark:text-gray-900"}),R&&q.length>0&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-white border border-gray-300 dark:border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:q.map((Ae,je)=>n.jsxs("button",{type:"button",onClick:()=>X(Ae),className:"w-full text-left px-4 py-2 hover:bg-orange-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors flex items-center gap-2",children:[n.jsx(aa,{size:14,className:"text-orange-500"}),n.jsx("span",{className:"font-medium",children:Ae})]},je))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{value:O,onChange:Ae=>{const je=Ae.target.value;V(je),je==="all"?t.delete("type"):t.set("type",je),r(t,{replace:!0})},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"rent",children:"For Rent"}),n.jsx("option",{value:"sale",children:"For Sale"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),n.jsxs("div",{className:"relative flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(El,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",value:Y.min||"",onChange:Ae=>ee({...Y,min:Ae.target.value?parseInt(Ae.target.value):null}),placeholder:"Min ",className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]}),n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx(El,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",value:Y.max||"",onChange:Ae=>ee({...Y,max:Ae.target.value?parseInt(Ae.target.value):null}),placeholder:"Max ",className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beds"}),n.jsxs("div",{className:"relative",children:[n.jsx(cu,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{value:he||"",onChange:Ae=>de(Ae.target.value?Ae.target.value:null),className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"",children:"Any"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"}),n.jsx("option",{value:"5",children:"5+"})]})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Baths"}),n.jsxs("div",{className:"relative",children:[n.jsx(gh,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{value:xe||"",onChange:Ae=>oe(Ae.target.value?Ae.target.value:null),className:"w-full pl-8 pr-2 py-2 border border-gray-300 dark:border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent appearance-none text-sm bg-white dark:bg-white text-gray-900 dark:text-gray-900",children:[n.jsx("option",{value:"",children:"Any"}),n.jsx("option",{value:"1",children:"1+"}),n.jsx("option",{value:"2",children:"2+"}),n.jsx("option",{value:"3",children:"3+"}),n.jsx("option",{value:"4",children:"4+"})]})]})]})]})]})]}),fe==="map"?n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"h-[600px] lg:h-[700px]",children:Pe.length>0?n.jsx(Tle,{houses:Pe}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-100",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No properties with location data available"})})})}):n.jsx(n.Fragment,{children:b?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(Ae=>n.jsx(Sle,{},Ae))}):k?n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:k}),n.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Retry"})]}):x.length===0?n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-12 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-100 mb-4",children:n.jsx(Ba,{className:"text-gray-400",size:32})}),n.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-orange-500 mb-2",children:["No properties found for ",a==="buy"?"Buy":a==="rent"?"Rent":"this category"]}),n.jsx("p",{className:"text-gray-500 dark:text-orange-400 mb-4",children:a==="buy"?"We couldn't find any properties for sale. Try switching to 'Rent' or 'Browse Properties' to see all available listings.":a==="rent"?"We couldn't find any rental properties. Try switching to 'Buy' or 'Browse Properties' to see all available listings.":"Try adjusting your search or filters to find what you're looking for."}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[a!=="all"&&n.jsx("button",{onClick:()=>i("all"),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse All Properties"}),n.jsx("button",{onClick:De,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Clear Filters"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:x.map(Ae=>{const je=ke(Ae);return je?n.jsx(aM,{property:je,onViewDetails:et=>e(`/user/dashboard/property/${et.id}`)},Ae.id):null})}),ce>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(f.page-1)*f.limit+1," to ",Math.min(f.page*f.limit,f.total)," of ",f.total," properties"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Ye(f.page-1),disabled:f.page===1,className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(sc,{size:20})}),n.jsxs("span",{className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",f.page," of ",ce]}),n.jsx("button",{onClick:()=>Ye(f.page+1),disabled:f.page>=ce||!f.hasMore,className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n.jsx(Al,{size:20})})]})]})]})})]})},Dle=({onSelectConversation:e,selectedConversationId:t})=>{const{conversations:r,filter:a,setFilter:s,searchQuery:i,setSearchQuery:o,totalUnreadCount:l}=Ff(),c=h=>{const f=new Date(h),m=new Date-f,y=Math.floor(m/6e4),x=Math.floor(m/36e5),N=Math.floor(m/864e5);return y<1?"Just now":y<60?`${y}m ago`:x<24?`${x}h ago`:N<7?`${N}d ago`:f.toLocaleDateString("en-US",{month:"short",day:"numeric"})},u=[{id:"all",label:"All",icon:Mj},{id:"unread",label:"Unread",icon:wC,count:l},{id:"archived",label:"Archived",icon:yC}];return n.jsxs("div",{className:"w-full md:w-80 lg:w-96 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Messages"}),n.jsxs("div",{className:"relative mb-3",children:[n.jsx(us,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search conversations...",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white text-sm"})]}),n.jsx("div",{className:"flex gap-2",children:u.map(h=>{const f=h.icon,g=a===h.id;return n.jsxs("button",{onClick:()=>s(h.id),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${g?"bg-orange-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[n.jsx(f,{size:14}),n.jsx("span",{children:h.label}),h.count!==void 0&&h.count>0&&n.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-xs ${g?"bg-white/20 text-white":"bg-orange-500 text-white"}`,children:h.count})]},h.id)})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Mj,{size:24,className:"text-gray-400"})}),n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:i?"No conversations found":a==="archived"?"No archived conversations":a==="unread"?"No unread messages":"No conversations yet"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i?"Try adjusting your search terms":a==="archived"?"Archived conversations will appear here":a==="unread"?"All caught up!":"Start a conversation by contacting an agent"})]}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(h=>{const f=t===h.id,g=h.messages[h.messages.length-1];return n.jsx("button",{onClick:()=>e(h.id),className:`w-full p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${f?"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[h.agentAvatar?n.jsx("img",{src:h.agentAvatar,alt:h.agentName,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:h.agentName.charAt(0).toUpperCase()}),n.jsx("div",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white dark:border-gray-800 ${h.isOnline?"bg-green-500":"bg-gray-400"}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate text-sm",children:h.agentName}),g&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:c(g.timestamp)})]}),h.propertyTitle&&n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mb-1 truncate",children:h.propertyTitle}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:(g==null?void 0:g.text)||"No messages yet"}),h.unreadCount>0&&n.jsx("span",{className:"flex-shrink-0 ml-2 bg-orange-500 text-white text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:h.unreadCount})]}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.agentAgency})})]})]})},h.id)})})})]})},Ile=({property:e})=>{const t=vr();if(!e||!e.propertyId)return null;const r=s=>s?`$${s.toLocaleString()}`:"Price on request",a=()=>{e.propertyId&&t(`/user/dashboard/property/${e.propertyId}`)};return n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex gap-3",children:[e.propertyImage&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.propertyImage,alt:e.propertyTitle||"Property",className:"w-20 h-20 rounded-lg object-cover",onError:s=>{s.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm mb-1 truncate",children:e.propertyTitle||"Property"}),e.propertyAddress&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:12}),n.jsx("span",{className:"truncate",children:e.propertyAddress})]}),e.propertyPrice&&n.jsx("p",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 mb-2",children:r(e.propertyPrice)}),n.jsxs("button",{onClick:a,className:"flex items-center gap-1 text-xs font-medium text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 transition-colors",children:[n.jsx("span",{children:"View Details"}),n.jsx(z_,{size:12})]})]})]})})},Fle=({message:e,isUser:t,showAvatar:r,agentName:a,agentAvatar:s})=>{const i=l=>new Date(l).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),o=l=>l.type.startsWith("image/")?n.jsx("div",{className:"mt-2 rounded-lg overflow-hidden",children:n.jsx("img",{src:l.url,alt:l.name,className:"max-w-full h-auto max-h-64 object-cover"})}):l.type==="application/pdf"?n.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx(Or,{size:20,className:"text-gray-600 dark:text-gray-400"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:l.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.size?`${(l.size/1024).toFixed(1)} KB`:"PDF Document"})]}),n.jsx("a",{href:l.url,download:l.name,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:n.jsx(Es,{size:16})})]}):n.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx(Or,{size:20,className:"text-gray-600 dark:text-gray-400"}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:l.name})}),n.jsx("a",{href:l.url,download:l.name,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:n.jsx(Es,{size:16})})]});return n.jsxs("div",{className:`flex items-end gap-2 ${t?"justify-end":"justify-start"}`,children:[!t&&r&&n.jsx("div",{className:"flex-shrink-0",children:s?n.jsx("img",{src:s,alt:a,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:a.charAt(0).toUpperCase()})}),n.jsxs("div",{className:`max-w-[70%] lg:max-w-[60%] rounded-lg px-4 py-2 ${t?"bg-orange-500 text-white rounded-br-sm":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-bl-sm"}`,children:[e.text&&n.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.text}),e.attachments&&e.attachments.length>0&&n.jsx("div",{children:e.attachments.map(l=>n.jsx("div",{children:o(l)},l.id))}),n.jsxs("div",{className:`flex items-center gap-1.5 mt-1 ${t?"justify-end":"justify-start"}`,children:[n.jsx("span",{className:`text-xs ${t?"text-orange-100":"text-gray-500 dark:text-gray-400"}`,children:i(e.timestamp)}),t&&n.jsx("span",{className:"text-orange-100",children:e.read?n.jsx(Lj,{size:14,className:"text-blue-300"}):e.delivered?n.jsx(Lj,{size:14}):n.jsx(ph,{size:14})})]})]}),!t&&!r&&n.jsx("div",{className:"w-8"})]})},Ble=({conversationId:e})=>{const{getConversation:t,markAsRead:r,archiveConversation:a,muteConversation:s,unmuteConversation:i,deleteConversation:o}=Ff(),l=t(e),c=P.useRef(null),[u,h]=P.useState(!1);P.useEffect(()=>{l&&l.unreadCount>0&&r(e)},[e,l,r]),P.useEffect(()=>{f()},[l==null?void 0:l.messages]);const f=()=>{var w;(w=c.current)==null||w.scrollIntoView({behavior:"smooth"})};if(!l)return n.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Conversation not found"})})});const g=w=>{const k=new Date(w),S=new Date,B=new Date(S);return B.setDate(B.getDate()-1),k.toDateString()===S.toDateString()?"Today":k.toDateString()===B.toDateString()?"Yesterday":k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},m=w=>{const k=[];let S=null;return w.forEach(B=>{const H=new Date(B.timestamp).toDateString();!S||S.date!==H?(S&&k.push(S),S={date:H,formattedDate:g(B.timestamp),messages:[B]}):S.messages.push(B)}),S&&k.push(S),k},y=l.messages.length>0?m(l.messages):[],x=()=>{a(e),h(!1)},N=()=>{l.isMuted?i(e):s(e),h(!1)},b=()=>{window.confirm("Are you sure you want to delete this conversation?")&&o(e),h(!1)};return n.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800 h-full",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[l.agentAvatar?n.jsx("img",{src:l.agentAvatar,alt:l.agentName,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:l.agentName.charAt(0).toUpperCase()}),n.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white dark:border-gray-800 ${l.isOnline?"bg-green-500":"bg-gray-400"}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:l.agentName}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[l.isOnline?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]}):"Offline",l.agentAgency&&`  ${l.agentAgency}`]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("button",{onClick:()=>h(!u),className:"p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(Ky,{size:20})}),u&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20 py-1",children:[n.jsxs("button",{onClick:x,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(yC,{size:16}),n.jsx("span",{children:"Archive"})]}),n.jsx("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.isMuted?n.jsxs(n.Fragment,{children:[n.jsx(du,{size:16}),n.jsx("span",{children:"Unmute"})]}):n.jsxs(n.Fragment,{children:[n.jsx(rU,{size:16}),n.jsx("span",{children:"Mute"})]})}),n.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(Ss,{size:16}),n.jsx("span",{children:"Delete"})]})]})]})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[(l.propertyId||l.propertyTitle)&&n.jsx(Ile,{property:l}),y.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No messages yet. Start the conversation!"})})}):n.jsx("div",{className:"space-y-6",children:y.map((w,k)=>n.jsxs("div",{children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:w.formattedDate})}),n.jsx("div",{className:"space-y-3",children:w.messages.map((S,B)=>{const H=S.senderType==="user",I=!H&&(B===0||w.messages[B-1].senderType!=="agent");return n.jsx(Fle,{message:S,isUser:H,showAvatar:I,agentName:l.agentName,agentAvatar:l.agentAvatar},S.id)})})]},w.date))}),n.jsx("div",{ref:c})]})]})},zle=({conversationId:e,onSend:t})=>{const{quickReplyTemplates:r}=Ff(),[a,s]=P.useState(""),[i,o]=P.useState([]),[l,c]=P.useState(!1),[u,h]=P.useState(!1),f=P.useRef(null),g=P.useRef(null);P.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=`${f.current.scrollHeight}px`)},[a]);const m=S=>{S==null||S.preventDefault(),(a.trim()||i.length>0)&&e&&(t(e,a.trim(),i),s(""),o([]),f.current&&(f.current.style.height="auto"))},y=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),m())},x=S=>{const I=Array.from(S.target.files).filter(D=>D.size>10485760?(alert(`File ${D.name} is too large. Maximum size is 10MB.`),!1):!0).map(D=>({name:D.name,type:D.type,file:D,size:D.size}));o(D=>[...D,...I]),S.target.value=""},N=S=>{o(B=>B.filter((H,I)=>I!==S))},b=S=>{var B;s(S),c(!1),(B=f.current)==null||B.focus()},w=S=>S.startsWith("image/")?n.jsx(q_,{size:16}):S==="application/pdf"?n.jsx(Or,{size:16}):n.jsx(Or,{size:16}),k=S=>S<1024?S+" B":S<1024*1024?(S/1024).toFixed(1)+" KB":(S/(1024*1024)).toFixed(1)+" MB";return e?n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:[l&&n.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Quick Replies"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(xr,{size:16})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((S,B)=>n.jsx("button",{onClick:()=>b(S),className:"px-3 py-1.5 text-xs bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:border-orange-300 dark:hover:border-orange-700 text-gray-700 dark:text-gray-300 transition-colors",children:S},B))})]}),i.length>0&&n.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((S,B)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg",children:[w(S.type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate",children:S.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k(S.size)})]}),n.jsx("button",{onClick:()=>N(B),className:"p-1 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors",children:n.jsx(xr,{size:14})})]},B))})}),n.jsxs("form",{onSubmit:m,className:"p-4",children:[n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{var S;return(S=g.current)==null?void 0:S.click()},className:"p-2 text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:n.jsx(AC,{size:20})}),n.jsx("input",{ref:g,type:"file",multiple:!0,accept:"image/*,.pdf",onChange:x,className:"hidden"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:`p-2 rounded-lg transition-colors flex-shrink-0 ${l?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"Quick replies",children:n.jsx(EC,{size:20})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx("textarea",{ref:f,value:a,onChange:S=>s(S.target.value),onKeyDown:y,placeholder:"Type a message... (Press Enter to send, Shift+Enter for new line)",rows:1,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white resize-none overflow-hidden max-h-32 text-sm"})}),n.jsx("button",{type:"submit",disabled:!a.trim()&&i.length===0,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",title:"Send message",children:n.jsx(Eh,{size:20})})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Press ",n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"Enter"})," to send,"," ",n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"Shift+Enter"})," for new line"]})]})]}):null},Ule=()=>n.jsxs("div",{className:"w-full md:w-80 lg:w-96 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-3 animate-pulse"}),n.jsx("div",{className:"h-10 w-full bg-gray-200 dark:bg-gray-700 rounded-lg mb-3 animate-pulse"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),n.jsx("div",{className:"flex-1 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:[1,2,3,4,5].map(e=>n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]})},e))})]}),Vle=()=>n.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800 h-full",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3,4,5].map(e=>n.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${e%2===0?"bg-orange-200 dark:bg-orange-900/30":"bg-gray-200 dark:bg-gray-700"} animate-pulse`,children:[n.jsx("div",{className:"h-4 w-48 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),n.jsx("div",{className:"h-3 w-16 bg-gray-300 dark:bg-gray-600 rounded"})]})},e))}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0",children:n.jsx("div",{className:"h-10 w-full bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})})]}),qle=()=>{const[e,t]=P.useState(600),[r,a]=P.useState("waiting"),[s,i]=P.useState(!1),o={name:"Sarah Johnson",agency:"Prime Realty Group",distance:"0.8 miles"};P.useEffect(()=>{if(r==="waiting"&&!s){const u=setInterval(()=>{t(h=>h<=1?(i(!0),0):h-1)},1e3);return()=>clearInterval(u)}},[r,s]);const l=u=>{const h=Math.floor(u/60),f=u%60;return`${h}:${f.toString().padStart(2,"0")}`},c=(600-e)/600*100;return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1 text-sm",children:"Nearest Broker"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Based on your location"})]}),n.jsx(aa,{className:"text-orange-500 dark:text-orange-400",size:20})]}),n.jsxs("div",{className:"mb-3 p-2.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:o.name.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm truncate",children:o.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:o.agency})]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx(aa,{size:12}),n.jsxs("span",{children:[o.distance," away"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-1.5",children:r==="responded"?n.jsxs(n.Fragment,{children:[n.jsx(Ar,{className:"text-green-500 dark:text-green-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:"Responded"})]}):s?n.jsxs(n.Fragment,{children:[n.jsx(Ba,{className:"text-red-500 dark:text-red-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-400",children:"Time Expired"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ya,{className:"text-orange-500 dark:text-orange-400",size:16}),n.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-400",children:"Waiting for response"})]})}),r==="waiting"&&!s&&n.jsxs("div",{className:"flex items-center gap-1.5 bg-orange-50 dark:bg-orange-900/30 px-2 py-0.5 rounded-full",children:[n.jsx(ya,{size:12,className:"text-orange-600 dark:text-orange-400"}),n.jsx("span",{className:"text-xs font-semibold text-orange-700 dark:text-orange-400",children:l(e)})]})]}),r==="waiting"&&n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:n.jsx("div",{className:`h-1.5 rounded-full transition-all duration-1000 ${s?"bg-red-500 dark:bg-red-400":"bg-orange-500 dark:bg-orange-400"}`,style:{width:`${c}%`}})}),n.jsxs("div",{className:"flex flex-col gap-1.5 pt-1",children:[r==="waiting"&&!s&&n.jsx("button",{onClick:()=>a("responded"),className:"w-full px-3 py-1.5 bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-700 text-white rounded-lg font-medium text-xs transition-colors",children:"Mark as Responded"}),n.jsx("button",{className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium text-xs transition-colors",children:"Contact"})]})]})]})},$le=()=>{const{conversations:e,selectedConversationId:t,setSelectedConversationId:r,isLoading:a,sendMessage:s}=Ff(),[i,o]=P.useState(null),[l,c]=P.useState(!1);P.useEffect(()=>{const f=()=>{c(window.innerWidth<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const u=f=>{r(f)},h=(f,g,m)=>{try{s(f,g,m),o(null)}catch(y){o("Failed to send message. Please try again."),console.error("Error sending message:",y)}};return n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Messages"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Chat with brokers and property agencies"})]}),i&&n.jsxs("div",{className:"mx-4 lg:mx-6 mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-sm text-red-700 dark:text-red-400",children:[n.jsx(Ba,{size:16}),n.jsx("span",{children:i}),n.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-0 h-full",children:[n.jsxs("div",{className:"lg:col-span-3 flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden h-full",children:[a?n.jsx(Ule,{}):n.jsx(Dle,{onSelectConversation:u,selectedConversationId:t}),n.jsx("div",{className:"flex-1 flex flex-col border-l border-gray-200 dark:border-gray-700",children:a?n.jsx(Vle,{}):t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx(Ble,{conversationId:t})}),n.jsx(zle,{conversationId:t,onSend:h})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx(Uo,{size:64,className:"mx-auto mb-4 text-gray-300 dark:text-gray-600"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium mb-2",children:"Select a conversation to start messaging"}),n.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Choose a conversation from the list to view messages and reply"})]})})})]}),n.jsx("div",{className:"lg:col-span-1 hidden lg:block",children:n.jsx("div",{className:"h-full p-4 lg:p-6",children:n.jsx(qle,{})})})]})})]})},Hle=()=>{const[e,t]=P.useState(!1),[r,a]=P.useState(null),s=[{id:1,type:"Rent",property:"Modern Downtown Apartment",amount:2450,dueDate:"2024-01-15",status:"due_soon"},{id:2,type:"Utility Bill",property:"Electricity",amount:125,dueDate:"2024-01-20",status:"upcoming"},{id:3,type:"Utility Bill",property:"Water",amount:85,dueDate:"2024-01-25",status:"upcoming"}],i=[{id:1,date:"2024-01-01",type:"Rent",property:"Modern Downtown Apartment",amount:2450,status:"paid",transactionId:"TXN-001234"},{id:2,date:"2023-12-15",type:"Utility Bill",property:"Electricity",amount:120,status:"paid",transactionId:"TXN-001233"},{id:3,date:"2023-12-10",type:"Rent",property:"Modern Downtown Apartment",amount:2450,status:"paid",transactionId:"TXN-001232"},{id:4,date:"2023-12-01",type:"Utility Bill",property:"Water",amount:80,status:"pending",transactionId:"TXN-001231"}],o=f=>{a(f),t(!0)},l=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),c=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=f=>{const g=new Date,y=new Date(f)-g;return Math.ceil(y/(1e3*60*60*24))},h=f=>{switch(f){case"paid":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[n.jsx(Ar,{size:14}),"Paid"]});case"pending":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[n.jsx(ya,{size:14}),"Pending"]});case"due_soon":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[n.jsx(Ba,{size:14}),"Due Soon"]});default:return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[n.jsx(ya,{size:14}),"Upcoming"]})}};return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Payments"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your rent and utility bill payments"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),n.jsx(Ar,{className:"text-green-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$5,120"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx(ya,{className:"text-yellow-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$2,450"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Due in 5 days"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),n.jsx(bi,{className:"text-blue-500",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$210"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Next 2 weeks"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(X1,{className:"text-orange-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pay Rent"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monthly rent payment"})]})]}),n.jsx("div",{className:"space-y-4",children:s.filter(f=>f.type==="Rent").map(f=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due ",c(f.dueDate)]})]}),h(f.status)]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(f.amount)}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]}),f.status==="due_soon"&&n.jsxs("p",{className:"text-xs text-red-600 mt-2",children:["Due in ",u(f.dueDate)," days"]})]},f.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(YV,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pay Utility Bills"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Electricity, water, and more"})]})]}),n.jsx("div",{className:"space-y-4",children:s.filter(f=>f.type==="Utility Bill").map(f=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due ",c(f.dueDate)]})]}),h(f.status)]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(f.amount)}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]})]},f.id))})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Upcoming Payments"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Payments due in the next 30 days"})]}),n.jsx(bi,{className:"text-orange-600",size:24})]}),n.jsx("div",{className:"space-y-3",children:s.map(f=>{const g=u(f.dueDate);return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-orange-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.property}),n.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-700 rounded",children:f.type})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due ",c(f.dueDate),"  ",g," days remaining"]})]}),n.jsx("div",{className:"text-right mr-4",children:n.jsx("p",{className:"font-semibold text-gray-900",children:l(f.amount)})}),n.jsx("button",{onClick:()=>o(f),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium text-sm transition-colors",children:"Pay Now"})]},f.id)})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property/Service"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(f.date)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.type}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.property}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:l(f.amount)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h(f.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:f.transactionId})]},f.id))})]})})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r&&l(r.amount)})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"For"}),n.jsx("p",{className:"font-medium text-gray-900",children:r==null?void 0:r.property})]}),n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Stripe Payment Integration"}),n.jsx("p",{className:"text-xs text-gray-500",children:"This is a placeholder. In production, Stripe checkout would be integrated here."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-2 border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{alert("Payment processed (mock)"),t(!1)},className:"flex-1 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Process Payment"})]})]})]})})]})},Rx=async(e,t,r)=>{try{if(!Ke)throw new Error("Supabase client not initialized");if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(e.type))throw new Error("Invalid file type. Please upload JPG, PNG, or PDF files only.");const s=10*1024*1024;if(e.size>s)throw new Error("File size must be less than 10MB.");const i=e.name.split(".").pop(),l=`verification-documents/${`${t}/${r}-${Date.now()}.${i}`}`,{data:c,error:u}=await Ke.storage.from("verification-documents").upload(l,e,{cacheControl:"3600",upsert:!1});if(u)throw console.error("Upload error:",u),new Error(`Failed to upload document: ${u.message}`);const{data:{publicUrl:h}}=Ke.storage.from("verification-documents").getPublicUrl(l);return{url:h,path:l,error:null}}catch(a){return console.error("Error uploading verification document:",a),{url:null,path:null,error:a.message}}},Wle=async({userId:e,documentType:t,documentUrl:r,documentName:a,documentNumber:s=null,metadata:i={}})=>{try{if(!Ke)throw new Error("Supabase client not initialized");const{data:o,error:l}=await Ke.from("user_verification_documents").upsert({user_id:e,document_type:t,document_url:r,document_name:a,document_number:s,verification_status:"pending",metadata:i,submitted_at:new Date().toISOString()},{onConflict:"user_id,document_type"}).select().single();if(l)throw l;return{data:o,error:null}}catch(o){return console.error("Error submitting verification document:",o),{data:null,error:o.message}}},Gle=async e=>{try{if(!Ke)return{data:[],error:"Supabase client not initialized"};const{data:t,error:r}=await Ke.from("user_verification_documents").select("*").eq("user_id",e).order("submitted_at",{ascending:!1});if(r){const a=r.message||r.toString()||"";if(a.includes("relation")||a.includes("does not exist"))return{data:[],error:"Verification documents table not found. Please run the SQL schema in Supabase."};throw r}return{data:t||[],error:null}}catch(t){console.error("Error fetching verification documents:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:[],error:"Verification documents table not found. Please run the SQL schema in Supabase."}:{data:[],error:t.message||"Failed to fetch verification documents"}}},Yle=async({userId:e,fullName:t,email:r,phone:a,dateOfBirth:s,relationshipToTenant:i,addressLine1:o,addressLine2:l,city:c,postcode:u,country:h="UK",employmentStatus:f,employerName:g,annualIncome:m,idDocumentUrl:y,proofOfAddressUrl:x,proofOfIncomeUrl:N,notes:b})=>{try{if(!Ke)throw new Error("Supabase client not initialized");const{data:w,error:k}=await Ke.from("guarantor_information").upsert({user_id:e,full_name:t,email:r,phone:a,date_of_birth:s,relationship_to_tenant:i,address_line_1:o,address_line_2:l,city:c,postcode:u,country:h,employment_status:f,employer_name:g,annual_income:m,id_document_url:y,proof_of_address_url:x,proof_of_income_url:N,notes:b,verification_status:"pending",submitted_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(k)throw k;return{data:w,error:null}}catch(w){return console.error("Error submitting guarantor information:",w),{data:null,error:w.message}}},Kle=async e=>{try{if(!Ke)return{data:null,error:"Supabase client not initialized"};const{data:t,error:r}=await Ke.from("guarantor_information").select("*").eq("user_id",e).single();if(r&&r.code==="PGRST116")return{data:null,error:null};if(r){const a=r.message||r.toString()||"";if(a.includes("relation")||a.includes("does not exist"))return{data:null,error:"Guarantor information table not found. Please run the SQL schema in Supabase."};throw r}return{data:t||null,error:null}}catch(t){console.error("Error fetching guarantor information:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:null,error:"Guarantor information table not found. Please run the SQL schema in Supabase."}:{data:null,error:t.message||"Failed to fetch guarantor information"}}},Zle=async e=>{try{if(!Ke)return{data:null,error:"Supabase client not initialized"};let{data:t,error:r}=await Ke.from("user_verification_status").select("*").eq("user_id",e).single();if(r&&r.code==="PGRST116")return{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:null};if(r){const i=r.message||r.toString()||"";if(i.includes("relation")||i.includes("does not exist"))return{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:"Verification tables not found. Please run the SQL schema in Supabase."};throw r}let a=[];try{const{data:i}=await Ke.from("user_verification_documents").select("document_type, verification_status, verified_at, rejection_reason").eq("user_id",e);a=i||[]}catch(i){console.warn("Error fetching documents:",i),a=[]}let s=null;try{const{data:i}=await Ke.from("guarantor_information").select("verification_status, verified_at, rejection_reason").eq("user_id",e).single();s=i||null}catch(i){i.code!=="PGRST116"&&console.warn("Error fetching guarantor info:",i),s=null}return{data:{...t,documents:a||[],guarantor:s||null},error:null}}catch(t){console.error("Error fetching verification status:",t);const r=t.message||t.toString()||"";return r.includes("relation")||r.includes("does not exist")?{data:{user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1,documents:[],guarantor:null},error:"Verification tables not found. Please run the SQL schema in Supabase."}:{data:null,error:t.message||"Failed to fetch verification status"}}},Xle=({userId:e,currentUser:t})=>{const[r,a]=P.useState(null),[s,i]=P.useState([]),[o,l]=P.useState(null),[c,u]=P.useState(!0),[h,f]=P.useState({}),[g,m]=P.useState("status"),[y,x]=P.useState(!1),[N,b]=P.useState(null),[w,k]=P.useState(null),S=P.useRef(null),B=P.useRef(null),H=P.useRef(null),I=P.useRef(null),D=P.useRef(null),C=P.useRef(null),[G,O]=P.useState({fullName:"",email:"",phone:"",dateOfBirth:"",relationshipToTenant:"",addressLine1:"",addressLine2:"",city:"",postcode:"",country:"UK",employmentStatus:"",employerName:"",annualIncome:"",notes:""});P.useEffect(()=>{e&&V()},[e]);const V=async()=>{u(!0),b(null);try{const[F,R,W]=await Promise.allSettled([Zle(e),Gle(e),Kle(e)]);F.status==="fulfilled"&&!F.value.error?a(F.value.data):F.status==="fulfilled"&&F.value.error?F.value.error.includes("relation")||F.value.error.includes("does not exist")?(a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1}),console.warn("Verification tables not found. Please run the SQL schema in Supabase.")):b(F.value.error):(console.error("Error loading verification status:",F.reason),a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1})),R.status==="fulfilled"&&!R.value.error?i(R.value.data||[]):R.status==="fulfilled"&&R.value.error?(!R.value.error.includes("relation")&&!R.value.error.includes("does not exist")&&console.warn("Error loading documents:",R.value.error),i([])):i([]),W.status==="fulfilled"&&!W.value.error&&W.value.data?(l(W.value.data),O(Z=>({...Z,fullName:W.value.data.full_name||"",email:W.value.data.email||"",phone:W.value.data.phone||"",dateOfBirth:W.value.data.date_of_birth||"",relationshipToTenant:W.value.data.relationship_to_tenant||"",addressLine1:W.value.data.address_line_1||"",addressLine2:W.value.data.address_line_2||"",city:W.value.data.city||"",postcode:W.value.data.postcode||"",country:W.value.data.country||"UK",employmentStatus:W.value.data.employment_status||"",employerName:W.value.data.employer_name||"",annualIncome:W.value.data.annual_income||"",notes:W.value.data.notes||""}))):l(null)}catch(F){console.error("Error loading verification status:",F),a({user_id:e,is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1}),i([]),l(null),(!F.message||!F.message.includes("relation")&&!F.message.includes("does not exist"))&&b(F.message||"Failed to load verification status")}finally{u(!1)}},Y=async(F,R,W=null)=>{if(!(!R||!e)){f(Z=>({...Z,[F]:!0})),b(null),k(null);try{const Z=await Rx(R,e,F);if(Z.error)throw new Error(Z.error);const ie=await Wle({userId:e,documentType:F,documentUrl:Z.url,documentName:R.name,documentNumber:W,metadata:{}});if(ie.error)throw new Error(ie.error);k(`${F==="brp"?"BRP":F==="passport"?"Passport":"Utility Bill"} uploaded successfully!`),await V()}catch(Z){console.error("Error uploading document:",Z),b(Z.message||"Failed to upload document")}finally{f(Z=>({...Z,[F]:!1}))}}},ee=async F=>{var R,W,Z,ie,re,X;if(F.preventDefault(),!!e){f(ke=>({...ke,guarantor:!0})),b(null),k(null);try{let ke=null,Pe=null,De=null;if((W=(R=I.current)==null?void 0:R.files)!=null&&W[0]){const ce=await Rx(I.current.files[0],e,"guarantor_id");if(ce.error)throw new Error(ce.error);ke=ce.url}if((ie=(Z=D.current)==null?void 0:Z.files)!=null&&ie[0]){const ce=await Rx(D.current.files[0],e,"guarantor_address");if(ce.error)throw new Error(ce.error);Pe=ce.url}if((X=(re=C.current)==null?void 0:re.files)!=null&&X[0]){const ce=await Rx(C.current.files[0],e,"guarantor_income");if(ce.error)throw new Error(ce.error);De=ce.url}const Ye=await Yle({userId:e,fullName:G.fullName,email:G.email,phone:G.phone,dateOfBirth:G.dateOfBirth||null,relationshipToTenant:G.relationshipToTenant,addressLine1:G.addressLine1,addressLine2:G.addressLine2||null,city:G.city,postcode:G.postcode,country:G.country,employmentStatus:G.employmentStatus||null,employerName:G.employerName||null,annualIncome:G.annualIncome?parseFloat(G.annualIncome):null,idDocumentUrl:ke,proofOfAddressUrl:Pe,proofOfIncomeUrl:De,notes:G.notes||null});if(Ye.error)throw new Error(Ye.error);k("Guarantor information submitted successfully!"),x(!1),await V()}catch(ke){console.error("Error submitting guarantor information:",ke),b(ke.message||"Failed to submit guarantor information")}finally{f(ke=>({...ke,guarantor:!1}))}}},he=F=>{const R=s.find(W=>W.document_type===F);if(!R)return{status:"not_submitted",icon:ya,color:"gray"};switch(R.verification_status){case"verified":return{status:"verified",icon:Ar,color:"green",verifiedAt:R.verified_at};case"under_review":return{status:"under_review",icon:ya,color:"yellow",submittedAt:R.submitted_at};case"rejected":return{status:"rejected",icon:As,color:"red",rejectionReason:R.rejection_reason};default:return{status:"pending",icon:ya,color:"gray",submittedAt:R.submitted_at}}},de=()=>{if(!o)return{status:"not_submitted",icon:ya,color:"gray"};switch(o.verification_status){case"verified":return{status:"verified",icon:Ar,color:"green",verifiedAt:o.verified_at};case"under_review":return{status:"under_review",icon:ya,color:"yellow",submittedAt:o.submitted_at};case"rejected":return{status:"rejected",icon:As,color:"red",rejectionReason:o.rejection_reason};default:return{status:"pending",icon:ya,color:"gray",submittedAt:o.submitted_at}}},xe=({title:F,description:R,documentType:W,icon:Z,documentNumberLabel:ie=null})=>{const re=he(W),X=re.icon,ke={green:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",red:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",gray:"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-700"},[Pe,De]=P.useState("");return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx(Z,{className:"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:F}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R})]})]}),n.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium border ${ke[re.color]}`,children:[n.jsx(X,{size:14}),n.jsx("span",{className:"capitalize",children:re.status.replace("_"," ")})]})]}),re.status==="rejected"&&re.rejectionReason&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[n.jsx("strong",{children:"Rejection Reason:"})," ",re.rejectionReason]})}),re.status==="verified"&&re.verifiedAt&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Verified on ",new Date(re.verifiedAt).toLocaleDateString()]})}),re.status!=="verified"&&n.jsxs("div",{className:"space-y-4",children:[ie&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:ie}),n.jsx("input",{type:"text",value:Pe,onChange:Ye=>De(Ye.target.value),placeholder:`Enter ${ie.toLowerCase()}`,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsx("input",{ref:W==="brp"?S:W==="passport"?B:H,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:Ye=>{var Ae;const ce=(Ae=Ye.target.files)==null?void 0:Ae[0];ce&&Y(W,ce,Pe||null)},id:`${W}-upload`}),n.jsx("label",{htmlFor:`${W}-upload`,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${h[W]?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:h[W]?n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"animate-spin",size:18}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(hp,{size:18}),n.jsx("span",{children:re.status==="not_submitted"?"Upload Document":"Replace Document"})]})}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Accepted formats: JPG, PNG, PDF (Max 10MB)"})]})]})};if(c&&!r)return n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(oo,{className:"animate-spin text-orange-500",size:32}),n.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading verification status..."})]})});const oe=r||{is_verified:!1,verification_level:"none",brp_verified:!1,passport_verified:!1,utility_bill_verified:!1,guarantor_verified:!1},fe=de(),Se=fe.icon,K={green:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",red:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",gray:"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-700"},A=(oe==null?void 0:oe.is_verified)||!1,q=(oe==null?void 0:oe.verification_level)||"none";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(nu,{className:"text-orange-600 dark:text-orange-400",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Verification Status"})]}),n.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${A?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:A?"Fully Verified":q==="partial"?"Partially Verified":q==="basic"?"Basic Verification":"Not Verified"})]}),A?n.jsxs("div",{className:"flex items-center gap-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:24,className:"flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"All verification documents have been approved!"}),(oe==null?void 0:oe.verified_at)&&n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:["Verified on ",new Date(oe.verified_at).toLocaleDateString()]})]})]}):n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(sV,{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Complete all required documents to become verified:"}),n.jsxs("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"BRP or Passport (Identity Document)"}),n.jsx("li",{children:"Utility Bill (Proof of Address)"}),n.jsx("li",{children:"Guarantor Information & Documents"})]})]})]})}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx("span",{children:"Verification Progress"}),n.jsxs("span",{children:[[(oe==null?void 0:oe.brp_verified)||(oe==null?void 0:oe.passport_verified),oe==null?void 0:oe.utility_bill_verified,oe==null?void 0:oe.guarantor_verified].filter(Boolean).length," / 3 Required Documents"]})]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${A?"bg-green-500":"bg-orange-500"}`,style:{width:`${[(oe==null?void 0:oe.brp_verified)||(oe==null?void 0:oe.passport_verified),oe==null?void 0:oe.utility_bill_verified,oe==null?void 0:oe.guarantor_verified].filter(Boolean).length/3*100}%`}})})]})]}),N&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:N}),n.jsx("button",{onClick:()=>b(null),className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Dismiss"})]})]}),w&&n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ar,{className:"text-green-600 dark:text-green-400 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:w}),n.jsx("button",{onClick:()=>k(null),className:"mt-2 text-xs text-green-600 dark:text-green-400 hover:underline",children:"Dismiss"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Required Documents"}),n.jsx(xe,{title:"BRP (Biometric Residence Permit)",description:"Upload a clear photo or scan of your BRP card",documentType:"brp",icon:Or,documentNumberLabel:"BRP Number"}),n.jsx(xe,{title:"Passport",description:"Upload a clear photo or scan of your passport (if you don't have a BRP)",documentType:"passport",icon:Or,documentNumberLabel:"Passport Number"}),n.jsx(xe,{title:"Utility Bill (Proof of Address)",description:"Upload a recent utility bill (gas, electricity, water) dated within the last 3 months",documentType:"utility_bill",icon:mr})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nn,{className:"text-orange-600 dark:text-orange-400",size:24}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Guarantor Information"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Provide details of your guarantor who can vouch for you"})]})]}),n.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium border ${K[fe.color]}`,children:[n.jsx(Se,{size:14}),n.jsx("span",{className:"capitalize",children:fe.status.replace("_"," ")})]})]}),fe.status==="rejected"&&fe.rejectionReason&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[n.jsx("strong",{children:"Rejection Reason:"})," ",fe.rejectionReason]})}),fe.status==="verified"&&fe.verifiedAt&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Verified on ",new Date(fe.verifiedAt).toLocaleDateString()]})}),o&&!y&&n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Full Name"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.full_name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.phone})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Relationship"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.relationship_to_tenant||"N/A"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Address"}),n.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[o.address_line_1,", ",o.city,", ",o.postcode]})]})]}),fe.status!=="verified"&&n.jsx("button",{onClick:()=>x(!0),className:"mt-4 text-sm text-orange-600 dark:text-orange-400 hover:underline",children:"Update Information"})]}),(y||!o)&&fe.status!=="verified"&&n.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:G.fullName,onChange:F=>O(R=>({...R,fullName:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:G.email,onChange:F=>O(R=>({...R,email:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),n.jsx("input",{type:"tel",required:!0,value:G.phone,onChange:F=>O(R=>({...R,phone:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date of Birth"}),n.jsx("input",{type:"date",value:G.dateOfBirth,onChange:F=>O(R=>({...R,dateOfBirth:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Relationship to Tenant *"}),n.jsxs("select",{required:!0,value:G.relationshipToTenant,onChange:F=>O(R=>({...R,relationshipToTenant:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"",children:"Select relationship"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Sibling",children:"Sibling"}),n.jsx("option",{value:"Friend",children:"Friend"}),n.jsx("option",{value:"Employer",children:"Employer"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employment Status"}),n.jsxs("select",{value:G.employmentStatus,onChange:F=>O(R=>({...R,employmentStatus:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"employed",children:"Employed"}),n.jsx("option",{value:"self_employed",children:"Self-Employed"}),n.jsx("option",{value:"retired",children:"Retired"}),n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employer Name"}),n.jsx("input",{type:"text",value:G.employerName,onChange:F=>O(R=>({...R,employerName:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Annual Income ()"}),n.jsx("input",{type:"number",step:"0.01",value:G.annualIncome,onChange:F=>O(R=>({...R,annualIncome:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 1 *"}),n.jsx("input",{type:"text",required:!0,value:G.addressLine1,onChange:F=>O(R=>({...R,addressLine1:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address Line 2"}),n.jsx("input",{type:"text",value:G.addressLine2,onChange:F=>O(R=>({...R,addressLine2:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:G.city,onChange:F=>O(R=>({...R,city:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postcode *"}),n.jsx("input",{type:"text",required:!0,value:G.postcode,onChange:F=>O(R=>({...R,postcode:F.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Supporting Documents"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ID Document (Passport or Driving License)"}),n.jsx("input",{ref:I,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Proof of Address (Utility Bill or Bank Statement)"}),n.jsx("input",{ref:D,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Proof of Income (Payslip or Bank Statement)"}),n.jsx("input",{ref:C,type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"submit",disabled:h.guarantor,className:"flex-1 flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.guarantor?n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"animate-spin",size:18}),n.jsx("span",{children:"Submitting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ar,{size:18}),n.jsx("span",{children:"Submit Guarantor Information"})]})}),y&&n.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})]})},Jle=()=>{const e=vr(),{currentUser:t}=Kf(),r=P.useRef(null),[a,s]=P.useState(!1),[i,o]=P.useState({fullName:"Thomas Anderson",email:"thomas@example.com",phone:"+1 (555) 123-4567",address:"123 Main St, San Francisco, CA 94102",postcode:""}),[l,c]=P.useState(null),[u,h]=P.useState(null),[f,g]=P.useState(!1),[m,y]=P.useState([]),[x,N]=P.useState(!1),[b,w]=P.useState(!1),[k,S]=P.useState(null);P.useEffect(()=>{const O=async()=>{let Y=i.postcode;if(!Y&&i.address){const ee=i.address.match(/\b([A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2})\b/i);ee&&(Y=ee[1])}if(Y&&EA(Y)){w(!0);try{const ee=await Lle(Y);y(ee),N(ee.length>0)}catch(ee){console.error("Error fetching addresses:",ee),y([]),N(!1)}finally{w(!1)}}else y([]),N(!1)};k&&clearTimeout(k);const V=setTimeout(()=>{O()},500);return S(V),()=>{V&&clearTimeout(V)}},[i.postcode,i.address]);const B=O=>{const{name:V,value:Y}=O.target;o(ee=>({...ee,[V]:Y}))},H=O=>{o(V=>({...V,address:O.fullAddress,postcode:O.postcode})),N(!1),y([])};P.useEffect(()=>{(async()=>{var V;if(t)try{const{data:{user:Y}}=await Ke.auth.getUser();if(Y){(V=Y.user_metadata)!=null&&V.avatar_url&&h(Y.user_metadata.avatar_url);const{data:ee}=await Ke.from("profiles").select("*").eq("id",Y.id).single();ee&&(o(he=>({...he,fullName:ee.full_name||he.fullName,email:Y.email||he.email,phone:ee.phone||he.phone,address:ee.address||he.address,postcode:ee.postcode||he.postcode})),ee.avatar_url&&h(ee.avatar_url))}}catch(Y){console.error("Error loading profile:",Y)}})()},[t]);const I=O=>{var ee;const V=(ee=O.target.files)==null?void 0:ee[0];if(!V)return;if(!V.type.startsWith("image/")){alert("Please select an image file");return}if(V.size>5*1024*1024){alert("Image size must be less than 5MB");return}c(V);const Y=new FileReader;Y.onloadend=()=>{h(Y.result)},Y.readAsDataURL(V)},D=async()=>{if(!l||!t){alert("Please select an image first");return}g(!0);try{const O=l.name.split(".").pop(),Y=`avatars/${`${t.id}-${Date.now()}.${O}`}`,{error:ee}=await Ke.storage.from("avatars").upload(Y,l,{cacheControl:"3600",upsert:!0});if(ee)throw console.error("Upload error:",ee),ee;const{data:{publicUrl:he}}=Ke.storage.from("avatars").getPublicUrl(Y);if(he)try{const{error:de}=await Ke.from("profiles").upsert({id:t.id,avatar_url:he,updated_at:new Date().toISOString()});if(de){const{error:xe}=await Ke.auth.updateUser({data:{avatar_url:he}});xe&&console.warn("Could not update profile image in database:",xe)}}catch(de){console.warn("Error updating profile:",de)}h(he),c(null),alert("Profile image uploaded successfully!")}catch(O){console.error("Error uploading image:",O),alert("Failed to upload image. Please try again.")}finally{g(!1)}},C=()=>{c(null),h(null),r.current&&(r.current.value="")},G=async()=>{if(!t){alert("Please log in to save your profile");return}try{const{error:O}=await Ke.from("profiles").upsert({id:t.id,full_name:i.fullName,phone:i.phone,address:i.address,postcode:i.postcode,updated_at:new Date().toISOString()});if(O){console.error("Error saving profile:",O),alert("Failed to save profile. Please try again.");return}l&&await D(),s(!1),alert("Profile updated successfully!")}catch(O){console.error("Error saving profile:",O),alert("Failed to save profile. Please try again.")}};return n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("button",{onClick:()=>e(-1),className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-orange-600 transition-colors",children:[n.jsx(lc,{size:20}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Profile"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your personal information"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Personal Information"}),n.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300 font-medium",children:[n.jsx(qo,{size:18}),a?"Cancel":"Edit"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:i.email,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:B,disabled:!a,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Postcode",n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:"(Enter postcode to find addresses)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",name:"postcode",value:i.postcode,onChange:B,disabled:!a,placeholder:"e.g., PR1 1AA, SW1A 1AA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),b&&n.jsx(oo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 animate-spin text-orange-500",size:18})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",name:"address",value:i.address,onChange:B,disabled:!a,onFocus:()=>{m.length>0&&N(!0)},onBlur:()=>{setTimeout(()=>N(!1),200)},placeholder:"Enter postcode above to see address options",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),x&&m.length>0&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:[n.jsx("div",{className:"p-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:"Select an address:"}),m.map((O,V)=>n.jsx("button",{type:"button",onClick:()=>H(O),className:"w-full text-left px-4 py-3 hover:bg-orange-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(mr,{size:16,className:"text-orange-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:O.line1}),O.line2&&n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:O.line2}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[O.city,", ",O.postcode]})]})]})},V))]})]}),i.postcode&&!b&&m.length===0&&EA(i.postcode)&&n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"No addresses found for this postcode. You can still enter your address manually."})]}),a&&n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{onClick:G,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-sm",children:"Save Changes"})})]})]}),n.jsx(Xle,{userId:t==null?void 0:t.id,currentUser:t})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"relative mb-4",children:u?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-orange-500"}),a&&n.jsx("button",{onClick:C,className:"absolute -top-1 -right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-colors",title:"Remove image",children:n.jsx(xr,{size:16})})]}):n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center border-4 border-orange-500",children:n.jsx(Nn,{size:48,className:"text-white"})})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-1",children:i.fullName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Member since Jan 2024"}),a&&n.jsxs("div",{className:"w-full space-y-2",children:[n.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:I,className:"hidden",id:"profile-image-upload"}),n.jsx("label",{htmlFor:"profile-image-upload",className:"w-full flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer",children:f?n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"animate-spin",size:18}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(hp,{size:18}),n.jsx("span",{children:"Upload Photo"})]})}),n.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Choose from device or gallery (mobile: tap to access camera)"}),l&&!f&&n.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[n.jsx(Ar,{size:18}),n.jsx("span",{children:"Save Image"})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Account Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"12"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contracts"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"8"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Messages"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"24"})]})]})]})]})]})]})},Qle=({contract:e,onClose:t})=>{const[r,a]=P.useState(!0),s=e.pdfUrl||`data:application/pdf;base64,${btoa("Mock PDF Content")}`;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Or,{className:"text-orange-600",size:24}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.name||e.property}),n.jsx("p",{className:"text-sm text-gray-600",children:e.type||"Lease Agreement"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>window.open(s,"_blank"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Open in new tab",children:n.jsx(z_,{size:20,className:"text-gray-600"})}),n.jsx("button",{onClick:()=>{const i=document.createElement("a");i.href=s,i.download=`${e.name||"contract"}.pdf`,i.click()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Download",children:n.jsx(Es,{size:20,className:"text-gray-600"})}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xr,{size:24,className:"text-gray-600"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-100",children:[r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading document..."})]})}),n.jsx("iframe",{src:s,className:"w-full h-full border-0",title:"Contract PDF",onLoad:()=>a(!1),style:{display:r?"none":"block"}})]})]})})},ece=({contract:e,onClose:t,onSign:r})=>{const[a,s]=P.useState(""),[i,o]=P.useState(!1),l=P.useRef(null),[c,u]=P.useState(!1),h=N=>{const b=l.current,w=b.getBoundingClientRect(),k=b.width/w.width,S=b.height/w.height;return N.touches&&N.touches[0]?{x:(N.touches[0].clientX-w.left)*k,y:(N.touches[0].clientY-w.top)*S}:{x:(N.clientX-w.left)*k,y:(N.clientY-w.top)*S}},f=N=>{N.preventDefault(),o(!0);const w=l.current.getContext("2d"),k=h(N);w.beginPath(),w.moveTo(k.x,k.y)},g=N=>{if(N.preventDefault(),!i)return;const w=l.current.getContext("2d"),k=h(N);w.lineWidth=2,w.lineCap="round",w.lineJoin="round",w.strokeStyle="#1f2937",w.lineTo(k.x,k.y),w.stroke()},m=N=>{if(N.preventDefault(),!i)return;o(!1);const b=l.current;if(b){const w=b.toDataURL();b.getContext("2d").getImageData(0,0,b.width,b.height).data.some((H,I)=>I%4!==3&&H!==255&&H!==0)&&s(w)}},y=()=>{const N=l.current;N.getContext("2d").clearRect(0,0,N.width,N.height),s("")},x=()=>{if(!a){alert("Please provide your signature");return}const N=JSON.parse(localStorage.getItem("signedContracts")||"[]");N.push({contractId:e.id,signedAt:new Date().toISOString(),signature:a}),localStorage.setItem("signedContracts",JSON.stringify(N)),u(!0),setTimeout(()=>{r(e.id,a),t()},1500)};return oc.useEffect(()=>{const N=l.current;if(N){const b=N.getContext("2d");b.strokeStyle="#1f2937",b.lineWidth=2,b.lineCap="round",b.lineJoin="round";const w=N.getBoundingClientRect();N.width=w.width,N.height=w.height}},[]),n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sign Contract"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(e==null?void 0:e.name)||(e==null?void 0:e.property)})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xr,{size:24,className:"text-gray-600"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(ph,{size:32,className:"text-green-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Contract Signed!"}),n.jsx("p",{className:"text-gray-600 text-center",children:"Your signature has been recorded and the contract is now active."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500",required:!0}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"I agree to the terms and conditions of this contract"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"By signing, I acknowledge that I have read and understood all the terms."})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Signature"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[n.jsx("canvas",{ref:l,className:"w-full h-48 bg-white rounded border border-gray-200 cursor-crosshair touch-none",onMouseDown:f,onMouseMove:g,onMouseUp:m,onMouseLeave:m,onTouchStart:f,onTouchMove:g,onTouchEnd:m}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Draw your signature above"}),n.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(JV,{size:16}),"Clear"]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or Type Your Name"}),n.jsx("input",{type:"text",placeholder:"Type your full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",onChange:N=>{N.target.value&&(y(),s(N.target.value))}})]})]})}),!c&&n.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:x,disabled:!a,className:"flex-1 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n.jsx(ph,{size:18}),"Accept & Sign"]})]})]})})},tce=()=>{const e=vr(),[t,r]=P.useState(null),[a,s]=P.useState(!1),[i,o]=P.useState(!1),[l,c]=P.useState(!1),[u,h]=P.useState([]),[f,g]=P.useState("list"),[m,y]=P.useState(""),[x,N]=P.useState("all"),[b,w]=P.useState("all"),[k,S]=P.useState("date"),[B,H]=P.useState("desc"),[I,D]=P.useState(!1),[C,G]=P.useState(null);P.useEffect(()=>{const X=JSON.parse(localStorage.getItem("signedContracts")||"[]");h(X)},[]);const O=[{id:1,name:"Lease Agreement - Modern Downtown Apartment",property:"Modern Downtown Apartment",propertyId:"prop-1",type:"Lease Agreement",category:"lease",date:"2024-01-10",expirationDate:"2025-01-10",status:"pending",priority:"high",amount:1500,currency:"GBP",duration:"12 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"London, UK",agentName:"John Smith",agentEmail:"john.smith@estospaces.com",agentPhone:"+44 20 1234 5678",description:"Standard lease agreement for a modern downtown apartment",requiresAction:!0,daysUntilExpiration:300},{id:2,name:"Lease Agreement - Luxury Condo",property:"Luxury Condo with Ocean View",propertyId:"prop-2",type:"Lease Agreement",category:"lease",date:"2023-12-15",expirationDate:"2024-12-15",status:"pending",priority:"medium",amount:2500,currency:"GBP",duration:"12 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"Brighton, UK",agentName:"Sarah Johnson",agentEmail:"sarah.j@estospaces.com",agentPhone:"+44 1273 987654",description:"Premium lease agreement with ocean view amenities",requiresAction:!0,daysUntilExpiration:345},{id:3,name:"Lease Agreement - Spacious Family Home",property:"Spacious Family Home",propertyId:"prop-3",type:"Lease Agreement",category:"lease",date:"2023-11-20",signedDate:"2024-01-03",expirationDate:"2025-11-20",status:"signed",priority:"low",amount:1800,currency:"GBP",duration:"24 months",pdfUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",location:"Manchester, UK",agentName:"Michael Brown",agentEmail:"m.brown@estospaces.com",agentPhone:"+44 161 5551234",description:"Long-term lease for family-friendly spacious home",requiresAction:!1,daysUntilExpiration:600}],V=X=>{var ke;return u.some(Pe=>Pe.contractId===X)||((ke=O.find(Pe=>Pe.id===X))==null?void 0:ke.signedDate)},Y=X=>{if(V(X.id)||X.signedDate)return{label:"Signed",icon:Ar,color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",bgColor:"bg-green-50 dark:bg-green-900/20"};if(X.status==="pending"||X.status==="pending_signature"){const ke=X.daysUntilExpiration&&X.daysUntilExpiration<7;return{label:ke?"Urgent - Signature Required":"Pending Signature",icon:ya,color:ke?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",bgColor:ke?"bg-red-50 dark:bg-red-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}}return X.status==="expired"?{label:"Expired",icon:Ba,color:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-600",bgColor:"bg-gray-50 dark:bg-gray-800"}:{label:"Active",icon:Zm,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",bgColor:"bg-blue-50 dark:bg-blue-900/20"}},ee=P.useMemo(()=>{let X=O.filter(ke=>{var Pe,De,Ye,ce;if(m){const Ae=m.toLowerCase();if(!(((Pe=ke.property)==null?void 0:Pe.toLowerCase().includes(Ae))||((De=ke.name)==null?void 0:De.toLowerCase().includes(Ae))||((Ye=ke.type)==null?void 0:Ye.toLowerCase().includes(Ae))||((ce=ke.location)==null?void 0:ce.toLowerCase().includes(Ae))))return!1}return!(x!=="all"&&(x==="signed"&&!V(ke.id)&&!ke.signedDate||x==="pending"&&(V(ke.id)||ke.signedDate||ke.status!=="pending")||x==="expired"&&ke.status!=="expired")||b!=="all"&&ke.category!==b)});return X.sort((ke,Pe)=>{let De=0;switch(k){case"name":De=(ke.property||"").localeCompare(Pe.property||"");break;case"status":const Ye=Y(ke).label,ce=Y(Pe).label;De=Ye.localeCompare(ce);break;case"date":default:De=new Date(Pe.date)-new Date(ke.date);break}return B==="asc"?-De:De}),X},[O,m,x,b,k,B,u]),he=X=>{r(X),s(!0)},de=X=>{r(X),o(!0)},xe=(X,ke)=>{const Pe=[...u,{contractId:X,signedAt:new Date().toISOString(),signature:ke}];h(Pe);const De=JSON.parse(localStorage.getItem("signedContracts")||"[]");h(De)},oe=X=>X?new Date(X).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}):"N/A",fe=(X,ke="GBP")=>new Intl.NumberFormat("en-GB",{style:"currency",currency:ke,minimumFractionDigits:0,maximumFractionDigits:0}).format(X),Se=X=>{const ke=O.find(De=>De.id===X);if(ke!=null&&ke.signedDate)return oe(ke.signedDate);const Pe=u.find(De=>De.contractId===X);return Pe?oe(Pe.signedAt):null},K=(X,ke)=>{const Pe=O.find(De=>De.id===X);if(Pe){switch(ke){case"view":he(Pe);break;case"details":r(Pe),c(!0);break;case"download":q(Pe);break;case"sign":de(Pe);break;case"share":F(Pe);break;case"copy":R(Pe);break;case"property":Pe.propertyId&&e(`/user/dashboard/property/${Pe.propertyId}`);break}G(null)}},A=X=>{r(X),c(!0)},q=X=>{const ke=document.createElement("a");ke.href=X.pdfUrl||"#",ke.download=`${X.name||X.property}.pdf`,ke.target="_blank",ke.click()},F=X=>{const ke=`${window.location.origin}/user/dashboard/contracts?contract=${X.id}`;navigator.share?navigator.share({title:X.name||X.property,text:`Check out this contract: ${X.property}`,url:ke}).catch(Pe=>console.log("Error sharing:",Pe)):(navigator.clipboard.writeText(ke),alert("Contract link copied to clipboard!"))},R=X=>{const ke=`${window.location.origin}/user/dashboard/contracts?contract=${X.id}`;navigator.clipboard.writeText(ke),alert("Contract link copied to clipboard!")},W=X=>{k===X?H(B==="asc"?"desc":"asc"):(S(X),H("desc"))},Z=ee.filter(X=>!V(X.id)&&!X.signedDate&&X.status==="pending").length,ie=ee.filter(X=>V(X.id)||X.signedDate).length,re=ee.filter(X=>!V(X.id)&&!X.signedDate&&X.daysUntilExpiration&&X.daysUntilExpiration<7).length;return n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Digital Contracts"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"View, review, and sign your property contracts"})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded transition-colors ${f==="list"?"bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,title:"List View",children:n.jsx($_,{size:18})}),n.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded transition-colors ${f==="grid"?"bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,title:"Grid View",children:n.jsx(V_,{size:18})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Contracts"}),n.jsx(Or,{className:"text-blue-500 dark:text-blue-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:O.length})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Signed"}),n.jsx(Ar,{className:"text-green-500 dark:text-green-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:ie})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),n.jsx(ya,{className:"text-yellow-500 dark:text-yellow-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:Z})]}),re>0&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg shadow-sm border border-red-200 dark:border-red-800 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"Urgent"}),n.jsx(Ba,{className:"text-red-500 dark:text-red-400",size:20})]}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:re}),n.jsx("p",{className:"text-xs text-red-600 dark:text-red-500 mt-1",children:"Requires immediate action"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20}),n.jsx("input",{type:"text",value:m,onChange:X=>y(X.target.value),placeholder:"Search contracts by property, type, or location...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("button",{onClick:()=>D(!I),className:`flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition-colors ${I||x!=="all"||b!=="all"?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(Do,{size:18}),"Filters",(x!=="all"||b!=="all")&&n.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(x!=="all"?1:0)+(b!=="all"?1:0)})]}),n.jsxs("button",{onClick:()=>W("date"),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors",children:[B==="asc"?n.jsx(Zz,{size:18}):n.jsx($z,{size:18}),n.jsx("span",{className:"hidden sm:inline",children:"Sort"})]})]}),I&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsxs("select",{value:x,onChange:X=>N(X.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"signed",children:"Signed"}),n.jsx("option",{value:"pending",children:"Pending Signature"}),n.jsx("option",{value:"expired",children:"Expired"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Type"}),n.jsxs("select",{value:b,onChange:X=>w(X.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"lease",children:"Lease Agreement"}),n.jsx("option",{value:"purchase",children:"Purchase Agreement"}),n.jsx("option",{value:"other",children:"Other"})]})]})]})]}),ee.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[n.jsx(Or,{className:"mx-auto mb-4 text-gray-400 dark:text-gray-500",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No contracts found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:m||x!=="all"||b!=="all"?"Try adjusting your filters or search terms.":"You don't have any contracts yet. Contracts will appear here once you apply for properties."}),(m||x!=="all"||b!=="all")&&n.jsx("button",{onClick:()=>{y(""),N("all"),w("all")},className:"px-4 py-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:"Clear Filters"})]}):n.jsx("div",{className:`${f==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}`,children:ee.map(X=>{const ke=Y(X),Pe=ke.icon,De=V(X.id),Ye=Se(X.id),ce=X.daysUntilExpiration&&X.daysUntilExpiration<7&&!De;return f==="grid"?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow relative",onClick:()=>A(X),children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[X.requiresAction&&!De&&n.jsx(du,{className:"text-orange-500 dark:text-orange-400 animate-pulse",size:16}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 truncate",children:X.property})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:X.type}),X.location&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:12}),n.jsx("span",{children:X.location})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),G(C===X.id?null:X.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors flex-shrink-0",children:n.jsx(Ky,{size:18,className:"text-gray-400 dark:text-gray-500"})}),C===X.id&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(null)}),n.jsxs("div",{className:"absolute top-8 right-0 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20 min-w-[180px]",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"details")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700 rounded-t-lg",children:[n.jsx(Or,{size:16}),"View Details"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"view")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(fa,{size:16}),"View PDF"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"download")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(Es,{size:16}),"Download PDF"]}),X.propertyId&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"property")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(aa,{size:16}),"View Property"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"share")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm border-b border-gray-200 dark:border-gray-700",children:[n.jsx(Io,{size:16}),"Share Contract"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),K(X.id,"copy")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm rounded-b-lg",children:[n.jsx(Yy,{size:16}),"Copy Link"]})]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${ke.color}`,children:[n.jsx(Pe,{size:12}),ke.label]})}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[X.amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[fe(X.amount,X.currency),"/month"]})]}),X.duration&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X.duration})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:oe(X.date)})]}),Ye&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Signed:"}),n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:Ye})]}),X.expirationDate&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Expires:"}),n.jsx("span",{className:`font-medium ${ce?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:oe(X.expirationDate)})]})]}),ce&&n.jsx("div",{className:"mb-4 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:[" ",X.daysUntilExpiration," days remaining to sign"]})}),n.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",onClick:Ae=>Ae.stopPropagation(),children:[De?n.jsxs("div",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:16}),"Signed"]}):n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),de(X)},className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${ce?"bg-red-600 hover:bg-red-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:[n.jsx(Zm,{size:16}),ce?"Sign Urgently":"Accept & Sign"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),he(X)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(fa,{size:14}),"View"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),q(X)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(Es,{size:14}),"Download"]})]})]})]})},X.id):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover:shadow-md transition-all cursor-pointer",onClick:()=>A(X),children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${ce?"bg-red-100 dark:bg-red-900/30":"bg-orange-50 dark:bg-orange-900/30"}`,children:n.jsx(Or,{className:ce?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[X.requiresAction&&!De&&n.jsx(du,{className:"text-orange-500 dark:text-orange-400 animate-pulse flex-shrink-0",size:16}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 truncate",children:X.property}),ce&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium border border-red-200 dark:border-red-800",children:[n.jsx(Ba,{size:10}),"Urgent"]})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:X.type}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bi,{size:12}),"Created ",oe(X.date)]}),X.location&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(aa,{size:12}),X.location]}),X.amount&&n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[fe(X.amount,X.currency),"/month"]}),Ye&&n.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium",children:[n.jsx(Ar,{size:12}),"Signed ",Ye]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border whitespace-nowrap ${ke.color}`,children:[n.jsx(Pe,{size:14}),ke.label]}),n.jsx("button",{onClick:()=>G(C===X.id?null:X.id),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors relative",children:n.jsx(Ky,{size:18,className:"text-gray-400 dark:text-gray-500"})})]})]}),ce&&n.jsx("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400 font-medium",children:[" This contract expires in ",X.daysUntilExpiration," days. Please sign immediately to avoid expiration."]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",onClick:Ae=>Ae.stopPropagation(),children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),he(X)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(fa,{size:16}),"View PDF"]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),q(X)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(Es,{size:16}),"Download"]}),X.propertyId&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),e(`/user/dashboard/property/${X.propertyId}`)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium transition-colors",children:[n.jsx(aa,{size:16}),"View Property"]}),!De&&n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),de(X)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ce?"bg-red-600 hover:bg-red-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:[n.jsx(Zm,{size:16}),ce?"Sign Urgently":"Accept & Sign"]}),De&&n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg text-sm font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:16}),"Signed"]})]})]})]})},X.id)})}),a&&t&&n.jsx(Qle,{contract:t,onClose:()=>{s(!1),r(null)}}),i&&t&&n.jsx(ece,{contract:t,onClose:()=>{o(!1),r(null)},onSign:xe}),l&&t&&n.jsx(rce,{contract:t,isSigned:V(t.id),signedDate:Se(t.id),onClose:()=>{c(!1),r(null)},onSign:()=>{c(!1),de(t)},onViewProperty:()=>{t.propertyId&&e(`/user/dashboard/property/${t.propertyId}`)}}),C&&n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(null)})]})},rce=({contract:e,isSigned:t,signedDate:r,onClose:a,onSign:s,onViewProperty:i})=>{const o=u=>u?new Date(u).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}):"N/A",l=(u,h="GBP")=>new Intl.NumberFormat("en-GB",{style:"currency",currency:h,minimumFractionDigits:0,maximumFractionDigits:0}).format(u),c=e.daysUntilExpiration&&e.daysUntilExpiration<7&&!t;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:n.jsx(Or,{className:"text-orange-600 dark:text-orange-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500",children:e.property}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]})]}),n.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(xr,{size:24,className:"text-gray-600 dark:text-gray-400"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ba,{className:"text-red-600 dark:text-red-400 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-800 dark:text-red-300 mb-1",children:"Urgent Action Required"}),n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:["This contract expires in ",e.daysUntilExpiration," days. Please sign immediately to avoid expiration."]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Contract Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.property}),e.propertyId&&n.jsxs("button",{onClick:i,className:"mt-1 text-sm text-orange-600 dark:text-orange-400 hover:underline flex items-center gap-1",children:[n.jsx(aa,{size:14}),"View Property Details"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Contract Type"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.type})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Location"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.location||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:o(e.date)})]}),t&&r&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-600 dark:text-green-400 mb-1",children:"Signed Date"}),n.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:r})]}),e.expirationDate&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Expiration Date"}),n.jsx("p",{className:`font-medium ${c?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:o(e.expirationDate)}),e.daysUntilExpiration&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.daysUntilExpiration," days remaining"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Financial Details"}),e.amount&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Monthly Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l(e.amount,e.currency)})]}),e.duration&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Duration"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.duration})]}),e.description&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-sm",children:e.description})]}),(e.agentName||e.agentEmail||e.agentPhone)&&n.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Agent Contact"}),e.agentName&&n.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 mb-1",children:e.agentName}),e.agentEmail&&n.jsx("a",{href:`mailto:${e.agentEmail}`,className:"text-sm text-orange-600 dark:text-orange-400 hover:underline block mb-1",children:e.agentEmail}),e.agentPhone&&n.jsx("a",{href:`tel:${e.agentPhone}`,className:"text-sm text-orange-600 dark:text-orange-400 hover:underline block",children:e.agentPhone})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row gap-3",children:[n.jsxs("button",{onClick:()=>{const u=document.createElement("a");u.href=e.pdfUrl||"#",u.download=`${e.name||e.property}.pdf`,u.target="_blank",u.click()},className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:[n.jsx(Es,{size:18}),"Download PDF"]}),n.jsxs("button",{onClick:()=>{a(),document.querySelector("[data-contract-viewer]"),window.open(e.pdfUrl||"#","_blank")},className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:[n.jsx(fa,{size:18}),"View Contract"]}),!t&&n.jsxs("button",{onClick:s,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors text-white ${c?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"}`,children:[n.jsx(Zm,{size:18}),c?"Sign Urgently":"Accept & Sign"]}),t&&n.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg font-medium border border-green-200 dark:border-green-800",children:[n.jsx(Ar,{size:18}),"Contract Signed"]})]})]})})},ace=P.createContext(),nM=()=>{const e=P.useContext(ace);if(!e)throw new Error("useApplications must be used within an ApplicationsProvider");return e},pr={DRAFT:"draft",SUBMITTED:"submitted",UNDER_REVIEW:"under_review",DOCUMENTS_REQUESTED:"documents_requested",APPROVED:"approved",REJECTED:"rejected",WITHDRAWN:"withdrawn"};pr.UNDER_REVIEW,new Date(Date.now()-7*24*60*60*1e3).toISOString(),new Date(Date.now()-2*24*60*60*1e3).toISOString(),new Date(Date.now()+5*24*60*60*1e3).toISOString(),new Date(Date.now()-5*24*60*60*1e3).toISOString(),new Date(Date.now()-2*24*60*60*1e3).toISOString(),pr.DOCUMENTS_REQUESTED,new Date(Date.now()-10*24*60*60*1e3).toISOString(),new Date(Date.now()-1*24*60*60*1e3).toISOString(),new Date(Date.now()+3*24*60*60*1e3).toISOString(),new Date(Date.now()-3*24*60*60*1e3).toISOString(),pr.SUBMITTED,new Date(Date.now()-3*24*60*60*1e3).toISOString(),new Date(Date.now()-3*24*60*60*1e3).toISOString();const nce=({application:e,onClick:t})=>{const r=vr(),{createConversation:a}=Ff(),s=m=>{switch(m){case pr.DRAFT:return{label:"Draft",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:qo};case pr.SUBMITTED:return{label:"Submitted",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:Or};case pr.UNDER_REVIEW:return{label:"Under Review",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",icon:ya};case pr.DOCUMENTS_REQUESTED:return{label:"Documents Requested",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",icon:hp};case pr.APPROVED:return{label:"Approved",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",icon:Ar};case pr.REJECTED:return{label:"Rejected",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",icon:As};case pr.WITHDRAWN:return{label:"Withdrawn",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:As};default:return{label:m,color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:Or}}},i=()=>{switch(e.status){case pr.DRAFT:return{label:"Complete Application",action:"edit"};case pr.DOCUMENTS_REQUESTED:return{label:"Upload Documents",action:"upload"};case pr.UNDER_REVIEW:return{label:"View Details",action:"view"};default:return{label:"View Details",action:"view"}}},o=m=>m?new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",l=m=>{if(!m)return"N/A";const y=new Date(m),N=new Date-y,b=Math.floor(N/(1e3*60*60*24));return b===0?"Today":b===1?"Yesterday":b<7?`${b} days ago`:o(m)},c=()=>{if(!e.deadline)return!1;const m=new Date(e.deadline),y=new Date,x=new Date(y.getTime()+3*24*60*60*1e3);return m<=x&&m>y},u=s(e.status),h=i(),f=u.icon,g=m=>{m.stopPropagation(),e.conversationId||a({id:e.agentId,name:e.agentName,agency:e.agentAgency,email:e.agentEmail},{id:e.propertyId,title:e.propertyTitle,address:e.propertyAddress,image:e.propertyImage,price:e.propertyPrice}),r("/user/dashboard/messages")};return n.jsx("div",{onClick:t,className:`bg-white dark:bg-gray-800 rounded-lg border ${e.requiresAction?"border-orange-300 dark:border-orange-700 shadow-md":"border-gray-200 dark:border-gray-700"} hover:shadow-lg transition-all cursor-pointer ${e.requiresAction?"ring-2 ring-orange-200 dark:ring-orange-900/50":""}`,children:n.jsx("div",{className:"p-4 lg:p-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.propertyImage,alt:e.propertyTitle,className:"w-20 h-20 lg:w-24 lg:h-24 rounded-lg object-cover",onError:m=>{m.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg mb-1 truncate",children:e.propertyTitle}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:14}),n.jsx("span",{className:"truncate",children:e.propertyAddress})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[e.requiresAction&&n.jsxs("div",{className:"relative",children:[n.jsx(Ba,{size:18,className:"text-orange-500 dark:text-orange-400",title:"Action Required"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse"})]}),c()&&n.jsx("div",{className:"relative",children:n.jsx(ya,{size:18,className:"text-red-500 dark:text-red-400",title:"Deadline Approaching"})}),n.jsx(Al,{size:20,className:"text-gray-400"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[n.jsx(Nn,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[e.agentName,e.agentAgency&&`  ${e.agentAgency}`]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Reference ID:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.referenceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Last Updated:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:l(e.lastUpdated)})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{size:16}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${u.color}`,children:u.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.conversationId&&n.jsx("button",{onClick:g,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Message Agent",children:n.jsx(Uo,{size:16})}),n.jsx("button",{onClick:m=>{m.stopPropagation(),t()},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium rounded-lg transition-colors",children:h.label})]})]}),c()&&n.jsx("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400",children:[n.jsx(ya,{size:12,className:"inline mr-1"}),"Deadline: ",o(e.deadline)]})})]})]})})})},sce=({status:e})=>{const t=[{key:pr.DRAFT,label:"Draft",description:"Application is being prepared"},{key:pr.SUBMITTED,label:"Submitted",description:"Application has been submitted"},{key:pr.UNDER_REVIEW,label:"Under Review",description:"Application is being reviewed"},{key:pr.DOCUMENTS_REQUESTED,label:"Documents Requested",description:"Additional documents needed"},{key:pr.APPROVED,label:"Approved",description:"Application has been approved"}],a=(c=>{const u=t.findIndex(h=>h.key===c);return u===-1?c===pr.REJECTED||c===pr.WITHDRAWN?t.length:0:u})(e),s=e===pr.REJECTED,i=e===pr.WITHDRAWN,o=c=>s||i?"error":c<a?"completed":c===a?"current":"pending",l=c=>{switch(c){case"completed":return n.jsx(Ar,{size:20,className:"text-green-500"});case"current":return n.jsx(ya,{size:20,className:"text-orange-500"});case"error":return n.jsx(As,{size:20,className:"text-red-500"});default:return n.jsx(wC,{size:20,className:"text-gray-300 dark:text-gray-600"})}};return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6",children:"Application Status"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"space-y-6",children:t.map((c,u)=>{const h=o(u),f=u===t.length-1;return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${h==="completed"?"bg-green-50 dark:bg-green-900/20 border-green-500":h==="current"?"bg-orange-50 dark:bg-orange-900/20 border-orange-500":"bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600"}`,children:l(h)})}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("div",{className:`font-medium mb-1 ${h==="completed"?"text-green-700 dark:text-green-400":h==="current"?"text-orange-700 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}`,children:c.label}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.description})]})]}),!f&&n.jsx("div",{className:`absolute left-5 top-10 w-0.5 h-6 ${h==="completed"?"bg-green-500":h==="current"?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`})]},c.key)})}),(s||i)&&n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 bg-red-50 dark:bg-red-900/20 border-red-500",children:n.jsx(As,{size:20,className:"text-red-500"})})}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("div",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:s?"Rejected":"Withdrawn"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?"Application has been rejected":"Application has been withdrawn"})]})]})})]})]})},ice=({documents:e=[],onUpload:t,onDelete:r,onReplace:a,maxSize:s=10*1024*1024})=>{const[i,o]=P.useState(!1),l=P.useRef(null),c=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?o(!0):N.type==="dragleave"&&o(!1)},u=N=>{N.preventDefault(),N.stopPropagation(),o(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&f(Array.from(N.dataTransfer.files))},h=N=>{N.target.files&&N.target.files[0]&&f(Array.from(N.target.files))},f=N=>{N.filter(w=>w.size>s?(alert(`File ${w.name} is too large. Maximum size is ${(s/1048576).toFixed(0)}MB.`),!1):["application/pdf","image/jpeg","image/png","image/jpg"].includes(w.type)?!0:(alert(`File ${w.name} has an invalid type. Please upload PDF or image files.`),!1)).forEach(w=>{const k={id:`doc-${Date.now()}-${Math.random()}`,name:w.name,type:w.type,size:w.size,file:w,status:"pending",uploadedAt:new Date().toISOString(),url:URL.createObjectURL(w)};t(k)})},g=N=>{switch(N){case"approved":return n.jsx(Ar,{size:16,className:"text-green-500"});case"rejected":return n.jsx(As,{size:16,className:"text-red-500"});default:return n.jsx(ya,{size:16,className:"text-yellow-500"})}},m=N=>{switch(N){case"approved":return"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800";case"rejected":return"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"}},y=N=>N<1024?N+" B":N<1024*1024?(N/1024).toFixed(1)+" KB":(N/(1024*1024)).toFixed(1)+" MB",x=N=>N.startsWith("image/")?n.jsx(q_,{size:20,className:"text-gray-500"}):n.jsx(Or,{size:20,className:"text-gray-500"});return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Documents"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload required documents. Accepted formats: PDF, JPG, PNG (Max 10MB)"})]}),n.jsxs("div",{onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:u,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"}`,children:[n.jsx(hp,{size:48,className:`mx-auto mb-4 ${i?"text-orange-500":"text-gray-400"}`}),n.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Drag and drop files here, or"," ",n.jsx("button",{onClick:()=>{var N;return(N=l.current)==null?void 0:N.click()},className:"text-orange-600 dark:text-orange-400 hover:underline",children:"browse"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF, JPG, PNG up to 10MB"}),n.jsx("input",{ref:l,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:h,className:"hidden"})]}),e.length>0&&n.jsx("div",{className:"space-y-3",children:e.map(N=>n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${m(N.status)}`,children:[n.jsx("div",{className:"flex-shrink-0",children:x(N.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:N.name}),g(N.status)]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:y(N.size||0)}),n.jsx("span",{children:N.status==="approved"?"Approved":N.status==="rejected"?"Rejected":"Pending Review"}),N.rejectionReason&&n.jsx("span",{className:"text-red-600 dark:text-red-400",children:N.rejectionReason})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[N.url&&n.jsx("a",{href:N.url,download:N.name,className:"p-2 text-gray-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",title:"Download",children:n.jsx(Es,{size:16})}),N.status==="rejected"&&n.jsx("button",{onClick:()=>a(N.id),className:"p-2 text-gray-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",title:"Replace",children:n.jsx(qo,{size:16})}),n.jsx("button",{onClick:()=>r(N.id),className:"p-2 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors",title:"Delete",children:n.jsx(Ss,{size:16})})]})]},N.id))})]})},oce=({applicationId:e,onClose:t})=>{var C,G,O,V,Y,ee;const r=vr(),{getApplication:a,updateApplication:s,submitApplication:i,withdrawApplication:o,addDocument:l,updateDocument:c,deleteDocument:u}=nM(),{createConversation:h}=useMessages(),f=a(e),[g,m]=P.useState(!1),[y,x]=P.useState(!1);if(!f)return n.jsx("div",{className:"p-6 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Application not found"})});const N=f.status===pr.DRAFT||f.status===pr.DOCUMENTS_REQUESTED,b=()=>{f.conversationId||h({id:f.agentId,name:f.agentName,agency:f.agentAgency,email:f.agentEmail},{id:f.propertyId,title:f.propertyTitle,address:f.propertyAddress,image:f.propertyImage,price:f.propertyPrice}),r("/user/dashboard/messages")},w=()=>{window.confirm("Are you sure you want to submit this application? You won't be able to edit it after submission.")&&(i(e),m(!1))},k=()=>{o(e),x(!1),t==null||t()},S=he=>{l(e,he)},B=he=>{window.confirm("Are you sure you want to delete this document?")&&u(e,he)},H=he=>{u(e,he)},I=he=>he?`$${he.toLocaleString()}`:"Price on request",D=()=>{switch(f.status){case pr.DRAFT:return["Complete all required information","Upload required documents","Review and submit your application"];case pr.DOCUMENTS_REQUESTED:return["Upload the requested documents","Ensure documents are clear and readable","Wait for document review"];case pr.UNDER_REVIEW:return["Your application is being reviewed","You will be notified of any updates","Check back regularly for status changes"];case pr.APPROVED:return["Congratulations! Your application has been approved","Contact the agent to proceed with next steps","Review and sign any required documents"];default:return[]}};return n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 lg:p-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[n.jsx(lc,{size:20}),n.jsx("span",{children:"Back to Applications"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[N&&n.jsxs("button",{onClick:()=>m(!g),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(qo,{size:16,className:"inline mr-2"}),g?"Cancel Edit":"Edit"]}),f.status!==pr.WITHDRAWN&&f.status!==pr.APPROVED&&f.status!==pr.REJECTED&&n.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-red-300 dark:border-red-700 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(As,{size:16,className:"inline mr-2"}),"Withdraw"]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:f.propertyTitle}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Reference: ",f.referenceId]})]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx(sce,{status:f.status}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Property Details"}),n.jsxs("button",{onClick:()=>r(`/user/dashboard/property/${f.propertyId}`),className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium",children:[n.jsx("span",{children:"View Property"}),n.jsx(z_,{size:16})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("img",{src:f.propertyImage,alt:f.propertyTitle,className:"w-24 h-24 rounded-lg object-cover",onError:he=>{he.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:f.propertyTitle}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[n.jsx(aa,{size:14}),n.jsx("span",{children:f.propertyAddress})]}),n.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:I(f.propertyPrice)})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Application Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Personal Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Full Name:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((C=f.personalInfo)==null?void 0:C.fullName)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((G=f.personalInfo)==null?void 0:G.email)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((O=f.personalInfo)==null?void 0:O.phone)||"Not provided"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Financial Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Annual Income:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(V=f.financialInfo)!=null&&V.annualIncome?`$${f.financialInfo.annualIncome.toLocaleString()}`:"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Employment Status:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((Y=f.financialInfo)==null?void 0:Y.employmentStatus)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Employer:"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((ee=f.financialInfo)==null?void 0:ee.employer)||"Not provided"})]})]})]})]}),f.notes&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes:"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 mt-1",children:f.notes})]})]}),(N||f.documents.length>0)&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx(ice,{documents:f.documents,onUpload:S,onDelete:B,onReplace:H})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Agent Information"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold",children:f.agentName.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:f.agentName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.agentAgency})]})]}),n.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Uo,{size:16}),n.jsx("span",{children:"Message Agent"})]})]})]}),D().length>0&&n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Next Steps"}),n.jsx("ul",{className:"space-y-2",children:D().map((he,de)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx(Ar,{size:16,className:"text-orange-500 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:he})]},de))})]}),f.status===pr.DRAFT&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx("button",{onClick:w,className:"w-full px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors",children:"Submit Application"})})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Withdraw Application"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to withdraw this application? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Withdraw Application"})]})]})})]})},lce=({searchQuery:e,setSearchQuery:t,statusFilter:r,setStatusFilter:a,propertyTypeFilter:s,setPropertyTypeFilter:i,dateRangeFilter:o,setDateRangeFilter:l})=>{const[c,u]=P.useState(!1),h=[{value:"all",label:"All Statuses"},{value:pr.DRAFT,label:"Draft"},{value:pr.SUBMITTED,label:"Submitted"},{value:pr.UNDER_REVIEW,label:"Under Review"},{value:pr.DOCUMENTS_REQUESTED,label:"Documents Requested"},{value:pr.APPROVED,label:"Approved"},{value:pr.REJECTED,label:"Rejected"},{value:pr.WITHDRAWN,label:"Withdrawn"}],f=[{value:"all",label:"All Types"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"house",label:"House"},{value:"townhouse",label:"Townhouse"}],g=r!=="all"||s!=="all"||o.start||o.end,m=()=>{a("all"),i("all"),l({start:null,end:null})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(us,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by property name, location, or application ID...",value:e,onChange:y=>t(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Do,{size:16}),n.jsx("span",{children:"Filters"}),g&&n.jsx("span",{className:"ml-1 px-2 py-0.5 bg-orange-500 text-white text-xs rounded-full",children:"Active"})]}),g&&n.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[n.jsx(xr,{size:16}),n.jsx("span",{children:"Clear Filters"})]})]}),c&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),n.jsx("select",{value:r,onChange:y=>a(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white",children:h.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type"}),n.jsx("select",{value:s,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white",children:f.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:o.start||"",onChange:y=>l({...o,start:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:o.end||"",onChange:y=>l({...o,end:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]})]})]})]})]})},cce=()=>n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 lg:p-6 animate-pulse",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsx("div",{className:"h-5 w-3/4 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsx("div",{className:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"}),n.jsx("div",{className:"h-8 w-32 bg-gray-200 dark:bg-gray-700 rounded-lg"})]})]})]})}),dce=()=>{const{applications:e,selectedApplicationId:t,setSelectedApplicationId:r,searchQuery:a,setSearchQuery:s,statusFilter:i,setStatusFilter:o,propertyTypeFilter:l,setPropertyTypeFilter:c,dateRangeFilter:u,setDateRangeFilter:h,isLoading:f,getApplicationsRequiringAction:g,getApplicationsWithDeadlineWarnings:m}=nM(),[y,x]=P.useState("list"),N=g(),b=m(),w=S=>{r(S),x("detail")},k=()=>{x("list"),r(null)};return y==="detail"&&t?n.jsx(oce,{applicationId:t,onClose:k}):n.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 lg:p-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"My Applications"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Track your property applications"})]}),n.jsxs("button",{onClick:()=>{window.location.href="/user/dashboard/discover"},className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Cl,{size:20}),n.jsx("span",{className:"hidden sm:inline",children:"New Application"})]})]}),N.length>0&&n.jsx("div",{className:"mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-700 dark:text-orange-400",children:[n.jsx(Ba,{size:16}),n.jsxs("span",{children:[N.length," application",N.length!==1?"s":""," require",N.length===1?"s":""," your action"]})]})}),b.length>0&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700 dark:text-red-400",children:[n.jsx(ya,{size:16}),n.jsxs("span",{children:[b.length," application",b.length!==1?"s":""," ",b.length===1?"has":"have"," an approaching deadline"]})]})}),n.jsx(lce,{searchQuery:a,setSearchQuery:s,statusFilter:i,setStatusFilter:o,propertyTypeFilter:l,setPropertyTypeFilter:c,dateRangeFilter:u,setDateRangeFilter:h})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:f?n.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:[1,2,3].map(S=>n.jsx(cce,{},S))}):e.length===0?n.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Or,{size:48,className:"text-gray-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No applications found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a||i!=="all"||l!=="all"?"Try adjusting your filters to see more results.":"You haven't submitted any applications yet. Start by browsing properties and applying for ones you're interested in."}),!a&&i==="all"&&l==="all"&&n.jsxs("button",{onClick:()=>{window.location.href="/user/dashboard/discover"},className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[n.jsx(Cl,{size:20}),n.jsx("span",{children:"Browse Properties"})]})]}):n.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:e.map(S=>n.jsx(nce,{application:S,onClick:()=>w(S.id)},S.id))})})]})},uce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Viewings"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Schedule and manage property viewings"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[n.jsx(bi,{size:48,className:"mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No viewings scheduled"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Schedule a viewing for properties you're interested in"}),n.jsx("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})]}),hce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Reviews"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Share your experience with properties"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[n.jsx(kl,{size:48,className:"mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Review properties you've visited or rented"}),n.jsx("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"View Properties"})]})]}),fce=()=>{const{savedProperties:e,removeProperty:t}=Bf(),r=vr(),a=s=>{r(`/user/dashboard/property/${s.id}`)};return e.length===0?n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-gray-900 min-h-screen",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:n.jsx(ed,{size:48,className:"text-gray-400 dark:text-gray-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"No Saved Properties"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-6 text-center max-w-md",children:"Start exploring properties and save your favorites to see them here."}),n.jsx("a",{href:"/user/dashboard/discover",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})}):n.jsxs("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto dark:bg-gray-900",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500",children:"Saved Properties"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-orange-400 mt-1",children:[e.length," ",e.length===1?"property":"properties"," saved"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(s=>n.jsx(aM,{property:s,onViewDetails:a},s.id))})]})},mce=()=>n.jsxs("div",{className:"p-4 lg:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Manage your account settings and preferences"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(du,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"Email notifications"}),n.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"Push notifications"}),n.jsx("input",{type:"checkbox",className:"rounded"})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsx("span",{className:"text-gray-700",children:"SMS notifications"}),n.jsx("input",{type:"checkbox",className:"rounded"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(_V,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Security"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Change Password"}),n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Two-Factor Authentication"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(X1,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Payment Methods"})]}),n.jsx("button",{className:"w-full text-left px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Manage Payment Methods"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(U_,{className:"text-red-600",size:24}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500",children:"Preferences"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{children:"English"}),n.jsx("option",{children:"Spanish"}),n.jsx("option",{children:"French"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{children:"UTC-8 (Pacific Time)"}),n.jsx("option",{children:"UTC-5 (Eastern Time)"}),n.jsx("option",{children:"UTC+0 (GMT)"})]})]})]})]})]})]}),gce=()=>{vr();const[e,t]=P.useState(!1),[r,a]=P.useState({subject:"",category:"General Inquiry",message:""}),s=[{icon:xm,title:"Documentation",description:"Browse our comprehensive guides",action:()=>t(!0)},{icon:Uo,title:"Live Chat",description:"Chat with our support team",action:()=>window.location.href="mailto:support@estospaces.com?subject=Live Chat Request"},{icon:wn,title:"Email Support",description:"Send us an email at support@estospaces.com",action:()=>window.location.href="mailto:support@estospaces.com"}],i=[{question:"How do I add a new property?",answer:"Go to Discover Properties and use the search filters..."},{question:"How do I make a payment?",answer:"Navigate to the Payments section and click Make Payment..."},{question:"How do I view my contracts?",answer:"All your contracts are available in the Contracts section..."}],o=l=>{l.preventDefault();const c=`mailto:contact@estospaces.com?subject=[${r.category}] ${encodeURIComponent(r.subject)}&body=${encodeURIComponent(r.message)}`;window.location.href=c};return n.jsxs("div",{className:"p-4 lg:p-6 relative",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"Help & Support"}),n.jsx("p",{className:"text-gray-600 dark:text-orange-400",children:"Get help with your account and properties"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:s.map((l,c)=>{const u=l.icon;return n.jsxs("div",{onClick:l.action,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer hover:bg-gray-50",children:[n.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center mb-4",children:n.jsx(u,{className:"text-red-600",size:24})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-orange-500 mb-2",children:l.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:l.description})]},c)})}),e&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-orange-500",children:"Help & Support Guides"}),n.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(xr,{size:20,className:"text-gray-500"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-gray-600",children:"Explore our comprehensive resources to get the most out of EstoSpaces:"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-blue-50 rounded text-blue-600",children:n.jsx(xm,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Getting Started"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Learn how to set up your profile and preferences."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-green-50 rounded text-green-600",children:n.jsx(xm,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Property Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Step-by-step guides on listing and managing properties."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-purple-50 rounded text-purple-600",children:n.jsx(xm,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Financials"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Understanding payments, invoices, and contracts."})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-1 bg-orange-50 rounded text-orange-600",children:n.jsx(xm,{size:16})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Troubleshooting"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Common issues and how to resolve them."})]})]})]})]}),n.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end",children:n.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Close"})})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(wn,{className:"text-orange-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-orange-500",children:"Raise a Ticket"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:"Submit a support request and we'll get back to you shortly"})]})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4 max-w-2xl",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",placeholder:"Brief description of the issue",value:r.subject,onChange:l=>a({...r,subject:l.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all bg-white",value:r.category,onChange:l=>a({...r,category:l.target.value}),children:[n.jsx("option",{children:"General Inquiry"}),n.jsx("option",{children:"Technical Issue"}),n.jsx("option",{children:"Billing & Payments"}),n.jsx("option",{children:"Property Listing"}),n.jsx("option",{children:"Account Support"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{required:!0,rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all resize-none",placeholder:"Describe your issue in detail...",value:r.message,onChange:l=>a({...r,message:l.target.value})})]}),n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-2.5 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors duration-200",children:[n.jsx(Eh,{size:18}),"Submit Ticket"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-4",children:i.map((l,c)=>n.jsxs("div",{className:"border-b border-gray-200 last:border-0 pb-4 last:pb-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-orange-500 mb-2",children:l.question}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-orange-400",children:l.answer})]},c))})]})]})},pce=()=>{var de;const{id:e}=j_(),[t]=C_(),r=vr(),{toggleProperty:a,isPropertySaved:s}=Bf(),{currentUser:i,saveProperty:o,unsaveProperty:l,trackPropertyView:c}=Kf(),[u,h]=P.useState(0),[f,g]=P.useState(null),[m,y]=P.useState(!0),[x,N]=P.useState(null),[b,w]=P.useState(!1),[k,S]=P.useState(!1);if(P.useEffect(()=>{(async()=>{if(!e){N("Property ID is required"),y(!1);return}y(!0),N(null);try{const oe=await ble(e,i==null?void 0:i.id);if(oe.error){N(oe.error.message||"Failed to load property"),y(!1);return}oe.data?g(oe.data):N("Property not found")}catch(oe){console.error("Error fetching property:",oe),N(oe.message||"Failed to load property")}finally{y(!1)}})()},[e,i]),P.useEffect(()=>{t.get("action")==="buy"&&f&&S(!0)},[t,f]),m)return n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oo,{className:"animate-spin mx-auto mb-4 text-orange-500",size:48}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading property details..."})]})});if(x||!f)return n.jsx("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a] min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center max-w-md",children:[n.jsx(Ba,{className:"mx-auto mb-4 text-red-600 dark:text-red-400",size:48}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"Property Not Found"}),n.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:x||"The property you are looking for does not exist."}),n.jsx("button",{onClick:()=>r("/user/dashboard/discover"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"Browse Properties"})]})});const B=f.image_urls?Array.isArray(f.image_urls)?f.image_urls:JSON.parse(f.image_urls||"[]"):[],H=B.length>1,I=s(f.id),D=f.property_features?Array.isArray(f.property_features)?f.property_features:JSON.parse(f.property_features||"[]"):[],G=(()=>{const xe=parseFloat(f.price)||0,oe=xe*.004,fe=oe*12,Se=xe>0?(fe/xe*100).toFixed(2):0,K={low:xe*.85,med:xe,high:xe*1.15};return{monthlyRent:oe.toFixed(0),annualRent:fe.toFixed(0),grossYield:parseFloat(Se),estimatedValue:K}})(),O=()=>{h(xe=>(xe+1)%B.length)},V=()=>{h(xe=>(xe-1+B.length)%B.length)},Y=xe=>typeof xe=="number"?`${xe.toLocaleString("en-GB")}`:xe||"Price on request",ee=async()=>{i&&(I?(await l(f.id),a(f)):(await o(f.id),a(f)))},he=()=>{if(!i){r("/user/dashboard/profile");return}S(!0)};return n.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto dark:bg-[#0a0a0a]",children:[n.jsxs("button",{onClick:()=>r(-1),className:"mb-4 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[n.jsx(lc,{size:20}),n.jsx("span",{children:"Back"})]}),n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6 mb-6",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-orange-500",children:f.title||"Property"}),n.jsx("button",{onClick:ee,className:`p-2 rounded-full transition-all ${I?"bg-red-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:I?"Remove from saved":"Save property",children:n.jsx(ed,{size:20,className:I?"fill-current":""})}),n.jsx("button",{onClick:()=>w(!0),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all",title:"Share property",children:n.jsx(Io,{size:20})})]}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-2",children:f.address_line_1||f.address||`${f.city||""} ${f.postcode||""}`.trim()||"UK"}),n.jsx("p",{className:"text-xl font-semibold text-orange-600 dark:text-orange-400 mb-4",children:f.property_type==="rent"?`${Y(f.price)}/month`:Y(f.price)}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cu,{size:18}),n.jsxs("span",{children:[f.bedrooms||0," Beds"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gh,{size:18}),n.jsxs("span",{children:[f.bathrooms||0," Baths"]})]}),f.property_size_sqm&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vf,{size:18}),n.jsxs("span",{children:[f.property_size_sqm," sqm"]})]}),f.year_built&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{size:18}),n.jsxs("span",{children:["Built ",f.year_built]})]})]})]}),(f.property_type==="sale"||((de=f.type)==null?void 0:de.toLowerCase())==="sale")&&n.jsxs("button",{onClick:he,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold flex items-center gap-2 transition-colors",children:["PURCHASE THIS PROPERTY",n.jsx("span",{children:""})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 overflow-hidden",children:n.jsx("div",{className:"relative h-96 lg:h-[500px] bg-gray-200 dark:bg-gray-200",children:B.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:B[u],alt:f.title,className:"w-full h-full object-cover",onError:xe=>{xe.target.src="https://via.placeholder.com/800x600?text=Property+Image"}}),H&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:V,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-[#0a0a0a]/70 hover:bg-white dark:hover:bg-gray-900 p-2 rounded-full shadow-lg transition-all",children:n.jsx(sc,{size:24,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:O,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-[#0a0a0a]/70 hover:bg-white dark:hover:bg-gray-900 p-2 rounded-full shadow-lg transition-all",children:n.jsx(Al,{size:24,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:B.map((xe,oe)=>n.jsx("button",{onClick:()=>h(oe),className:`h-2 rounded-full transition-all ${oe===u?"bg-white w-8":"bg-white/50 w-2 hover:bg-white/75"}`},oe))})]})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No Image"})})})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-orange-500 mb-3",children:"Property Description"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 leading-relaxed",children:f.description||"No description available for this property."}),D.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-3",children:"Property Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((xe,oe)=>n.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(Ar,{size:14,className:"text-orange-600 dark:text-orange-400"}),xe]},oe))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.energy_rating&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Energy Rating"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.energy_rating})]}),f.council_tax_band&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Council Tax Band"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.council_tax_band})]}),f.deposit_amount&&f.property_type==="rent"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Deposit"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.deposit_amount)})]}),f.viewing_available&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Viewing Available"}),n.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Yes"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Financial Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Property Price"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.price)})]}),f.property_type==="rent"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Rent"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[Y(f.price),"/month"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Annual Rent"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(f.price*12)})]})]}),f.property_type==="sale"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Monthly Rent"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Y(parseFloat(G.monthlyRent))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Potential Gross Yield"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[G.grossYield,"%"]})]})]}),f.created_at&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Listed"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[Math.floor((new Date-new Date(f.created_at))/(1e3*60*60*24))," days ago"]})]})]})]}),f.property_type==="sale"&&n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Estimated Property Value"}),n.jsx("span",{className:"inline-block px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-sm font-medium mb-4",children:"Market Estimate"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low Estimate"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Y(G.estimatedValue.low)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Value"}),n.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:Y(G.estimatedValue.med)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High Estimate"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Y(G.estimatedValue.high)})]})]})]}),(f.agent_name||f.agent_email||f.agent_phone||f.agent_company)&&n.jsxs("div",{className:"bg-white dark:bg-white rounded-lg shadow-sm border border-gray-200 dark:border-gray-300 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-4",children:"Contact Agent"}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center text-xl font-semibold text-orange-600 dark:text-orange-400",children:f.agent_name?f.agent_name.charAt(0).toUpperCase():n.jsx(Nn,{size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:f.agent_name||"Agent"}),f.agent_company&&n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[n.jsx(cc,{size:14}),f.agent_company]})]})]}),n.jsxs("div",{className:"space-y-3",children:[f.agent_phone&&n.jsxs("a",{href:`tel:${f.agent_phone}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsx(id,{className:"text-orange-600 dark:text-orange-400",size:20}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.agent_phone})]}),f.agent_email&&n.jsxs("a",{href:`mailto:${f.agent_email}`,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsx(wn,{className:"text-orange-600 dark:text-orange-400",size:20}),n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.agent_email})]}),n.jsx("button",{onClick:()=>r(`/user/dashboard/messages?property=${f.id}`),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors mt-2",children:"Message Agent"})]})]})]})]})]})},kf=({image:e,children:t})=>n.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"hidden md:block w-0 md:w-1/2 min-h-screen bg-cover bg-center bg-no-repeat relative",style:{backgroundImage:`url(${e})`},children:n.jsx("div",{className:"absolute inset-0 bg-black/10"})}),n.jsx("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center px-6 py-12 md:px-16 bg-white dark:bg-gray-900 min-h-screen",children:n.jsx("div",{className:"w-full max-w-sm",children:t})})]}),jf="/assets/logo-Dg5wEp4E.jpg",Sf="/assets/building-B8GyIMhF.jpg",xce=()=>{var m,y,x;const e=vr(),t=Wn(),[r,a]=P.useState("google"),[s,i]=P.useState(!1),[o,l]=P.useState(""),[c,u]=P.useState(!0),h=(y=(m=t.state)==null?void 0:m.from)==null?void 0:y.pathname;(x=t.state)==null||x.intendedRole,P.useEffect(()=>{(async()=>{var b,w;if(!Un()){u(!1);return}try{const{data:{session:k}}=await Ke.auth.getSession();if(k){let B=(w=(b=k.user)==null?void 0:b.user_metadata)==null?void 0:w.role;if(!B){const{data:H}=await Ke.from("profiles").select("role").eq("id",k.user.id).single();B=(H==null?void 0:H.role)||"user"}h?e(h,{replace:!0}):B==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})}}catch(k){console.error("Error checking session:",k)}finally{u(!1)}})()},[e,h]);const f=async()=>{if(!Un()){l("Authentication service is not configured. Please contact support.");return}a("google"),i(!0),l("");try{const{error:N}=await Ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});N&&l(N.message)}catch(N){console.error("Google sign-in error:",N),l("Failed to sign in with Google. Please try again.")}finally{i(!1)}},g=()=>{a("email"),e("/auth/sign-in-email")};return n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign in to Estospaces"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Welcome back! Please sign in to continue"}),n.jsx("button",{onClick:f,disabled:s,className:`w-full py-3 px-6 rounded-md font-medium text-sm transition-all duration-200 mb-3 border ${r==="google"?"bg-primary text-white border-primary":"bg-orange-50 dark:bg-orange-900/20 text-primary border-primary hover:bg-orange-100 dark:hover:bg-orange-900/30"} disabled:opacity-50 disabled:cursor-not-allowed`,children:n.jsxs("span",{className:"flex items-center justify-center gap-3",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),n.jsx("button",{onClick:g,className:`w-full py-3 px-6 rounded-md font-medium text-sm transition-all duration-200 mb-4 border ${r==="email"?"bg-primary text-white border-primary":"bg-orange-50 dark:bg-orange-900/20 text-primary border-primary hover:bg-orange-100 dark:hover:bg-orange-900/30"}`,children:"Sign in with Email"}),o&&n.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center gap-2",children:[n.jsx(Ba,{className:"text-red-500 flex-shrink-0",size:18}),n.jsx("p",{className:"text-red-600 text-sm",children:o})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/signup"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign Up"})]}),n.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-12 text-center leading-relaxed",children:["By continuing you agree to Estospaces",n.jsx("br",{}),n.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:"terms & conditions"}),"  ",n.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:"privacy policy"})]})]})})},yce=()=>{var I,D;const e=vr(),t=Wn(),[r,a]=P.useState(""),[s,i]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(!1),[h,f]=P.useState(!0),[g,m]=P.useState(""),[y,x]=P.useState(""),[N,b]=P.useState(""),w=(D=(I=t.state)==null?void 0:I.from)==null?void 0:D.pathname;P.useEffect(()=>{(async()=>{if(!Un()){f(!1);return}try{const{data:{session:G}}=await Ke.auth.getSession();G&&await k(G.user)}catch(G){console.error("Error checking session:",G)}finally{f(!1)}})()},[]);const k=async C=>{var V;let O=(V=C==null?void 0:C.user_metadata)==null?void 0:V.role;if(!O)try{const{data:Y}=await Ke.from("profiles").select("role").eq("id",C.id).single();O=(Y==null?void 0:Y.role)||"user"}catch{O="user"}w?e(w,{replace:!0}):O==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})},S=C=>C?/^\S+@\S+\.\S+$/.test(C)?"":"Enter a valid email":"Email is required",B=C=>C?C.length<6?"Password must be at least 6 characters":"":"Password is required",H=async C=>{if(C.preventDefault(),!Un()){b("Authentication service is not configured. Please contact support.");return}const G=S(r),O=B(s);if(m(G),x(O),b(""),!(G||O)){u(!0);try{const{data:V,error:Y}=await Ke.auth.signInWithPassword({email:r,password:s});if(Y){const ee=Y.message.toLowerCase();ee.includes("email")&&!ee.includes("credentials")?m(Y.message):ee.includes("password")||ee.includes("credentials")||ee.includes("invalid")?x("Invalid email or password"):b(Y.message)}else V.session&&await k(V.session.user)}catch(V){console.error("Login error:",V),b("An unexpected error occurred. Please try again.")}finally{u(!1)}}};return n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign in to continue"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Enter your email and password"}),n.jsxs("form",{onSubmit:H,className:"w-full",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:C=>{a(C.target.value),m("")},className:`w-full px-4 py-3 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${g?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),g&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",placeholder:"Enter your password",value:s,onChange:C=>{i(C.target.value),x("")},className:`w-full px-4 py-3 pr-12 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${y?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?n.jsx(_C,{size:20}):n.jsx(fa,{size:20})})]}),y&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y})]}),n.jsx("div",{className:"text-right mb-6",children:n.jsx("span",{onClick:()=>e("/auth/reset-password"),className:"text-primary text-sm font-medium cursor-pointer hover:underline",children:"Forgot Password?"})}),n.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),N&&n.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:N}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-6",children:["Don't have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/signup"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign Up"})]}),n.jsxs("button",{onClick:()=>e("/auth/login"),className:"flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500 mt-8 hover:text-primary transition-colors",children:[n.jsx(lc,{size:16}),"Back to Login options"]})]})})},vce=()=>{const e=vr(),[t,r]=P.useState(""),[a,s]=P.useState(""),[i,o]=P.useState(""),[l,c]=P.useState("user"),[u,h]=P.useState(!1),[f,g]=P.useState(!1),[m,y]=P.useState(""),[x,N]=P.useState(!1),b={length:i.length>=8,upper:/[A-Z]/.test(i),lower:/[a-z]/.test(i),number:/[0-9]/.test(i),symbol:/[^A-Za-z0-9]/.test(i)},w=Object.values(b).every(Boolean),k=async S=>{if(S.preventDefault(),!Un()){y("Authentication service is not configured. Please contact support.");return}if(!t.trim()){y("Please enter your name");return}if(!a.trim()||!/^\S+@\S+\.\S+$/.test(a)){y("Please enter a valid email");return}if(!w){y("Please meet all password requirements");return}g(!0),y("");try{const{data:B,error:H}=await Ke.auth.signUp({email:a,password:i,options:{data:{full_name:t,role:l},emailRedirectTo:`${window.location.origin}/auth/callback`}});H?H.message.includes("already registered")?y("This email is already registered. Please sign in instead."):H.message.includes("not authorized")?y("Email service is not configured. Please contact support or try Google sign-in."):H.message.includes("rate limit")?y("Too many attempts. Please try again later."):y(H.message):B.user&&(B.user.identities&&B.user.identities.length===0?y("This email is already registered but not confirmed. Please check your email or try signing in."):B.session?e(l==="manager"?"/manager/dashboard":"/user/dashboard"):N(!0))}catch(B){console.error("Signup error:",B),y("An unexpected error occurred. Please try again.")}finally{g(!1)}};return x?n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:n.jsx(ph,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Check your email"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:["We've sent a confirmation link to",n.jsx("br",{}),n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:a})]}),n.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg px-4 py-2 mb-4",children:n.jsxs("p",{className:"text-primary text-sm font-medium",children:["Signed up as: ",l==="manager"?"Property Manager":"User"]})}),n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg px-4 py-3 mb-8 text-left",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs font-medium mb-2",children:"Didn't receive the email?"}),n.jsxs("ul",{className:"text-gray-500 dark:text-gray-400 text-xs space-y-1",children:[n.jsx("li",{children:" Check your spam or junk folder"}),n.jsx("li",{children:" Wait a few minutes and refresh"}),n.jsx("li",{children:" Try signing up with Google instead"})]})]}),n.jsx("button",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium hover:underline text-sm",children:"Back to Sign In"})]})}):n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign up for Estospaces"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Create your account to get started"}),n.jsxs("form",{onSubmit:k,className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"I am a"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>c("user"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${l==="user"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx(Nn,{size:24,className:l==="user"?"text-primary":"text-gray-400"}),n.jsx("span",{className:"mt-2 font-medium text-sm",children:"User"}),n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Looking for property"})]}),n.jsxs("button",{type:"button",onClick:()=>c("manager"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${l==="manager"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx(cU,{size:24,className:l==="manager"?"text-primary":"text-gray-400"}),n.jsx("span",{className:"mt-2 font-medium text-sm",children:"Manager"}),n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Managing properties"})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:t,onChange:S=>r(S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:a,onChange:S=>s(S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:u?"text":"password",placeholder:"Create a password",value:i,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),n.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?n.jsx(_C,{size:20}):n.jsx(fa,{size:20})})]})]}),n.jsx("ul",{className:"mb-6 space-y-1",children:[{key:"length",text:"At least 8 characters"},{key:"upper",text:"One uppercase letter"},{key:"lower",text:"One lowercase letter"},{key:"number",text:"One number"},{key:"symbol",text:"One special symbol"}].map(({key:S,text:B})=>n.jsxs("li",{className:`flex items-center gap-2 text-xs ${b[S]?"text-green-600":"text-gray-400"}`,children:[b[S]?n.jsx(ph,{size:14}):n.jsx(xr,{size:14}),B]},S))}),m&&n.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:m}),n.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating account...":"Sign Up"})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-6",children:["Already have an account?"," ",n.jsx("span",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign in"})]})]})})},bce=()=>{const e=vr(),[t,r]=P.useState(""),[a,s]=P.useState(!1),[i,o]=P.useState(!1),[l,c]=P.useState(""),u=async h=>{if(h.preventDefault(),!Un()){c("Authentication service is not configured. Please contact support.");return}if(!t.trim()||!/^\S+@\S+\.\S+$/.test(t)){c("Please enter a valid email");return}s(!0),c("");try{const{error:f}=await Ke.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/update-password`});f?c(f.message):o(!0)}catch(f){console.error("Password reset error:",f),c("An unexpected error occurred. Please try again.")}finally{s(!1)}};return i?n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:n.jsx(ph,{className:"text-green-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Check your email"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8",children:["Password reset link sent to",n.jsx("br",{}),n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:t})]}),n.jsx("button",{onClick:()=>e("/auth/sign-in-email"),className:"text-primary font-medium hover:underline text-sm",children:"Back to Sign In"})]})}):n.jsx(kf,{image:Sf,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:jf,alt:"Estospaces",className:"h-10"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Reset Your Password"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),n.jsxs("form",{onSubmit:u,className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:h=>{r(h.target.value),c("")},className:`w-full px-4 py-3 border rounded-md outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${l?"border-red-400 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary"}`}),l&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]}),n.jsxs("button",{onClick:()=>e("/auth/sign-in-email"),className:"flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500 mt-8 hover:text-primary transition-colors",children:[n.jsx(lc,{size:16}),"Back to Sign In"]})]})})},wce=()=>{const e=vr(),[t,r]=P.useState("");return P.useEffect(()=>{(async()=>{var s,i;if(!Un()){r("Authentication service is not configured."),setTimeout(()=>e("/auth/login"),2e3);return}try{const{data:{session:o},error:l}=await Ke.auth.getSession();if(l){console.error("Session error:",l),r("Authentication failed. Please try again."),setTimeout(()=>e("/auth/login"),2e3);return}if(!o){e("/auth/login",{replace:!0});return}let u=(i=(s=o.user)==null?void 0:s.user_metadata)==null?void 0:i.role;if(!u)try{const{data:h}=await Ke.from("profiles").select("role").eq("id",o.user.id).single();u=(h==null?void 0:h.role)||"user"}catch{u="user"}u==="manager"?e("/manager/dashboard",{replace:!0}):e("/user/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),r("An error occurred. Redirecting to login..."),setTimeout(()=>e("/auth/login"),2e3)}})()},[e]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"text-center",children:t?n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:t})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Completing sign in..."})]})})})};function _ce(){return n.jsx(Lz,{children:n.jsx(Pz,{children:n.jsx(Ez,{children:n.jsx(Tz,{children:n.jsx(Rz,{children:n.jsx(Dz,{children:n.jsx(FI,{children:n.jsx(Oz,{children:n.jsxs(mI,{children:[n.jsx(Lr,{path:"/",element:n.jsx(rle,{})}),n.jsx(Lr,{path:"/auth/login",element:n.jsx(xce,{})}),n.jsx(Lr,{path:"/auth/sign-in-email",element:n.jsx(yce,{})}),n.jsx(Lr,{path:"/auth/signup",element:n.jsx(vce,{})}),n.jsx(Lr,{path:"/auth/reset-password",element:n.jsx(bce,{})}),n.jsx(Lr,{path:"/auth/callback",element:n.jsx(wce,{})}),n.jsx(Lr,{path:"/manager/dashboard",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(WS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(xie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/add",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(YS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/edit/:id",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(YS,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/properties/:id",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(yie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/leads",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(bie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/application",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(wie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/appointment",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(kie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/messages",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(Sie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/analytics",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(Aie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/billing",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(Eie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/profile",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(Tie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/help",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(Cie,{})})})}),n.jsx(Lr,{path:"/manager/dashboard/*",element:n.jsx(gi,{children:n.jsx(mi,{children:n.jsx(WS,{})})})}),n.jsx(Lr,{path:"/user/dashboard",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(SA,{})})})}),n.jsx(Lr,{path:"/user/dashboard/discover",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(Ole,{})})})}),n.jsx(Lr,{path:"/user/dashboard/saved",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(fce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/property/:id",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(pce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/applications",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(dce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/viewings",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(uce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/messages",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx($le,{})})})}),n.jsx(Lr,{path:"/user/dashboard/payments",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(Hle,{})})})}),n.jsx(Lr,{path:"/user/dashboard/contracts",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(tce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/reviews",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(hce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/settings",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(mce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/help",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(gce,{})})})}),n.jsx(Lr,{path:"/user/dashboard/profile",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(Jle,{})})})}),n.jsx(Lr,{path:"/user/dashboard/*",element:n.jsx(pi,{children:n.jsx(xi,{children:n.jsx(SA,{})})})})]})})})})})})})})})}ND.createRoot(document.getElementById("root")).render(n.jsx(_ce,{}));export{ta as _,d0 as c,TA as g};
